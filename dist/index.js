(()=>{let e;function t(e){return e&&e.__esModule?e.default:e}var i,n,s,a,o,r,l,c,d,h,u,p,m,f,v,g,y,_,b,w,x,S,C,T,I,k,E,A,P,R,M,L,D,N,O,B,V,U,H,F,j,W,$,G,K,Y,q,z,X,J,Q,Z,ee,et,ei,en,es,ea,eo,er,el,ec,ed,eh,eu,ep,em,ef,ev,eg,ey,e_,eb,ew,ex,eS,eC,eT,eI,ek,eE,eA,eP,eR,eM,eL,eD,eN,eO,eB,eV,eU,eH,eF,ej,eW,e$,eG,eK,eY,eq,ez,eX,eJ,eQ,eZ,e0,e1,e2,e3,e5,e6,e4,e9,e8,e7,te,tt,ti,tn,ts,ta,to,tr,tl,tc,td,th,tu,tp,tm,tf,tv,tg,ty,t_,tb,tw,tx,tS,tC,tT,tI,tk,tE,tA,tP,tR,tM,tL,tD,tN,tO,tB,tV,tU,tH,tF,tj,tW,t$,tG,tK,tY,tq,tz,tX,tJ,tQ,tZ,t0,t1,t2,t3,t5,t6,t4,t9,t8,t7=globalThis,ie={},it={},ii=t7.parcelRequired540;null==ii&&((ii=function(e){if(e in ie)return ie[e].exports;if(e in it){var t=it[e];delete it[e];var i={id:e,exports:{}};return ie[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){it[e]=t},t7.parcelRequired540=ii);var is=ii.register;is("4pmpg",function(e,t){var i=ii("gBiMb"),n=ii("aHqGi"),s=ii("bGXgz"),a=ii("eW3qV");function o(e){var t=new s(e),a=n(s.prototype.request,t);return i.extend(a,s.prototype,t),i.extend(a,t),a}var r=o(ii("1qNYy"));r.Axios=s,r.create=function(e){return o(a(r.defaults,e))},r.Cancel=ii("1N35X"),r.CancelToken=ii("cdbqI"),r.isCancel=ii("cbWLS"),r.all=function(e){return Promise.all(e)},r.spread=ii("i4UJt"),r.isAxiosError=ii("9yMNx"),e.exports=r,e.exports.default=r}),is("gBiMb",function(e,t){var i=ii("aHqGi"),n=Object.prototype.toString;function s(e){return"[object Array]"===n.call(e)}function a(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function r(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===n.call(e)}function c(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),s(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:r,isUndefined:a,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:l,isStream:function(e){return o(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function i(i,n){r(t[n])&&r(i)?t[n]=e(t[n],i):r(i)?t[n]=e({},i):s(i)?t[n]=i.slice():t[n]=i}for(var n=0,a=arguments.length;n<a;n++)c(arguments[n],i);return t},extend:function(e,t,n){return c(t,function(t,s){n&&"function"==typeof t?e[s]=i(t,n):e[s]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}),is("aHqGi",function(e,t){e.exports=function(e,t){return function(){for(var i=Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}}),is("bGXgz",function(e,t){var i=ii("gBiMb"),n=ii("74Y2B"),s=ii("4OKYc"),a=ii("eXgnr"),o=ii("eW3qV"),r=ii("8l8wy"),l=r.validators;function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,i=e.transitional;void 0!==i&&r.assertOptions(i,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],s=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(s=s&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)}),!s){var d=[a,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(c),t=Promise.resolve(e);d.length;)t=t.then(d.shift(),d.shift());return t}for(var h=e;n.length;){var u=n.shift(),p=n.shift();try{h=u(h)}catch(e){p(e);break}}try{t=a(h)}catch(e){return Promise.reject(e)}for(;c.length;)t=t.then(c.shift(),c.shift());return t},c.prototype.getUri=function(e){return n((e=o(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,i){return this.request(o(i||{},{method:e,url:t,data:(i||{}).data}))}}),i.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,i,n){return this.request(o(n||{},{method:e,url:t,data:i}))}}),e.exports=c}),is("74Y2B",function(e,t){var i=ii("gBiMb");function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,s){if(!t)return e;if(s)a=s(t);else if(i.isURLSearchParams(t))a=t.toString();else{var a,o=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))}))}),a=o.join("&")}if(a){var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}}),is("4OKYc",function(e,t){var i=ii("gBiMb");function n(){this.handlers=[]}n.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n}),is("eXgnr",function(e,t){var i=ii("gBiMb"),n=ii("7vPtK"),s=ii("cbWLS"),a=ii("1qNYy");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return o(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!s(t)&&(o(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}}),is("7vPtK",function(e,t){var i=ii("gBiMb"),n=ii("1qNYy");e.exports=function(e,t,s){var a=this||n;return i.forEach(s,function(i){e=i.call(a,e,t)}),e}}),is("1qNYy",function(e,t){var i,n=ii("ieOnZ"),s=ii("gBiMb"),a=ii("6FM61"),o=ii("jmtzu"),r={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?i=ii("eQidV"):void 0!==n&&"[object process]"===Object.prototype.toString.call(n)&&(i=ii("eQidV")),i),transformRequest:[function(e,t){return(a(t,"Accept"),a(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e))?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,i){if(s.isString(e))try{return(0,JSON.parse)(e),s.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,i=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||n&&s.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(e){c.headers[e]={}}),s.forEach(["post","put","patch"],function(e){c.headers[e]=s.merge(r)}),e.exports=c}),is("ieOnZ",function(e,t){var i,n,s,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var c=[],d=!1,h=-1;function u(){d&&s&&(d=!1,s.length?c=s.concat(c):h=-1,c.length&&p())}function p(){if(!d){var e=l(u);d=!0;for(var t=c.length;t;){for(s=c,c=[];++h<t;)s&&s[h].run();h=-1,t=c.length}s=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}),is("6FM61",function(e,t){var i=ii("gBiMb");e.exports=function(e,t){i.forEach(e,function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])})}}),is("jmtzu",function(e,t){e.exports=function(e,t,i,n,s){return e.config=t,i&&(e.code=i),e.request=n,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}}),is("eQidV",function(e,t){var i=ii("gBiMb"),n=ii("lBJvL"),s=ii("biJ6e"),a=ii("74Y2B"),o=ii("dSFv7"),r=ii("kIv68"),l=ii("bS2Id"),c=ii("bRI0M");e.exports=function(e){return new Promise(function(t,d){var h=e.data,u=e.headers,p=e.responseType;i.isFormData(h)&&delete u["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.Authorization="Basic "+btoa(f+":"+v)}var g=o(e.baseURL,e.url);function y(){if(m){var i="getAllResponseHeaders"in m?r(m.getAllResponseHeaders()):null;n(t,d,{data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}}if(m.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(d(c("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){d(c("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},i.isStandardBrowserEnv()){var _=(e.withCredentials||l(g))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;_&&(u[e.xsrfHeaderName]=_)}"setRequestHeader"in m&&i.forEach(u,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete u[t]:m.setRequestHeader(t,e)}),i.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),p&&"json"!==p&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),d(e),m=null)}),h||(h=null),m.send(h)})}}),is("lBJvL",function(e,t){var i=ii("bRI0M");e.exports=function(e,t,n){var s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}}),is("bRI0M",function(e,t){var i=ii("jmtzu");e.exports=function(e,t,n,s,a){return i(Error(e),t,n,s,a)}}),is("biJ6e",function(e,t){var i=ii("gBiMb");e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,s,a,o){var r=[];r.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),i.isString(s)&&r.push("path="+s),i.isString(a)&&r.push("domain="+a),!0===o&&r.push("secure"),document.cookie=r.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}),is("dSFv7",function(e,t){var i=ii("40pC5"),n=ii("6GfjI");e.exports=function(e,t){return e&&!i(t)?n(e,t):t}}),is("40pC5",function(e,t){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}}),is("6GfjI",function(e,t){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}),is("kIv68",function(e,t){var i=ii("gBiMb"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,s,a,o={};return e&&i.forEach(e.split("\n"),function(e){a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),s=i.trim(e.substr(a+1)),t&&!(o[t]&&n.indexOf(t)>=0)&&("set-cookie"===t?o[t]=(o[t]?o[t]:[]).concat([s]):o[t]=o[t]?o[t]+", "+s:s)}),o}}),is("bS2Id",function(e,t){var i=ii("gBiMb");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=i.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}}),is("cbWLS",function(e,t){e.exports=function(e){return!!(e&&e.__CANCEL__)}}),is("eW3qV",function(e,t){var i=ii("gBiMb");e.exports=function(e,t){t=t||{};var n={},s=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],r=["validateStatus"];function l(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(s){i.isUndefined(t[s])?i.isUndefined(e[s])||(n[s]=l(void 0,e[s])):n[s]=l(e[s],t[s])}i.forEach(s,function(e){i.isUndefined(t[e])||(n[e]=l(void 0,t[e]))}),i.forEach(a,c),i.forEach(o,function(s){i.isUndefined(t[s])?i.isUndefined(e[s])||(n[s]=l(void 0,e[s])):n[s]=l(void 0,t[s])}),i.forEach(r,function(i){i in t?n[i]=l(e[i],t[i]):i in e&&(n[i]=l(void 0,e[i]))});var d=s.concat(a).concat(o).concat(r),h=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===d.indexOf(e)});return i.forEach(h,c),n}}),is("8l8wy",function(e,t){var i=ii("kGKMV"),n={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){n[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var s={},a=i.version.split(".");function o(e,t){for(var i=t?t.split("."):a,n=e.split("."),s=0;s<3;s++){if(i[s]>n[s])return!0;if(i[s]<n[s])break}return!1}n.transitional=function(e,t,n){var a=t&&o(t);function r(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(i,n,o){if(!1===e)throw Error(r(n," has been removed in "+t));return a&&!s[n]&&(s[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,i){if("object"!=typeof e)throw TypeError("options must be an object");for(var n=Object.keys(e),s=n.length;s-- >0;){var a=n[s],o=t[a];if(o){var r=e[a],l=void 0===r||o(r,a,e);if(!0!==l)throw TypeError("option "+a+" must be "+l);continue}if(!0!==i)throw Error("Unknown option "+a)}},validators:n}}),is("kGKMV",function(e,t){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}),is("1N35X",function(e,t){function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i}),is("cdbqI",function(e,t){var i=ii("1N35X");function n(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n}),is("i4UJt",function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}}),is("9yMNx",function(e,t){e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}});var ia={};ia=ii("4pmpg"),JSON.parse('{"common":{"save":"save","clear":"Clear","getDifferentInstance":"Get Different Instance","advancedConfiguration":"Advanced Configuration","logout":"Logout","login":"Login","supplyOwnKeys":"Supplying your own keys","addRedirectUri":"{{redirectUri}} needs be added to \'Authorized Javascript URIs\'","apiKeysSaved":"Api Keys saved!","useYoutubePlayer":"Use Youtube Player","addVideosByUrl":"Add videos by Url (One Url per line)"}}');let io={get length(){try{return localStorage.length}catch{return 0}},clear:function(){try{localStorage.clear()}catch{}},getItem:function(e){try{return localStorage.getItem(e)}catch{return null}},removeItem:function(e){try{localStorage.removeItem(e)}catch{}},setItem:function(e,t){try{localStorage.setItem(e,t)}catch{}},key:function(e){try{return localStorage.key(e)}catch{return null}}};(i=a||(a={})).Instances="instances",i.CurrentInstance="current-instance";let ir=e=>`https://www.youtube.com/watch?v=${e}`,il=e=>`https://www.youtube.com/playlist?list=${e}`,ic=e=>`https://www.youtube.com/channel/${e}`,id=async()=>{let e=(await t(ia).get("https://api.invidious.io/instances.json")).data;return e=(e=e.filter(e=>!(e[0].includes(".onion")||e[0].includes(".i2p")))).filter(e=>e[1].cors),io.setItem(a.Instances,JSON.stringify(e)),e},ih=async()=>{let e=io.getItem(a.Instances),t=[],i=Math.floor(Math.random()*(t=e?JSON.parse(e):await id()).length),n=t[i][1].uri;return io.setItem(a.CurrentInstance,n),n},iu=async()=>{let e=io.getItem(a.CurrentInstance);return e||(e=await ih()),e},ip=async e=>{let i=await iu();try{let n=`${i}${e}`;return await t(ia).get(n)}catch{i=await ih();let n=`${i}${e}`;return await t(ia).get(n)}},im=async e=>{let t=`/api/v1/videos/${e}`,i=(await ip(t)).data;return{title:i.title,apiId:e,sources:[{source:`${i.dashUrl}?local=true`,type:"application/dash+xml"}],duration:i.lengthSeconds,views:i.viewCount,likes:i.likeCount,dislikes:i.dislikeCount,description:i.description,channelName:i.author,channelApiId:i.authorUrl.split("/").slice(-1)[0],recommendedVideos:i.recommendedVideos.map(e=>({title:e.title,apiId:e.videoId,images:e.videoThumbnails,duration:e.lengthSeconds,views:e.viewCount,channelName:e.author,channelApiId:e.authorId})),uploadDate:new Date(1e3*i.published).toISOString(),originalUrl:ir(e)}},iv=e=>({title:e.title,apiId:e.videoId,images:e.videoThumbnails,duration:e.lengthSeconds,views:e.viewCount,channelName:e.author,channelApiId:e.authorId,uploadDate:new Date(1e3*e.published).toISOString(),originalUrl:ir(e.videoId)}),ig=async()=>({videos:{items:(await ip("/api/v1/trending")).data.map(iv)}}),iy=async e=>{let t=`/api/v1/search?q=${e.query}&type=video`,i={resultsPerPage:20,offset:e.pageInfo?.offset||0};if(e.pageInfo?.nextPage){t+=`&page=${e.pageInfo.nextPage}`;let n=parseInt(e.pageInfo.nextPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else if(e.pageInfo?.prevPage){t+=`&page=${e.pageInfo.prevPage}`;let n=parseInt(e.pageInfo.prevPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else i.nextPage="2";let n=e.filterInfo?.filters;return n&&(t+=n.filter(e=>!!e.value).map(e=>`&${e.id}=${e.value}`).join("")),{items:(await ip(t)).data.map(iv),pageInfo:i,filterInfo:{filters:[{id:"date",displayName:"Date",type:"radio",value:"",options:[{displayName:"All Time",value:""},{displayName:"Year",value:"year"},{displayName:"Month",value:"month"},{displayName:"Week",value:"week"},{displayName:"Today",value:"today"},{displayName:"Hour",value:"hour"}]},{id:"duration",displayName:"Duration",type:"radio",value:"",options:[{displayName:"Any",value:""},{displayName:"Short",value:"short"},{displayName:"Long",value:"long"}]},{id:"sort_by",displayName:"Sort By",type:"select",value:"relevance",options:[{displayName:"Relevance",value:"relevance"},{displayName:"Rating",value:"rating"},{displayName:"Upload Date",value:"update_date"},{displayName:"View Count",value:"view_count"}]}]}}},i_=async e=>{let t=`/api/v1/search?q=${e.query}&type=playlist`,i={resultsPerPage:20,offset:e.pageInfo?.offset||0};if(e.pageInfo?.nextPage){t+=`&page=${e.pageInfo.nextPage}`;let n=parseInt(e.pageInfo.nextPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else if(e.pageInfo?.prevPage){t+=`&page=${e.pageInfo.prevPage}`;let n=parseInt(e.pageInfo.prevPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else i.nextPage="2";return{items:(await ip(t)).data.map(e=>({name:e.title,apiId:e.playlistId,images:e.videos.length>0?e.videos[0].videoThumbnails:[],originalUrl:il(e.playlistId)})),pageInfo:i}},ib=async e=>{let t=`/api/v1/search?q=${e.query}&type=channel`;return{items:(await ip(t)).data.map(e=>({name:e.author,apiId:e.authorId,images:e.authorThumbnails.map(e=>({...e,url:e.url.startsWith("http")?e.url:`https:${e.url}`})),originalUrl:ic(e.authorId)}))}},iw=async e=>{let t=`/api/v1/channels/${e.apiId}?field=author,authorId,authorThumbnails`,i=(await ip(t)).data,n={name:i.author,apiId:i.authorId,images:i.authorThumbnails.map(e=>({...e,url:e.url.startsWith("http")?e.url:`https:${e.url}`})),originalUrl:ic(i.authorId)},s=`/api/v1/channels/${e.apiId}/videos`,a={resultsPerPage:20,offset:e.pageInfo?.offset||0};if(e.pageInfo?.nextPage){s+=`?page=${e.pageInfo.nextPage}`;let t=parseInt(e.pageInfo.nextPage);a.prevPage=(t-1).toString(),a.nextPage=(t+1).toString()}else if(e.pageInfo?.prevPage){s+=`?page=${e.pageInfo.prevPage}`;let t=parseInt(e.pageInfo.prevPage);a.prevPage=(t-1).toString(),a.nextPage=(t+1).toString()}else a.nextPage="2";return{channel:n,items:(await ip(s)).data.videos.map(iv),pageInfo:a}},ix=async e=>{let t=`/api/v1/search/suggestions?q=${e.query}`;return(await ip(t)).data.suggestions},iS=async e=>{let t=`/api/v1/playlists/${e.apiId}`,i=(await ip(t)).data;return{playlist:{name:i.title,apiId:i.playlistId,images:i.videos.length>0?i.videos[0].videoThumbnails:[],originalUrl:il(i.playlistId)},items:i.videos.map(e=>({title:e.title,apiId:e.videoId,images:e.videoThumbnails,duration:e.lengthSeconds,channelName:e.author,channelApiId:e.authorId,originalUrl:ir(e.videoId)}))}},iC=async e=>{let t=`/api/v1/comments/${e.apiId}`;e.pageInfo&&(t=`${t}?continuation=${e.pageInfo.nextPage}`);let i=await ip(t);return{comments:i.data.comments.map(t=>({apiId:t.commentId,videoCommentId:e.apiId,content:t.content,author:t.author,images:t.authorThumbnails.map(e=>({...e,url:e.url.startsWith("http")?e.url:`https:${e.url}`})),likes:t.likeCount,createdDate:new Date(1e3*t.published).toISOString(),replyCount:t.replies?.replyCount,replyPage:t.replies?.continuation})),pageInfo:{totalResults:i.data.commentCount||0,resultsPerPage:0,offset:0,nextPage:i.data.continuation}}},iT=["https://pipedapi.kavin.rocks","https://piped-api.garudalinux.org","https://pipedapi.in.projectsegfau.lt","https://watchapi.whatever.social","https://api-piped.mha.fi","https://pipedapi.syncpundit.io","https://pipedapi.moomoo.me"];async function iI(e,i=0){let n=iT[i];try{let i=`${n}/streams/${e}`,s=new Promise((e,t)=>{setTimeout(()=>t(),1e4)}),a=t(ia).get(i);await Promise.race([a,s]);let o=(await a).data;return{title:o.title,apiId:e,sources:[{source:o.hls,type:"application/x-mpegURL"}],duration:o.duration,views:o.views,likes:o.likes,dislikes:o.dislikes,description:o.description,channelName:o.uploader,channelApiId:o.uploaderUrl.split("/").slice(-1)[0],uploadDate:new Date(o.uploadDate).toISOString(),recommendedVideos:o.relatedStreams.map(e=>({title:e.title,apiId:e.url.split("=").slice(-1)[0],images:[{url:e.thumbnail}],duration:e.duration,views:e.views,channelName:e.uploaderName,channelApiId:e.uploaderUrl?.split("/").slice(-1)[0]}))}}catch(t){if(i<iT.length)return iI(e,i+1);throw t}}var ik={};Object.defineProperty(ik,"__esModule",{value:!0});var iE="\\d+(?:[\\.,]\\d+)?",iA=["weeks","years","months","days","hours","minutes","seconds"],iP=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0}),iR=ik.pattern=RegExp("P(?:("+iE+"W)|"+("("+iE+"Y)?("+iE)+"M)?("+iE+"D)?(?:"+("T("+iE+"H)?("+iE)+"M)?("+iE+"S)?)?)"),iM=ik.parse=function(e){return e.match(iR).slice(1).reduce(function(e,t,i){return e[iA[i]]=parseFloat(t)||0,e},{})},iL=ik.end=function(e,t){e=Object.assign({},iP,e);var i=new Date(t?t.getTime():Date.now());return i.setFullYear(i.getFullYear()+e.years),i.setMonth(i.getMonth()+e.months),i.setDate(i.getDate()+e.days),i.setHours(i.getHours()+e.hours),i.setMinutes(i.getMinutes()+e.minutes),i.setMilliseconds(i.getMilliseconds()+1e3*e.seconds),i.setDate(i.getDate()+7*e.weeks),i},iD=ik.toSeconds=function(e,t){e=Object.assign({},iP,e);var i=new Date(t?t.getTime():Date.now());return(iL(e,i).getTime()-i.getTime())/1e3};ik.default={end:iL,toSeconds:iD,pattern:iR,parse:iM};let iN="AIzaSyCCwk2lWH7eyv_48Jimp3hBFhR7CFZkWhM",iO=t(ia).create(),iB=(e,t)=>{io.setItem("access_token",e),t&&io.setItem("refresh_token",t)},iV=async()=>{let e=io.getItem("refresh_token");if(!e)return;let i=io.getItem("clientId"),n=io.getItem("clientSecret"),s=new URLSearchParams;s.append("refresh_token",e),s.append("grant_type","refresh_token"),i&&n&&(s.append("client_id",i),s.append("client_secret",n));let a=await t(ia).post("https://oauth2.googleapis.com/token",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(a.data.access_token)return iB(a.data.access_token),a.data.access_token};iO.interceptors.request.use(e=>{let t=io.getItem("access_token");return t&&(e.headers.Authorization="Bearer "+t),e},e=>{Promise.reject(e)}),iO.interceptors.response.use(e=>e,async e=>{let t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;let e=await iV();return iO.defaults.headers.common.Authorization="Bearer "+e,iO(t)}});let iU=()=>io.getItem("apiKey");function iH(e){return(e.items||[]).map(e=>({apiId:e.id,duration:(0,ik.toSeconds)((0,ik.parse)(e.contentDetails?.duration||"0")),images:e.snippet?.thumbnails&&Object.values(e.snippet?.thumbnails).map(e=>({url:e.url||"",height:e.height||0,width:e.width||0})),title:e.snippet?.title||"",originalUrl:ir(e.id||"")}))}async function iF(){let e=iU()||iN,i=`https://www.googleapis.com/youtube/v3/videos?key=${e}&chart=mostPopular&part=snippet,contentDetails`;return{videos:{items:iH((await t(ia).get(i)).data)}}}async function ij(e){let i=e.join(","),n=iU()||iN,s=`https://www.googleapis.com/youtube/v3/videos?key=${n}&part=snippet,contentDetails&id=${i}`;return iH((await t(ia).get(s)).data)}async function iW(e){let i=`https://www.googleapis.com/youtube/v3/playlistItems?part=contentDetails&maxResults=50&key=${iU()}&playlistId=${e.apiId}`;e.isUserPlaylist&&(i+="&mine=true"),e.pageInfo&&(e.pageInfo.nextPage?i+=`&pageToken=${e.pageInfo.nextPage}`:e.pageInfo.prevPage&&(i+=`&pageToken=${e.pageInfo.prevPage}`));let n=e.isUserPlaylist?iO:t(ia),s=await n.get(i),a=s.data.items?.map(e=>e.contentDetails?.videoId).filter(e=>!!e)||[];return{items:await ij(a),pageInfo:{totalResults:s.data.pageInfo?.totalResults||0,resultsPerPage:s.data.pageInfo?.resultsPerPage||0,offset:e.pageInfo?e.pageInfo.offset:0,nextPage:s.data.nextPageToken,prevPage:s.data.prevPageToken}}}async function i$(e){let t=`https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&mine=true&key=${iU()}`,i=await iO.get(t);return{items:(i.data.items||[]).map(e=>({apiId:e.id,name:e.snippet?.title||"",images:[{width:e.snippet?.thumbnails?.default?.width||0,url:e.snippet?.thumbnails?.default?.url||"",height:e.snippet?.thumbnails?.default?.height||0}],isUserPlaylist:!0,originalUrl:il(e.id||"")})),pageInfo:{totalResults:i.data.pageInfo?.totalResults||0,resultsPerPage:i.data.pageInfo?.resultsPerPage||0,offset:e.pageInfo?e.pageInfo.offset:0,nextPage:i.data.nextPageToken,prevPage:i.data.prevPageToken}}}var iG=Object.defineProperty,iK=(e,t)=>iG(e,"name",{value:t,configurable:!0}),iY=(e,t)=>{for(var i in t)iG(e,i,{get:t[i],enumerable:!0})};function iq(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]]);return i}function iz(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function iX(e,t,i,n){function s(e){return e instanceof i?e:new i(function(t){t(e)})}return iK(s,"adopt"),new(i||(i=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):s(e.value).then(o,r)}iK(o,"fulfilled"),iK(r,"rejected"),iK(l,"step"),l((n=n.apply(e,t||[])).next())})}function iJ(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iQ(e){return this instanceof iQ?(this.v=e,this):new iQ(e)}function iZ(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){s[e]&&(n[e]=function(t){return new Promise(function(i,n){a.push([e,t,i,n])>1||r(e,t)})})}function r(e,t){try{var i;(i=s[e](t)).value instanceof iQ?Promise.resolve(i.value.v).then(l,c):d(a[0][2],i)}catch(e){d(a[0][3],e)}}function l(e){r("next",e)}function c(e){r("throw",e)}function d(e,t){e(t),a.shift(),a.length&&r(a[0][0],a[0][1])}}function i0(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=iJ(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){!function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}(n,s,(t=e[i](t)).done,t.value)})}}}function i1(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function i2(e,t,i,n,s){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i}iK(iq,"__rest"),iK(iz,"__setFunctionName"),iK(iX,"__awaiter"),iK(iJ,"__values"),iK(iQ,"__await"),iK(iZ,"__asyncGenerator"),iK(i0,"__asyncValues"),iK(i1,"__classPrivateFieldGet"),iK(i2,"__classPrivateFieldSet"),iY({},{ChannelError:()=>wy,InnertubeError:()=>wu,MissingParamError:()=>wm,OAuthError:()=>wf,ParsingError:()=>wp,Platform:()=>wh,PlayerError:()=>wv,SessionError:()=>wg,base64ToU8:()=>wM,concatMemos:()=>wI,debugFetch:()=>wP,deepCompare:()=>w_,escapeStringRegexp:()=>ww,generateRandomString:()=>wC,generateSidAuth:()=>wS,getRandomUserAgent:()=>wx,getStringBetweenStrings:()=>wb,hasKeys:()=>wE,isTextRun:()=>wL,streamToIterable:()=>wA,throwIfMissing:()=>wk,timeToSeconds:()=>wT,u8ToBase64:()=>wR}),iY({},{Maybe:()=>i6,Memo:()=>i8,SuperParsedResult:()=>i4,YTNode:()=>i5,observe:()=>i9});var i3=Symbol("ObservedArray.isObserved"),i5=class{constructor(){o.add(this),this.type=this.constructor.type}is(...e){return e.some(e=>i1(this,o,"m",r).call(this,e))}as(...e){if(!this.is(...e))throw new wp(`Cannot cast ${this.type} to one of ${e.map(e=>e.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new wp(`Missing key ${e}`);return new i6(this[e])}};iK(i5,"YTNode"),o=new WeakSet,r=iK(function(e){return this.type===e.type},"_YTNode_is"),i5.type="YTNode";var i6=class{constructor(e){l.add(this),c.set(this,void 0),i2(this,c,e,"f")}get typeof(){return typeof i1(this,c,"f")}string(){return i1(this,l,"m",h).call(this,"string")}isString(){return i1(this,l,"m",d).call(this,"string")}number(){return i1(this,l,"m",h).call(this,"number")}isNumber(){return i1(this,l,"m",d).call(this,"number")}bigint(){return i1(this,l,"m",h).call(this,"bigint")}isBigint(){return i1(this,l,"m",d).call(this,"bigint")}boolean(){return i1(this,l,"m",h).call(this,"boolean")}isBoolean(){return i1(this,l,"m",d).call(this,"boolean")}symbol(){return i1(this,l,"m",h).call(this,"symbol")}isSymbol(){return i1(this,l,"m",d).call(this,"symbol")}undefined(){return i1(this,l,"m",h).call(this,"undefined")}isUndefined(){return i1(this,l,"m",d).call(this,"undefined")}null(){if(null!==i1(this,c,"f"))throw TypeError(`Expected null, got ${typeof i1(this,c,"f")}`);return i1(this,c,"f")}isNull(){return null===i1(this,c,"f")}object(){return i1(this,l,"m",h).call(this,"object")}isObject(){return i1(this,l,"m",d).call(this,"object")}function(){return i1(this,l,"m",h).call(this,"function")}isFunction(){return i1(this,l,"m",d).call(this,"function")}array(){if(!Array.isArray(i1(this,c,"f")))throw TypeError(`Expected array, got ${typeof i1(this,c,"f")}`);return i1(this,c,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get:(t,i)=>Reflect.has(e,i)?Reflect.get(t,i):new i6(Reflect.get(t,i))})}isArray(){return Array.isArray(i1(this,c,"f"))}node(){if(!(i1(this,c,"f") instanceof i5))throw TypeError(`Expected YTNode, got ${i1(this,c,"f").constructor.name}`);return i1(this,c,"f")}isNode(){return i1(this,c,"f") instanceof i5}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw TypeError(`Expected ObservedArray, got ${typeof i1(this,c,"f")}`);return i1(this,c,"f")}isObserved(){var e;return null===(e=i1(this,c,"f"))||void 0===e?void 0:e[i3]}parsed(){if(!(i1(this,c,"f") instanceof i4))throw TypeError(`Expected SuperParsedResult, got ${typeof i1(this,c,"f")}`);return i1(this,c,"f")}isParsed(){return i1(this,c,"f") instanceof i4}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),i1(this,c,"f")}instanceof(e){if(!this.isInstanceof(e))throw TypeError(`Expected instance of ${e.name}, got ${i1(this,c,"f").constructor.name}`);return i1(this,c,"f")}isInstanceof(e){return i1(this,c,"f") instanceof e}};iK(i6,"Maybe"),c=new WeakMap,l=new WeakSet,d=iK(function(e){return typeof i1(this,c,"f")===e},"_Maybe_checkPrimative"),h=iK(function(e){if(!i1(this,l,"m",d).call(this,e))throw TypeError(`Expected ${e}, got ${this.typeof}`);return i1(this,c,"f")},"_Maybe_assertPrimative");var i4=class{constructor(e){u.set(this,void 0),i2(this,u,e,"f")}get is_null(){return null===i1(this,u,"f")}get is_array(){return!this.is_null&&Array.isArray(i1(this,u,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw TypeError("Expected an array, got a node");return i1(this,u,"f")}item(){if(!this.is_node)throw TypeError("Expected a node, got an array");return i1(this,u,"f")}};function i9(e){return new Proxy(e,{get:(e,t)=>"get"==t?(t,i)=>e.find((n,s)=>{let a=w_(t,n);return a&&i&&e.splice(s,1),a}):t==i3||("getAll"==t?(t,i)=>e.filter((n,s)=>{let a=w_(t,n);return a&&i&&e.splice(s,1),a}):"matchCondition"==t?t=>e.find(e=>t(e)):"filterType"==t?(...t)=>i9(e.filter(e=>!!e.is(...t))):"firstOfType"==t?(...t)=>e.find(e=>!!e.is(...t)):"first"==t?()=>e[0]:"as"==t?(...t)=>i9(e.map(e=>{if(e.is(...t))return e;throw new wp(`Expected node of any type ${t.map(e=>e.type).join(", ")}, got ${e.type}`)})):"remove"==t?t=>e.splice(t,1):Reflect.get(e,t))})}iK(i4,"SuperParsedResult"),u=new WeakMap,iK(i9,"observe");var i8=class extends Map{getType(...e){return i9((e=e.flat()).flatMap(e=>this.get(e.type)||[]))}};iK(i8,"Memo"),iY({},{Author:()=>wc,ChildElement:()=>lY,EmojiRun:()=>nv,Format:()=>sc,Text:()=>n_,TextRun:()=>ng,Thumbnail:()=>nf,VideoDetails:()=>sd});var i7={};iY(i7,{CLIENTS:()=>ni,INNERTUBE_HEADERS_BASE:()=>ns,OAUTH:()=>nt,STREAM_HEADERS:()=>nn,URLS:()=>ne});var ne=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),nt=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),ni=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),nn=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),ns=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),na={};iY(na,{addRuntimeParser:()=>gK,applyMutations:()=>g3,getDynamicParsers:()=>gY,getParserByName:()=>g$,hasParser:()=>gG,parse:()=>gJ,parseActions:()=>g1,parseArray:()=>gX,parseC:()=>gQ,parseFormats:()=>g2,parseItem:()=>gz,parseLC:()=>gZ,parseRR:()=>g0,parseResponse:()=>gq,sanitizeClassName:()=>gW,setParserErrorHandler:()=>gB,shouldIgnore:()=>gj});var no=class extends i5{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};iK(no,"AudioOnlyPlayability"),no.type="AudioOnlyPlayability";var nr=class extends i5{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new n_(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new nm(e.navigationEndpoint||e.serviceEndpoint||e.command)}};iK(nr,"Button"),nr.type="Button";var nl=nr,nc=class extends i5{constructor(e){var t;super(),this.label=new n_(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new nm(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType),Reflect.has(e,"descriptionText")&&(this.description=new n_(e.descriptionText))}};iK(nc,"DropdownItem"),nc.type="DropdownItem";var nd=class extends i5{constructor(e){super(),this.label=e.label||"",this.entries=na.parseArray(e.entries,nc)}};iK(nd,"Dropdown"),nd.type="Dropdown";var nh=class extends i5{constructor(e){super(),this.title=new n_(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=na.parseItem(e.privacyOption,nd),this.create_button=na.parseItem(e.cancelButton,nl),this.cancel_button=na.parseItem(e.cancelButton,nl)}};iK(nh,"CreatePlaylistDialog"),nh.type="CreatePlaylistDialog";var nu=class extends i5{constructor(e){super(),this.popup=na.parseItem(e.popup),this.popup_type=e.popupType}};iK(nu,"OpenPopupAction"),nu.type="OpenPopupAction";var np=class extends i5{constructor(e){var t,i,n,s,a,o,r,l;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new nu(e.openPopupAction));let c=Object.keys(e||{}).find(e=>e.endsWith("Endpoint")||e.endsWith("Command"));this.payload=c?Reflect.get(e,c):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=na.parseItem(this.payload.dialog||this.payload.content)),(null==e?void 0:e.serviceEndpoint)&&(e=e.serviceEndpoint),this.metadata={},(null===(i=null===(t=null==e?void 0:e.commandMetadata)||void 0===t?void 0:t.webCommandMetadata)||void 0===i?void 0:i.url)&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(null===(s=null===(n=null==e?void 0:e.commandMetadata)||void 0===n?void 0:n.webCommandMetadata)||void 0===s?void 0:s.webPageType)&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(null===(o=null===(a=null==e?void 0:e.commandMetadata)||void 0===a?void 0:a.webCommandMetadata)||void 0===o?void 0:o.apiUrl)?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):c&&(this.metadata.api_url=this.getEndpoint(c)),(null===(l=null===(r=null==e?void 0:e.commandMetadata)||void 0===r?void 0:r.webCommandMetadata)||void 0===l?void 0:l.sendPost)&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),(null==e?void 0:e.createPlaylistEndpoint)&&(null==e?void 0:e.createPlaylistEndpoint.createPlaylistDialog)&&(this.dialog=na.parseItem(null==e?void 0:e.createPlaylistEndpoint.createPlaylistDialog,nh))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,t){if(!e)throw Error("An active caller must be provided");if(!this.metadata.api_url)throw Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),t))}toURL(){if(this.metadata.url&&this.metadata.page_type)return"WEB_PAGE_TYPE_UNKNOWN"===this.metadata.page_type?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};iK(np,"NavigationEndpoint"),np.type="NavigationEndpoint";var nm=np,nf=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return e&&e.thumbnails?e.thumbnails.map(e=>new nf(e)).sort((e,t)=>t.width-e.width):[]}};iK(nf,"Thumbnail");var nv=class{constructor(e){var t,i,n,s,a,o;this.text=(null===(t=e.emoji)||void 0===t?void 0:t.emojiId)||(null===(n=null===(i=e.emoji)||void 0===i?void 0:i.shortcuts)||void 0===n?void 0:n[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:(null===(s=e.emoji)||void 0===s?void 0:s.shortcuts)||[],search_terms:(null===(a=e.emoji)||void 0===a?void 0:a.searchTerms)||[],image:nf.fromResponse(e.emoji.image),is_custom:!!(null===(o=e.emoji)||void 0===o?void 0:o.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=ny(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};iK(nv,"EmojiRun");var ng=class{constructor(e){this.text=e.text,this.bold=!!e.bold,this.italics=!!e.italics,this.strikethrough=!!e.strikethrough,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new nm(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let t=ny(this.text),i=e.map(e=>`<${e}>`).join("")+t+e.map(e=>`</${e}>`).join(""),n=`<span style="white-space: pre-wrap;">${i}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:e}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let t=this.endpoint.toURL();if(t)return`<a href="${t}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${e}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${n}</a>`}}if(this.endpoint){let e=this.endpoint.toURL();if(e)return`<a href="${e}">${n}</a>`}return n}};function ny(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}iK(ng,"TextRun"),iK(ny,"escape");var n_=class{constructor(e){var t,i,n,s;"object"==typeof e&&null!==e&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(e=>e.emoji?new nv(e):new ng(e)),this.text=this.runs.map(e=>e.text).join("")):this.text=null==e?void 0:e.simpleText,"object"==typeof e&&null!==e&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new nm(e.navigationEndpoint)),"object"==typeof e&&null!==e&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new nm(e.titleNavigationEndpoint)),!this.endpoint&&(null===(i=null===(t=this.runs)||void 0===t?void 0:t[0])||void 0===i?void 0:i.endpoint)&&(this.endpoint=null===(s=null===(n=this.runs)||void 0===n?void 0:n[0])||void 0===s?void 0:s.endpoint)}static fromAttributed(e){let t=[],i=e.content,n=e.commandRuns,s=0;if(n){for(let a of n){let n=a.length,o=a.startIndex;if(o>s&&t.push({text:i.slice(s,o)}),Reflect.has(a,"onTap")){let s=null;if(Reflect.has(e,"attachmentRuns")){for(let t of e.attachmentRuns)if(t.startIndex-2==o){s=t;break}}s?t.push({text:i.slice(o,o+n),navigationEndpoint:a.onTap,attachment:s}):t.push({text:i.slice(o,o+n),navigationEndpoint:a.onTap})}s=o+n}s<i.length&&t.push({text:i.slice(s)})}else t.push({text:i});return new n_({runs:t})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return void 0===this.text}toString(){return this.text||"N/A"}};iK(n_,"Text");var nb=class extends i5{constructor(e){super(),this.cards=na.parseArray(e.cards),this.header=new n_(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};iK(nb,"CardCollection"),nb.type="CardCollection";var nw=class extends i5{constructor(e){super(),this.elements=na.parseArray(e.elements),this.start_ms=e.startMs}};iK(nw,"Endscreen"),nw.type="Endscreen";var nx=class extends i5{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:nf.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new nm(e.featuredChannel.navigationEndpoint),subscribe_button:na.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};iK(nx,"PlayerAnnotationsExpanded"),nx.type="PlayerAnnotationsExpanded";var nS=class extends i5{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(e=>({base_url:e.baseUrl,name:new n_(e.name),vss_id:e.vssId,language_code:e.languageCode,kind:e.kind,is_translatable:e.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(e=>({audio_track_id:e.audioTrackId,captions_initial_state:e.captionsInitialState,default_caption_track_index:e.defaultCaptionTrackIndex,has_default_track:e.hasDefaultTrack,visibility:e.visibility,caption_track_indices:e.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(e=>({language_code:e.languageCode,language_name:new n_(e.languageName)})))}};iK(nS,"PlayerCaptionsTracklist"),nS.type="PlayerCaptionsTracklist";var nC=class extends i5{constructor(){super()}};iK(nC,"PlayerLiveStoryboardSpec"),nC.type="PlayerLiveStoryboardSpec";var nT=class extends i5{constructor(e){super();let t=e.spec.split("|"),i=new URL(t.shift());this.boards=t.map((e,t)=>{let[n,s,a,o,r,l,c,d]=e.split("#");i.searchParams.set("sigh",d);let h=Math.ceil(parseInt(a,10)/(parseInt(o,10)*parseInt(r,10)));return{template_url:i.toString().replace("$L",t).replace("$N",c),thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(s,10),thumbnail_count:parseInt(a,10),interval:parseInt(l,10),columns:parseInt(o,10),rows:parseInt(r,10),storyboard_count:h}})}};iK(nT,"PlayerStoryboardSpec"),nT.type="PlayerStoryboardSpec";var nI=class extends i5{constructor(e){super(),this.text=new n_(e.text),this.alert_type=e.type}};iK(nI,"Alert"),nI.type="Alert";var nk=class extends i5{constructor(e){super(),this.text=new n_(e.text),this.alert_type=e.type,this.dismiss_button=na.parseItem(e.dismissButton,nl)}};iK(nk,"AlertWithButton"),nk.type="AlertWithButton";var nE=class extends i5{constructor(e){super(),this.placeholder_text=new n_(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};iK(nE,"ClipCreationTextInput"),nE.type="ClipCreationTextInput";var nA=class extends i5{constructor(e){var t,i,n,s,a,o;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=null===(i=null===(t=e.startAccessibility)||void 0===t?void 0:t.accessibilityData)||void 0===i?void 0:i.label,this.end_label=null===(s=null===(n=e.endAccessibility)||void 0===n?void 0:n.accessibilityData)||void 0===s?void 0:s.label,this.duration_label=null===(o=null===(a=e.durationAccessibility)||void 0===a?void 0:a.accessibilityData)||void 0===o?void 0:o.label}};iK(nA,"ClipCreationScrubber"),nA.type="ClipCreationScrubber";var nP=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.body=new n_(e.body)}};iK(nP,"ClipAdState"),nP.type="ClipAdState";var nR=class extends i5{constructor(e){super(),this.user_avatar=nf.fromResponse(e.userAvatar),this.title_input=na.parseItem(e.titleInput,[nE]),this.scrubber=na.parseItem(e.scrubber,[nA]),this.save_button=na.parseItem(e.saveButton,[nl]),this.display_name=new n_(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=na.parseItem(e.cancelButton,[nl]),this.ad_state_overlay=na.parseItem(e.adStateOverlay,[nP]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};iK(nR,"ClipCreation"),nR.type="ClipCreation";var nM=class extends i5{constructor(e){super(),this.contents=na.parse(e.contents,!0,[nR])}};iK(nM,"ClipSection"),nM.type="ClipSection";var nL=class extends i5{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=na.parseItem(e.button,nl)),this.endpoint=new nm(e.continuationEndpoint)}};iK(nL,"ContinuationItem"),nL.type="ContinuationItem";var nD=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.visibility_button=na.parseItem(e.visibilityButton,nl)}};iK(nD,"EngagementPanelTitleHeader"),nD.type="EngagementPanelTitleHeader";var nN=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items),this.top_level_buttons=na.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};iK(nN,"Menu"),nN.type="Menu";var nO=class extends i5{constructor(e){super(),this.info_text=new n_(e.infoText),this.menu=na.parseItem(e.menu,nN)}};iK(nO,"MacroMarkersInfoItem"),nO.type="MacroMarkersInfoItem";var nB=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.time_description=new n_(e.timeDescription),this.thumbnail=nf.fromResponse(e.thumbnail),this.on_tap_endpoint=new nm(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};iK(nB,"MacroMarkersListItem"),nB.type="MacroMarkersListItem";var nV=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents,[nO,nB]),this.sync_button_label=new n_(e.syncButtonLabel)}};iK(nV,"MacroMarkersList"),nV.type="MacroMarkersList";var nU=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents)}};iK(nU,"ProductList"),nU.type="ProductList";var nH=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=na.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=na.parseItem(e.subMenu))}};iK(nH,"SectionList"),nH.type="SectionList";var nF=class extends i5{constructor(e){var t;super(),this.show_more_text=new n_(e.showMoreText),this.show_less_text=new n_(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=null===(t=e.attributedDescriptionBodyText)||void 0===t?void 0:t.content)}};iK(nF,"ExpandableVideoDescriptionBody"),nF.type="ExpandableVideoDescriptionBody";var nj=class extends i5{constructor(e){super(),this.thumbnails=nf.fromResponse(e.thumbnail),this.endpoint=new nm(e.searchEndpoint),this.query=new n_(e.query).toString()}};iK(nj,"SearchRefinementCard"),nj.type="SearchRefinementCard";var nW=class extends i5{constructor(e){super(),this.game=na.parseItem(e.game)}};iK(nW,"GameCard"),nW.type="GameCard";var n$=class extends i5{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=na.parseArray(e.items)}get contents(){return this.items}};iK(n$,"HorizontalList"),n$.type="HorizontalList";var nG=class extends i5{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new n_(e.header.collapsedTitle),collapsed_thumbnail:nf.fromResponse(e.header.collapsedThumbnail),collapsed_label:new n_(e.header.collapsedLabel),expanded_title:new n_(e.header.expandedTitle)}),this.expanded_content=na.parseItem(e.expandedContent,[n1,n$]),this.expand_button=na.parseItem(e.expandButton,nl),this.collapse_button=na.parseItem(e.collapseButton,nl)}};iK(nG,"ExpandableMetadata"),nG.type="ExpandableMetadata";var nK=class extends i5{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};iK(nK,"MetadataBadge"),nK.type="MetadataBadge";var nY=nK,nq=class extends i5{constructor(e){super(),this.text=new n_(e.text).toString(),this.style=e.style}};iK(nq,"ThumbnailOverlayTimeStatus"),nq.type="ThumbnailOverlayTimeStatus";var nz=class extends i5{constructor(e){var t,i,n;super();let s=(null===(t=e.thumbnailOverlays.find(e=>e.thumbnailOverlayTimeStatusRenderer))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new n_(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new n_(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(e=>({text:new n_(e.snippetText),hover_text:new n_(e.snippetHoverText)}))),this.expandable_metadata=na.parseItem(e.expandableMetadata,nG),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=na.parseItem(e.richThumbnail)),this.author=new wc(e.ownerText,e.ownerBadges,null===(n=null===(i=e.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===n?void 0:n.thumbnail),this.badges=na.parseArray(e.badges,nY),this.endpoint=new nm(e.navigationEndpoint),this.published=new n_(e.publishedTimeText),this.view_count=new n_(e.viewCountText),this.short_view_count=new n_(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new n_(e.lengthText).toString():new n_(s).toString(),seconds:wT(e.lengthText?new n_(e.lengthText).toString():new n_(s).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=na.parseItem(e.menu,nN),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(e=>e.text.toString()).join(""):(null===(e=this.description_snippet)||void 0===e?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(e=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===e.style||"LIVE"===e.label)return!0})||(null===(e=this.thumbnail_overlays.firstOfType(nq))||void 0===e?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>"PREMIERE"===e.label)}get is_4k(){return this.badges.some(e=>"4K"===e.label)}get has_captions(){return this.badges.some(e=>"CC"===e.label)}get best_thumbnail(){return this.thumbnails[0]}};iK(nz,"Video"),nz.type="Video";var nX=nz,nJ=class extends nX{constructor(e){super(e)}};iK(nJ,"VideoCard"),nJ.type="VideoCard";var nQ=class extends i5{constructor(e){super(),this.image=e.image.sources.map(e=>new nf(e)).sort((e,t)=>t.width-e.width),this.style=e.style}};iK(nQ,"ContentPreviewImageView"),nQ.type="ContentPreviewImageView";var nZ=class extends i5{constructor(e){var t;super(),(null===(t=e.image)||void 0===t?void 0:t.sources)?this.image={sources:e.image.sources.map(e=>new nf(e)).sort((e,t)=>t.width-e.width)}:this.image=na.parseItem(e.image,nQ),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new nm(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};iK(nZ,"VideoAttributeView"),nZ.type="VideoAttributeView";var n0=class extends i5{constructor(e){super(),this.cards=na.parseArray(e.cards,[nZ,nj,nB,nW,nJ]),this.header=na.parseItem(e.header),this.previous_button=na.parseItem(e.previousButton,nl),this.next_button=na.parseItem(e.nextButton,nl)}};iK(n0,"HorizontalCardList"),n0.type="HorizontalCardList";var n1=n0,n2=class extends i5{constructor(e){super(),this.label=new n_(e.label),this.value=new n_(e.value),this.accessibility_text=e.accessibilityText}};iK(n2,"Factoid"),n2.type="Factoid";var n3=class extends i5{constructor(e){super(),this.factoid=na.parseItem(e.factoid,n2)}};iK(n3,"UploadTimeFactoid"),n3.type="UploadTimeFactoid";var n5=class extends i5{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=na.parseItem(e.factoid,[n2]),this.view_count_type=e.viewCountType}};iK(n5,"ViewCountFactoid"),n5.type="ViewCountFactoid";var n6=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.channel=new n_(e.channel),this.channel_navigation_endpoint=new nm(e.channelNavigationEndpoint),this.channel_thumbnail=nf.fromResponse(e.channelThumbnail),this.publish_date=new n_(e.publishDate),this.views=new n_(e.views),this.factoids=na.parseArray(e.factoid,[n2,n5,n3])}};iK(n6,"VideoDescriptionHeader"),n6.type="VideoDescriptionHeader";var n4=class extends i5{constructor(e){super(),this.section_title=new n_(e.sectionTitle),this.creator_videos_button=na.parseItem(e.creatorVideosButton,nl),this.creator_about_button=na.parseItem(e.creatorAboutButton,nl),this.section_subtitle=new n_(e.sectionSubtitle),this.channel_avatar=nf.fromResponse(e.channelAvatar),this.channel_endpoint=new nm(e.channelEndpoint)}};iK(n4,"VideoDescriptionInfocardsSection"),n4.type="VideoDescriptionInfocardsSection";var n9=class extends i5{constructor(e){super(),this.title=new n_(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new n_(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new n_(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};iK(n9,"InfoRow"),n9.type="InfoRow";var n8=class extends i5{constructor(e){super(),this.id=e.videoId,this.thumbnails=nf.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=na.parse(e.richThumbnail)),this.title=new n_(e.title),this.author=new wc(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new n_(e.viewCountText),this.short_view_count=new n_(e.shortViewCountText),this.published=new n_(e.publishedTimeText),this.badges=na.parseArray(e.badges,nY),this.duration={text:new n_(e.lengthText).toString(),seconds:wT(new n_(e.lengthText).toString())},this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.endpoint=new nm(e.navigationEndpoint),this.menu=na.parseItem(e.menu,nN)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>"Fundraiser"===e.label)}get is_live(){return this.badges.some(e=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===e.style||"LIVE"===e.label)return!0})}get is_new(){return this.badges.some(e=>"New"===e.label)}get is_premiere(){return this.badges.some(e=>"PREMIERE"===e.style)}};iK(n8,"CompactVideo"),n8.type="CompactVideo";var n7=class extends i5{constructor(e){super(),this.info_rows=na.parseArray(e.infoRows,n9),this.video_lockup=na.parseItem(e.videoLockup,n8)}};iK(n7,"CarouselLockup"),n7.type="CarouselLockup";var se=class extends i5{constructor(e){super(),this.carousel_lockups=na.parseArray(e.carouselLockups,n7),this.section_title=new n_(e.sectionTitle)}};iK(se,"VideoDescriptionMusicSection"),se.type="VideoDescriptionMusicSection";var st=class extends i5{constructor(e){super(),this.section_title=new n_(e.sectionTitle),this.sub_header_text=new n_(e.subHeaderText),this.primary_button=na.parseItem(e.primaryButton,nl)}};iK(st,"VideoDescriptionTranscriptSection"),st.type="VideoDescriptionTranscriptSection";var si=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail),this.title=new n_(e.title),this.short_byline_text=new n_(e.shortBylineText),this.video_count_short_text=new n_(e.videoCountShortText),this.endpoint=new nm(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};iK(si,"StructuredDescriptionPlaylistLockup"),si.type="StructuredDescriptionPlaylistLockup";var sn=class extends i5{constructor(e){super(),this.section_title=new n_(e.sectionTitle),this.media_lockups=na.parseArray(e.mediaLockups,[si])}};iK(sn,"VideoDescriptionCourseSection"),sn.type="VideoDescriptionCourseSection";var ss=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.items=na.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new nm(e.endpoint))}get contents(){return this.items}};iK(ss,"ReelShelf"),ss.type="ReelShelf";var sa=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items,[n6,nF,se,n4,sn,st,st,n1,ss])}};iK(sa,"StructuredDescriptionContent"),sa.type="StructuredDescriptionContent";var so=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header,nD),this.content=na.parseItem(e.content,[nZ,nH,nL,nM,sa,nV,nU]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};iK(so,"EngagementPanelSectionList"),so.type="EngagementPanelSectionList";var sr=class extends i5{constructor(e){super(),this.title=new n_(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new nm(e.selectedCommand)),this.selected=!!this.endpoint}};iK(sr,"MusicMultiSelectMenuItem"),sr.type="MusicMultiSelectMenuItem";var sl=class{constructor(e,t){var i,n,s,a,o,r;if(p.set(this,void 0),t&&i2(this,p,t,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf="FORMAT_STREAM_TYPE_OTF"===e.type,this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:null===(i=e.colorInfo.primaries)||void 0===i?void 0:i.replace("COLOR_PRIMARIES_",""),transfer_characteristics:null===(n=e.colorInfo.transferCharacteristics)||void 0===n?void 0:n.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:null===(s=e.colorInfo.matrixCoefficients)||void 0===s?void 0:s.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let t=new URLSearchParams(this.cipher||this.signature_cipher),i=null===(a=new URLSearchParams(t.get("url")||this.url).get("xtags"))||void 0===a?void 0:a.split(":"),n=null===(o=null==i?void 0:i.find(e=>e.startsWith("acont=")))||void 0===o?void 0:o.split("=")[1];this.language=(null===(r=null==i?void 0:i.find(e=>e.startsWith("lang=")))||void 0===r?void 0:r.split("=")[1])||null,this.is_dubbed="dubbed"===n,this.is_descriptive="descriptive"===n,this.is_original="original"===n||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new wu("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,i1(this,p,"f"))}};iK(sl,"Format"),p=new WeakMap;var sc=sl,sd=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=nf.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};iK(sd,"VideoDetails");var sh={};iY(sh,{AboutChannel:()=>sg,AboutChannelView:()=>sf,AccountChannel:()=>s_,AccountItemSection:()=>sC,AccountItemSectionHeader:()=>sw,AccountSectionList:()=>sI,AddBannerToLiveChatCommand:()=>dk,AddChatItemAction:()=>dA,AddLiveChatTickerItemAction:()=>dR,Alert:()=>nI,AlertWithButton:()=>nk,AnalyticsMainAppKeyMetrics:()=>sX,AnalyticsRoot:()=>sQ,AnalyticsShortsCarouselCard:()=>s0,AnalyticsVideo:()=>s2,AnalyticsVodCarouselCard:()=>s5,AnchoredSection:()=>vQ,AppendContinuationItemsAction:()=>sE,AudioOnlyPlayability:()=>no,AuthorCommentBadge:()=>op,AutomixPreviewVideo:()=>ae,BackstageImage:()=>ai,BackstagePost:()=>ad,BackstagePostThread:()=>au,BrowseFeedActions:()=>am,BrowserMediaSession:()=>av,Button:()=>nl,ButtonView:()=>ay,C4TabbedHeader:()=>aR,CallToActionButton:()=>aL,Card:()=>aN,CardCollection:()=>nb,CarouselHeader:()=>aB,CarouselItem:()=>aU,CarouselLockup:()=>n7,Channel:()=>aF,ChannelAboutFullMetadata:()=>aW,ChannelAgeGate:()=>aG,ChannelExternalLinkView:()=>sp,ChannelFeaturedContent:()=>aY,ChannelHeaderLinks:()=>aw,ChannelHeaderLinksView:()=>aS,ChannelMetadata:()=>az,ChannelMobileHeader:()=>aJ,ChannelOptions:()=>aZ,ChannelOwnerEmptyState:()=>a1,ChannelSubMenu:()=>a3,ChannelTagline:()=>aT,ChannelThumbnailWithLink:()=>a6,ChannelVideoPlayer:()=>a9,Chapter:()=>a7,ChildVideo:()=>ot,ChipCloud:()=>oa,ChipCloudChip:()=>on,ClipAdState:()=>nP,ClipCreation:()=>nR,ClipCreationScrubber:()=>nA,ClipCreationTextInput:()=>nE,ClipSection:()=>nM,CollaboratorInfoCardContent:()=>or,CollageHeroImage:()=>oc,Command:()=>oh,Comment:()=>rK,CommentActionButtons:()=>al,CommentDialog:()=>rX,CommentReplies:()=>rQ,CommentReplyDialog:()=>of,CommentSimplebox:()=>r8,CommentThread:()=>le,CommentsEntryPointHeader:()=>r5,CommentsEntryPointTeaser:()=>r2,CommentsHeader:()=>r4,CommentsSimplebox:()=>r0,CompactChannel:()=>li,CompactLink:()=>ls,CompactMix:()=>lu,CompactMovie:()=>lm,CompactPlaylist:()=>lv,CompactStation:()=>ly,CompactVideo:()=>n8,ConfirmDialog:()=>lb,ContentMetadataView:()=>lx,ContentPreviewImageView:()=>nQ,ContinuationItem:()=>nL,ConversationBar:()=>lI,CopyLink:()=>lE,CreatePlaylistDialog:()=>nh,CreatorHeart:()=>ao,CtaGoToCreatorStudio:()=>s4,DataModelSection:()=>sq,DecoratedPlayerBar:()=>lB,DefaultPromoPanel:()=>lU,DidYouMean:()=>lF,DimChatItemAction:()=>dL,DownloadButton:()=>lW,Dropdown:()=>nd,DropdownItem:()=>nc,DynamicTextView:()=>lG,Element:()=>lz,EmergencyOnebox:()=>lJ,EmojiPicker:()=>rq,EmojiPickerCategory:()=>lZ,EmojiPickerCategoryButton:()=>l1,EmojiPickerUpsellCategory:()=>l3,EndScreenPlaylist:()=>l9,EndScreenVideo:()=>l7,Endscreen:()=>nw,EndscreenElement:()=>l6,EngagementPanelSectionList:()=>so,EngagementPanelTitleHeader:()=>nD,ExpandableMetadata:()=>nG,ExpandableTab:()=>ct,ExpandableVideoDescriptionBody:()=>nF,ExpandedShelfContents:()=>cn,Factoid:()=>n2,FancyDismissibleDialog:()=>ca,FeedFilterChipBar:()=>cr,FeedNudge:()=>cc,FeedTabbedHeader:()=>ch,FlexibleActionsView:()=>cp,GameCard:()=>nW,GameDetails:()=>cf,Grid:()=>cg,GridChannel:()=>c_,GridHeader:()=>cw,GridMix:()=>cS,GridMovie:()=>cT,GridPlaylist:()=>ck,GridShow:()=>cL,GridVideo:()=>cN,GuideCollapsibleEntry:()=>cU,GuideCollapsibleSectionEntry:()=>cF,GuideDownloadsEntry:()=>cW,GuideEntry:()=>cB,GuideSection:()=>cG,GuideSubscriptionsSection:()=>cY,HashtagHeader:()=>cz,HashtagTile:()=>cJ,HeatMarker:()=>lP,Heatmap:()=>lM,HeroPlaylistThumbnail:()=>cZ,HighlightsCarousel:()=>c2,HistorySuggestion:()=>c4,HorizontalCardList:()=>n1,HorizontalList:()=>n$,HorizontalMovieList:()=>c8,IconLink:()=>de,IncludingResultsFor:()=>di,InfoPanelContainer:()=>dr,InfoPanelContent:()=>ds,InfoRow:()=>n9,InteractiveTabbedHeader:()=>dc,ItemSection:()=>dg,ItemSectionHeader:()=>dh,ItemSectionTab:()=>dp,ItemSectionTabbedHeader:()=>df,KidsBlocklistPicker:()=>v2,KidsBlocklistPickerItem:()=>v0,KidsCategoriesHeader:()=>v4,KidsCategoryTab:()=>v5,KidsHomeScreen:()=>v8,LikeButton:()=>d_,LiveChat:()=>dw,LiveChatActionPanel:()=>he,LiveChatAuthorBadge:()=>hD,LiveChatAutoModMessage:()=>dN,LiveChatBanner:()=>dT,LiveChatBannerHeader:()=>dS,LiveChatBannerPoll:()=>dB,LiveChatDialog:()=>hO,LiveChatHeader:()=>hV,LiveChatItemList:()=>hH,LiveChatMembershipItem:()=>dU,LiveChatMessageInput:()=>hj,LiveChatPaidMessage:()=>dF,LiveChatPaidSticker:()=>dW,LiveChatParticipant:()=>h$,LiveChatParticipantsList:()=>hK,LiveChatPlaceholderItem:()=>dG,LiveChatProductItem:()=>dY,LiveChatRestrictedParticipation:()=>dz,LiveChatTextMessage:()=>dQ,LiveChatTickerPaidMessageItem:()=>d0,LiveChatTickerPaidStickerItem:()=>d2,LiveChatTickerSponsorItem:()=>d5,LiveChatViewerEngagementMessage:()=>d4,MacroMarkersInfoItem:()=>nO,MacroMarkersList:()=>nV,MacroMarkersListItem:()=>nB,MarkChatItemAsDeletedAction:()=>hi,MarkChatItemsByAuthorAsDeletedAction:()=>hs,Menu:()=>nN,MenuNavigationItem:()=>hq,MenuPopup:()=>hQ,MenuServiceItem:()=>hX,MenuServiceItemDownload:()=>h0,MerchandiseItem:()=>ui,MerchandiseShelf:()=>us,Message:()=>lC,MetadataBadge:()=>nY,MetadataRow:()=>uo,MetadataRowContainer:()=>ul,MetadataRowHeader:()=>ud,MetadataScreen:()=>uu,MicroformatData:()=>um,Mix:()=>uv,Movie:()=>uy,MovingThumbnail:()=>ub,MultiMarkersPlayerBar:()=>lN,MultiPageMenu:()=>h2,MultiPageMenuNotificationSection:()=>h5,MusicCardShelf:()=>uM,MusicCardShelfHeaderBasic:()=>ux,MusicCarouselShelf:()=>uq,MusicCarouselShelfBasicHeader:()=>uD,MusicDescriptionShelf:()=>uX,MusicDetailHeader:()=>uQ,MusicDownloadStateBadge:()=>u0,MusicEditablePlaylistDetailHeader:()=>u2,MusicElementHeader:()=>u5,MusicHeader:()=>u4,MusicImmersiveHeader:()=>u8,MusicInlineBadge:()=>uC,MusicItemThumbnailOverlay:()=>uE,MusicLargeCardItemCarousel:()=>pi,MusicMenuItemDivider:()=>h4,MusicMultiRowListItem:()=>uO,MusicMultiSelectMenu:()=>h8,MusicMultiSelectMenuItem:()=>sr,MusicNavigationButton:()=>uV,MusicPlayButton:()=>uI,MusicPlaylistShelf:()=>ps,MusicQueue:()=>pu,MusicResponsiveListItem:()=>u$,MusicResponsiveListItemFixedColumn:()=>uH,MusicResponsiveListItemFlexColumn:()=>uj,MusicShelf:()=>pm,MusicSideAlignedItem:()=>pv,MusicSortFilterButton:()=>py,MusicTastebuilderShelf:()=>px,MusicTastebuilderShelfThumbnail:()=>pb,MusicThumbnail:()=>uP,MusicTwoRowItem:()=>uK,MusicVisualHeader:()=>pC,NavigationEndpoint:()=>nm,Notification:()=>pI,OpenPopupAction:()=>nu,PageHeader:()=>pP,PageHeaderView:()=>pE,PageIntroduction:()=>pM,PdgCommentChip:()=>og,PivotButton:()=>pD,PlayerAnnotationsExpanded:()=>nx,PlayerCaptionsTracklist:()=>nS,PlayerControlsOverlay:()=>pV,PlayerErrorMessage:()=>pH,PlayerLegacyDesktopYpcOffer:()=>pj,PlayerLegacyDesktopYpcTrailer:()=>pK,PlayerLiveStoryboardSpec:()=>nC,PlayerMicroformat:()=>pq,PlayerOverflow:()=>pO,PlayerOverlay:()=>p0,PlayerOverlayAutoplay:()=>pX,PlayerStoryboardSpec:()=>nT,Playlist:()=>ld,PlaylistCustomThumbnail:()=>lo,PlaylistHeader:()=>p2,PlaylistInfoCardContent:()=>p5,PlaylistMetadata:()=>p4,PlaylistPanel:()=>pd,PlaylistPanelVideo:()=>po,PlaylistPanelVideoWrapper:()=>pl,PlaylistSidebar:()=>p8,PlaylistSidebarPrimaryInfo:()=>me,PlaylistSidebarSecondaryInfo:()=>mi,PlaylistVideo:()=>ms,PlaylistVideoList:()=>mo,PlaylistVideoThumbnail:()=>ll,Poll:()=>ml,PollHeader:()=>d8,Post:()=>md,PostMultiImage:()=>mu,ProductList:()=>nU,ProductListHeader:()=>mm,ProductListItem:()=>mv,ProfileColumn:()=>my,ProfileColumnStats:()=>mb,ProfileColumnStatsEntry:()=>mx,ProfileColumnUserInfo:()=>mC,Quiz:()=>mI,RecognitionShelf:()=>mE,ReelItem:()=>mP,ReelPlayerHeader:()=>mM,ReelPlayerOverlay:()=>mD,ReelShelf:()=>ss,RelatedChipCloud:()=>mO,RemoveBannerForLiveChatCommand:()=>ho,RemoveChatItemAction:()=>hl,RemoveChatItemByAuthorAction:()=>hd,ReplaceChatItemAction:()=>hu,ReplayChatItemAction:()=>hm,RichGrid:()=>mV,RichItem:()=>mH,RichListHeader:()=>mj,RichMetadata:()=>m$,RichMetadataRow:()=>mK,RichSection:()=>mq,RichShelf:()=>mX,SearchBox:()=>mQ,SearchFilter:()=>m0,SearchFilterGroup:()=>m2,SearchFilterOptionsDialog:()=>m5,SearchHeader:()=>m4,SearchRefinementCard:()=>nj,SearchSubMenu:()=>m8,SearchSuggestion:()=>c5,SearchSuggestionsSection:()=>fe,SecondarySearchContainer:()=>fi,SectionList:()=>nH,SegmentedLikeDislikeButton:()=>fs,SettingBoolean:()=>fo,SettingsCheckbox:()=>fl,SettingsOptions:()=>fu,SettingsSidebar:()=>fm,SettingsSwitch:()=>fd,SharedPost:()=>fv,Shelf:()=>fy,ShowCustomThumbnail:()=>cA,ShowLiveChatActionPanelAction:()=>hv,ShowLiveChatDialogAction:()=>hy,ShowLiveChatTooltipCommand:()=>hb,ShowingResultsFor:()=>fb,SimpleCardContent:()=>fx,SimpleCardTeaser:()=>fC,SimpleMenuHeader:()=>ue,SimpleTextSection:()=>fI,SingleActionEmergencySupport:()=>fE,SingleColumnBrowseResults:()=>fM,SingleColumnMusicWatchNextResults:()=>fD,SingleHeroImage:()=>fO,SlimOwner:()=>fV,SlimVideoMetadata:()=>fH,SortFilterSubMenu:()=>sP,SponsorCommentBadge:()=>o_,StatRow:()=>s8,StructuredDescriptionContent:()=>sa,StructuredDescriptionPlaylistLockup:()=>si,SubFeedOption:()=>fj,SubFeedSelector:()=>f$,SubscribeButton:()=>aA,SubscriptionNotificationToggleButton:()=>ak,Tab:()=>fP,Tabbed:()=>fK,TabbedSearchResults:()=>fq,TextHeader:()=>fX,ThumbnailLandscapePortrait:()=>fQ,ThumbnailOverlayBottomPanel:()=>cR,ThumbnailOverlayEndorsement:()=>f0,ThumbnailOverlayHoverText:()=>f2,ThumbnailOverlayInlineUnplayable:()=>f5,ThumbnailOverlayLoadingPreview:()=>f4,ThumbnailOverlayNowPlaying:()=>f8,ThumbnailOverlayPinking:()=>ve,ThumbnailOverlayPlaybackStatus:()=>vi,ThumbnailOverlayResumePlayback:()=>vs,ThumbnailOverlaySidePanel:()=>vo,ThumbnailOverlayTimeStatus:()=>nq,ThumbnailOverlayToggleButton:()=>vl,TimedMarkerDecoration:()=>vd,TitleAndButtonListHeader:()=>vu,ToggleButton:()=>as,ToggleMenuServiceItem:()=>vm,Tooltip:()=>vv,TopicChannelDetails:()=>vy,Transcript:()=>s$,TranscriptFooter:()=>sM,TranscriptSearchBox:()=>sD,TranscriptSearchPanel:()=>sj,TranscriptSectionHeader:()=>sO,TranscriptSegment:()=>sV,TranscriptSegmentList:()=>sH,TwoColumnBrowseResults:()=>vb,TwoColumnSearchResults:()=>vx,TwoColumnWatchNextResults:()=>vC,UniversalWatchCard:()=>vI,UpdateDateTextAction:()=>hx,UpdateDescriptionAction:()=>hC,UpdateEngagementPanelAction:()=>sK,UpdateLiveChatPollAction:()=>hI,UpdateTitleAction:()=>hE,UpdateToggleButtonTextAction:()=>hP,UpdateViewershipAction:()=>hM,UploadTimeFactoid:()=>n3,UpsellDialog:()=>vE,VerticalList:()=>vP,VerticalWatchCardList:()=>vM,Video:()=>nX,VideoAttributeView:()=>nZ,VideoCard:()=>nJ,VideoDescriptionCourseSection:()=>sn,VideoDescriptionHeader:()=>n6,VideoDescriptionInfocardsSection:()=>n4,VideoDescriptionMusicSection:()=>se,VideoDescriptionTranscriptSection:()=>st,VideoInfoCardContent:()=>vD,VideoOwner:()=>vO,VideoPrimaryInfo:()=>vV,VideoSecondaryInfo:()=>vH,ViewCountFactoid:()=>n5,WatchCardCompactVideo:()=>vj,WatchCardHeroVideo:()=>v$,WatchCardRichHeader:()=>vK,WatchCardSectionSequence:()=>vq,WatchNextEndScreen:()=>pQ,WatchNextTabbedResults:()=>vX,YpcTrailer:()=>p$});var su=class extends i5{constructor(e){super(),this.title=n_.fromAttributed(e.title),this.link=n_.fromAttributed(e.link),this.favicon=e.favicon.sources.map(e=>new nf(e)).sort((e,t)=>t.width-e.width)}};iK(su,"ChannelExternalLinkView"),su.type="ChannelExternalLinkView";var sp=su,sm=class extends i5{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=n_.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=n_.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=n_.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=n_.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new nm(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=n_.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=na.parseArray(e.links,sp):this.links=[]}};iK(sm,"AboutChannelView"),sm.type="AboutChannelView";var sf=sm,sv=class extends i5{constructor(e){super(),this.metadata=na.parseItem(e.metadata,sf),this.share_channel=na.parseItem(e.shareChannel,nl)}};iK(sv,"AboutChannel"),sv.type="AboutChannel";var sg=sv,sy=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.endpoint=new nm(e.navigationEndpoint)}};iK(sy,"AccountChannel"),sy.type="AccountChannel";var s_=sy,sb=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(sb,"AccountItemSectionHeader"),sb.type="AccountItemSectionHeader";var sw=sb,sx=class extends i5{constructor(e){super(),this.account_name=new n_(e.accountName),this.account_photo=nf.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new nm(e.serviceEndpoint),this.account_byline=new n_(e.accountByline)}};iK(sx,"AccountItem"),sx.type="AccountItem";var sS=class extends i5{constructor(e){super(),this.contents=i9(e.contents.map(e=>new sx(e.accountItem))),this.header=na.parseItem(e.header,sw)}};iK(sS,"AccountItemSection"),sS.type="AccountItemSection";var sC=sS,sT=class extends i5{constructor(e){super(),this.contents=na.parseItem(e.contents[0],sC),this.footers=na.parseItem(e.footers[0],s_)}};iK(sT,"AccountSectionList"),sT.type="AccountSectionList";var sI=sT,sk=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.continuationItems),this.target=e.target}};iK(sk,"AppendContinuationItemsAction"),sk.type="AppendContinuationItemsAction";var sE=sk,sA=class extends i5{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(e=>{var t,i;return{title:e.title,selected:e.selected,continuation:null===(i=null===(t=e.continuation)||void 0===t?void 0:t.reloadContinuationData)||void 0===i?void 0:i.continuation,endpoint:new nm(e.serviceEndpoint||e.navigationEndpoint),subtitle:e.subtitle||null}}))}};iK(sA,"SortFilterSubMenu"),sA.type="SortFilterSubMenu";var sP=sA,sR=class extends i5{constructor(e){super(),this.language_menu=na.parseItem(e.languageMenu,sP)}};iK(sR,"TranscriptFooter"),sR.type="TranscriptFooter";var sM=sR,sL=class extends i5{constructor(e){super(),this.formatted_placeholder=new n_(e.formattedPlaceholder),this.clear_button=na.parseItem(e.clearButton,nl),this.endpoint=new nm(e.onTextChangeCommand),this.search_button=na.parseItem(e.searchButton,nl)}};iK(sL,"TranscriptSearchBox"),sL.type="TranscriptSearchBox";var sD=sL,sN=class extends i5{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new n_(e.snippet)}};iK(sN,"TranscriptSectionHeader"),sN.type="TranscriptSectionHeader";var sO=sN,sB=class extends i5{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new n_(e.snippet),this.start_time_text=new n_(e.startTimeText),this.target_id=e.targetId}};iK(sB,"TranscriptSegment"),sB.type="TranscriptSegment";var sV=sB,sU=class extends i5{constructor(e){super(),this.initial_segments=na.parseArray(e.initialSegments,[sV,sO]),this.no_result_label=new n_(e.noResultLabel),this.retry_label=new n_(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};iK(sU,"TranscriptSegmentList"),sU.type="TranscriptSegmentList";var sH=sU,sF=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header,sD),this.body=na.parseItem(e.body,sH),this.footer=na.parseItem(e.footer,sM),this.target_id=e.targetId}};iK(sF,"TranscriptSearchPanel"),sF.type="TranscriptSearchPanel";var sj=sF,sW=class extends i5{constructor(e){super(),this.content=na.parseItem(e.content,sj)}};iK(sW,"Transcript"),sW.type="Transcript";var s$=sW,sG=class extends i5{constructor(e){super(),this.target_id=e.targetId,this.content=na.parseItem(e.content,s$)}};iK(sG,"UpdateEngagementPanelAction"),sG.type="UpdateEngagementPanelAction";var sK=sG,sY=class extends i5{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let t=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:t.linesData[0].x,y:t.linesData[0].y,style:{line_width:t.linesData[0].style.lineWidth,line_color:t.linesData[0].style.lineColor}},domain_axis:{tick_values:t.domainAxis.tickValues,custom_formatter:t.domainAxis.customFormatter},measure_axis:{tick_values:t.measureAxis.tickValues,custom_formatter:t.measureAxis.customFormatter}}}}};iK(sY,"DataModelSection"),sY.type="DataModelSection";var sq=sY,sz=class extends i5{constructor(e){super(),this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(e=>new sq(e))}};iK(sz,"AnalyticsMainAppKeyMetrics"),sz.type="AnalyticsMainAppKeyMetrics";var sX=sz,sJ=class extends i5{constructor(e){super();let t=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=t.map(e=>({title:e.cardData.title,rows:e.cardData.rows.map(e=>({label:e.label,display_value:e.displayValue,display_value_a11y:e.displayValueA11y,bar_ratio:e.barRatio,bar_color:e.barColor,bar_opacity:e.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};iK(sJ,"AnalyticsRoot"),sJ.type="AnalyticsRoot";var sQ=sJ,sZ=class extends i5{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(e=>({description:e.shortsDescription,thumbnail_url:e.thumbnailUrl,endpoint:new nm(e.videoEndpoint)}))}};iK(sZ,"AnalyticsShortsCarouselCard"),sZ.type="AnalyticsShortsCarouselCard";var s0=sZ,s1=class extends i5{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("·")[0].trim(),published:e.videoDescription.split("·")[1].trim(),thumbnails:nf.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};iK(s1,"AnalyticsVideo"),s1.type="AnalyticsVideo";var s2=s1,s3=class extends i5{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(e=>new s2(e)))}};iK(s3,"AnalyticsVodCarouselCard"),s3.type="AnalyticsVodCarouselCard";var s5=s3,s6=class extends i5{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};iK(s6,"CtaGoToCreatorStudio"),s6.type="CtaGoToCreatorStudio";var s4=s6,s9=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.contents=new n_(e.contents)}};iK(s9,"StatRow"),s9.type="StatRow";var s8=s9,s7=class extends i5{constructor(e){var t,i;super(),(null===(i=null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.automixPlaylistVideoRenderer)||void 0===i?void 0:i.navigationEndpoint)&&(this.playlist_video={endpoint:new nm(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};iK(s7,"AutomixPreviewVideo"),s7.type="AutomixPreviewVideo";var ae=s7,at=class extends i5{constructor(e){super(),this.image=nf.fromResponse(e.image),this.endpoint=new nm(e.command)}};iK(at,"BackstageImage"),at.type="BackstageImage";var ai=at,an=class extends i5{constructor(e){var t,i,n,s,a,o,r,l,c;super(),this.text=new n_(e.defaultText),this.toggled_text=new n_(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=null===(t=e.defaultIcon)||void 0===t?void 0:t.iconType;let d=(null===(s=null===(n=null===(i=null==e?void 0:e.defaultText)||void 0===i?void 0:i.accessibility)||void 0===n?void 0:n.accessibilityData)||void 0===s?void 0:s.label)||(null===(o=null===(a=null==e?void 0:e.accessibilityData)||void 0===a?void 0:a.accessibilityData)||void 0===o?void 0:o.label)||(null===(r=null==e?void 0:e.accessibility)||void 0===r?void 0:r.label);"LIKE"==this.icon_type&&(this.like_count=parseInt(d.replace(/\D/g,"")),this.short_like_count=new n_(e.defaultText).toString()),this.endpoint=new nm((null===(c=null===(l=e.defaultServiceEndpoint)||void 0===l?void 0:l.commandExecutorCommand)||void 0===c?void 0:c.commands)?e.defaultServiceEndpoint.commandExecutorCommand.commands.pop():e.defaultServiceEndpoint),this.toggled_endpoint=new nm(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};iK(an,"ToggleButton"),an.type="ToggleButton";var as=an,aa=class extends i5{constructor(e){var t,i;super(),this.creator_thumbnail=nf.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:null===(i=null===(t=e.heartColor)||void 0===t?void 0:t.basicColorPaletteData)||void 0===i?void 0:i.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};iK(aa,"CreatorHeart"),aa.type="CreatorHeart";var ao=aa,ar=class extends i5{constructor(e){super(),this.like_button=na.parseItem(e.likeButton,as),this.dislike_button=na.parseItem(e.dislikeButton,as),this.reply_button=na.parseItem(e.replyButton,nl),this.creator_heart=na.parseItem(e.creatorHeart,ao)}};iK(ar,"CommentActionButtons"),ar.type="CommentActionButtons";var al=ar,ac=class extends i5{constructor(e){super(),this.id=e.postId,this.author=new wc(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new n_(e.contentText),this.published=new n_(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new n_(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=na.parseItem(e.actionMenu,nN)),Reflect.has(e,"actionButtons")&&(this.action_buttons=na.parseItem(e.actionButtons,al)),Reflect.has(e,"voteButton")&&(this.vote_button=na.parseItem(e.voteButton,nl)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new nm(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=na.parseItem(e.backstageAttachment)),this.surface=e.surface}};iK(ac,"BackstagePost"),ac.type="BackstagePost";var ad=ac,ah=class extends i5{constructor(e){super(),this.post=na.parseItem(e.post)}};iK(ah,"BackstagePostThread"),ah.type="BackstagePostThread";var au=ah,ap=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents)}};iK(ap,"BrowseFeedActions"),ap.type="BrowseFeedActions";var am=ap,af=class extends i5{constructor(e){super(),this.album=new n_(e.album),this.thumbnails=nf.fromResponse(e.thumbnailDetails)}};iK(af,"BrowserMediaSession"),af.type="BrowserMediaSession";var av=af,ag=class extends i5{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new nm(e.onTap)}};iK(ag,"ButtonView"),ag.type="ButtonView";var ay=ag,a_=class extends i5{constructor(e){super(),this.endpoint=new nm(e.navigationEndpoint),this.icon=nf.fromResponse(e.icon),this.title=new n_(e.title)}};iK(a_,"HeaderLink"),a_.type="HeaderLink";var ab=class extends i5{constructor(e){var t,i;super(),this.primary=i9((null===(t=e.primaryLinks)||void 0===t?void 0:t.map(e=>new a_(e)))||[]),this.secondary=i9((null===(i=e.secondaryLinks)||void 0===i?void 0:i.map(e=>new a_(e)))||[])}};iK(ab,"ChannelHeaderLinks"),ab.type="ChannelHeaderLinks";var aw=ab,ax=class extends i5{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=n_.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=n_.fromAttributed(e.more))}};iK(ax,"ChannelHeaderLinksView"),ax.type="ChannelHeaderLinksView";var aS=ax,aC=class extends i5{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:na.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,so),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new nm(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};iK(aC,"ChannelTagline"),aC.type="ChannelTagline";var aT=aC,aI=class extends i5{constructor(e){super(),this.states=e.states.map(e=>({id:e.stateId,next_id:e.nextStateId,state:na.parse(e.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};iK(aI,"SubscriptionNotificationToggleButton"),aI.type="SubscriptionNotificationToggleButton";var ak=aI,aE=class extends i5{constructor(e){var t,i;super(),this.title=new n_(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new n_(e.subscribedButtonText),this.unsubscribed_text=new n_(e.unsubscribedButtonText),this.notification_preference_button=na.parseItem(e.notificationPreferenceButton,ak),this.endpoint=new nm((null===(t=e.serviceEndpoints)||void 0===t?void 0:t[0])||(null===(i=e.onSubscribeEndpoints)||void 0===i?void 0:i[0]))}};iK(aE,"SubscribeButton"),aE.type="SubscribeButton";var aA=aE,aP=class extends i5{constructor(e){super(),this.author=new wc({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=nf.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=nf.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=nf.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new n_(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new n_(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=na.parseItem(e.sponsorButton,nl)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=na.parseItem(e.subscribeButton,[aA,nl])),Reflect.has(e,"headerLinks")&&(this.header_links=na.parseItem(e.headerLinks,[aw,aS])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new n_(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=na.parseItem(e.tagline,aT))}};iK(aP,"C4TabbedHeader"),aP.type="C4TabbedHeader";var aR=aP,aM=class extends i5{constructor(e){super(),this.label=new n_(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};iK(aM,"CallToActionButton"),aM.type="CallToActionButton";var aL=aM,aD=class extends i5{constructor(e){super(),this.teaser=na.parseItem(e.teaser),this.content=na.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(e=>({start_card_active_ms:e.startCardActiveMs,end_card_active_ms:e.endCardActiveMs,teaser_duration_ms:e.teaserDurationMs,icon_after_teaser_ms:e.iconAfterTeaserMs}))}};iK(aD,"Card"),aD.type="Card";var aN=aD,aO=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents)}};iK(aO,"CarouselHeader"),aO.type="CarouselHeader";var aB=aO,aV=class extends i5{constructor(e){super(),this.items=na.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=nf.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};iK(aV,"CarouselItem"),aV.type="CarouselItem";var aU=aV,aH=class extends i5{constructor(e){super(),this.id=e.channelId,this.author=new wc(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new n_(e.subscriberCountText),this.video_count=new n_(e.videoCountText),this.long_byline=new n_(e.longBylineText),this.short_byline=new n_(e.shortBylineText),this.endpoint=new nm(e.navigationEndpoint),this.subscribe_button=na.parseItem(e.subscribeButton,[aA,nl]),this.description_snippet=new n_(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};iK(aH,"Channel"),aH.type="Channel";var aF=aH,aj=class extends i5{constructor(e){var t,i;super(),this.id=e.channelId,this.name=new n_(e.title),this.avatar=nf.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=null!==(i=null===(t=e.primaryLinks)||void 0===t?void 0:t.map(e=>({endpoint:new nm(e.navigationEndpoint),icon:nf.fromResponse(e.icon),title:new n_(e.title)})))&&void 0!==i?i:[],this.view_count=new n_(e.viewCountText),this.joined_date=new n_(e.joinedDateText),this.description=new n_(e.description),this.email_reveal=new nm(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new n_(e.country),this.buttons=na.parseArray(e.actionButtons,nl)}get views(){return this.view_count}get joined(){return this.joined_date}};iK(aj,"ChannelAboutFullMetadata"),aj.type="ChannelAboutFullMetadata";var aW=aj,a$=class extends i5{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=nf.fromResponse(e.avatar),this.header=new n_(e.header),this.main_text=new n_(e.mainText),this.sign_in_button=na.parseItem(e.signInButton,nl),this.secondary_text=new n_(e.secondaryText)}};iK(a$,"ChannelAgeGate"),a$.type="ChannelAgeGate";var aG=a$,aK=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.items=na.parseArray(e.items)}};iK(aK,"ChannelFeaturedContent"),aK.type="ChannelFeaturedContent";var aY=aK,aq=class extends i5{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=nf.fromResponse(e.avatar),this.music_artist_name="string"==typeof e.musicArtistName&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};iK(aq,"ChannelMetadata"),aq.type="ChannelMetadata";var az=aq,aX=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(aX,"ChannelMobileHeader"),aX.type="ChannelMobileHeader";var aJ=aX,aQ=class extends i5{constructor(e){super(),this.avatar=nf.fromResponse(e.avatar),this.endpoint=new nm(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(e=>new n_(e))}};iK(aQ,"ChannelOptions"),aQ.type="ChannelOptions";var aZ=aQ,a0=class extends i5{constructor(e){super(),this.illustration=nf.fromResponse(e.illustration),this.description=new n_(e.description)}};iK(a0,"ChannelOwnerEmptyState"),a0.type="ChannelOwnerEmptyState";var a1=a0,a2=class extends i5{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(e=>({endpoint:new nm(e.navigationEndpoint||e.endpoint),selected:e.selected,title:e.title})),this.sort_setting=na.parseItem(e.sortSetting)}};iK(a2,"ChannelSubMenu"),a2.type="ChannelSubMenu";var a3=a2,a5=class extends i5{constructor(e){var t,i;super(),this.thumbnails=nf.fromResponse(e.thumbnail),this.endpoint=new nm(e.navigationEndpoint),this.label=null===(i=null===(t=e.accessibility)||void 0===t?void 0:t.accessibilityData)||void 0===i?void 0:i.label}};iK(a5,"ChannelThumbnailWithLink"),a5.type="ChannelThumbnailWithLink";var a6=a5,a4=class extends i5{constructor(e){super(),this.id=e.videoId,this.title=new n_(e.title),this.description=new n_(e.description),this.view_count=new n_(e.viewCountText),this.published_time=new n_(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};iK(a4,"ChannelVideoPlayer"),a4.type="ChannelVideoPlayer";var a9=a4,a8=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=nf.fromResponse(e.thumbnail)}};iK(a8,"Chapter"),a8.type="Chapter";var a7=a8,oe=class extends i5{constructor(e){super(),this.id=e.videoId,this.title=new n_(e.title),this.duration={text:e.lengthText.simpleText,seconds:wT(e.lengthText.simpleText)},this.endpoint=new nm(e.navigationEndpoint)}};iK(oe,"ChildVideo"),oe.type="ChildVideo";var ot=oe,oi=class extends i5{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new nm(e.navigationEndpoint)),this.text=new n_(e.text).toString()}};iK(oi,"ChipCloudChip"),oi.type="ChipCloudChip";var on=oi,os=class extends i5{constructor(e){super(),this.chips=na.parseArray(e.chips,on),this.next_button=na.parseItem(e.nextButton,nl),this.previous_button=na.parseItem(e.previousButton,nl),this.horizontal_scrollable=e.horizontalScrollable}};iK(os,"ChipCloud"),os.type="ChipCloud";var oa=os,oo=class extends i5{constructor(e){super(),this.channel_avatar=nf.fromResponse(e.channelAvatar),this.custom_text=new n_(e.customText),this.channel_name=new n_(e.channelName),this.subscriber_count=new n_(e.subscriberCountText),this.endpoint=new nm(e.endpoint)}};iK(oo,"CollaboratorInfoCardContent"),oo.type="CollaboratorInfoCardContent";var or=oo,ol=class extends i5{constructor(e){super(),this.left=nf.fromResponse(e.leftThumbnail),this.top_right=nf.fromResponse(e.topRightThumbnail),this.bottom_right=nf.fromResponse(e.bottomRightThumbnail),this.endpoint=new nm(e.navigationEndpoint)}};iK(ol,"CollageHeroImage"),ol.type="CollageHeroImage";var oc=ol,od=class extends i5{constructor(e){super(),this.endpoint=new nm(e)}};iK(od,"Command"),od.type="Command";var oh=od,ou=class extends i5{constructor(e){super(),m.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,"Verified"===this.tooltip&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),i2(this,m,e,"f")}get orig_badge(){return i1(this,m,"f")}};iK(ou,"AuthorCommentBadge"),m=new WeakMap,ou.type="AuthorCommentBadge";var op=ou,om=class extends i5{constructor(e){super(),this.reply_button=na.parseItem(e.replyButton,nl),this.cancel_button=na.parseItem(e.cancelButton,nl),this.author_thumbnail=nf.fromResponse(e.authorThumbnail),this.placeholder=new n_(e.placeholderText),this.error_message=new n_(e.errorMessage)}};iK(om,"CommentReplyDialog"),om.type="CommentReplyDialog";var of=om,ov=class extends i5{constructor(e){var t,i;super(),this.text=new n_(e.chipText),this.color_pallette={background_color:null===(t=e.chipColorPalette)||void 0===t?void 0:t.backgroundColor,foreground_title_color:null===(i=e.chipColorPalette)||void 0===i?void 0:i.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};iK(ov,"PdgCommentChip"),ov.type="PdgCommentChip";var og=ov,oy=class extends i5{constructor(e){super(),this.custom_badge=nf.fromResponse(e.customBadge),this.tooltip=e.tooltip}};iK(oy,"SponsorCommentBadge"),oy.type="SponsorCommentBadge";var o_=oy;iY({},{decodeVisitorData:()=>rM,encodeChannelAnalyticsParams:()=>rL,encodeCommentActionParams:()=>rU,encodeCommentParams:()=>rV,encodeCommentsSectionParams:()=>rB,encodeCustomThumbnailPayload:()=>rj,encodeHashtag:()=>rW,encodeMessageParams:()=>rO,encodeMusicSearchFilters:()=>rN,encodeNotificationPref:()=>rH,encodeReelSequence:()=>r$,encodeSearchFilters:()=>rD,encodeVideoMetadataPayload:()=>rF,encodeVisitorData:()=>rR}),(n=f||(f={}))[n.Varint=0]="Varint",n[n.Fixed64=1]="Fixed64",n[n.LengthDelimited=2]="LengthDelimited",n[n.StartGroup=3]="StartGroup",n[n.EndGroup=4]="EndGroup",n[n.Fixed32=5]="Fixed32";var ob=class extends Uint32Array{constructor(e=0,t=0){super([e,t])}toString(e=!0){let[t,i]=this;if(0===t&&0===i)return"0";if(e&&i>2147483647)return"-"+oC(oE(this),ox).toString(!1);let n=[],s=new ob(t,i);for(;ok(s,ow);){let[e,t]=oI(s);n.push(t),s=e}return n.reverse().join("")}static parse(e){let t=parseInt(e,10),i=t<0;if(Number.isNaN(t))return new ob(0);if(e.length<10)return t<0?oC(oE(new ob(-t)),ox):new ob(t);let n=new ob,s=ox;for(let t of e.split("").reverse())parseInt(t)&&(n=oC(n,oT(new ob(parseInt(t)),s))),s=oT(s,new ob(10));return i?oC(oE(n),ox):n}};iK(ob,"Long");var ow=new ob(0),ox=new ob(1);function oS(e){let[t,i]=e;return[65535&t,t>>>16,65535&i,i>>>16]}function oC(e,t){let[i,n,s,a]=oS(e),[o,r,l,c]=oS(t),d=0,h=0,u,p;return u=0+((p=0+(i+o))>>>16),p&=65535,u+=n+r,h+=u>>>16,u&=65535,h+=s+l,d+=h>>>16,h&=65535,d+=a+c,new ob(u<<16|p,(d&=65535)<<16|h)}function oT(e,t){let[i,n,s,a]=oS(e),[o,r,l,c]=oS(t),d=0,h=0,u,p;return u=0+((p=0+i*o)>>>16),p&=65535,u+=i*r+n*o,h+=u>>>16,u&=65535,h+=i*l+s*o+n*r,d+=h>>>16,h&=65535,d+=i*c+n*l+s*r+a*o,new ob(u<<16|p,(d&=65535)<<16|h)}function oI(e){let[t,i]=e;return[new ob((i%10*4294967296+t)/10|0,i/10|0),(i%10*4294967296+t)%10]}function ok(e,t){let[i,n]=e,[s,a]=t;return n!==a?n-a:i-s}function oE(e){let[t,i]=e;return new ob(~t,~i)}function oA(e){let t=[],i="number"==typeof e?new ob(e):e;for(;i[0]||i[1];){let[e,n]=i,s=127&e,a=n>>>7,o=(i=new ob(e>>>7|(127&n)<<25,a))[0]||i[1]?128|s:s;t.push(o)}return t.length<1?new Uint8Array(1):Uint8Array.from(t)}function oP(e){let t=new ob(0),i=0;for(;;){let n=e.getUint8(i);if(t=oR(t,oM(new ob(127&n),7*i)),++i,!(n>>>7))return[i,t]}}function oR(e,t){return new ob(e[0]|t[0],e[1]|t[1])}function oM(e,t){return 0===t?e:t>=32?new ob(0,e[0]<<t-32):new ob(e[0]<<t,e[1]<<t|e[0]>>>32-t)}function oL(e){let t=[];return e.forEach(([e,i])=>{switch(t.push(oA(e<<3|i.type)),i.type){case f.Varint:t.push(oA(i.value));break;case f.Fixed64:{let e=new Uint8Array(8),n=new DataView(e.buffer);n.setUint32(0,i.value[0],!0),n.setUint32(4,i.value[1],!0),t.push(e);break}case f.LengthDelimited:t.push(oA(i.value.byteLength)),t.push(i.value);break;case f.Fixed32:{let e=new Uint8Array(4);new DataView(e.buffer).setUint32(0,i.value,!0),t.push(e)}}}),oD(t)}function oD(e){let t=e.reduce((e,t)=>e+t.byteLength,0),i=new Uint8Array(t);return e.reduce((e,t)=>(i.set(t,e),e+t.byteLength),0),i}function oN(e){if(e instanceof ob){let t=new ob(e[0]<<1,e[1]<<1|e[0]>>>31),i=e[1]>>>31?new ob(4294967295,4294967295):new ob;return new ob(t[0]^i[0],t[1]^i[1])}return(2*e^e>>31)>>>0}function oO(e){if(e instanceof ob){let t=new ob(e[0]>>>1|e[1]<<31,e[1]>>>1),i=1&e[0]?new ob(4294967295,4294967295):new ob;return new ob(t[0]^i[0],t[1]^i[1])}return e>>>1^-(1&e)}iK(oS,"makeChunk"),iK(oC,"add"),iK(oT,"mul"),iK(oI,"divByTen"),iK(ok,"compare"),iK(oE,"negate"),iK(oA,"encode"),iK(oP,"decode"),iK(oR,"or"),iK(oM,"leftshift"),iK(oL,"serialize"),iK(oD,"concat"),iK(oN,"encode"),iK(oO,"decode");var oB={int32:e=>0|e[0],int64:e=>e.toString(!0),uint32:e=>e[0]>>>0,uint64:e=>e.toString(!1),sint32:e=>oO(e[0]),sint64:e=>oO(e).toString(!0),bool:e=>0!==e[0]},oV={int32:e=>new ob(e),int64:e=>ob.parse(e),uint32:e=>new ob(e),uint64:e=>ob.parse(e),sint32:e=>oN(new ob(e)),sint64:e=>oN(ob.parse(e)),bool:e=>new ob(+e)},oU=Object.fromEntries(Object.entries(oB).map(([e,t])=>[e,e=>{if(e.type===f.Varint)return t(e.value)}])),oH=Object.fromEntries(Object.entries(oV).map(([e,t])=>[e,e=>({type:f.Varint,value:t(e)})])),oF=Object.assign(Object.assign({},oU),{double:e=>{if(e.type===f.Fixed64)return new DataView(e.value.buffer).getFloat64(0,!0)},float:e=>{if(e.type===f.Fixed32)return new DataView(new Uint32Array([e.value]).buffer).getFloat32(0,!0)},fixed32:e=>{if(e.type===f.Fixed32)return e.value>>>0},fixed64:e=>{if(e.type===f.Fixed64)return e.value.toString(!1)},sfixed32:e=>{if(e.type===f.Fixed32)return 0|e.value},sfixed64:e=>{if(e.type===f.Fixed64)return e.value.toString(!0)},string:e=>{if(e.type===f.LengthDelimited)return new TextDecoder().decode(e.value)},bytes:e=>{if(e.type===f.LengthDelimited)return e.value}}),oj=Object.assign(Object.assign({},oH),{double:e=>{let t=new ob;return new DataView(t.buffer).setFloat64(0,e,!0),{type:f.Fixed64,value:t}},float:e=>{let t=new Uint32Array(1),i=new DataView(t.buffer);return i.setFloat32(0,e,!0),{type:f.Fixed32,value:i.getUint32(0,!0)}},fixed32:e=>({type:f.Fixed32,value:e>>>0}),fixed64:e=>({type:f.Fixed64,value:ob.parse(e)}),sfixed32:e=>({type:f.Fixed32,value:0|e}),sfixed64:e=>({type:f.Fixed64,value:ob.parse(e)}),string:e=>{let t=new TextEncoder;return{type:f.LengthDelimited,value:t.encode(e)}},bytes:e=>({type:f.LengthDelimited,value:e})});Object.assign(Object.assign({},Object.fromEntries(Object.keys(oB).map(e=>[e,function*(t){for(let i of t){let t=oF[e](i);if(null!=t)yield t;else for(let t of oY(i))yield oB[e](t)}}]))),{*double(e){for(let t of e){let e=oF.double(t);null!=e?yield e:yield*oG(t)}},*float(e){for(let t of e){let e=oF.float(t);null!=e?yield e:yield*oK(t)}},*fixed32(e){for(let t of e){let e=oF.fixed32(t);if(null!=e)yield e;else for(let e of oq(t))yield e>>>0}},*fixed64(e){for(let t of e){let e=oF.fixed64(t);if(null!=e)yield e;else for(let e of oz(t))yield e.toString(!1)}},*sfixed32(e){for(let t of e){let e=oF.sfixed32(t);if(null!=e)yield e;else for(let e of oq(t))yield 0|e}},*sfixed64(e){for(let t of e){let e=oF.sfixed64(t);if(null!=e)yield e;else for(let e of oz(t))yield e.toString(!0)}}});var oW=Object.fromEntries(Object.keys(oV).map(e=>[e,function(t){return{type:f.LengthDelimited,value:oD(t.map(t=>oA(oV[e](t))))}}]));function o$(e,t){return iK(function(i){let n=new Uint8Array(i.length*e),s=new DataView(n.buffer);for(let n=0;n<i.length;++n)t(s,n*e,i[n]);return{type:f.LengthDelimited,value:n}},"pack")}function*oG(e){if(e.type!==f.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getFloat64(i,!0);i+=4,yield e}}function*oK(e){if(e.type!==f.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getFloat32(i,!0);i+=4,yield e}}function*oY(e){if(e.type!==f.LengthDelimited)return;let{value:t}=e,i=0,n=t.byteOffset;for(;i<t.length;){let e=oP(new DataView(t.buffer,n+i));i+=e[0],yield e[1]}}function*oq(e){if(e.type!==f.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getUint32(i,!0);i+=4,yield e}}function*oz(e){if(e.type!==f.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getUint32(i,!0);i+=4;let t=n.getUint32(i,!0);i+=4,yield new ob(e,t)}}function oX(e){let t=0,i=e.byteOffset,n=[],s=new DataView(e.buffer,i);for(;t<e.length;){let a=oP(new DataView(e.buffer,i+t)),o=a[1][0];t+=a[0];let r=7&o,l=o>>>3;switch(r){default:throw Error(`Unknown wire type ${r}`);case f.Varint:{let[s,a]=oP(new DataView(e.buffer,i+t));n.push([l,{type:r,value:a}]),t+=s;break}case f.Fixed64:let c=s.getUint32(t,!0),d=s.getUint32(t+=4,!0);t+=4,n.push([l,{type:r,value:new ob(c,d)}]);break;case f.LengthDelimited:{let[s,a]=oP(new DataView(e.buffer,i+t));n.push([l,{type:r,value:e.subarray(t+=s,t+=a[0])}]);break}case f.StartGroup:case f.EndGroup:n.push([l,{type:r}]);break;case f.Fixed32:n.push([l,{type:r,value:s.getUint32(t,!0)}]),t+=4}}return n}function oJ(){return{id:"",timestamp:0}}function oQ(e){let t=[];if(void 0!==e.id){let i=e.id;t.push([1,oj.string(i)])}if(void 0!==e.timestamp){let i=e.timestamp;t.push([5,oj.int32(i)])}return oL(t)}function oZ(e){let t=oJ(),i=oX(e),n=new Map(i);e:{let e=n.get(1);if(void 0===e)break e;let i=oF.string(e);if(void 0===i)break e;t.id=i}e:{let e=n.get(5);if(void 0===e)break e;let i=oF.int32(e);if(void 0===i)break e;t.timestamp=i}return t}function o0(e){let t=[];if(void 0!==e.channelId){let i=e.channelId;t.push([1001,oj.string(i)])}return oL(t)}function o1(e){let t=[];if(void 0!==e.params){let i=e.params;t.push([32,{type:f.LengthDelimited,value:o0(i)}])}return oL(t)}function o2(e){let t=[];if(void 0!==e.uploadDate){let i=e.uploadDate;t.push([1,oj.int32(i)])}if(void 0!==e.type){let i=e.type;t.push([2,oj.int32(i)])}if(void 0!==e.duration){let i=e.duration;t.push([3,oj.int32(i)])}if(void 0!==e.featuresHd){let i=e.featuresHd;t.push([4,oj.int32(i)])}if(void 0!==e.featuresSubtitles){let i=e.featuresSubtitles;t.push([5,oj.int32(i)])}if(void 0!==e.featuresCreativeCommons){let i=e.featuresCreativeCommons;t.push([6,oj.int32(i)])}if(void 0!==e.features3d){let i=e.features3d;t.push([7,oj.int32(i)])}if(void 0!==e.featuresLive){let i=e.featuresLive;t.push([8,oj.int32(i)])}if(void 0!==e.featuresPurchased){let i=e.featuresPurchased;t.push([9,oj.int32(i)])}if(void 0!==e.features4k){let i=e.features4k;t.push([14,oj.int32(i)])}if(void 0!==e.features360){let i=e.features360;t.push([15,oj.int32(i)])}if(void 0!==e.featuresLocation){let i=e.featuresLocation;t.push([23,oj.int32(i)])}if(void 0!==e.featuresHdr){let i=e.featuresHdr;t.push([25,oj.int32(i)])}if(void 0!==e.featuresVr180){let i=e.featuresVr180;t.push([26,oj.int32(i)])}return oL(t)}function o3(e){let t=[];if(void 0!==e.sortBy){let i=e.sortBy;t.push([1,oj.int32(i)])}if(void 0!==e.filters){let i=e.filters;t.push([2,{type:f.LengthDelimited,value:o2(i)}])}if(void 0!==e.noFilter){let i=e.noFilter;t.push([19,oj.int32(i)])}return oL(t)}function o5(e){let t=[];if(void 0!==e.song){let i=e.song;t.push([1,oj.int32(i)])}if(void 0!==e.video){let i=e.video;t.push([2,oj.int32(i)])}if(void 0!==e.album){let i=e.album;t.push([3,oj.int32(i)])}if(void 0!==e.artist){let i=e.artist;t.push([4,oj.int32(i)])}if(void 0!==e.playlist){let i=e.playlist;t.push([5,oj.int32(i)])}return oL(t)}function o6(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([17,{type:f.LengthDelimited,value:o5(i)}])}return oL(t)}function o4(e){let t=[];if(void 0!==e.filters){let i=e.filters;t.push([2,{type:f.LengthDelimited,value:o6(i)}])}return oL(t)}function o9(e){let t=[];if(void 0!==e.channelId){let i=e.channelId;t.push([1,oj.string(i)])}if(void 0!==e.videoId){let i=e.videoId;t.push([2,oj.string(i)])}return oL(t)}function o8(e){let t=[];if(void 0!==e.ids){let i=e.ids;t.push([5,{type:f.LengthDelimited,value:o9(i)}])}return oL(t)}function o7(e){let t=[];if(void 0!==e.params){let i=e.params;t.push([1,{type:f.LengthDelimited,value:o8(i)}])}if(void 0!==e.number0){let i=e.number0;t.push([2,oj.int32(i)])}if(void 0!==e.number1){let i=e.number1;t.push([3,oj.int32(i)])}return oL(t)}function re(e){let t=[];if(void 0!==e.videoId){let i=e.videoId;t.push([2,oj.string(i)])}return oL(t)}function rt(e){let t=[];if(void 0!==e.unkParam){let i=e.unkParam;t.push([1,oj.int32(i)])}return oL(t)}function ri(e){let t=[];if(void 0!==e.commentId){let i=e.commentId;t.push([2,oj.string(i)])}if(void 0!==e.unkopts){let i=e.unkopts;t.push([4,{type:f.LengthDelimited,value:rt(i)}])}if(void 0!==e.channelId){let i=e.channelId;t.push([5,oj.string(i)])}if(void 0!==e.videoId){let i=e.videoId;t.push([6,oj.string(i)])}if(void 0!==e.unkParam1){let i=e.unkParam1;t.push([8,oj.int32(i)])}if(void 0!==e.unkParam2){let i=e.unkParam2;t.push([9,oj.int32(i)])}return oL(t)}function rn(e){let t=[];if(void 0!==e.videoId){let i=e.videoId;t.push([4,oj.string(i)])}if(void 0!==e.sortBy){let i=e.sortBy;t.push([6,oj.int32(i)])}if(void 0!==e.type){let i=e.type;t.push([15,oj.int32(i)])}return oL(t)}function rs(e){let t=[];if(void 0!==e.unkToken){let i=e.unkToken;t.push([1,oj.string(i)])}if(void 0!==e.repliesOpts){let i=e.repliesOpts;t.push([3,{type:f.LengthDelimited,value:ri(i)}])}if(void 0!==e.opts){let i=e.opts;t.push([4,{type:f.LengthDelimited,value:rn(i)}])}if(void 0!==e.page){let i=e.page;t.push([5,oj.int32(i)])}if(void 0!==e.target){let i=e.target;t.push([8,oj.string(i)])}return oL(t)}function ra(e){let t=[];if(void 0!==e.ctx){let i=e.ctx;t.push([2,{type:f.LengthDelimited,value:re(i)}])}if(void 0!==e.unkParam){let i=e.unkParam;t.push([3,oj.int32(i)])}if(void 0!==e.params){let i=e.params;t.push([6,{type:f.LengthDelimited,value:rs(i)}])}return oL(t)}function ro(e){let t=[];if(void 0!==e.index){let i=e.index;t.push([1,oj.int32(i)])}return oL(t)}function rr(e){let t=[];if(void 0!==e.videoId){let i=e.videoId;t.push([2,oj.string(i)])}if(void 0!==e.params){let i=e.params;t.push([5,{type:f.LengthDelimited,value:ro(i)}])}if(void 0!==e.number){let i=e.number;t.push([10,oj.int32(i)])}return oL(t)}function rl(e){let t=[];if(void 0!==e.text){let i=e.text;t.push([1,oj.string(i)])}return oL(t)}function rc(e){let t=[];if(void 0!==e.comment){let i=e.comment;t.push([1,{type:f.LengthDelimited,value:rl(i)}])}return oL(t)}function rd(e){let t=[];if(void 0!==e.commentId){let i=e.commentId;t.push([2,oj.string(i)])}if(void 0!==e.params){let i=e.params;t.push([3,{type:f.LengthDelimited,value:rc(i)}])}if(void 0!==e.targetLanguage){let i=e.targetLanguage;t.push([4,oj.string(i)])}return oL(t)}function rh(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,oj.int32(i)])}if(void 0!==e.unkNum){let i=e.unkNum;t.push([2,oj.int32(i)])}if(void 0!==e.commentId){let i=e.commentId;t.push([3,oj.string(i)])}if(void 0!==e.videoId){let i=e.videoId;t.push([5,oj.string(i)])}if(void 0!==e.channelId){let i=e.channelId;t.push([23,oj.string(i)])}if(void 0!==e.translateCommentParams){let i=e.translateCommentParams;t.push([31,{type:f.LengthDelimited,value:rd(i)}])}return oL(t)}function ru(e){let t=[];if(void 0!==e.index){let i=e.index;t.push([1,oj.int32(i)])}return oL(t)}function rp(e){let t=[];if(void 0!==e.channelId){let i=e.channelId;t.push([1,oj.string(i)])}if(void 0!==e.prefId){let i=e.prefId;t.push([2,{type:f.LengthDelimited,value:ru(i)}])}if(void 0!==e.number0){let i=e.number0;t.push([3,oj.int32(i)])}if(void 0!==e.number1){let i=e.number1;t.push([4,oj.int32(i)])}return oL(t)}function rm(e){let t=[];if(void 0!==e.unkparam){let i=e.unkparam;t.push([16,oj.int32(i)])}if(void 0!==e.clientVersion){let i=e.clientVersion;t.push([17,oj.string(i)])}if(void 0!==e.clientName){let i=e.clientName;t.push([18,oj.string(i)])}return oL(t)}function rf(e){let t=[];if(void 0!==e.client){let i=e.client;t.push([1,{type:f.LengthDelimited,value:rm(i)}])}return oL(t)}function rv(e){let t=[];if(void 0!==e.text){let i=e.text;t.push([1,oj.string(i)])}return oL(t)}function rg(e){let t=[];if(void 0!==e.text){let i=e.text;t.push([1,oj.string(i)])}return oL(t)}function ry(e){let t=[];for(let i of e.list)t.push([1,oj.string(i)]);return oL(t)}function r_(e){let t=[];if(void 0!==e.id){let i=e.id;t.push([1,oj.int32(i)])}return oL(t)}function rb(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,oj.string(i)])}return oL(t)}function rw(e){let t=[];if(void 0!==e.imageData){let i=e.imageData;t.push([1,oj.bytes(i)])}return oL(t)}function rx(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,oj.int32(i)])}if(void 0!==e.thumbnail){let i=e.thumbnail;t.push([3,{type:f.LengthDelimited,value:rw(i)}])}return oL(t)}function rS(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,oj.int32(i)])}return oL(t)}function rC(e){let t=[];if(void 0!==e.unkparam){let i=e.unkparam;t.push([1,oj.int32(i)])}if(void 0!==e.choice){let i=e.choice;t.push([2,oj.int32(i)])}return oL(t)}function rT(e){let t=[];if(void 0!==e.unkparam){let i=e.unkparam;t.push([1,oj.int32(i)])}if(void 0!==e.choice){let i=e.choice;t.push([2,oj.int32(i)])}return oL(t)}function rI(e){let t=[];if(void 0!==e.context){let i=e.context;t.push([1,{type:f.LengthDelimited,value:rf(i)}])}if(void 0!==e.target){let i=e.target;t.push([2,oj.string(i)])}if(void 0!==e.title){let i=e.title;t.push([3,{type:f.LengthDelimited,value:rv(i)}])}if(void 0!==e.description){let i=e.description;t.push([4,{type:f.LengthDelimited,value:rg(i)}])}if(void 0!==e.tags){let i=e.tags;t.push([6,{type:f.LengthDelimited,value:ry(i)}])}if(void 0!==e.category){let i=e.category;t.push([7,{type:f.LengthDelimited,value:r_(i)}])}if(void 0!==e.license){let i=e.license;t.push([8,{type:f.LengthDelimited,value:rb(i)}])}if(void 0!==e.videoThumbnail){let i=e.videoThumbnail;t.push([20,{type:f.LengthDelimited,value:rx(i)}])}if(void 0!==e.privacy){let i=e.privacy;t.push([38,{type:f.LengthDelimited,value:rS(i)}])}if(void 0!==e.madeForKids){let i=e.madeForKids;t.push([68,{type:f.LengthDelimited,value:rC(i)}])}if(void 0!==e.ageRestricted){let i=e.ageRestricted;t.push([69,{type:f.LengthDelimited,value:rT(i)}])}return oL(t)}function rk(e){let t=[];if(void 0!==e.hashtag){let i=e.hashtag;t.push([1,oj.string(i)])}if(void 0!==e.type){let i=e.type;t.push([3,oj.int32(i)])}return oL(t)}function rE(e){let t=[];if(void 0!==e.params){let i=e.params;t.push([93,{type:f.LengthDelimited,value:rk(i)}])}return oL(t)}function rA(e){let t=[];if(void 0!==e.number){let i=e.number;t.push([3,oj.int32(i)])}return oL(t)}function rP(e){let t=[];if(void 0!==e.shortId){let i=e.shortId;t.push([1,oj.string(i)])}if(void 0!==e.params){let i=e.params;t.push([5,{type:f.LengthDelimited,value:rA(i)}])}if(void 0!==e.feature2){let i=e.feature2;t.push([10,oj.int32(i)])}if(void 0!==e.feature3){let i=e.feature3;t.push([13,oj.int32(i)])}return oL(t)}function rR(e,t){return encodeURIComponent(wR(oQ({id:e,timestamp:t})).replace(/\+/g,"-").replace(/\//g,"_"))}function rM(e){return oZ(wM(decodeURIComponent(e)))}function rL(e){return encodeURIComponent(wR(o1({params:{channelId:e}})))}function rD(e){let t={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},i={};if(e?i.filters={}:i.noFilter=0,i.filters&&(e.upload_date&&(i.filters.uploadDate=({all:void 0,hour:1,today:2,week:3,month:4,year:5})[e.upload_date]),e.type&&(i.filters.type=({all:void 0,video:1,channel:2,playlist:3,movie:4})[e.type]),e.duration&&(i.filters.duration=({all:void 0,short:1,long:2,medium:3})[e.duration]),e.sort_by&&"relevance"!==e.sort_by&&(i.sortBy=({relevance:void 0,rating:1,upload_date:2,view_count:3})[e.sort_by]),e.features))for(let n of e.features)i.filters[t[n]]=1;return encodeURIComponent(wR(o3(i)))}function rN(e){var t;let i={filters:{type:{}}};return e.type&&"all"!==e.type&&(null===(t=i.filters)||void 0===t?void 0:t.type)&&(i.filters.type[e.type]=1),encodeURIComponent(wR(o4(i)))}function rO(e,t){return btoa(encodeURIComponent(wR(o7({params:{ids:{channelId:e,videoId:t}},number0:1,number1:4}))))}function rB(e,t={}){return encodeURIComponent(wR(ra({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[t.sort_by||"TOP_COMMENTS"],type:t.type||2},target:"comments-section"}})))}function rV(e){return encodeURIComponent(wR(rr({videoId:e,params:{index:0},number:7})))}function rU(e,t={}){let i={type:e,commentId:t.comment_id||" ",videoId:t.video_id||" ",channelId:" ",unkNum:2};if(t.hasOwnProperty("text")){if("string"!=typeof t.target_language)throw Error("target_language must be a string");t.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:t.text}},commentId:t.comment_id||" ",targetLanguage:t.target_language}}return encodeURIComponent(wR(rh(i)))}function rH(e,t){return encodeURIComponent(wR(rp({channelId:e,prefId:{index:t},number0:0,number1:4})))}function rF(e,t){let i={context:{client:{unkparam:14,clientName:ni.ANDROID.NAME,clientVersion:ni.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(t,"title")&&(i.title={text:t.title||""}),Reflect.has(t,"description")&&(i.description={text:t.description||""}),Reflect.has(t,"license")&&(i.license={type:t.license||""}),Reflect.has(t,"tags")&&(i.tags={list:t.tags||[]}),Reflect.has(t,"category")&&(i.category={id:t.category||0}),Reflect.has(t,"privacy"))switch(t.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw Error("Invalid visibility option")}return Reflect.has(t,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:t.made_for_kids?1:2}),Reflect.has(t,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:t.age_restricted?1:2}),rI(i)}function rj(e,t){return rI({context:{client:{unkparam:14,clientName:ni.ANDROID.NAME,clientVersion:ni.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:t}}})}function rW(e){return encodeURIComponent(wR(rE({params:{hashtag:e,type:1}})))}function r$(e){return encodeURIComponent(wR(rP({shortId:e,params:{number:5},feature2:25,feature3:0})))}iK(o$,"getFixedPackFn"),Object.assign(Object.assign({},oW),{double:o$(8,(e,t,i)=>{e.setFloat64(t,i,!0)}),float:o$(4,(e,t,i)=>{e.setFloat32(t,i,!0)}),fixed32:o$(4,(e,t,i)=>{e.setUint32(t,i,!0)}),fixed64:o$(8,(e,t,i)=>{let n=ob.parse(i);e.setUint32(t,n[0],!0),e.setUint32(t+4,n[1],!0)}),sfixed32:o$(4,(e,t,i)=>{e.setInt32(t,i,!0)}),sfixed64:o$(8,(e,t,i)=>{let n=ob.parse(i);e.setUint32(t,n[0],!0),e.setUint32(t+4,n[1],!0)})}),iK(oG,"unpackDouble"),iK(oK,"unpackFloat"),iK(oY,"unpackVarint"),iK(oq,"unpackFixed32"),iK(oz,"unpackFixed64"),iK(oX,"deserialize"),iK(oJ,"getDefaultValue"),iK(oQ,"encodeBinary"),iK(oZ,"decodeBinary"),iK(o0,"encodeBinary"),iK(o1,"encodeBinary"),iK(o2,"encodeBinary"),iK(o3,"encodeBinary"),iK(o5,"encodeBinary"),iK(o6,"encodeBinary"),iK(o4,"encodeBinary"),iK(o9,"encodeBinary"),iK(o8,"encodeBinary"),iK(o7,"encodeBinary"),iK(re,"encodeBinary"),iK(rt,"encodeBinary"),iK(ri,"encodeBinary"),iK(rn,"encodeBinary"),iK(rs,"encodeBinary"),iK(ra,"encodeBinary"),iK(ro,"encodeBinary"),iK(rr,"encodeBinary"),iK(rl,"encodeBinary"),iK(rc,"encodeBinary"),iK(rd,"encodeBinary"),iK(rh,"encodeBinary"),iK(ru,"encodeBinary"),iK(rp,"encodeBinary"),iK(rm,"encodeBinary"),iK(rf,"encodeBinary"),iK(rv,"encodeBinary"),iK(rg,"encodeBinary"),iK(ry,"encodeBinary"),iK(r_,"encodeBinary"),iK(rb,"encodeBinary"),iK(rw,"encodeBinary"),iK(rx,"encodeBinary"),iK(rS,"encodeBinary"),iK(rC,"encodeBinary"),iK(rT,"encodeBinary"),iK(rI,"encodeBinary"),iK(rk,"encodeBinary"),iK(rE,"encodeBinary"),iK(rA,"encodeBinary"),iK(rP,"encodeBinary"),iK(rR,"encodeVisitorData"),iK(rM,"decodeVisitorData"),iK(rL,"encodeChannelAnalyticsParams"),iK(rD,"encodeSearchFilters"),iK(rN,"encodeMusicSearchFilters"),iK(rO,"encodeMessageParams"),iK(rB,"encodeCommentsSectionParams"),iK(rV,"encodeCommentParams"),iK(rU,"encodeCommentActionParams"),iK(rH,"encodeNotificationPref"),iK(rF,"encodeVideoMetadataPayload"),iK(rj,"encodeCustomThumbnailPayload"),iK(rW,"encodeHashtag"),iK(r$,"encodeReelSequence");var rG=class extends i5{constructor(e){var t,i,n,s,a,o,r;super(),v.set(this,void 0),this.content=new n_(e.contentText),this.published=new n_(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=nf.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=na.parseItem(e.sponsorCommentBadge,o_),this.paid_comment_chip=na.parseItem(e.paidCommentChipRenderer,og),this.author_badge=na.parseItem(e.authorCommentBadge,op),this.author=new wc(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:null===(t=this.author_badge)||void 0===t?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=na.parseItem(e.actionMenu,nN),this.action_buttons=na.parseItem(e.actionButtons,al),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new n_(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(null===(n=null===(i=this.action_buttons)||void 0===i?void 0:i.like_button)||void 0===n?void 0:n.is_toggled),this.is_disliked=!!(null===(a=null===(s=this.action_buttons)||void 0===s?void 0:s.dislike_button)||void 0===a?void 0:a.is_toggled),this.is_hearted=!!(null===(r=null===(o=this.action_buttons)||void 0===o?void 0:o.creator_heart)||void 0===r?void 0:r.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return iX(this,void 0,void 0,function*(){if(!i1(this,v,"f"))throw new wu("An active caller must be provide to perform this operation.");let t=null===(e=this.action_buttons)||void 0===e?void 0:e.like_button;if(!t)throw new wu("Like button was not found.",{comment_id:this.comment_id});if(t.is_toggled)throw new wu("This comment is already liked",{comment_id:this.comment_id});return yield t.endpoint.call(i1(this,v,"f"),{parse:!1})})}dislike(){var e;return iX(this,void 0,void 0,function*(){if(!i1(this,v,"f"))throw new wu("An active caller must be provide to perform this operation.");let t=null===(e=this.action_buttons)||void 0===e?void 0:e.dislike_button;if(!t)throw new wu("Dislike button was not found.",{comment_id:this.comment_id});if(t.is_toggled)throw new wu("This comment is already disliked",{comment_id:this.comment_id});return yield t.endpoint.call(i1(this,v,"f"),{parse:!1})})}reply(e){var t,i,n;return iX(this,void 0,void 0,function*(){if(!i1(this,v,"f"))throw new wu("An active caller must be provide to perform this operation.");if(!(null===(t=this.action_buttons)||void 0===t?void 0:t.reply_button))throw new wu("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=null===(i=this.action_buttons)||void 0===i?void 0:i.reply_button;if(!(null===(n=s.endpoint)||void 0===n?void 0:n.dialog))throw new wu("Reply button endpoint did not have a dialog.");let a=s.endpoint.dialog.as(of).reply_button;if(!a)throw new wu("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!a.endpoint)throw new wu("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield a.endpoint.call(i1(this,v,"f"),{commentText:e})})}translate(e){var t,i,n,s,a,o;return iX(this,void 0,void 0,function*(){if(!i1(this,v,"f"))throw new wu("An active caller must be provide to perform this operation.");let r=rU(22,{text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id}),l=yield i1(this,v,"f").execute("comment/perform_comment_action",{action:r,client:"ANDROID"}),c=null===(i=null===(t=l.data.frameworkUpdates)||void 0===t?void 0:t.entityBatchUpdate)||void 0===i?void 0:i.mutations,d=null===(o=null===(a=null===(s=null===(n=null==c?void 0:c[0])||void 0===n?void 0:n.payload)||void 0===s?void 0:s.commentEntityPayload)||void 0===a?void 0:a.translatedContent)||void 0===o?void 0:o.content;return Object.assign(Object.assign({},l),{content:d})})}setActions(e){i2(this,v,e,"f")}};iK(rG,"Comment"),v=new WeakMap,rG.type="Comment";var rK=rG,rY=class extends i5{constructor(e){super(),this.id=e.id,this.categories=na.parseArray(e.categories),this.category_buttons=na.parseArray(e.categoryButtons),this.search_placeholder=new n_(e.searchPlaceholderText),this.search_no_results=new n_(e.searchNoResultsText),this.pick_skin_tone=new n_(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};iK(rY,"EmojiPicker"),rY.type="EmojiPicker";var rq=rY,rz=class extends i5{constructor(e){super(),this.editable_text=new n_(e.editableText),this.author_thumbnail=nf.fromResponse(e.authorThumbnail),this.submit_button=na.parseItem(e.submitButton,nl),this.cancel_button=na.parseItem(e.cancelButton,nl),this.placeholder=new n_(e.placeholderText),this.emoji_button=na.parseItem(e.emojiButton,nl),this.emoji_picker=na.parseItem(e.emojiPicker,rq)}};iK(rz,"CommentDialog"),rz.type="CommentDialog";var rX=rz,rJ=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents),this.view_replies=na.parseItem(e.viewReplies,nl),this.hide_replies=na.parseItem(e.hideReplies,nl),this.view_replies_creator_thumbnail=nf.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};iK(rJ,"CommentReplies"),rJ.type="CommentReplies";var rQ=rJ,rZ=class extends i5{constructor(e){super(),this.simplebox_avatar=nf.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new n_(e.simpleboxPlaceholder)}};iK(rZ,"CommentsSimplebox"),rZ.type="CommentsSimplebox";var r0=rZ,r1=class extends i5{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=nf.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new n_(e.teaserContent))}};iK(r1,"CommentsEntryPointTeaser"),r1.type="CommentsEntryPointTeaser";var r2=r1,r3=class extends i5{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new n_(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new n_(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=nf.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new n_(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=na.parseItem(e.contentRenderer,[r2,r0])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new n_(e.simpleboxPlaceholder))}};iK(r3,"CommentsEntryPointHeader"),r3.type="CommentsEntryPointHeader";var r5=r3,r6=class extends i5{constructor(e){super(),this.title=new n_(e.titleText),this.count=new n_(e.countText),this.comments_count=new n_(e.commentsCount),this.create_renderer=na.parseItem(e.createRenderer),this.sort_menu=na.parseItem(e.sortMenu,sP),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(e=>({emoji_id:e.emojiId,shortcuts:e.shortcuts,search_terms:e.searchTerms,image:nf.fromResponse(e.image),is_custom_emoji:e.isCustomEmoji})))}};iK(r6,"CommentsHeader"),r6.type="CommentsHeader";var r4=r6,r9=class extends i5{constructor(e){super(),this.submit_button=na.parseItem(e.submitButton,nl),this.cancel_button=na.parseItem(e.cancelButton,nl),this.author_thumbnail=nf.fromResponse(e.authorThumbnail),this.placeholder=new n_(e.placeholderText),this.avatar_size=e.avatarSize}};iK(r9,"CommentSimplebox"),r9.type="CommentSimplebox";var r8=r9,r7=class extends i5{constructor(e){super(),g.set(this,void 0),y.set(this,void 0),this.comment=na.parseItem(e.comment,rK),this.comment_replies_data=na.parseItem(e.replies,rQ),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return iX(this,void 0,void 0,function*(){if(!i1(this,g,"f"))throw new wu("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new wu("This comment has no replies.",this);let t=null===(e=this.comment_replies_data.contents)||void 0===e?void 0:e.firstOfType(nL);if(!t)throw new wu("Replies continuation not found.");let i=yield t.endpoint.call(i1(this,g,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new wu("Unexpected response.",i);return this.replies=i9(i.on_response_received_endpoints_memo.getType(rK).map(e=>(e.setActions(i1(this,g,"f")),e))),i2(this,y,null==i?void 0:i.on_response_received_endpoints_memo.getType(nL).first(),"f"),this})}getContinuation(){var e;return iX(this,void 0,void 0,function*(){if(!this.replies)throw new wu("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!i1(this,y,"f"))throw new wu("Continuation not found.");if(!i1(this,g,"f"))throw new wu("Actions instance not set for this thread.");let t=null===(e=i1(this,y,"f").button)||void 0===e?void 0:e.as(nl);if(!t)throw new wu('"Load more" button not found.');let i=yield t.endpoint.call(i1(this,g,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new wu("Unexpected response.",i);return this.replies=i9(i.on_response_received_endpoints_memo.getType(rK).map(e=>(e.setActions(i1(this,g,"f")),e))),i2(this,y,i.on_response_received_endpoints_memo.getType(nL).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new wu("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!i1(this,y,"f")}setActions(e){i2(this,g,e,"f")}};iK(r7,"CommentThread"),g=new WeakMap,y=new WeakMap,r7.type="CommentThread";var le=r7,lt=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.channel_id=e.channelId,this.thumbnail=nf.fromResponse(e.thumbnail),this.display_name=new n_(e.displayName),this.video_count=new n_(e.videoCountText),this.subscriber_count=new n_(e.subscriberCountText),this.endpoint=new nm(e.navigationEndpoint),this.tv_banner=nf.fromResponse(e.tvBanner),this.menu=na.parseItem(e.menu,nN)}};iK(lt,"CompactChannel"),lt.type="CompactChannel";var li=lt,ln=class extends i5{constructor(e){super(),this.title=new n_(e.title).toString(),this.endpoint=new nm(e.navigationEndpoint),this.style=e.style}};iK(ln,"CompactLink"),ln.type="CompactLink";var ls=ln,la=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail)}};iK(la,"PlaylistCustomThumbnail"),la.type="PlaylistCustomThumbnail";var lo=la,lr=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail)}};iK(lr,"PlaylistVideoThumbnail"),lr.type="PlaylistVideoThumbnail";var ll=lr,lc=class extends i5{constructor(e){var t;super(),this.id=e.playlistId,this.title=new n_(e.title),this.author=(null===(t=e.shortBylineText)||void 0===t?void 0:t.simpleText)?new n_(e.shortBylineText):new wc(e.longBylineText,e.ownerBadges,null),this.thumbnails=nf.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(e=>e.thumbnails).flat(1)}),this.video_count=new n_(e.thumbnailText),this.video_count_short=new n_(e.videoCountShortText),this.first_videos=na.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=na.parseItem(e.menu),this.badges=na.parseArray(e.ownerBadges),this.endpoint=new nm(e.navigationEndpoint),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=na.parseItem(e.thumbnailRenderer,[ll,lo])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new n_(e.viewPlaylistText))}};iK(lc,"Playlist"),lc.type="Playlist";var ld=lc,lh=class extends ld{constructor(e){super(e)}};iK(lh,"CompactMix"),lh.type="CompactMix";var lu=lh,lp=class extends i5{constructor(e){var t;super();let i=(null===(t=e.thumbnailOverlays.find(e=>e.thumbnailOverlayTimeStatusRenderer))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new n_(e.title),this.top_metadata_items=new n_(e.topMetadataItems),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.author=new wc(e.shortBylineText);let n=e.lengthText?new n_(e.lengthText).toString():new n_(i).toString();this.duration={text:n,seconds:wT(n)},this.endpoint=new nm(e.navigationEndpoint),this.badges=na.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=na.parseItem(e.menu,nN)}};iK(lp,"CompactMovie"),lp.type="CompactMovie";var lm=lp,lf=class extends ld{constructor(e){super(e)}};iK(lf,"CompactPlaylist"),lf.type="CompactPlaylist";var lv=lf,lg=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.description=new n_(e.description),this.video_count=new n_(e.videoCountText),this.endpoint=new nm(e.navigationEndpoint),this.thumbnail=nf.fromResponse(e.thumbnail)}};iK(lg,"CompactStation"),lg.type="CompactStation";var ly=lg,l_=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.confirm_button=na.parseItem(e.confirmButton,nl),this.cancel_button=na.parseItem(e.cancelButton,nl),this.dialog_messages=e.dialogMessages.map(e=>new n_(e))}};iK(l_,"ConfirmDialog"),l_.type="ConfirmDialog";var lb=l_,lw=class extends i5{constructor(e){super(),this.metadata_rows=e.metadataRows.map(e=>({metadata_parts:e.metadataParts.map(e=>({text:n_.fromAttributed(e.text)}))})),this.delimiter=e.delimiter}};iK(lw,"ContentMetadataView"),lw.type="ContentMetadataView";var lx=lw,lS=class extends i5{constructor(e){super(),this.text=new n_(e.text)}};iK(lS,"Message"),lS.type="Message";var lC=lS,lT=class extends i5{constructor(e){super(),this.availability_message=na.parseItem(e.availabilityMessage,lC)}};iK(lT,"ConversationBar"),lT.type="ConversationBar";var lI=lT,lk=class extends i5{constructor(e){super(),this.copy_button=na.parseItem(e.copyButton,nl),this.short_url=e.shortUrl,this.style=e.style}};iK(lk,"CopyLink"),lk.type="CopyLink";var lE=lk,lA=class extends i5{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};iK(lA,"HeatMarker"),lA.type="HeatMarker";var lP=lA,lR=class extends i5{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=na.parseArray(e.heatMarkers,lP),this.heat_markers_decorations=na.parseArray(e.heatMarkersDecorations)}};iK(lR,"Heatmap"),lR.type="Heatmap";var lM=lR,lL=class extends i5{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=na.parseItem(e.value.heatmap,lM)),Reflect.has(e.value,"chapters")&&(this.value.chapters=na.parseArray(e.value.chapters,a7)))}};iK(lL,"Marker"),lL.type="Marker";var lD=class extends i5{constructor(e){var t;super(),this.markers_map=i9((null===(t=e.markersMap)||void 0===t?void 0:t.map(e=>new lL(e)))||[])}};iK(lD,"MultiMarkersPlayerBar"),lD.type="MultiMarkersPlayerBar";var lN=lD,lO=class extends i5{constructor(e){super(),this.player_bar=na.parseItem(e.playerBar,lN),this.player_bar_action_button=na.parseItem(e.playerBarActionButton,nl)}};iK(lO,"DecoratedPlayerBar"),lO.type="DecoratedPlayerBar";var lB=lO,lV=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.description=new n_(e.description),this.endpoint=new nm(e.navigationEndpoint),this.large_form_factor_background_thumbnail=na.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=na.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};iK(lV,"DefaultPromoPanel"),lV.type="DefaultPromoPanel";var lU=lV,lH=class extends i5{constructor(e){super(),this.text=new n_(e.didYouMean).toString(),this.corrected_query=new n_(e.correctedQuery),this.endpoint=new nm(e.navigationEndpoint||e.correctedQueryEndpoint)}};iK(lH,"DidYouMean"),lH.type="DidYouMean";var lF=lH,lj=class extends i5{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new nm(e.command),this.target_id=e.targetId}};iK(lj,"DownloadButton"),lj.type="DownloadButton";var lW=lj,l$=class extends i5{constructor(e){super(),this.text=e.text.content}};iK(l$,"DynamicTextView"),l$.type="DynamicTextView";var lG=l$,lK=class extends i5{constructor(e){var t;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=null===(t=e.type.textType.text)||void 0===t?void 0:t.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(e=>new lK(e)))}};iK(lK,"ChildElement"),lK.type="ChildElement";var lY=lK,lq=class extends i5{constructor(e){var t;if(super(),Reflect.has(e,"elementRenderer"))return na.parseItem(e,lq);let i=e.newElement.type.componentType;this.model=na.parseItem(null==i?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=i9((null===(t=e.newElement.childElements)||void 0===t?void 0:t.map(e=>new lY(e)))||[]))}};iK(lq,"Element"),lq.type="Element";var lz=lq,lX=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.first_option=na.parseItem(e.firstOption),this.menu=na.parseItem(e.menu,nN)}};iK(lX,"EmergencyOnebox"),lX.type="EmergencyOnebox";var lJ=lX,lQ=class extends i5{constructor(e){super(),this.category_id=e.categoryId,this.title=new n_(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};iK(lQ,"EmojiPickerCategory"),lQ.type="EmojiPickerCategory";var lZ=lQ,l0=class extends i5{constructor(e){var t;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType),this.tooltip=e.tooltip}};iK(l0,"EmojiPickerCategoryButton"),l0.type="EmojiPickerCategoryButton";var l1=l0,l2=class extends i5{constructor(e){super(),this.category_id=e.categoryId,this.title=new n_(e.title),this.upsell=new n_(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new nm(e.command),this.emoji_ids=e.emojiIds}};iK(l2,"EmojiPickerUpsellCategory"),l2.type="EmojiPickerUpsellCategory";var l3=l2,l5=class extends i5{constructor(e){super(),this.style=e.style,this.title=new n_(e.title),this.endpoint=new nm(e.endpoint),Reflect.has(e,"image")&&(this.image=nf.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=nf.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new n_(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new n_(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=na.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new n_(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};iK(l5,"EndscreenElement"),l5.type="EndscreenElement";var l6=l5,l4=class extends i5{constructor(e){super(),this.id=e.playlistId,this.title=new n_(e.title),this.author=new n_(e.longBylineText),this.endpoint=new nm(e.navigationEndpoint),this.thumbnails=nf.fromResponse(e.thumbnail),this.video_count=new n_(e.videoCountText)}};iK(l4,"EndScreenPlaylist"),l4.type="EndScreenPlaylist";var l9=l4,l8=class extends i5{constructor(e){super(),this.id=e.videoId,this.title=new n_(e.title),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.author=new wc(e.shortBylineText,e.ownerBadges),this.endpoint=new nm(e.navigationEndpoint),this.short_view_count=new n_(e.shortViewCountText),this.badges=na.parseArray(e.badges),this.duration={text:new n_(e.lengthText).toString(),seconds:e.lengthInSeconds}}};iK(l8,"EndScreenVideo"),l8.type="EndScreenVideo";var l7=l8,ce=class extends i5{constructor(e){super(),this.title=e.title,this.endpoint=new nm(e.endpoint),this.selected=e.selected,this.content=na.parseItem(e.content)}};iK(ce,"ExpandableTab"),ce.type="ExpandableTab";var ct=ce,ci=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items)}get contents(){return this.items}};iK(ci,"ExpandedShelfContents"),ci.type="ExpandedShelfContents";var cn=ci,cs=class extends i5{constructor(e){super(),this.dialog_message=new n_(e.dialogMessage),this.confirm_label=new n_(e.confirmLabel)}};iK(cs,"FancyDismissibleDialog"),cs.type="FancyDismissibleDialog";var ca=cs,co=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents,on)}};iK(co,"FeedFilterChipBar"),co.type="FeedFilterChipBar";var cr=co,cl=class extends i5{constructor(e){super(),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.endpoint=new nm(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};iK(cl,"FeedNudge"),cl.type="FeedNudge";var cc=cl,cd=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(cd,"FeedTabbedHeader"),cd.type="FeedTabbedHeader";var ch=cd,cu=class extends i5{constructor(e){super(),this.actions_rows=e.actionsRows.map(e=>({actions:na.parseArray(e.actions,ay)})),this.style=e.style}};iK(cu,"FlexibleActionsView"),cu.type="FlexibleActionsView";var cp=cu,cm=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.box_art=nf.fromResponse(e.boxArt),this.box_art_overlay_text=new n_(e.boxArtOverlayText),this.endpoint=new nm(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};iK(cm,"GameDetails"),cm.type="GameDetails";var cf=cm,cv=class extends i5{constructor(e){var t,i,n;super(),this.items=na.parseArray(e.items),Reflect.has(e,"header")&&(this.header=na.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||null}get contents(){return this.items}};iK(cv,"Grid"),cv.type="Grid";var cg=cv,cy=class extends i5{constructor(e){super(),this.id=e.channelId,this.author=new wc(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new n_(e.subscriberCountText),this.video_count=new n_(e.videoCountText),this.endpoint=new nm(e.navigationEndpoint),this.subscribe_button=na.parseItem(e.subscribeButton)}};iK(cy,"GridChannel"),cy.type="GridChannel";var c_=cy,cb=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(cb,"GridHeader"),cb.type="GridHeader";var cw=cb,cx=class extends i5{constructor(e){var t,i;super(),this.id=e.playlistId,this.title=new n_(e.title),this.author=(null===(t=e.shortBylineText)||void 0===t?void 0:t.simpleText)?new n_(e.shortBylineText):(null===(i=e.longBylineText)||void 0===i?void 0:i.simpleText)?new n_(e.longBylineText):null,this.thumbnails=nf.fromResponse(e.thumbnail),this.video_count=new n_(e.videoCountText),this.video_count_short=new n_(e.videoCountShortText),this.endpoint=new nm(e.navigationEndpoint),this.secondary_endpoint=new nm(e.secondaryNavigationEndpoint),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays)}};iK(cx,"GridMix"),cx.type="GridMix";var cS=cx,cC=class extends i5{constructor(e){var t;super();let i=null===(t=e.thumbnailOverlays.find(e=>e.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new n_(e.title),this.thumbnails=nf.fromResponse(e.thumbnail),this.duration=e.lengthText?new n_(e.lengthText):(null==i?void 0:i.text)?new n_(i.text):null,this.endpoint=new nm(e.navigationEndpoint),this.badges=na.parseArray(e.badges,nY),this.metadata=new n_(e.metadata),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays)}};iK(cC,"GridMovie"),cC.type="GridMovie";var cT=cC,cI=class extends i5{constructor(e){var t;super(),this.id=e.playlistId,this.title=new n_(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new wc(e.shortBylineText,e.ownerBadges)),this.badges=na.parseArray(e.ownerBadges),this.endpoint=new nm(e.navigationEndpoint),this.view_playlist=new n_(e.viewPlaylistText),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_renderer=na.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...(null===(t=e.sidebarThumbnails)||void 0===t?void 0:t.map(e=>nf.fromResponse(e)))||[])||null,this.video_count=new n_(e.thumbnailText),this.video_count_short=new n_(e.videoCountShortText)}};iK(cI,"GridPlaylist"),cI.type="GridPlaylist";var ck=cI,cE=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail)}};iK(cE,"ShowCustomThumbnail"),cE.type="ShowCustomThumbnail";var cA=cE,cP=class extends i5{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new n_(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};iK(cP,"ThumbnailOverlayBottomPanel"),cP.type="ThumbnailOverlayBottomPanel";var cR=cP,cM=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.thumbnail_renderer=gz(e.thumbnailRenderer,cA),this.endpoint=new nm(e.navigationEndpoint),this.long_byline_text=new n_(e.longBylineText),this.thumbnail_overlays=gX(e.thumbnailOverlays,cR),this.author=new wc(e.shortBylineText,void 0)}};iK(cM,"GridShow"),cM.type="GridShow";var cL=cM,cD=class extends i5{constructor(e){var t,i;super();let n=null===(t=e.thumbnailOverlays.find(e=>e.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new n_(e.title),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.rich_thumbnail=na.parseItem(e.richThumbnail),this.published=new n_(e.publishedTimeText),this.duration=e.lengthText?new n_(e.lengthText):(null==n?void 0:n.text)?new n_(n.text):null,this.author=e.shortBylineText&&new wc(e.shortBylineText,e.ownerBadges),this.views=new n_(e.viewCountText),this.short_view_count=new n_(e.shortViewCountText),this.endpoint=new nm(e.navigationEndpoint),this.menu=na.parseItem(e.menu,nN),Reflect.has(e,"buttons")&&(this.buttons=na.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new n_(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(null===(i=e.upcomingEventData)||void 0===i?void 0:i.isReminderSet))}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}};iK(cD,"GridVideo"),cD.type="GridVideo";var cN=cD,cO=class extends i5{constructor(e){super(),this.title=new n_(e.formattedTitle),this.endpoint=new nm(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=nf.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};iK(cO,"GuideEntry"),cO.type="GuideEntry";var cB=cO,cV=class extends i5{constructor(e){super(),this.expander_item=gz(e.expanderItem,cB),this.collapser_item=gz(e.collapserItem,cB),this.expandable_items=gX(e.expandableItems)}};iK(cV,"GuideCollapsibleEntry"),cV.type="GuideCollapsibleEntry";var cU=cV,cH=class extends i5{constructor(e){super(),this.header_entry=gz(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=gX(e.sectionItems)}};iK(cH,"GuideCollapsibleSectionEntry"),cH.type="GuideCollapsibleSectionEntry";var cF=cH,cj=class extends cB{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};iK(cj,"GuideDownloadsEntry"),cj.type="GuideDownloadsEntry";var cW=cj,c$=class extends i5{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new n_(e.formattedTitle)),this.items=gX(e.items)}};iK(c$,"GuideSection"),c$.type="GuideSection";var cG=c$,cK=class extends cG{};iK(cK,"GuideSubscriptionsSection"),cK.type="GuideSubscriptionsSection";var cY=cK,cq=class extends i5{constructor(e){super(),this.hashtag=new n_(e.hashtag),this.hashtag_info=new n_(e.hashtagInfoText)}};iK(cq,"HashtagHeader"),cq.type="HashtagHeader";var cz=cq,cX=class extends i5{constructor(e){super(),this.hashtag=new n_(e.hashtag),this.hashtag_info_text=new n_(e.hashtagInfoText),this.hashtag_thumbnail=nf.fromResponse(e.hashtagThumbnail),this.endpoint=new nm(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new n_(e.hashtagVideoCount),this.hashtag_channel_count=new n_(e.hashtagChannelCount)}};iK(cX,"HashtagTile"),cX.type="HashtagTile";var cJ=cX,cQ=class extends i5{constructor(e){super(),this.thumbnails=nf.fromResponse(e.thumbnail),this.on_tap_endpoint=new nm(e.onTap)}};iK(cQ,"HeroPlaylistThumbnail"),cQ.type="HeroPlaylistThumbnail";var cZ=cQ,c0=class extends i5{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new nm(e.thumbnail.onTap),on_long_press_endpoint:new nm(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new nm(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new nm(e.textOnTap)}};iK(c0,"Panel"),c0.type="Panel";var c1=class extends i5{constructor(e){super(),this.panels=i9(e.highlightsCarousel.panels.map(e=>new c0(e)))}};iK(c1,"HighlightsCarousel"),c1.type="HighlightsCarousel";var c2=c1,c3=class extends i5{constructor(e){super(),this.suggestion=new n_(e.suggestion),this.endpoint=new nm(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new nm(e.serviceEndpoint))}};iK(c3,"SearchSuggestion"),c3.type="SearchSuggestion";var c5=c3,c6=class extends c5{constructor(e){super(e)}};iK(c6,"HistorySuggestion"),c6.type="HistorySuggestion";var c4=c6,c9=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items),this.previous_button=na.parseItem(e.previousButton,nl),this.next_button=na.parseItem(e.nextButton,nl)}get contents(){return this.items}};iK(c9,"HorizontalMovieList"),c9.type="HorizontalMovieList";var c8=c9,c7=class extends i5{constructor(e){var t;super(),this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new n_(e.tooltip).toString()),this.endpoint=new nm(e.navigationEndpoint)}};iK(c7,"IconLink"),c7.type="IconLink";var de=c7,dt=class extends i5{constructor(e){super(),this.including_results_for=new n_(e.includingResultsFor),this.corrected_query=new n_(e.correctedQuery),this.corrected_query_endpoint=new nm(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new n_(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new n_(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new nm(e.originalQueryEndpoint):void 0}};iK(dt,"IncludingResultsFor"),dt.type="IncludingResultsFor";var di=dt,dn=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.source=new n_(e.source),this.paragraphs=e.paragraphs.map(e=>new n_(e)),this.thumbnail=nf.fromResponse(e.thumbnail),this.source_endpoint=new nm(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};iK(dn,"InfoPanelContent"),dn.type="InfoPanelContent";var ds=dn,da=class extends i5{constructor(e){var t;super(),this.title=new n_(e.title),this.menu=na.parseItem(e.menu,nN),this.content=na.parseItem(e.content,ds),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType)}};iK(da,"InfoPanelContainer"),da.type="InfoPanelContainer";var dr=da,dl=class extends i5{constructor(e){super(),this.header_type=e.type,this.title=new n_(e.title),this.description=new n_(e.description),this.metadata=new n_(e.metadata),this.badges=na.parseArray(e.badges,nY),this.box_art=nf.fromResponse(e.boxArt),this.banner=nf.fromResponse(e.banner),this.buttons=na.parseArray(e.buttons,[aA,nl]),this.auto_generated=new n_(e.autoGenerated)}};iK(dl,"InteractiveTabbedHeader"),dl.type="InteractiveTabbedHeader";var dc=dl,dd=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(dd,"ItemSectionHeader"),dd.type="ItemSectionHeader";var dh=dd,du=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.selected=!!e.selected,this.endpoint=new nm(e.endpoint)}};iK(du,"ItemSectionTab"),du.type="Tab";var dp=du,dm=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.tabs=na.parseArray(e.tabs,dp),Reflect.has(e,"endItems")&&(this.end_items=na.parseArray(e.endItems))}};iK(dm,"ItemSectionTabbedHeader"),dm.type="ItemSectionTabbedHeader";var df=dm,dv=class extends i5{constructor(e){var t,i,n;super(),this.header=na.parseItem(e.header,[r4,dh,df]),this.contents=na.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)}};iK(dv,"ItemSection"),dv.type="ItemSection";var dg=dv,dy=class extends i5{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(e=>new nm(e)))}};iK(dy,"LikeButton"),dy.type="LikeButton";var d_=dy,db=class extends i5{constructor(e){var t,i;super(),this.header=na.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=null===(i=null===(t=e.continuations[0])||void 0===t?void 0:t.reloadContinuationData)||void 0===i?void 0:i.continuation,this.client_messages={reconnect_message:new n_(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new n_(e.clientMessages.unableToReconnectMessage),fatal_error:new n_(e.clientMessages.fatalError),reconnected_message:new n_(e.clientMessages.reconnectedMessage),generic_error:new n_(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};iK(db,"LiveChat"),db.type="LiveChat";var dw=db,dx=class extends i5{constructor(e){super(),this.text=new n_(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=na.parseItem(e.contextMenuButton,nl)}};iK(dx,"LiveChatBannerHeader"),dx.type="LiveChatBannerHeader";var dS=dx,dC=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header,dS),this.contents=na.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};iK(dC,"LiveChatBanner"),dC.type="LiveChatBanner";var dT=dC,dI=class extends i5{constructor(e){super(),this.banner=na.parseItem(e.bannerRenderer,dT)}};iK(dI,"AddBannerToLiveChatCommand"),dI.type="AddBannerToLiveChatCommand";var dk=dI,dE=class extends i5{constructor(e){super(),this.item=na.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};iK(dE,"AddChatItemAction"),dE.type="AddChatItemAction";var dA=dE,dP=class extends i5{constructor(e){super(),this.item=na.parseItem(e.item),this.duration_sec=e.durationSec}};iK(dP,"AddLiveChatTickerItemAction"),dP.type="AddLiveChatTickerItemAction";var dR=dP,dM=class extends i5{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};iK(dM,"DimChatItemAction"),dM.type="DimChatItemAction";var dL=dM,dD=class extends i5{constructor(e){super(),this.menu_endpoint=new nm(e.contextMenuEndpoint),this.moderation_buttons=na.parseArray(e.moderationButtons,nl),this.auto_moderated_item=na.parseItem(e.autoModeratedItem),this.header_text=new n_(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};iK(dD,"LiveChatAutoModMessage"),dD.type="LiveChatAutoModMessage";var dN=dD,dO=class extends i5{constructor(e){super(),this.poll_question=new n_(e.pollQuestion),this.author_photo=nf.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(e=>({option_id:e.pollOptionId,text:new n_(e.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=na.parseItem(e.contextMenuButton,nl)}};iK(dO,"LiveChatBannerPoll"),dO.type="LiveChatBannerPoll";var dB=dO,dV=class extends i5{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new n_(e.headerSubtext),this.author=new wc(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new nm(e.contextMenuEndpoint)}};iK(dV,"LiveChatMembershipItem"),dV.type="LiveChatMembershipItem";var dU=dV,dH=class extends i5{constructor(e){super(),this.message=new n_(e.message),this.author=new wc(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new n_(e.purchaseAmountText).toString(),this.menu_endpoint=new nm(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new n_(e.timestampText).toString(),this.id=e.id}};iK(dH,"LiveChatPaidMessage"),dH.type="LiveChatPaidMessage";var dF=dH,dj=class extends i5{constructor(e){super(),this.id=e.id,this.author=new wc(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=nf.fromResponse(e.sticker),this.purchase_amount=new n_(e.purchaseAmountText).toString(),this.menu_endpoint=new nm(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};iK(dj,"LiveChatPaidSticker"),dj.type="LiveChatPaidSticker";var dW=dj,d$=class extends i5{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};iK(d$,"LiveChatPlaceholderItem"),d$.type="LiveChatPlaceholderItem";var dG=d$,dK=class extends i5{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=nf.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=na.parseItem(e.informationButton),this.endpoint=new nm(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=nf.fromResponse(e.authorPhoto),this.information_dialog=na.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new n_(e.creatorCustomMessage)}};iK(dK,"LiveChatProductItem"),dK.type="LiveChatProductItem";var dY=dK,dq=class extends i5{constructor(e){super(),this.message=new n_(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};iK(dq,"LiveChatRestrictedParticipation"),dq.type="LiveChatRestrictedParticipation";var dz=dq,dX=class extends i5{constructor(e){super(),this.message=new n_(e.message),this.inline_action_buttons=na.parseArray(e.inlineActionButtons,nl),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};iK(dX,"LiveChatMessageBase"),dX.type="LiveChatMessageBase";var dJ=class extends dX{constructor(e){super(e),this.author=new wc(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new nm(e.contextMenuEndpoint)}};iK(dJ,"LiveChatTextMessage"),dJ.type="LiveChatTextMessage";var dQ=dJ,dZ=class extends i5{constructor(e){var t,i;super(),this.author=new wc(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new n_(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=na.parseItem(null===(i=null===(t=e.showItemEndpoint)||void 0===t?void 0:t.showLiveChatItemEndpoint)||void 0===i?void 0:i.renderer),this.show_item_endpoint=new nm(e.showItemEndpoint),this.id=e.id}};iK(dZ,"LiveChatTickerPaidMessageItem"),dZ.type="LiveChatTickerPaidMessageItem";var d0=dZ,d1=class extends d0{};iK(d1,"LiveChatTickerPaidStickerItem"),d1.type="LiveChatTickerPaidStickerItem";var d2=d1,d3=class extends i5{constructor(e){super(),this.id=e.id,this.detail=new n_(e.detailText),this.author=new wc(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};iK(d3,"LiveChatTickerSponsorItem"),d3.type="LiveChatTickerSponsorItem";var d5=d3,d6=class extends dX{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=na.parseItem(e.actionButton)}};iK(d6,"LiveChatViewerEngagementMessage"),d6.type="LiveChatViewerEngagementMessage";var d4=d6,d9=class extends i5{constructor(e){super(),this.poll_question=new n_(e.pollQuestion),this.thumbnails=nf.fromResponse(e.thumbnail),this.metadata=new n_(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=na.parseItem(e.contextMenuButton,nl)}};iK(d9,"PollHeader"),d9.type="PollHeader";var d8=d9,d7=class extends i5{constructor(e){super(),this.id=e.id,this.contents=na.parse(e.contents),this.target_id=e.targetId}};iK(d7,"LiveChatActionPanel"),d7.type="LiveChatActionPanel";var he=d7,ht=class extends i5{constructor(e){super(),this.deleted_state_message=new n_(e.deletedStateMessage),this.target_item_id=e.targetItemId}};iK(ht,"MarkChatItemAsDeletedAction"),ht.type="MarkChatItemAsDeletedAction";var hi=ht,hn=class extends i5{constructor(e){super(),this.deleted_state_message=new n_(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};iK(hn,"MarkChatItemsByAuthorAsDeletedAction"),hn.type="MarkChatItemsByAuthorAsDeletedAction";var hs=hn,ha=class extends i5{constructor(e){super(),this.target_action_id=e.targetActionId}};iK(ha,"RemoveBannerForLiveChatCommand"),ha.type="RemoveBannerForLiveChatCommand";var ho=ha,hr=class extends i5{constructor(e){super(),this.target_item_id=e.targetItemId}};iK(hr,"RemoveChatItemAction"),hr.type="RemoveChatItemAction";var hl=hr,hc=class extends i5{constructor(e){super(),this.external_channel_id=e.externalChannelId}};iK(hc,"RemoveChatItemByAuthorAction"),hc.type="RemoveChatItemByAuthorAction";var hd=hc,hh=class extends i5{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=na.parseItem(e.replacementItem)}};iK(hh,"ReplaceChatItemAction"),hh.type="ReplaceChatItemAction";var hu=hh,hp=class extends i5{constructor(e){var t;super(),this.actions=na.parseArray(null===(t=e.actions)||void 0===t?void 0:t.map(e=>(delete e.clickTrackingParams,e))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};iK(hp,"ReplayChatItemAction"),hp.type="ReplayChatItemAction";var hm=hp,hf=class extends i5{constructor(e){super(),this.panel_to_show=na.parseItem(e.panelToShow,he)}};iK(hf,"ShowLiveChatActionPanelAction"),hf.type="ShowLiveChatActionPanelAction";var hv=hf,hg=class extends i5{constructor(e){super(),this.dialog=na.parseItem(e.dialog)}};iK(hg,"ShowLiveChatDialogAction"),hg.type="ShowLiveChatDialogAction";var hy=hg,h_=class extends i5{constructor(e){super(),this.tooltip=na.parseItem(e.tooltip)}};iK(h_,"ShowLiveChatTooltipCommand"),h_.type="ShowLiveChatTooltipCommand";var hb=h_,hw=class extends i5{constructor(e){super(),this.date_text=new n_(e.dateText).toString()}};iK(hw,"UpdateDateTextAction"),hw.type="UpdateDateTextAction";var hx=hw,hS=class extends i5{constructor(e){super(),this.description=new n_(e.description)}};iK(hS,"UpdateDescriptionAction"),hS.type="UpdateDescriptionAction";var hC=hS,hT=class extends i5{constructor(e){super(),this.poll_to_update=na.parseItem(e.pollToUpdate)}};iK(hT,"UpdateLiveChatPollAction"),hT.type="UpdateLiveChatPollAction";var hI=hT,hk=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(hk,"UpdateTitleAction"),hk.type="UpdateTitleAction";var hE=hk,hA=class extends i5{constructor(e){super(),this.default_text=new n_(e.defaultText).toString(),this.toggled_text=new n_(e.toggledText).toString(),this.button_id=e.buttonId}};iK(hA,"UpdateToggleButtonTextAction"),hA.type="UpdateToggleButtonTextAction";var hP=hA,hR=class extends i5{constructor(e){super();let t=e.viewCount.videoViewCountRenderer;this.view_count=new n_(t.viewCount),this.extra_short_view_count=new n_(t.extraShortViewCount),this.original_view_count=parseInt(t.originalViewCount),this.unlabeled_view_count_value=new n_(t.unlabeledViewCountValue),this.is_live=t.isLive}};iK(hR,"UpdateViewershipAction"),hR.type="UpdateViewershipAction";var hM=hR,hL=class extends nY{constructor(e){super(e),this.custom_thumbnail=nf.fromResponse(e.customThumbnail)}};iK(hL,"LiveChatAuthorBadge"),hL.type="LiveChatAuthorBadge";var hD=hL,hN=class extends i5{constructor(e){super(),this.confirm_button=na.parseItem(e.confirmButton,nl),this.dialog_messages=e.dialogMessages.map(e=>new n_(e))}};iK(hN,"LiveChatDialog"),hN.type="LiveChatDialog";var hO=hN,hB=class extends i5{constructor(e){super(),this.overflow_menu=na.parseItem(e.overflowMenu,nN),this.collapse_button=na.parseItem(e.collapseButton,nl),this.view_selector=na.parseItem(e.viewSelector,sP)}};iK(hB,"LiveChatHeader"),hB.type="LiveChatHeader";var hV=hB,hU=class extends i5{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=na.parseItem(e.moreCommentsBelowButton,nl)}};iK(hU,"LiveChatItemList"),hU.type="LiveChatItemList";var hH=hU,hF=class extends i5{constructor(e){super(),this.author_name=new n_(e.authorName),this.author_photo=nf.fromResponse(e.authorPhoto),this.send_button=na.parseItem(e.sendButton,nl),this.target_id=e.targetId}};iK(hF,"LiveChatMessageInput"),hF.type="LiveChatMessageInput";var hj=hF,hW=class extends i5{constructor(e){super(),this.name=new n_(e.authorName),this.photo=nf.fromResponse(e.authorPhoto),this.badges=na.parseArray(e.authorBadges)}};iK(hW,"LiveChatParticipant"),hW.type="LiveChatParticipant";var h$=hW,hG=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.participants=na.parseArray(e.participants,h$)}};iK(hG,"LiveChatParticipantsList"),hG.type="LiveChatParticipantsList";var hK=hG,hY=class extends nl{constructor(e){super(e)}};iK(hY,"MenuNavigationItem"),hY.type="MenuNavigationItem";var hq=hY,hz=class extends nl{constructor(e){super(e)}};iK(hz,"MenuServiceItem"),hz.type="MenuServiceItem";var hX=hz,hJ=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items,[hq,hX])}};iK(hJ,"MenuPopup"),hJ.type="MenuPopup";var hQ=hJ,hZ=class extends i5{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new nm(e.navigationEndpoint||e.serviceEndpoint)}};iK(hZ,"MenuServiceItemDownload"),hZ.type="MenuServiceItemDownload";var h0=hZ,h1=class extends i5{constructor(e){super(),this.header=na.parse(e.header),this.sections=na.parse(e.sections),this.style=e.style}};iK(h1,"MultiPageMenu"),h1.type="MultiPageMenu";var h2=h1,h3=class extends i5{constructor(e){super(),this.items=na.parse(e.items)}get contents(){return this.items}};iK(h3,"MultiPageMenuNotificationSection"),h3.type="MultiPageMenuNotificationSection";var h5=h3,h6=class extends i5{constructor(e){super()}};iK(h6,"MusicMenuItemDivider"),h6.type="MusicMenuItemDivider";var h4=h6,h9=class extends i5{constructor(e){var t;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new n_(null===(t=e.title.musicMenuTitleRenderer)||void 0===t?void 0:t.primaryText)),this.options=na.parseArray(e.options,[sr,h4])}};iK(h9,"MusicMultiSelectMenu"),h9.type="MusicMultiSelectMenu";var h8=h9,h7=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.buttons=na.parse(e.buttons)}};iK(h7,"SimpleMenuHeader"),h7.type="SimpleMenuHeader";var ue=h7,ut=class extends i5{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=nf.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new nm(e.buttonCommand)}};iK(ut,"MerchandiseItem"),ut.type="MerchandiseItem";var ui=ut,un=class extends i5{constructor(e){super(),this.title=e.title,this.menu=na.parseItem(e.actionButton),this.items=na.parseArray(e.items)}get contents(){return this.items}};iK(un,"MerchandiseShelf"),un.type="MerchandiseShelf";var us=un,ua=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.contents=e.contents.map(e=>new n_(e))}};iK(ua,"MetadataRow"),ua.type="MetadataRow";var uo=ua,ur=class extends i5{constructor(e){super(),this.rows=na.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};iK(ur,"MetadataRowContainer"),ur.type="MetadataRowContainer";var ul=ur,uc=class extends i5{constructor(e){super(),this.content=new n_(e.content),this.has_divider_line=e.hasDividerLine}};iK(uc,"MetadataRowHeader"),uc.type="MetadataRowHeader";var ud=uc,uh=class extends i5{constructor(e){super(),this.section_list=na.parseItem(e)}};iK(uh,"MetadataScreen"),uh.type="MetadataScreen";var uu=uh,up=class extends i5{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=nf.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};iK(up,"MicroformatData"),up.type="MicroformatData";var um=up,uf=class extends ld{constructor(e){super(e)}};iK(uf,"Mix"),uf.type="Mix";var uv=uf,ug=class extends i5{constructor(e){var t,i,n;super();let s=(null===(t=e.thumbnailOverlays.find(e=>e.thumbnailOverlayTimeStatusRenderer))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new n_(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new n_(e.descriptionSnippet)),this.top_metadata_items=new n_(e.topMetadataItems),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.author=new wc(e.longBylineText,e.ownerBadges,null===(n=null===(i=e.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===n?void 0:n.thumbnail),this.duration={text:e.lengthText?new n_(e.lengthText).toString():new n_(s).toString(),seconds:wT(e.lengthText?new n_(e.lengthText).toString():new n_(s).toString())},this.endpoint=new nm(e.navigationEndpoint),this.badges=na.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=na.parseItem(e.menu,nN)}};iK(ug,"Movie"),ug.type="Movie";var uy=ug,u_=class extends i5{constructor(e){var t;return super(),null===(t=e.movingThumbnailDetails)||void 0===t?void 0:t.thumbnails.map(e=>new nf(e)).sort((e,t)=>t.width-e.width)}};iK(u_,"MovingThumbnail"),u_.type="MovingThumbnail";var ub=u_,uw=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(uw,"MusicCardShelfHeaderBasic"),uw.type="MusicCardShelfHeaderBasic";var ux=uw,uS=class extends i5{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};iK(uS,"MusicInlineBadge"),uS.type="MusicInlineBadge";var uC=uS,uT=class extends i5{constructor(e){var t,i;super(),this.endpoint=new nm(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=null===(t=e.accessibilityPlayData.accessibilityData)||void 0===t?void 0:t.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=null===(i=e.accessibilityPauseData.accessibilityData)||void 0===i?void 0:i.label),this.icon_color=e.iconColor}};iK(uT,"MusicPlayButton"),uT.type="MusicPlayButton";var uI=uT,uk=class extends i5{constructor(e){super(),this.content=na.parseItem(e.content,uI),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};iK(uk,"MusicItemThumbnailOverlay"),uk.type="MusicItemThumbnailOverlay";var uE=uk,uA=class extends i5{constructor(e){super(),this.contents=nf.fromResponse(e.thumbnail)}};iK(uA,"MusicThumbnail"),uA.type="MusicThumbnail";var uP=uA,uR=class extends i5{constructor(e){super(),this.thumbnail=na.parseItem(e.thumbnail,uP),this.title=new n_(e.title),this.subtitle=new n_(e.subtitle),this.buttons=na.parseArray(e.buttons,nl),this.menu=na.parseItem(e.menu,nN),this.on_tap=new nm(e.onTap),this.header=na.parseItem(e.header,ux),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=na.parseArray(e.subtitleBadges,uC),this.thumbnail_overlay=na.parseItem(e.thumbnailOverlay,uE),Reflect.has(e,"contents")&&(this.contents=na.parseArray(e.contents))}};iK(uR,"MusicCardShelf"),uR.type="MusicCardShelf";var uM=uR,uL=class extends i5{constructor(e){super(),this.title=new n_(e.title),Reflect.has(e,"strapline")&&(this.strapline=new n_(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=na.parseItem(e.thumbnail,uP)),Reflect.has(e,"moreContentButton")&&(this.more_content=na.parseItem(e.moreContentButton,nl)),Reflect.has(e,"endIcons")&&(this.end_icons=na.parseArray(e.endIcons,de))}};iK(uL,"MusicCarouselShelfBasicHeader"),uL.type="MusicCarouselShelfBasicHeader";var uD=uL,uN=class extends i5{constructor(e){super(),this.thumbnail=na.parseItem(e.thumbnail,uP),this.overlay=na.parseItem(e.overlay,uE),this.on_tap=new nm(e.onTap),this.menu=na.parseItem(e.menu,nN),this.subtitle=new n_(e.subtitle),this.title=new n_(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new n_(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new n_(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};iK(uN,"MusicMultiRowListItem"),uN.type="MusicMultiRowListItem";var uO=uN,uB=class extends i5{constructor(e){super(),this.button_text=new n_(e.buttonText).toString(),this.endpoint=new nm(e.clickCommand)}};iK(uB,"MusicNavigationButton"),uB.type="MusicNavigationButton";var uV=uB,uU=class extends i5{constructor(e){super(),this.title=new n_(e.text),this.display_priority=e.displayPriority}};iK(uU,"MusicResponsiveListItemFixedColumn"),uU.type="musicResponsiveListItemFlexColumnRenderer";var uH=uU,uF=class extends i5{constructor(e){super(),this.title=new n_(e.text),this.display_priority=e.displayPriority}};iK(uF,"MusicResponsiveListItemFlexColumn"),uF.type="MusicResponsiveListItemFlexColumn";var uj=uF,uW=class extends i5{constructor(e){var t,i,n,s,a,o;super(),_.add(this),b.set(this,void 0),this.flex_columns=na.parseArray(e.flexColumns,uj),this.fixed_columns=na.parseArray(e.fixedColumns,uH),i2(this,b,{video_id:(null===(t=null==e?void 0:e.playlistItemData)||void 0===t?void 0:t.videoId)||null,playlist_set_video_id:(null===(i=null==e?void 0:e.playlistItemData)||void 0===i?void 0:i.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new nm(e.navigationEndpoint));let r=null===(o=null===(a=null===(s=null===(n=this.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.browseEndpointContextSupportedConfigs)||void 0===a?void 0:a.browseEndpointContextMusicConfig)||void 0===o?void 0:o.pageType;switch(!r&&this.flex_columns.find(e=>{var t,i,n,s;return(null===(s=null===(n=null===(i=null===(t=e.title.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseEndpointContextSupportedConfigs)||void 0===n?void 0:n.browseEndpointContextMusicConfig)||void 0===s?void 0:s.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(r="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),r){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",i1(this,_,"m",E).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",i1(this,_,"m",A).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",i1(this,_,"m",T).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",i1(this,_,"m",I).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",i1(this,_,"m",k).call(this);break;default:this.flex_columns[1]?i1(this,_,"m",x).call(this):i1(this,_,"m",w).call(this)}Reflect.has(e,"index")&&(this.index=new n_(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=na.parseItem(e.thumbnail,uP)),Reflect.has(e,"badges")&&(this.badges=na.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=na.parseItem(e.menu,nN)),Reflect.has(e,"overlay")&&(this.overlay=na.parseItem(e.overlay,uE))}get thumbnails(){var e;return(null===(e=this.thumbnail)||void 0===e?void 0:e.contents)||[]}};iK(uW,"MusicResponsiveListItem"),b=new WeakMap,_=new WeakSet,w=iK(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),x=iK(function(){var e,t;(null===(t=null===(e=this.flex_columns.at(1))||void 0===e?void 0:e.title.runs)||void 0===t?void 0:t.some(e=>e.text.match(/(.*?) views/)))?(this.item_type="video",i1(this,_,"m",C).call(this)):(this.item_type="song",i1(this,_,"m",S).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),S=iK(function(){var e,t,i,n,s,a,o,r,l,c,d,h,u,p,m;this.id=i1(this,b,"f").video_id||(null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.videoId),this.title=this.flex_columns.first().title.toString();let f=(null===(s=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find(e=>/^\d+$/.test(e.text.replace(/:/g,""))))||void 0===s?void 0:s.text)||(null===(o=null===(a=this.fixed_columns.first())||void 0===a?void 0:a.title)||void 0===o?void 0:o.toString());f&&(this.duration={text:f,seconds:wT(f)});let v=(null===(l=null===(r=this.flex_columns.at(1))||void 0===r?void 0:r.title.runs)||void 0===l?void 0:l.find(e=>wL(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("MPR")))||(null===(d=null===(c=this.flex_columns.at(2))||void 0===c?void 0:c.title.runs)||void 0===d?void 0:d.find(e=>wL(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("MPR")));v&&wL(v)&&(this.album={id:null===(u=null===(h=v.endpoint)||void 0===h?void 0:h.payload)||void 0===u?void 0:u.browseId,name:v.text,endpoint:v.endpoint});let g=null===(m=null===(p=this.flex_columns.at(1))||void 0===p?void 0:p.title.runs)||void 0===m?void 0:m.filter(e=>wL(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));g&&(this.artists=g.map(e=>{var t,i;return{name:e.text,channel_id:wL(e)?null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:wL(e)?e.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),C=iK(function(){var e,t,i,n,s,a,o,r,l,c;this.id=i1(this,b,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=null===(i=null===(t=null===(e=this.flex_columns.at(1))||void 0===e?void 0:e.title.runs)||void 0===t?void 0:t.find(e=>e.text.match(/(.*?) views/)))||void 0===i?void 0:i.toString();let d=null===(s=null===(n=this.flex_columns.at(1))||void 0===n?void 0:n.title.runs)||void 0===s?void 0:s.filter(e=>wL(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));d&&(this.authors=d.map(e=>{var t,i;return{name:e.text,channel_id:wL(e)?null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:wL(e)?e.endpoint:void 0}}));let h=(null===(o=null===(a=this.flex_columns[1].title.runs)||void 0===a?void 0:a.find(e=>/^\d+$/.test(e.text.replace(/:/g,""))))||void 0===o?void 0:o.text)||(null===(c=null===(l=null===(r=this.fixed_columns.first())||void 0===r?void 0:r.title.runs)||void 0===l?void 0:l.find(e=>/^\d+$/.test(e.text.replace(/:/g,""))))||void 0===c?void 0:c.text);h&&(this.duration={text:h,seconds:wT(h)})},"_MusicResponsiveListItem_parseVideo"),T=iK(function(){var e,t,i,n,s,a;this.id=null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title,this.subscribers=(null===(a=null===(s=null===(n=this.subtitle)||void 0===n?void 0:n.runs)||void 0===s?void 0:s.find(e=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(e.text)))||void 0===a?void 0:a.text)||""},"_MusicResponsiveListItem_parseArtist"),I=iK(function(){var e,t,i,n;this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(e=this.flex_columns.at(1))||void 0===e?void 0:e.title,this.song_count=(null===(n=null===(i=null===(t=this.subtitle)||void 0===t?void 0:t.runs)||void 0===i?void 0:i.find(e=>/^\d+(,\d+)? songs?$/i.test(e.text)))||void 0===n?void 0:n.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),k=iK(function(){var e,t;this.id=i1(this,b,"f").video_id||(null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),E=iK(function(){var e,t,i,n,s,a,o,r,l;this.id=null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.browseId,this.title=this.flex_columns.first().title.toString();let c=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find(e=>wL(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));c&&wL(c)&&(this.author={name:c.text,channel_id:null===(a=null===(s=c.endpoint)||void 0===s?void 0:s.payload)||void 0===a?void 0:a.browseId,endpoint:c.endpoint}),this.year=null===(l=null===(r=null===(o=this.flex_columns.at(1))||void 0===o?void 0:o.title.runs)||void 0===r?void 0:r.find(e=>/^[12][0-9]{3}$/.test(e.text)))||void 0===l?void 0:l.text},"_MusicResponsiveListItem_parseAlbum"),A=iK(function(){var e,t,i,n,s,a,o,r;this.id=null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.browseId,this.title=this.flex_columns.first().title.toString();let l=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find(e=>e.text.match(/\d+ (song|songs)/));this.item_count=l?l.text:void 0;let c=null===(a=null===(s=this.flex_columns.at(1))||void 0===s?void 0:s.title.runs)||void 0===a?void 0:a.find(e=>wL(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));c&&wL(c)&&(this.author={name:c.text,channel_id:null===(r=null===(o=c.endpoint)||void 0===o?void 0:o.payload)||void 0===r?void 0:r.browseId,endpoint:c.endpoint})},"_MusicResponsiveListItem_parsePlaylist"),uW.type="MusicResponsiveListItem";var u$=uW,uG=class extends i5{constructor(e){var t,i,n,s,a,o,r,l,c,d,h,u,p,m,f,v,g,y,_,b,w,x;switch(super(),this.title=new n_(e.title),this.endpoint=new nm(e.navigationEndpoint),this.id=(null===(i=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||(null===(s=null===(n=this.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.videoId),this.subtitle=new n_(e.subtitle),this.badges=na.parse(e.subtitleBadges),null===(l=null===(r=null===(o=null===(a=this.endpoint)||void 0===a?void 0:a.payload)||void 0===o?void 0:o.browseEndpointContextSupportedConfigs)||void 0===r?void 0:r.browseEndpointContextMusicConfig)||void 0===l?void 0:l.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:(null===(d=null===(c=this.endpoint)||void 0===c?void 0:c.metadata)||void 0===d?void 0:d.api_url)==="/next"?this.item_type="endpoint":(null===(h=this.subtitle.runs)||void 0===h?void 0:h[0])?"Song"!==this.subtitle.runs[0].text?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown"}if("artist"==this.item_type)this.subscribers=(null===(p=null===(u=this.subtitle.runs)||void 0===u?void 0:u.find(e=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(e.text)))||void 0===p?void 0:p.text)||"";else if("playlist"==this.item_type){let e=null===(m=this.subtitle.runs)||void 0===m?void 0:m.find(e=>e.text.match(/\d+ songs|song/));this.item_count=e?e.text:null}else if("album"==this.item_type){let e=null===(f=this.subtitle.runs)||void 0===f?void 0:f.filter(e=>{var t,i;return null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId.startsWith("UC")});e&&(this.artists=e.map(e=>{var t,i;return{name:e.text,channel_id:null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId,endpoint:e.endpoint}})),this.year=null===(v=this.subtitle.runs)||void 0===v?void 0:v.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if("video"==this.item_type){this.views=(null===(y=null===(g=this===null||void 0===this?void 0:this.subtitle.runs)||void 0===g?void 0:g.find(e=>null==e?void 0:e.text.match(/(.*?) views/)))||void 0===y?void 0:y.text)||"N/A";let e=null===(_=this.subtitle.runs)||void 0===_?void 0:_.find(e=>{var t,i,n;return null===(n=null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("UC")});e&&(this.author={name:null==e?void 0:e.text,channel_id:null===(w=null===(b=null==e?void 0:e.endpoint)||void 0===b?void 0:b.payload)||void 0===w?void 0:w.browseId,endpoint:null==e?void 0:e.endpoint})}else if("song"==this.item_type){let e=null===(x=this.subtitle.runs)||void 0===x?void 0:x.filter(e=>{var t,i;return null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId.startsWith("UC")});e&&(this.artists=e.map(e=>{var t,i;return{name:null==e?void 0:e.text,channel_id:null===(i=null===(t=null==e?void 0:e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId,endpoint:null==e?void 0:e.endpoint}}))}this.thumbnail=nf.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=na.parseItem(e.thumbnailOverlay,uE),this.menu=na.parseItem(e.menu,nN)}};iK(uG,"MusicTwoRowItem"),uG.type="MusicTwoRowItem";var uK=uG,uY=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header,uD),this.contents=na.parseArray(e.contents,[uK,u$,uO,uV]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};iK(uY,"MusicCarouselShelf"),uY.type="MusicCarouselShelf";var uq=uY,uz=class extends i5{constructor(e){super(),this.description=new n_(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new n_(e.footer)}};iK(uz,"MusicDescriptionShelf"),uz.type="MusicDescriptionShelf";var uX=uz,uJ=class extends i5{constructor(e){var t,i,n,s,a,o,r,l,c;super(),this.title=new n_(e.title),this.description=new n_(e.description),this.subtitle=new n_(e.subtitle),this.second_subtitle=new n_(e.secondSubtitle),this.year=(null===(i=null===(t=this.subtitle.runs)||void 0===t?void 0:t.find(e=>/^[12][0-9]{3}$/.test(e.text)))||void 0===i?void 0:i.text)||"",this.song_count=(null===(s=null===(n=this.second_subtitle.runs)||void 0===n?void 0:n[0])||void 0===s?void 0:s.text)||"",this.total_duration=(null===(o=null===(a=this.second_subtitle.runs)||void 0===a?void 0:a[2])||void 0===o?void 0:o.text)||"",this.thumbnails=nf.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=na.parseArray(e.subtitleBadges);let d=null===(r=this.subtitle.runs)||void 0===r?void 0:r.find(e=>{var t,i;return null===(i=null===(t=null==e?void 0:e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId.startsWith("UC")});d&&(this.author={name:d.text,channel_id:null===(c=null===(l=d.endpoint)||void 0===l?void 0:l.payload)||void 0===c?void 0:c.browseId,endpoint:d.endpoint}),this.menu=na.parseItem(e.menu)}};iK(uJ,"MusicDetailHeader"),uJ.type="MusicDetailHeader";var uQ=uJ,uZ=class extends i5{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};iK(uZ,"MusicDownloadStateBadge"),uZ.type="MusicDownloadStateBadge";var u0=uZ,u1=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header)}};iK(u1,"MusicEditablePlaylistDetailHeader"),u1.type="MusicEditablePlaylistDetailHeader";var u2=u1,u3=class extends i5{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?na.parseItem(e,lz):null}};iK(u3,"MusicElementHeader"),u3.type="MusicElementHeader";var u5=u3,u6=class extends i5{constructor(e){super(),Reflect.has(e,"header")&&(this.header=na.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new n_(e.title))}};iK(u6,"MusicHeader"),u6.type="MusicHeader";var u4=u6,u9=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.description=new n_(e.description),this.thumbnail=na.parseItem(e.thumbnail,uP)}};iK(u9,"MusicImmersiveHeader"),u9.type="MusicImmersiveHeader";var u8=u9,u7=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new nm(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};iK(u7,"ActionButton"),u7.type="ActionButton";var pe=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(e=>new u7(e))}};iK(pe,"Panel"),pe.type="Panel";var pt=class extends i5{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(e=>new pe(e))}};iK(pt,"MusicLargeCardItemCarousel"),pt.type="MusicLargeCardItemCarousel";var pi=pt,pn=class extends i5{constructor(e){var t,i,n;super(),this.playlist_id=e.playlistId,this.contents=na.parseArray(e.contents,u$),this.collapsed_item_count=e.collapsedItemCount,this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||null}};iK(pn,"MusicPlaylistShelf"),pn.type="MusicPlaylistShelf";var ps=pn,pa=class extends i5{constructor(e){var t,i,n,s,a;super(),this.title=new n_(e.title),this.thumbnail=nf.fromResponse(e.thumbnail),this.endpoint=new nm(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new n_(e.lengthText).toString(),seconds:wT(new n_(e.lengthText).toString())};let o=null===(t=new n_(e.longBylineText).runs)||void 0===t?void 0:t.find(e=>{var t,i,n;return null===(n=null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("MPR")}),r=null===(i=new n_(e.longBylineText).runs)||void 0===i?void 0:i.filter(e=>{var t,i,n;return null===(n=null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("UC")});this.author=new n_(e.shortBylineText).toString(),o&&(this.album={id:null===(s=null===(n=o.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.browseId,name:o.text,year:null===(a=new n_(e.longBylineText).runs)||void 0===a?void 0:a.slice(-1)[0].text,endpoint:o.endpoint}),r&&(this.artists=r.map(e=>{var t,i;return{name:e.text,channel_id:null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId,endpoint:e.endpoint}})),this.badges=na.parseArray(e.badges),this.menu=na.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};iK(pa,"PlaylistPanelVideo"),pa.type="PlaylistPanelVideo";var po=pa,pr=class extends i5{constructor(e){super(),this.primary=na.parseItem(e.primaryRenderer,po),Reflect.has(e,"counterpart")&&(this.counterpart=i9(e.counterpart.map(e=>na.parseItem(e.counterpartRenderer,po))||[]))}};iK(pr,"PlaylistPanelVideoWrapper"),pr.type="PlaylistPanelVideoWrapper";var pl=pr,pc=class extends i5{constructor(e){var t,i,n,s,a,o;super(),this.title=e.title,this.title_text=new n_(e.titleText),this.contents=na.parseArray(e.contents,[pl,po,ae]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextRadioContinuationData)||void 0===n?void 0:n.continuation)||(null===(o=null===(a=null===(s=e.continuations)||void 0===s?void 0:s[0])||void 0===a?void 0:a.nextContinuationData)||void 0===o?void 0:o.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};iK(pc,"PlaylistPanel"),pc.type="PlaylistPanel";var pd=pc,ph=class extends i5{constructor(e){super(),this.content=na.parseItem(e.content,pd)}};iK(ph,"MusicQueue"),ph.type="MusicQueue";var pu=ph,pp=class extends i5{constructor(e){var t,i,n,s;super(),this.title=new n_(e.title),this.contents=na.parseArray(e.contents,u$),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new nm(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=(null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(s=null===(n=e.continuations)||void 0===n?void 0:n[0].reloadContinuationData)||void 0===s?void 0:s.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new n_(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=na.parseItem(e.bottomButton,nl)),Reflect.has(e,"subheaders")&&(this.subheaders=na.parseArray(e.subheaders))}};iK(pp,"MusicShelf"),pp.type="MusicShelf";var pm=pp,pf=class extends i5{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=na.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=na.parseArray(e.endItems))}};iK(pf,"MusicSideAlignedItem"),pf.type="MusicSideAlignedItem";var pv=pf,pg=class extends i5{constructor(e){super(),this.title=new n_(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=na.parseItem(e.menu,h8)}};iK(pg,"MusicSortFilterButton"),pg.type="MusicSortFilterButton";var py=pg,p_=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail)}};iK(p_,"MusicTastebuilderShelfThumbnail"),p_.type="MusicTastebuilderShelfThumbnail";var pb=p_,pw=class extends i5{constructor(e){super(),this.thumbnail=na.parseItem(e.thumbnail,pb),this.primary_text=new n_(e.primaryText),this.secondary_text=new n_(e.secondaryText),this.action_button=na.parseItem(e.actionButton,nl),this.is_visible=e.isVisible}};iK(pw,"MusicTasteBuilderShelf"),pw.type="MusicTasteBuilderShelf";var px=pw,pS=class extends i5{constructor(e){var t,i;super(),this.title=new n_(e.title),this.thumbnail=e.thumbnail?nf.fromResponse(null===(t=e.thumbnail.musicThumbnailRenderer)||void 0===t?void 0:t.thumbnail):[],this.menu=na.parseItem(e.menu,nN),this.foreground_thumbnail=e.foregroundThumbnail?nf.fromResponse(null===(i=e.foregroundThumbnail.musicThumbnailRenderer)||void 0===i?void 0:i.thumbnail):[]}};iK(pS,"MusicVisualHeader"),pS.type="MusicVisualHeader";var pC=pS,pT=class extends i5{constructor(e){super(),this.thumbnails=nf.fromResponse(e.thumbnail),this.video_thumbnails=nf.fromResponse(e.videoThumbnail),this.short_message=new n_(e.shortMessage),this.sent_time=new n_(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new nm(e.navigationEndpoint),this.record_click_endpoint=new nm(e.recordClickEndpoint),this.menu=na.parseItem(e.contextualMenu),this.read=e.read}};iK(pT,"Notification"),pT.type="Notification";var pI=pT,pk=class extends i5{constructor(e){super(),this.title=na.parseItem(e.title,lG),this.image=na.parseItem(e.image,nQ),this.metadata=na.parseItem(e.metadata,lx),this.actions=na.parseItem(e.actions,cp)}};iK(pk,"PageHeaderView"),pk.type="PageHeaderView";var pE=pk,pA=class extends i5{constructor(e){super(),this.page_title=e.pageTitle,this.content=na.parseItem(e.content,pE)}};iK(pA,"PageHeader"),pA.type="PageHeader";var pP=pA,pR=class extends i5{constructor(e){super(),this.header_text=new n_(e.headerText).toString(),this.body_text=new n_(e.bodyText).toString(),this.page_title=new n_(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};iK(pR,"PageIntroduction"),pR.type="PageIntroduction";var pM=pR,pL=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail),this.endpoint=new nm(e.onClickCommand),this.content_description=new n_(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new n_(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};iK(pL,"PivotButton"),pL.type="PivotButton";var pD=pL,pN=class extends i5{constructor(e){super(),this.endpoint=new nm(e.endpoint),this.enable_listen_first=e.enableListenFirst}};iK(pN,"PlayerOverflow"),pN.type="PlayerOverflow";var pO=pN,pB=class extends i5{constructor(e){super(),this.overflow=na.parseItem(e.overflow,pO)}};iK(pB,"PlayerControlsOverlay"),pB.type="PlayerControlsOverlay";var pV=pB,pU=class extends i5{constructor(e){super(),this.subreason=new n_(e.subreason),this.reason=new n_(e.reason),this.proceed_button=na.parseItem(e.proceedButton,nl),this.thumbnails=nf.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};iK(pU,"PlayerErrorMessage"),pU.type="PlayerErrorMessage";var pH=pU,pF=class extends i5{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};iK(pF,"PlayerLegacyDesktopYpcOffer"),pF.type="PlayerLegacyDesktopYpcOffer";var pj=pF,pW=class extends i5{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};iK(pW,"YpcTrailer"),pW.type="YpcTrailer";var p$=pW,pG=class extends i5{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=na.parseItem(e.ypcTrailer,p$)}};iK(pG,"PlayerLegacyDesktopYpcTrailer"),pG.type="PlayerLegacyDesktopYpcTrailer";var pK=pG,pY=class extends i5{constructor(e){var t;super(),this.title=new n_(e.title),this.description=new n_(e.description),this.thumbnails=nf.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(null===(t=e.liveBroadcastDetails)||void 0===t?void 0:t.startTimestamp)?new Date(e.liveBroadcastDetails.startTimestamp):null}};iK(pY,"PlayerMicroformat"),pY.type="PlayerMicroformat";var pq=pY,pz=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.video_id=e.videoId,this.video_title=new n_(e.videoTitle),this.short_view_count=new n_(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new n_(e.publishedTimeText),this.background=nf.fromResponse(e.background),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.author=new wc(e.byline),this.cancel_button=na.parseItem(e.cancelButton,nl),this.next_button=na.parseItem(e.nextButton,nl),this.close_button=na.parseItem(e.closeButton,nl)}};iK(pz,"PlayerOverlayAutoplay"),pz.type="PlayerOverlayAutoplay";var pX=pz,pJ=class extends i5{constructor(e){super(),this.results=na.parseArray(e.results,[l7,l9]),this.title=new n_(e.title).toString()}};iK(pJ,"WatchNextEndScreen"),pJ.type="WatchNextEndScreen";var pQ=pJ,pZ=class extends i5{constructor(e){super(),this.end_screen=na.parseItem(e.endScreen,pQ),this.autoplay=na.parseItem(e.autoplay,pX),this.share_button=na.parseItem(e.shareButton,nl),this.add_to_menu=na.parseItem(e.addToMenu,nN),this.fullscreen_engagement=na.parseItem(e.fullscreenEngagement),this.actions=na.parseArray(e.actions),this.browser_media_session=na.parseItem(e.browserMediaSession),this.decorated_player_bar=na.parseItem(e.decoratedPlayerBarRenderer,lB)}};iK(pZ,"PlayerOverlay"),pZ.type="PlayerOverlay";var p0=pZ,p1=class extends i5{constructor(e){super(),this.id=e.playlistId,this.title=new n_(e.title),this.subtitle=e.subtitle?new n_(e.subtitle):null,this.stats=e.stats.map(e=>new n_(e)),this.brief_stats=e.briefStats.map(e=>new n_(e)),this.author=e.ownerText||e.ownerEndpoint?new wc(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new n_(e.descriptionText),this.num_videos=new n_(e.numVideosText),this.view_count=new n_(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=na.parseItem(e.saveButton),this.shuffle_play_button=na.parseItem(e.shufflePlayButton),this.menu=na.parseItem(e.moreActionsMenu),this.banner=na.parseItem(e.playlistHeaderBanner)}};iK(p1,"PlaylistHeader"),p1.type="PlaylistHeader";var p2=p1,p3=class extends i5{constructor(e){super(),this.title=new n_(e.playlistTitle),this.thumbnails=nf.fromResponse(e.thumbnail),this.video_count=new n_(e.playlistVideoCount),this.channel_name=new n_(e.channelName),this.endpoint=new nm(e.action)}};iK(p3,"PlaylistInfoCardContent"),p3.type="PlaylistInfoCardContent";var p5=p3,p6=class extends i5{constructor(e){super(),this.title=e.title,this.description=e.description||null}};iK(p6,"PlaylistMetadata"),p6.type="PlaylistMetadata";var p4=p6,p9=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items)}get contents(){return this.items}};iK(p9,"PlaylistSidebar"),p9.type="PlaylistSidebar";var p8=p9,p7=class extends i5{constructor(e){super(),this.stats=e.stats.map(e=>new n_(e)),this.thumbnail_renderer=na.parseItem(e.thumbnailRenderer),this.title=new n_(e.title),this.menu=na.parseItem(e.menu),this.endpoint=new nm(e.navigationEndpoint),this.description=new n_(e.description)}};iK(p7,"PlaylistSidebarPrimaryInfo"),p7.type="PlaylistSidebarPrimaryInfo";var me=p7,mt=class extends i5{constructor(e){super(),this.owner=na.parseItem(e.videoOwner),this.button=na.parseItem(e.button)}};iK(mt,"PlaylistSidebarSecondaryInfo"),mt.type="PlaylistSidebarSecondaryInfo";var mi=mt,mn=class extends i5{constructor(e){super(),this.id=e.videoId,this.index=new n_(e.index),this.title=new n_(e.title),this.author=new wc(e.shortBylineText),this.thumbnails=nf.fromResponse(e.thumbnail),this.thumbnail_overlays=na.parseArray(e.thumbnailOverlays),this.set_video_id=null==e?void 0:e.setVideoId,this.endpoint=new nm(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=na.parseItem(e.menu,nN),this.video_info=new n_(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let t=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);t&&(this.upcoming=new Date(t)),this.duration={text:new n_(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return(null===(e=this.thumbnail_overlays.firstOfType(nq))||void 0===e?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return(null===(e=this.thumbnail_overlays.firstOfType(nq))||void 0===e?void 0:e.style)==="UPCOMING"}};iK(mn,"PlaylistVideo"),mn.type="PlaylistVideo";var ms=mn,ma=class extends i5{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=na.parseArray(e.contents)}};iK(ma,"PlaylistVideoList"),ma.type="PlaylistVideoList";var mo=ma,mr=class extends i5{constructor(e){super(),this.choices=e.choices.map(e=>({text:new n_(e.text),select_endpoint:e.selectServiceEndpoint?new nm(e.selectServiceEndpoint):null,deselect_endpoint:e.deselectServiceEndpoint?new nm(e.deselectServiceEndpoint):null,vote_ratio_if_selected:(null==e?void 0:e.voteRatioIfSelected)||null,vote_percentage_if_selected:new n_(e.votePercentageIfSelected),vote_ratio_if_not_selected:(null==e?void 0:e.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new n_(e.votePercentageIfSelected),image:e.image?nf.fromResponse(e.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new n_(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};iK(mr,"Poll"),mr.type="Poll";var ml=mr,mc=class extends ad{constructor(e){super(e)}};iK(mc,"Post"),mc.type="Post";var md=mc,mh=class extends i5{constructor(e){super(),this.images=na.parseArray(e.images,ai)}};iK(mh,"PostMultiImage"),mh.type="PostMultiImage";var mu=mh,mp=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};iK(mp,"ProductListHeader"),mp.type="ProductListHeader";var mm=mp,mf=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=nf.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new nm(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=na.parseItem(e.viewButton,nl)}};iK(mf,"ProductListItem"),mf.type="ProductListItem";var mv=mf,mg=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items)}get contents(){return this.items}};iK(mg,"ProfileColumn"),mg.type="ProfileColumn";var my=mg,m_=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items)}get contents(){return this.items}};iK(m_,"ProfileColumnStats"),m_.type="ProfileColumnStats";var mb=m_,mw=class extends i5{constructor(e){super(),this.label=new n_(e.label),this.value=new n_(e.value)}};iK(mw,"ProfileColumnStatsEntry"),mw.type="ProfileColumnStatsEntry";var mx=mw,mS=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.thumbnails=nf.fromResponse(e.thumbnail)}};iK(mS,"ProfileColumnUserInfo"),mS.type="ProfileColumnUserInfo";var mC=mS,mT=class extends i5{constructor(e){super(),this.choices=e.choices.map(e=>({text:new n_(e.text),is_correct:e.isCorrect})),this.total_votes=new n_(e.totalVotes)}};iK(mT,"Quiz"),mT.type="Quiz";var mI=mT,mk=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.subtitle=new n_(e.subtitle),this.avatars=e.avatars.map(e=>new nf(e)),this.button=na.parseItem(e.button,nl),this.surface=e.surface}};iK(mk,"RecognitionShelf"),mk.type="RecognitionShelf";var mE=mk,mA=class extends i5{constructor(e){super(),this.id=e.videoId,this.title=new n_(e.headline),this.thumbnails=nf.fromResponse(e.thumbnail),this.views=new n_(e.viewCountText),this.endpoint=new nm(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};iK(mA,"ReelItem"),mA.type="ReelItem";var mP=mA,mR=class extends i5{constructor(e){super(),this.reel_title_text=new n_(e.reelTitleText),this.timestamp_text=new n_(e.timestampText),this.channel_title_text=new n_(e.channelTitleText),this.channel_thumbnail=nf.fromResponse(e.channelThumbnail),this.author=new wc(e.channelNavigationEndpoint,void 0)}};iK(mR,"ReelPlayerHeader"),mR.type="ReelPlayerHeader";var mM=mR,mL=class extends i5{constructor(e){super(),this.like_button=na.parseItem(e.likeButton,d_),this.reel_player_header_supported_renderers=na.parseItem(e.reelPlayerHeaderSupportedRenderers,mM),this.menu=na.parseItem(e.menu,nN),this.next_item_button=na.parseItem(e.nextItemButton,nl),this.prev_item_button=na.parseItem(e.prevItemButton,nl),this.subscribe_button_renderer=na.parseItem(e.subscribeButtonRenderer,nl),this.style=e.style,this.view_comments_button=na.parseItem(e.viewCommentsButton,nl),this.share_button=na.parseItem(e.shareButton,nl),this.pivot_button=na.parseItem(e.pivotButton,pD),this.info_panel=na.parseItem(e.infoPanel,dr)}};iK(mL,"ReelPlayerOverlay"),mL.type="ReelPlayerOverlay";var mD=mL,mN=class extends i5{constructor(e){super(),this.content=na.parseItem(e.content)}};iK(mN,"RelatedChipCloud"),mN.type="RelatedChipCloud";var mO=mN,mB=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header),this.contents=na.parseArray(e.contents)}};iK(mB,"RichGrid"),mB.type="RichGrid";var mV=mB,mU=class extends i5{constructor(e){super(),this.content=na.parseItem(e.content)}};iK(mU,"RichItem"),mU.type="RichItem";var mH=mU,mF=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.subtitle=new n_(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};iK(mF,"RichListHeader"),mF.type="RichListHeader";var mj=mF,mW=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail),this.title=new n_(e.title),this.subtitle=new n_(e.subtitle),this.call_to_action=new n_(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new nm(e.endpoint)}};iK(mW,"RichMetadata"),mW.type="RichMetadata";var m$=mW,mG=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents)}};iK(mG,"RichMetadataRow"),mG.type="RichMetadataRow";var mK=mG,mY=class extends i5{constructor(e){super(),this.content=na.parseItem(e.content)}};iK(mY,"RichSection"),mY.type="RichSection";var mq=mY,mz=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.contents=na.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new nm(e.endpoint))}};iK(mz,"RichShelf"),mz.type="RichShelf";var mX=mz,mJ=class extends i5{constructor(e){super(),this.endpoint=new nm(e.endpoint),this.search_button=na.parseItem(e.searchButton,nl),this.clear_button=na.parseItem(e.clearButton,nl),this.placeholder_text=new n_(e.placeholderText)}};iK(mJ,"SearchBox"),mJ.type="SearchBox";var mQ=mJ,mZ=class extends i5{constructor(e){super(),this.label=new n_(e.label),this.endpoint=new nm(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return"FILTER_STATUS_DISABLED"===this.status}get selected(){return"FILTER_STATUS_SELECTED"===this.status}};iK(mZ,"SearchFilter"),mZ.type="SearchFilter";var m0=mZ,m1=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.filters=na.parseArray(e.filters,m0)}};iK(m1,"SearchFilterGroup"),m1.type="SearchFilterGroup";var m2=m1,m3=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.groups=na.parseArray(e.groups,m2)}};iK(m3,"SearchFilterOptionsDialog"),m3.type="SearchFilterOptionsDialog";var m5=m3,m6=class extends i5{constructor(e){super(),this.chip_bar=na.parseItem(e.chipBar,oa),this.search_filter_button=na.parseItem(e.searchFilterButton,nl)}};iK(m6,"SearchHeader"),m6.type="SearchHeader";var m4=m6,m9=class extends i5{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new n_(e.title)),Reflect.has(e,"groups")&&(this.groups=na.parseArray(e.groups,m2)),Reflect.has(e,"button")&&(this.button=na.parseItem(e.button,as))}};iK(m9,"SearchSubMenu"),m9.type="SearchSubMenu";var m8=m9,m7=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents)}};iK(m7,"SearchSuggestionsSection"),m7.type="SearchSuggestionsSection";var fe=m7,ft=class extends i5{constructor(e){super(),this.contents=na.parseArray(e.contents)}};iK(ft,"SecondarySearchContainer"),ft.type="SecondarySearchContainer";var fi=ft,fn=class extends i5{constructor(e){super(),this.like_button=na.parseItem(e.likeButton,[as,nl]),this.dislike_button=na.parseItem(e.dislikeButton,[as,nl])}};iK(fn,"SegmentedLikeDislikeButton"),fn.type="SegmentedLikeDislikeButton";var fs=fn,fa=class extends i5{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new n_(e.title)),Reflect.has(e,"summary")&&(this.summary=new n_(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new nm(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new nm(e.disableServiceEndpoint)),this.item_id=e.itemId}};iK(fa,"SettingBoolean"),fa.type="SettingBoolean";var fo=fa,fr=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.help_text=new n_(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};iK(fr,"SettingsCheckbox"),fr.type="SettingsCheckbox";var fl=fr,fc=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.subtitle=new n_(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new nm(e.enableServiceEndpoint),this.disable_endpoint=new nm(e.disableServiceEndpoint)}};iK(fc,"SettingsSwitch"),fc.type="SettingsSwitch";var fd=fc,fh=class extends i5{constructor(e){super(),this.title=new n_(e.title),Reflect.has(e,"text")&&(this.text=new n_(e.text).toString()),Reflect.has(e,"options")&&(this.options=na.parseArray(e.options,[fd,nd,lE,fl,aZ]))}};iK(fh,"SettingsOptions"),fh.type="SettingsOptions";var fu=fh,fp=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.items=na.parseArray(e.items,ls)}get contents(){return this.items}};iK(fp,"SettingsSidebar"),fp.type="SettingsSidebar";var fm=fp,ff=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail),this.content=new n_(e.content),this.published=new n_(e.publishedTimeText),this.menu=gz(e.actionMenu,nN),this.original_post=gz(e.originalPost,ad),this.id=e.postId,this.endpoint=new nm(e.navigationEndpoint),this.expand_button=gz(e.expandButton,nl),this.author=new wc(e.displayName,void 0)}};iK(ff,"SharedPost"),ff.type="SharedPost";var fv=ff,fg=class extends i5{constructor(e){super(),this.title=new n_(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new nm(e.endpoint)),this.content=na.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=na.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=na.parseItem(e.playAllButton,nl))}};iK(fg,"Shelf"),fg.type="Shelf";var fy=fg,f_=class extends i5{constructor(e){super(),this.corrected_query=new n_(e.correctedQuery),this.original_query=new n_(e.originalQuery),this.corrected_query_endpoint=new nm(e.correctedQueryEndpoint),this.original_query_endpoint=new nm(e.originalQueryEndpoint),this.search_instead_for=new n_(e.searchInsteadFor),this.showing_results_for=new n_(e.showingResultsFor)}};iK(f_,"ShowingResultsFor"),f_.type="ShowingResultsFor";var fb=f_,fw=class extends i5{constructor(e){super(),this.image=nf.fromResponse(e.image),this.title=new n_(e.title),this.display_domain=new n_(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new n_(e.callToAction),this.endpoint=new nm(e.command)}};iK(fw,"SimpleCardContent"),fw.type="SimpleCardContent";var fx=fw,fS=class extends i5{constructor(e){super(),this.message=new n_(e.message),this.prominent=e.prominent}};iK(fS,"SimpleCardTeaser"),fS.type="SimpleCardTeaser";var fC=fS,fT=class extends i5{constructor(e){super(),this.lines=e.lines.map(e=>new n_(e)),this.style=e.layoutStyle}};iK(fT,"SimpleTextSection"),fT.type="SimpleTextSection";var fI=fT,fk=class extends i5{constructor(e){super(),this.action_text=new n_(e.actionText),this.nav_text=new n_(e.navigationText),this.details=new n_(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new nm(e.navigationEndpoint)}};iK(fk,"SingleActionEmergencySupport"),fk.type="SingleActionEmergencySupport";var fE=fk,fA=class extends i5{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new nm(e.endpoint),this.content=na.parseItem(e.content,[nH,pu,mV])}};iK(fA,"Tab"),fA.type="Tab";var fP=fA,fR=class extends i5{constructor(e){super(),this.tabs=na.parseArray(e.tabs,fP)}};iK(fR,"SingleColumnBrowseResults"),fR.type="SingleColumnBrowseResults";var fM=fR,fL=class extends i5{constructor(e){super(),this.contents=na.parse(e)}};iK(fL,"SingleColumnMusicWatchNextResults"),fL.type="SingleColumnMusicWatchNextResults";var fD=fL,fN=class extends i5{constructor(e){super(),this.thumbnails=nf.fromResponse(e.thumbnail),this.style=e.style}};iK(fN,"SingleHeroImage"),fN.type="SingleHeroImage";var fO=fN,fB=class extends i5{constructor(e){super(),this.thumbnail=nf.fromResponse(e.thumbnail),this.title=new n_(e.title),this.endpoint=new nm(e.navigationEndpoint),this.subscribe_button=na.parseItem(e.subscribeButton,aA)}};iK(fB,"SlimOwner"),fB.type="SlimOwner";var fV=fB,fU=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.collapsed_subtitle=new n_(e.collapsedSubtitle),this.expanded_subtitle=new n_(e.expandedSubtitle),this.owner=na.parseItem(e.owner),this.description=new n_(e.description),this.video_id=e.videoId,this.date=new n_(e.dateText)}};iK(fU,"SlimVideoMetadata"),fU.type="SlimVideoMetadata";var fH=fU,fF=class extends i5{constructor(e){super(),this.name=new n_(e.name),this.is_selected=e.isSelected,this.endpoint=new nm(e.navigationEndpoint)}};iK(fF,"SubFeedOption"),fF.type="SubFeedOption";var fj=fF,fW=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.options=na.parseArray(e.options,fj)}};iK(fW,"SubFeedSelector"),fW.type="SubFeedSelector";var f$=fW,fG=class extends i5{constructor(e){super(),this.contents=na.parse(e)}};iK(fG,"Tabbed"),fG.type="Tabbed";var fK=fG,fY=class extends i5{constructor(e){super(),this.tabs=na.parseArray(e.tabs,fP)}};iK(fY,"TabbedSearchResults"),fY.type="TabbedSearchResults";var fq=fY,fz=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.style=e.style}};iK(fz,"TextHeader"),fz.type="TextHeader";var fX=fz,fJ=class extends i5{constructor(e){super(),this.landscape=nf.fromResponse(e.landscape),this.portrait=nf.fromResponse(e.portrait)}};iK(fJ,"ThumbnailLandscapePortrait"),fJ.type="ThumbnailLandscapePortrait";var fQ=fJ,fZ=class extends i5{constructor(e){super(),this.text=new n_(e.text).toString()}};iK(fZ,"ThumbnailOverlayEndorsement"),fZ.type="ThumbnailOverlayEndorsement";var f0=fZ,f1=class extends i5{constructor(e){super(),this.text=new n_(e.text),this.icon_type=e.icon.iconType}};iK(f1,"ThumbnailOverlayHoverText"),f1.type="ThumbnailOverlayHoverText";var f2=f1,f3=class extends i5{constructor(e){super(),this.text=new n_(e.text).toString(),this.icon_type=e.icon.iconType}};iK(f3,"ThumbnailOverlayInlineUnplayable"),f3.type="ThumbnailOverlayInlineUnplayable";var f5=f3,f6=class extends i5{constructor(e){super(),this.text=new n_(e.text)}};iK(f6,"ThumbnailOverlayLoadingPreview"),f6.type="ThumbnailOverlayLoadingPreview";var f4=f6,f9=class extends i5{constructor(e){super(),this.text=new n_(e.text).toString()}};iK(f9,"ThumbnailOverlayNowPlaying"),f9.type="ThumbnailOverlayNowPlaying";var f8=f9,f7=class extends i5{constructor(e){super(),this.hack=e.hack}};iK(f7,"ThumbnailOverlayPinking"),f7.type="ThumbnailOverlayPinking";var ve=f7,vt=class extends i5{constructor(e){super(),this.texts=e.texts.map(e=>new n_(e))}};iK(vt,"ThumbnailOverlayPlaybackStatus"),vt.type="ThumbnailOverlayPlaybackStatus";var vi=vt,vn=class extends i5{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};iK(vn,"ThumbnailOverlayResumePlayback"),vn.type="ThumbnailOverlayResumePlayback";var vs=vn,va=class extends i5{constructor(e){super(),this.text=new n_(e.text),this.icon_type=e.icon.iconType}};iK(va,"ThumbnailOverlaySidePanel"),va.type="ThumbnailOverlaySidePanel";var vo=va,vr=class extends i5{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new nm(e.toggledServiceEndpoint),this.untoggled_endpoint=new nm(e.untoggledServiceEndpoint)}};iK(vr,"ThumbnailOverlayToggleButton"),vr.type="ThumbnailOverlayToggleButton";var vl=vr,vc=class extends i5{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new n_(e.label),this.icon=e.icon}};iK(vc,"TimedMarkerDecoration"),vc.type="TimedMarkerDecoration";var vd=vc,vh=class extends i5{constructor(e){super(),this.title=new n_(e.title)}};iK(vh,"TitleAndButtonListHeader"),vh.type="TitleAndButtonListHeader";var vu=vh,vp=class extends i5{constructor(e){super(),this.text=new n_(e.defaultText),this.toggled_text=new n_(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new nm(e.defaultServiceEndpoint),this.toggled_endpoint=new nm(e.toggledServiceEndpoint)}};iK(vp,"ToggleMenuServiceItem"),vp.type="ToggleMenuServiceItem";var vm=vp,vf=class extends i5{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(e=>new nm(e)),accept:new nm(e.promoConfig.acceptCommand),dismiss:new nm(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new n_(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};iK(vf,"Tooltip"),vf.type="Tooltip";var vv=vf,vg=class extends i5{constructor(e){var t;super(),this.title=new n_(e.title),this.avatar=nf.fromResponse(null!==(t=e.thumbnail)&&void 0!==t?t:e.avatar),this.subtitle=new n_(e.subtitle),this.subscribe_button=na.parseItem(e.subscribeButton,aA),this.endpoint=new nm(e.navigationEndpoint)}};iK(vg,"TopicChannelDetails"),vg.type="TopicChannelDetails";var vy=vg,v_=class extends i5{constructor(e){super(),this.tabs=na.parse(e.tabs),this.secondary_contents=na.parse(e.secondaryContents)}};iK(v_,"TwoColumnBrowseResults"),v_.type="TwoColumnBrowseResults";var vb=v_,vw=class extends i5{constructor(e){super(),this.primary_contents=na.parse(e.primaryContents),this.secondary_contents=na.parse(e.secondaryContents)}};iK(vw,"TwoColumnSearchResults"),vw.type="TwoColumnSearchResults";var vx=vw,vS=class extends i5{constructor(e){var t,i,n,s,a;super(),P.add(this),this.results=na.parseArray(null===(t=e.results)||void 0===t?void 0:t.results.contents),this.secondary_results=na.parseArray(null===(i=e.secondaryResults)||void 0===i?void 0:i.secondaryResults.results),this.conversation_bar=na.parseItem(null==e?void 0:e.conversationBar);let o=null===(n=e.playlist)||void 0===n?void 0:n.playlist;o&&(this.playlist={id:o.playlistId,title:o.title,author:(null===(s=o.shortBylineText)||void 0===s?void 0:s.simpleText)?new n_(o.shortBylineText):new wc(o.longBylineText),contents:na.parseArray(o.contents),current_index:o.currentIndex,is_infinite:!!o.isInfinite,menu:na.parseItem(o.menu,nN)});let r=null===(a=e.autoplay)||void 0===a?void 0:a.autoplay;r&&(this.autoplay={sets:r.sets.map(e=>i1(this,P,"m",R).call(this,e))},r.modifiedSets&&(this.autoplay.modified_sets=r.modifiedSets.map(e=>i1(this,P,"m",R).call(this,e))),r.countDownSecs&&(this.autoplay.count_down_secs=r.countDownSecs))}};iK(vS,"TwoColumnWatchNextResults"),P=new WeakSet,R=iK(function(e){let t={autoplay_video:new nm(e.autoplayVideo)};return e.nextButtonVideo&&(t.next_button_video=new nm(e.nextButtonVideo)),t},"_TwoColumnWatchNextResults_parseAutoplaySet"),vS.type="TwoColumnWatchNextResults";var vC=vS,vT=class extends i5{constructor(e){super(),this.header=na.parseItem(e.header),this.call_to_action=na.parseItem(e.callToAction),this.sections=na.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new n_(e.collapsedLabel))}};iK(vT,"UniversalWatchCard"),vT.type="UniversalWatchCard";var vI=vT,vk=class extends i5{constructor(e){super(),this.message_title=new n_(e.dialogMessageTitle),this.message_text=new n_(e.dialogMessageText),this.action_button=na.parseItem(e.actionButton,nl),this.dismiss_button=na.parseItem(e.dismissButton,nl),this.is_visible=e.isVisible}};iK(vk,"UpsellDialog"),vk.type="UpsellDialog";var vE=vk,vA=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new n_(e.collapsedStateButtonText)}get contents(){return this.items}};iK(vA,"VerticalList"),vA.type="VerticalList";var vP=vA,vR=class extends i5{constructor(e){super(),this.items=na.parseArray(e.items),this.view_all_text=new n_(e.viewAllText),this.view_all_endpoint=new nm(e.viewAllEndpoint)}get contents(){return this.items}};iK(vR,"VerticalWatchCardList"),vR.type="VerticalWatchCardList";var vM=vR,vL=class extends i5{constructor(e){super(),this.title=new n_(e.videoTitle),this.channel_name=new n_(e.channelName),this.view_count=new n_(e.viewCountText),this.video_thumbnails=nf.fromResponse(e.videoThumbnail),this.duration=new n_(e.lengthString),this.endpoint=new nm(e.action)}};iK(vL,"VideoInfoCardContent"),vL.type="VideoInfoCardContent";var vD=vL,vN=class extends i5{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new n_(e.subscriberCountText),this.author=new wc(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};iK(vN,"VideoOwner"),vN.type="VideoOwner";var vO=vN,vB=class extends i5{constructor(e){var t,i,n,s;super(),this.title=new n_(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new n_(e.superTitleLink)),this.view_count=new n_(null===(i=null===(t=e.viewCount)||void 0===t?void 0:t.videoViewCountRenderer)||void 0===i?void 0:i.viewCount),this.short_view_count=new n_(null===(s=null===(n=e.viewCount)||void 0===n?void 0:n.videoViewCountRenderer)||void 0===s?void 0:s.shortViewCount),this.badges=na.parseArray(e.badges,nY),this.published=new n_(e.dateText),this.relative_date=new n_(e.relativeDateText),this.menu=na.parseItem(e.videoActions,nN)}};iK(vB,"VideoPrimaryInfo"),vB.type="VideoPrimaryInfo";var vV=vB,vU=class extends i5{constructor(e){super(),this.owner=na.parseItem(e.owner,vO),this.description=new n_(e.description),Reflect.has(e,"attributedDescription")&&(this.description=n_.fromAttributed(e.attributedDescription)),this.subscribe_button=na.parseItem(e.subscribeButton,[aA,nl]),this.metadata=na.parseItem(e.metadataRowContainer,ul),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};iK(vU,"VideoSecondaryInfo"),vU.type="VideoSecondaryInfo";var vH=vU,vF=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.subtitle=new n_(e.subtitle),this.duration={text:new n_(e.lengthText).toString(),seconds:wT(e.lengthText.simpleText)},this.style=e.style}};iK(vF,"WatchCardCompactVideo"),vF.type="WatchCardCompactVideo";var vj=vF,vW=class extends i5{constructor(e){var t;super(),this.endpoint=new nm(e.navigationEndpoint),this.call_to_action_button=na.parseItem(e.callToActionButton),this.hero_image=na.parseItem(e.heroImage),this.label=(null===(t=e.lengthText)||void 0===t?void 0:t.accessibility.accessibilityData.label)||""}};iK(vW,"WatchCardHeroVideo"),vW.type="WatchCardHeroVideo";var v$=vW,vG=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.title_endpoint=new nm(e.titleNavigationEndpoint),this.subtitle=new n_(e.subtitle),this.author=new wc(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};iK(vG,"WatchCardRichHeader"),vG.type="WatchCardRichHeader";var vK=vG,vY=class extends i5{constructor(e){super(),this.lists=na.parseArray(e.lists)}};iK(vY,"WatchCardSectionSequence"),vY.type="WatchCardSectionSequence";var vq=vY,vz=class extends vb{constructor(e){super(e)}};iK(vz,"WatchNextTabbedResults"),vz.type="WatchNextTabbedResults";var vX=vz,vJ=class extends i5{constructor(e){var t,i;super(),this.title=e.title,this.content=na.parseItem(e.content,nH),this.endpoint=new nm(e.navigationEndpoint),this.category_assets={asset_key:null===(t=e.categoryAssets)||void 0===t?void 0:t.assetKey,background_color:null===(i=e.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=e.categoryType}};iK(vJ,"AnchoredSection"),vJ.type="AnchoredSection";var vQ=vJ,vZ=class extends i5{constructor(e){super(),M.set(this,void 0),this.child_display_name=new n_(e.childDisplayName),this.child_account_description=new n_(e.childAccountDescription),this.avatar=nf.fromResponse(e.avatar),this.block_button=na.parseItem(e.blockButton,[as]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return iX(this,void 0,void 0,function*(){if(!i1(this,M,"f"))throw new wu("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new wu("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new wu("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(i1(this,M,"f"),{parse:!1})})}setActions(e){i2(this,M,e,"f")}};iK(vZ,"KidsBlocklistPickerItem"),M=new WeakMap,vZ.type="KidsBlocklistPickerItem";var v0=vZ,v1=class extends i5{constructor(e){super(),this.title=new n_(e.title),this.child_rows=na.parse(e.childRows,!0,[v0]),this.done_button=na.parseItem(e.doneButton,[nl]),this.successful_toast_action_message=new n_(e.successfulToastActionMessage)}};iK(v1,"KidsBlocklistPicker"),v1.type="KidsBlocklistPicker";var v2=v1,v3=class extends i5{constructor(e){var t,i;super(),this.title=new n_(e.title),this.category_assets={asset_key:null===(t=e.categoryAssets)||void 0===t?void 0:t.assetKey,background_color:null===(i=e.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=e.categoryType,this.endpoint=new nm(e.endpoint)}};iK(v3,"KidsCategoryTab"),v3.type="KidsCategoryTab";var v5=v3,v6=class extends i5{constructor(e){super(),this.category_tabs=na.parseArray(e.categoryTabs,v5),this.privacy_button=na.parseItem(e.privacyButtonRenderer,nl)}};iK(v6,"KidsCategoriesHeader"),v6.type="kidsCategoriesHeader";var v4=v6,v9=class extends i5{constructor(e){super(),this.anchors=na.parseArray(e.anchors,vQ)}};iK(v9,"KidsHomeScreen"),v9.type="kidsHomeScreen";var v8=v9;iY({},{camelToSnake:()=>gt,createRuntimeClass:()=>gh,generateRuntimeClass:()=>gu,generateTypescriptClass:()=>gp,inferType:()=>gi,introspect:()=>gc,isIgnoredKey:()=>gd,isMiscType:()=>gs,isRenderer:()=>ga,isRendererList:()=>gn,mergeKeyInfo:()=>g_,parse:()=>gy,toParser:()=>gf,toTypeDeclaration:()=>gm});var v7=new Set(["trackingParams","accessibility","accessibilityData"]),ge={};function gt(e){return e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function gi(e,t){let i=!1;if("object"==typeof t&&null!=t){if(i=ga(t))return ge[i]=Reflect.get(t,Reflect.ownKeys(t)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=gn(t)){for(let[e,t]of Object.entries(i))ge[e]=t;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=gs(e,t))return i}let n=typeof t;return"object"===n?{type:"object",keys:Object.entries(t).map(([e,t])=>[e,gi(e,t)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}function gn(e){return!!(Array.isArray(e)&&e.every(e=>ga(e)))&&Object.fromEntries(e.map(e=>{let t=Reflect.ownKeys(e)[0].toString();return[gW(t),e[t]]}))}function gs(e,t){if("object"==typeof t&&null!==t){if(e.endsWith("Endpoint")||e.endsWith("Command")||"endpoint"===e)return{type:"misc",endpoint:new nm(t),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(t,"simpleText")||Reflect.has(t,"runs")){let e=new n_(t);return{type:"misc",misc_type:"Text",optional:!1,endpoint:e.endpoint,text:e.toString()}}if(Reflect.has(t,"thumbnails")&&Array.isArray(Reflect.get(t,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function ga(e){if("object"!=typeof e)return!1;let t=Reflect.ownKeys(e);return!!(1===t.length&&t[0].toString().includes("Renderer"))&&gW(t[0].toString())}function go(e){if("object"!=typeof e||null===e)throw new wu("Generator: Cannot introspect non-object",{classdata:e});return Reflect.ownKeys(e).filter(e=>!gd(e)).filter(e=>"string"==typeof e).map(t=>{let i=Reflect.get(e,t),n=gi(t,i);return[t,n]})}function gr(e){var t;let i;let n=e.filter(([,e])=>{var t;return"misc"===e.type&&("NavigationEndpoint"===e.misc_type||"Text"===e.misc_type)&&(null===(t=e.endpoint)||void 0===t?void 0:t.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,e],[,t])=>"misc"!==e.type||"misc"!==t.type||"Text"!==e.misc_type||"Text"!==t.misc_type?0:t.text.length-e.text.length),s=new Set,a=n[0];if(a){s.add(a[0]);let n=e.map(([e])=>e).filter(e=>e.endsWith("Badges")||"badges"===e),o=null!==(t=n.filter(e=>e.startsWith("owner")||e.startsWith("author"))[0])&&void 0!==t?t:n[0],r=e.find(([e])=>e===o),l=!!r&&"renderer_list"===r[1].type&&Reflect.has(r[1].renderers,"MetadataBadge");l&&o&&s.add(o),i={type:"misc",misc_type:"Author",optional:!1,params:[a[0],l?o:void 0]}}return i&&e.push(["author",i]),e.filter(([e])=>!s.has(e))}function gl(e){return gr(go(e))}function gc(e){let t=gl(e),i=new Map;for(let[,e]of t)if("renderer"===e.type||"renderer_list"===e.type)for(let t of e.renderers){let e=ge[t];e&&i.set(t,e)}return{key_info:t,unimplemented_dependencies:Array.from(i).filter(([e])=>!gG(e))}}function gd(e){return"string"==typeof e&&v7.has(e)}function gh(e,t,i){var n,s;i({error_type:"class_not_found",classname:e,key_info:t});let a=(iz(n=iK(class extends i5{static set key_info(e){i2(this,n,new Map(e),"f",s)}static get key_info(){return[...i1(this,n,"f",s).entries()]}constructor(t){super();let{key_info:n,unimplemented_dependencies:s}=gc(t),{resolved_key_info:o,changed_keys:r}=g_(a.key_info,n);for(let[t,n]of(r.length>0&&(a.key_info=o,i({error_type:"class_changed",classname:e,key_info:a.key_info,changed_keys:r})),s))gu(t,n,i);for(let[e,i]of n){let n=gt(e);"misc"===i.type&&"NavigationEndpoint"===i.misc_type&&(n="endpoint"),Reflect.set(this,n,gy(e,i,t))}}},"_a"),"node"),n.type=e,s={value:new Map},n);return a.key_info=t,Object.defineProperty(a,"name",{value:e,writable:!1}),a}function gu(e,t,i){let{key_info:n,unimplemented_dependencies:s}=gc(t),a=gh(e,n,i);for(let[t,n]of(gK(e,a),s))gu(t,n,i);return a}function gp(e,t){let i=[],n=["super();"];for(let[e,s]of t){let t=gt(e);"misc"===s.type&&"NavigationEndpoint"===s.misc_type&&(t="endpoint"),i.push(`${t}${s.optional?"?":""}: ${gm(s)};`),n.push(`this.${t} = ${gf(e,s)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${i.join("\n  ")}

  constructor(data: RawNode) {
    ${n.join("\n    ")}
  }
}
`}function gm(e,t=0){switch(e.type){case"renderer":return`${e.renderers.map(e=>`YTNodes.${e}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(e=>`YTNodes.${e}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([e,i])=>`${" ".repeat((t+2)*2)}${gt(e)}${i.optional?"?":""}: ${gm(i,t+1)}`).join(",\n")}
${" ".repeat((t+1)*2)}}`;case"misc":if("Thumbnail"===e.misc_type)return"Thumbnail[]";return e.misc_type;case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}function gf(e,t,i=["data"],n=1){let s="undefined";switch(t.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${e}, [ ${t.renderers.map(e=>`YTNodes.${e}`).join(", ")} ])`;break;case"renderer_list":s=`Parser.parse(${i.join(".")}.${e}, true, [ ${t.renderers.map(e=>`YTNodes.${e}`).join(", ")} ])`;break;case"object":{let a=[...i,e];s=`{
${t.keys.map(([e,t])=>`${" ".repeat((n+2)*2)}${gt(e)}: ${gf(e,t,a,n+1)}`).join(",\n")}
${" ".repeat((n+1)*2)}}`}break;case"misc":switch(t.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${e})`;break;case"Author":{let e=`new Author(${i.join(".")}.${t.params[0]}, ${t.params[1]?`${i.join(".")}.${t.params[1]}`:"undefined"})`;if(t.optional)return`Reflect.has(${i.join(".")}, '${t.params[0]}') ? ${e} : undefined`;return e}default:s=`new ${t.misc_type}(${i.join(".")}.${e})`}if("undefined"===s)throw Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":s=`${i.join(".")}.${e}`}return t.optional?`Reflect.has(${i.join(".")}, '${e}') ? ${s} : undefined`:s}function gv(e,t){let i=e;for(let e of t)i=i[e];return i}function gg(e,t){let i=e;for(let e of t)if(!Reflect.has(i,e))return!1;else i=i[e];return!0}function gy(e,t,i,n=["data"]){let s=!t.optional||gg({data:i},[...n,e]);switch(t.type){case"renderer":return s?gz(gv({data:i},[...n,e]),t.renderers.map(e=>g$(e))):void 0;case"renderer_list":return s?gJ(gv({data:i},[...n,e]),!0,t.renderers.map(e=>g$(e))):void 0;case"object":{let a={},o=[...n,e];for(let[e,n]of t.keys)a[e]=s?gy(e,n,i,o):void 0;return a}case"misc":switch(t.misc_type){case"NavigationEndpoint":return s?new nm(gv({data:i},[...n,e])):void 0;case"Text":return s?new n_(gv({data:i},[...n,e])):void 0;case"Thumbnail":return s?nf.fromResponse(gv({data:i},[...n,e])):void 0;case"Author":return!t.optional||gg({data:i},[...n,t.params[0]])?new wc(gv({data:i},[...n,t.params[0]]),t.params[1]?gv({data:i},[...n,t.params[1]]):void 0):void 0}throw Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return gv({data:i},[...n,e])}}function g_(e,t){let i=new Map,n=new Set(e.map(([e])=>e)),s=new Set(t.map(([e])=>e)),a=t.filter(([e])=>!n.has(e)),o=e.filter(([e])=>!s.has(e)),r=e.filter(([e])=>s.has(e)),l=new Map(t);for(let[e,t]of r){let n=l.get(e);if(n){if(t.type!==n.type){i.set(e,{type:"unknown",optional:!0});continue}switch(t.type){case"object":{if("object"!==n.type)continue;let{resolved_key_info:s}=g_(t.keys,n.keys),a={type:"object",keys:s,optional:t.optional||n.optional};JSON.stringify(a)!==JSON.stringify(t)&&i.set(e,a)}break;case"renderer":{if("renderer"!==n.type)continue;let s={type:"renderer",renderers:Object.assign(Object.assign({},t.renderers),n.renderers),optional:t.optional||n.optional};JSON.stringify(Object.assign(Object.assign({},s),{renderers:Object.keys(s.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},t),{renderers:Object.keys(t.renderers)}))&&i.set(e,s)}break;case"renderer_list":{if("renderer_list"!==n.type)continue;let s={type:"renderer_list",renderers:Object.assign(Object.assign({},t.renderers),n.renderers),optional:t.optional||n.optional};JSON.stringify(Object.assign(Object.assign({},s),{renderers:Object.keys(s.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},t),{renderers:Object.keys(t.renderers)}))&&i.set(e,s)}break;case"misc":if("misc"!==n.type)continue;switch(t.misc_type!==n.misc_type&&i.set(e,{type:"unknown",optional:!0}),t.misc_type){case"Author":{if("Author"!==n.misc_type)break;let s=t.params[1]||n.params[1],a={type:"misc",misc_type:"Author",optional:t.optional||n.optional,params:[n.params[0],s]};JSON.stringify(a)!==JSON.stringify(t)&&i.set(e,a)}}break;case"primative":{if("primative"!==n.type)continue;let s={type:"primative",typeof:Array.from(new Set([...n.typeof,...t.typeof])),optional:t.optional||n.optional};JSON.stringify(s)!==JSON.stringify(t)&&i.set(e,s)}}}}for(let[e,t]of a)i.set(e,Object.assign(Object.assign({},t),{optional:!0}));for(let[e,t]of o)i.set(e,Object.assign(Object.assign({},t),{optional:!0}));let c=e.filter(([e])=>!i.has(e));return{resolved_key_info:[...new Map([...c,...i]).entries()],changed_keys:[...i.entries()]}}iK(gt,"camelToSnake"),iK(gi,"inferType"),iK(gn,"isRendererList"),iK(gs,"isMiscType"),iK(ga,"isRenderer"),iK(go,"introspectKeysFirstPass"),iK(gr,"introspectKeysSecondPass"),iK(gl,"introspect2"),iK(gc,"introspect"),iK(gd,"isIgnoredKey"),iK(gh,"createRuntimeClass"),iK(gu,"generateRuntimeClass"),iK(gp,"generateTypescriptClass"),iK(gm,"toTypeDeclaration"),iK(gf,"toParser"),iK(gv,"accessDataFromKeyPath"),iK(gg,"hasDataFromKeyPath"),iK(gy,"parse"),iK(g_,"mergeKeyInfo");var gb=class extends i5{constructor(e){var t,i,n;super(),this.contents=gX(e.contents),Array.isArray(e.continuations)&&(this.continuation=null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)}};iK(gb,"ItemSectionContinuation"),gb.type="itemSectionContinuation";var gw=class extends i5{constructor(e){super(),this.endpoint=new nm(e.endpoint)}};iK(gw,"NavigateAction"),gw.type="navigateAction";var gx=class extends i5{constructor(e){super(),this.miniplayer_command=new nm(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};iK(gx,"ShowMiniplayerCommand"),gx.type="showMiniplayerCommand";var gS=class extends i5{constructor(e){super(),this.target_id=e.targetId,this.contents=gJ(e.continuationItems,!0),this.slot=null==e?void 0:e.slot}};iK(gS,"ReloadContinuationItemsCommand"),gS.type="reloadContinuationItemsCommand";var gC=class extends i5{constructor(e){var t,i,n,s,a,o;super(),this.contents=gJ(e.contents,!0),this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||(null===(o=null===(a=null===(s=e.continuations)||void 0===s?void 0:s[0])||void 0===a?void 0:a.reloadContinuationData)||void 0===o?void 0:o.continuation)||null}};iK(gC,"SectionListContinuation"),gC.type="sectionListContinuation";var gT=class extends i5{constructor(e){var t;super(),this.contents=gJ(e.contents,!0),this.continuation=(null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData.continuation)||null}};iK(gT,"MusicPlaylistShelfContinuation"),gT.type="musicPlaylistShelfContinuation";var gI=class extends i5{constructor(e){var t,i,n,s;super(),this.contents=gX(e.contents),this.continuation=(null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(s=null===(n=e.continuations)||void 0===n?void 0:n[0].reloadContinuationData)||void 0===s?void 0:s.continuation)||null}};iK(gI,"MusicShelfContinuation"),gI.type="musicShelfContinuation";var gk=class extends i5{constructor(e){var t;super(),this.items=gJ(e.items,!0),this.continuation=(null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData.continuation)||null}get contents(){return this.items}};iK(gk,"GridContinuation"),gk.type="gridContinuation";var gE=class extends i5{constructor(e){var t,i,n,s,a,o;super(),this.contents=gX(e.contents),this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||(null===(o=null===(a=null===(s=e.continuations)||void 0===s?void 0:s[0])||void 0===a?void 0:a.nextRadioContinuationData)||void 0===o?void 0:o.continuation)||null}};iK(gE,"PlaylistPanelContinuation"),gE.type="playlistPanelContinuation";var gA=class extends i5{constructor(e){var t,i,n;super(),this.continuation_type=e.type,this.timeout_ms=null===(t=e.continuation)||void 0===t?void 0:t.timeoutMs,this.time_until_last_message_ms=null===(i=e.continuation)||void 0===i?void 0:i.timeUntilLastMessageMsec,this.token=null===(n=e.continuation)||void 0===n?void 0:n.continuation}};iK(gA,"Continuation"),gA.type="continuation";var gP=class extends i5{constructor(e){var t,i,n,s,a,o,r,l;let c,d;super(),this.actions=gJ(null===(t=e.actions)||void 0===t?void 0:t.map(e=>(delete e.clickTrackingParams,e)),!0)||i9([]),this.action_panel=gz(e.actionPanel),this.item_list=gz(e.itemList,hH),this.header=gz(e.header,hV),this.participants_list=gz(e.participantsList,hK),this.popout_message=gz(e.popoutMessage,lC),this.emojis=(null===(i=e.emojis)||void 0===i?void 0:i.map(e=>({emoji_id:e.emojiId,shortcuts:e.shortcuts,search_terms:e.searchTerms,image:nf.fromResponse(e.image),is_custom_emoji:e.isCustomEmoji})))||[],(null===(n=e.continuations)||void 0===n?void 0:n[0].timedContinuationData)?(d="timed",c=null===(s=e.continuations)||void 0===s?void 0:s[0].timedContinuationData):(null===(a=e.continuations)||void 0===a?void 0:a[0].invalidationContinuationData)?(d="invalidation",c=null===(o=e.continuations)||void 0===o?void 0:o[0].invalidationContinuationData):(null===(r=e.continuations)||void 0===r?void 0:r[0].liveChatReplayContinuationData)&&(d="replay",c=null===(l=e.continuations)||void 0===l?void 0:l[0].liveChatReplayContinuationData),this.continuation=new gA({continuation:c,type:d}),this.viewer_name=e.viewerName}};iK(gP,"LiveChatContinuation"),gP.type="liveChatContinuation";var gR=class extends i5{constructor(e){super(),this.request=e.request,this.token=e.token}};iK(gR,"ContinuationCommand"),gR.type="ContinuationCommand";var gM=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),gL=new Map(Object.entries(sh)),gD=new Map,gN=null,gO=iK(e=>{var{classname:t}=e,i=iq(e,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new wu(`Something went wrong at ${t}!
This is a bug, please report it at ${wh.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new wp(`Type mismatch, got ${t} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new wu(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${wh.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new wu(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${wh.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new wu(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${wh.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${wh.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${gp(t,i.key_info)}`));break;case"class_changed":console.warn(`${t} changed!
The following keys where altered: ${i.changed_keys.map(([e])=>gt(e)).join(", ")}
The class has changed to:
${gp(t,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler")}},"ERROR_HANDLER");function gB(e){gO=e}function gV(){gN=null}function gU(){gN=new i8}function gH(e,t){if(!gN)return;let i=gN.get(e);if(!i)return gN.set(e,[t]);i.push(t)}function gF(){if(!gN)throw Error("Parser#getMemo() called before Parser#createMemo()");return gN}function gj(e){return gM.has(e)}function gW(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function g$(e){let t=gL.get(e);if(!t){let t=Error(`Module not found: ${e}`);throw t.code="MODULE_NOT_FOUND",t}return t}function gG(e){return gL.has(e)}function gK(e,t){gL.set(e,t),gD.set(e,t)}function gY(){return Object.fromEntries(gD)}function gq(e){var t,i;let n={};gU();let s=gJ(e.contents),a=gF();s&&(n.contents=s,n.contents_memo=a),gV(),gU();let o=e.onResponseReceivedActions?g0(e.onResponseReceivedActions):null,r=gF();o&&(n.on_response_received_actions=o,n.on_response_received_actions_memo=r),gV(),gU();let l=e.onResponseReceivedEndpoints?g0(e.onResponseReceivedEndpoints):null,c=gF();l&&(n.on_response_received_endpoints=l,n.on_response_received_endpoints_memo=c),gV(),gU();let d=e.onResponseReceivedCommands?g0(e.onResponseReceivedCommands):null,h=gF();d&&(n.on_response_received_commands=d,n.on_response_received_commands_memo=h),gV(),gU();let u=e.continuationContents?gZ(e.continuationContents):null,p=gF();u&&(n.continuation_contents=u,n.continuation_contents_memo=p),gV(),gU();let m=e.actions?g1(e.actions):null,f=gF();m&&(n.actions=m,n.actions_memo=f),gV(),gU();let v=e.liveChatItemContextMenuSupportedRenderers?gz(e.liveChatItemContextMenuSupportedRenderers):null,g=gF();v&&(n.live_chat_item_context_menu_supported_renderers=v,n.live_chat_item_context_menu_supported_renderers_memo=g),gV(),gU();let y=e.header?gJ(e.header):null,_=gF();y&&(n.header=y,n.header_memo=_),gV(),gU();let b=e.sidebar?gz(e.sidebar):null,w=gF();b&&(n.sidebar=b,n.sidebar_memo=w),gV(),gU();let x=gJ(e.items);x&&(n.items=x,n.items_memo=gF()),gV(),gU();let S=gJ(e.entries);S&&(n.entries=S,n.entries_memo=gF()),gV(),g3(a,null===(i=null===(t=e.frameworkUpdates)||void 0===t?void 0:t.entityBatchUpdate)||void 0===i?void 0:i.mutations);let C=e.continuation?gQ(e.continuation):null;C&&(n.continuation=C);let T=e.continuationEndpoint?gZ(e.continuationEndpoint):null;T&&(n.continuationEndpoint=T);let I=gJ(e.metadata);I&&(n.metadata=I);let k=gz(e.microformat);k&&(n.microformat=k);let E=gz(e.overlay);E&&(n.overlay=E);let A=gX(e.alerts,[nI,nk]);A.length&&(n.alerts=A);let P=e.refinements;P&&(n.refinements=P);let R=e.estimatedResults?parseInt(e.estimatedResults):null;R&&(n.estimated_results=R);let M=gJ(e.playerOverlays);M&&(n.player_overlays=M);let L=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;L&&(n.playback_tracking=L);let D=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed,audio_only_playablility:gz(e.playabilityStatus.audioOnlyPlayability,no),error_screen:gz(e.playabilityStatus.errorScreen)}:null;if(D&&(n.playability_status=D),e.streamingData){let t=new Map,i={expires:new Date(Date.now()+1e3*parseInt(e.streamingData.expiresInSeconds)),formats:g2(e.streamingData.formats,t),adaptive_formats:g2(e.streamingData.adaptiveFormats,t),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null};n.streaming_data=i}let N=e.currentVideoEndpoint?new nm(e.currentVideoEndpoint):null;N&&(n.current_video_endpoint=N);let O=e.endpoint?new nm(e.endpoint):null;O&&(n.endpoint=O);let B=gz(e.captions,nS);B&&(n.captions=B);let V=e.videoDetails?new sd(e.videoDetails):null;V&&(n.video_details=V);let U=gX(e.annotations,nx);U.length&&(n.annotations=U);let H=gz(e.storyboards,[nT,nC]);H&&(n.storyboards=H);let F=gz(e.endscreen,nw);F&&(n.endscreen=F);let j=gz(e.cards,nb);j&&(n.cards=j);let W=gX(e.engagementPanels,so);return W.length&&(n.engagement_panels=W),n}function gz(e,t){if(!e)return null;let i=Object.keys(e);if(!i.length)return null;let n=gW(i[0]);if(!gj(n))try{let s=gG(n)?g$(n):gu(n,e[i[0]],gO);if(t){if(Array.isArray(t)){if(!t.some(e=>e.type===s.type))return gO({classdata:e[i[0]],classname:n,error_type:"typecheck",expected:t.map(e=>e.type)}),null}else if(s.type!==t.type)return gO({classdata:e[i[0]],classname:n,error_type:"typecheck",expected:t.type}),null}let a=new s(e[i[0]]);return gH(n,a),a}catch(t){gO({classname:n,classdata:e[i[0]],error:t,error_type:"parse"})}return null}function gX(e,t){if(Array.isArray(e)){let i=[];for(let n of e){let e=gz(n,t);e&&i.push(e)}return i9(i)}if(!e)return i9([]);throw new wp("Expected array but got a single item")}function gJ(e,t,i){if(!e)return null;if(Array.isArray(e)){let n=[];for(let t of e){let e=gz(t,i);e&&n.push(e)}let s=i9(n);return t?s:new i4(s)}if(t)throw new wp("Expected array but got a single item");return new i4(gz(e,i))}function gQ(e){return e.timedContinuationData?new gA({continuation:e.timedContinuationData,type:"timed"}):null}function gZ(e){return e.itemSectionContinuation?new gb(e.itemSectionContinuation):e.sectionListContinuation?new gC(e.sectionListContinuation):e.liveChatContinuation?new gP(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new gT(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new gI(e.musicShelfContinuation):e.gridContinuation?new gk(e.gridContinuation):e.playlistPanelContinuation?new gE(e.playlistPanelContinuation):e.continuationCommand?new gR(e.continuationCommand):null}function g0(e){return i9(e.map(e=>e.navigateAction?new gw(e.navigateAction):e.showMiniplayerCommand?new gx(e.showMiniplayerCommand):e.reloadContinuationItemsCommand?new gS(e.reloadContinuationItemsCommand):e.appendContinuationItemsAction?new sE(e.appendContinuationItemsAction):void 0).filter(e=>e))}function g1(e){return Array.isArray(e)?gJ(e.map(e=>(delete e.clickTrackingParams,e))):new i4(gz(e))}function g2(e,t){return(null==e?void 0:e.map(e=>new sc(e,t)))||[]}function g3(e,t){let i=e.getType(sr);if(i.length>0&&!t)gO({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let e=[];for(let n of i){let i=t.find(e=>{var t,i;return(null===(i=null===(t=e.payload)||void 0===t?void 0:t.musicFormBooleanChoice)||void 0===i?void 0:i.id)===n.form_item_entity_key}),s=null==i?void 0:i.payload.musicFormBooleanChoice;(null==s?void 0:s.selected)!==void 0&&(null==s?void 0:s.opaqueToken)?n.selected=s.selected:e.push(`'${n.title}'`)}e.length>0&&gO({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:e.length,titles:e})}}iK(gB,"setParserErrorHandler"),iK(gV,"_clearMemo"),iK(gU,"_createMemo"),iK(gH,"_addToMemo"),iK(gF,"_getMemo"),iK(gj,"shouldIgnore"),iK(gW,"sanitizeClassName"),iK(g$,"getParserByName"),iK(gG,"hasParser"),iK(gK,"addRuntimeParser"),iK(gY,"getDynamicParsers"),iK(gq,"parseResponse"),iK(gz,"parseItem"),iK(gX,"parseArray"),iK(gJ,"parse"),iK(gQ,"parseC"),iK(gZ,"parseLC"),iK(g0,"parseRR"),iK(g1,"parseActions"),iK(g2,"parseFormats"),iK(g3,"applyMutations"),iY({},{AccountInfo:()=>g6,Analytics:()=>g9,Channel:()=>ys,ChannelListContinuation:()=>ya,Comments:()=>yl,FilteredChannelList:()=>yo,Guide:()=>yd,HashtagFeed:()=>ym,History:()=>yu,HomeFeed:()=>yp,ItemMenu:()=>yv,Library:()=>yb,LiveChat:()=>yE,NotificationsMenu:()=>yP,Playlist:()=>yy,Search:()=>yM,Settings:()=>yD,SmoothedQueue:()=>yI,TimeWatched:()=>yO,VideoInfo:()=>_m});var g5=class{constructor(e){if(L.set(this,void 0),i2(this,L,na.parseResponse(e.data),"f"),!i1(this,L,"f").contents)throw new wu("Page contents not found");let t=i1(this,L,"f").contents.array().as(sI).first();if(!t)throw new wu("Account section list not found");this.contents=t.contents,this.footers=t.footers}get page(){return i1(this,L,"f")}};iK(g5,"AccountInfo"),L=new WeakMap;var g6=g5,g4=class{constructor(e){var t;D.set(this,void 0),i2(this,D,na.parseResponse(e.data),"f"),this.sections=null===(t=i1(this,D,"f").contents_memo)||void 0===t?void 0:t.getType(lz).map(e=>e.model).flatMap(e=>e||[])}get page(){return i1(this,D,"f")}};iK(g4,"Analytics"),D=new WeakMap;var g9=g4,g8=class{constructor(e,t,i=!1){N.add(this),O.set(this,void 0),B.set(this,void 0),V.set(this,void 0),U.set(this,void 0),i1(this,N,"m",H).call(this,t)||i?i2(this,O,t,"f"):i2(this,O,na.parseResponse(t.data),"f");let n=wI(...[i1(this,O,"f").contents_memo,i1(this,O,"f").continuation_contents_memo,i1(this,O,"f").on_response_received_commands_memo,i1(this,O,"f").on_response_received_endpoints_memo,i1(this,O,"f").on_response_received_actions_memo,i1(this,O,"f").sidebar_memo,i1(this,O,"f").header_memo]);if(!n)throw new wu("No memo found in feed");i2(this,U,n,"f"),i2(this,V,e,"f")}static getVideosFromMemo(e){return e.getType(nX,cN,mP,n8,ms,po,vj)}static getPlaylistsFromMemo(e){return e.getType(ld,ck)}get videos(){return g8.getVideosFromMemo(i1(this,U,"f"))}get posts(){return i1(this,U,"f").getType(ad,md,fv)}get channels(){return i1(this,U,"f").getType(aF,c_)}get playlists(){return g8.getPlaylistsFromMemo(i1(this,U,"f"))}get memo(){return i1(this,U,"f")}get page_contents(){var e;let t=null===(e=i1(this,U,"f").getType(fP))||void 0===e?void 0:e.first().content,i=i1(this,U,"f").getType(gS).first(),n=i1(this,U,"f").getType(sE).first();return t||i||n}get shelves(){return i1(this,U,"f").getType(fy,mX,ss)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,t;if(!(null===(e=i1(this,O,"f").contents)||void 0===e?void 0:e.is_node))return;let i=null===(t=i1(this,O,"f").contents)||void 0===t?void 0:t.item();if(i.is(vb,vx))return i.secondary_contents}get actions(){return i1(this,V,"f")}get page(){return i1(this,O,"f")}get has_continuation(){return i1(this,N,"m",F).call(this).length>0}getContinuationData(){return iX(this,void 0,void 0,function*(){if(i1(this,B,"f")){if(0===i1(this,B,"f").length)throw new wu("There are no continuations.");return yield i1(this,B,"f")[0].endpoint.call(i1(this,V,"f"),{parse:!0})}if(i2(this,B,i1(this,N,"m",F).call(this),"f"),i1(this,B,"f"))return this.getContinuationData()})}getContinuation(){return iX(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new wu("Could not get continuation data");return new g8(this.actions,e,!0)})}};iK(g8,"Feed"),O=new WeakMap,B=new WeakMap,V=new WeakMap,U=new WeakMap,N=new WeakSet,H=iK(function(e){return!("data"in e)},"_Feed_isParsed"),F=iK(function(){if(i1(this,O,"f").header_memo){let e=i1(this,O,"f").header_memo.getType(nL);return i1(this,U,"f").getType(nL).filter(t=>!e.includes(t))}return i1(this,U,"f").getType(nL)},"_Feed_getBodyContinuations");var g7=g8,ye=class extends g7{constructor(e,t,i=!1){var n;super(e,t,i),j.set(this,void 0),W.set(this,void 0),i2(this,W,e,"f"),i2(this,j,null===(n=this.page.contents_memo)||void 0===n?void 0:n.getType(fP),"f")}get tabs(){var e,t;return null!==(t=null===(e=i1(this,j,"f"))||void 0===e?void 0:e.map(e=>e.title.toString()))&&void 0!==t?t:[]}getTabByName(e){var t;return iX(this,void 0,void 0,function*(){let i=null===(t=i1(this,j,"f"))||void 0===t?void 0:t.find(t=>t.title.toLowerCase()===e.toLowerCase());if(!i)throw new wu(`Tab "${e}" not found`);if(i.selected)return this;let n=yield i.endpoint.call(i1(this,W,"f"));return new ye(i1(this,W,"f"),n,!1)})}getTabByURL(e){var t;return iX(this,void 0,void 0,function*(){let i=null===(t=i1(this,j,"f"))||void 0===t?void 0:t.find(t=>{var i;return(null===(i=t.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===e});if(!i)throw new wu(`Tab "${e}" not found`);if(i.selected)return this;let n=yield i.endpoint.call(i1(this,W,"f"));return new ye(i1(this,W,"f"),n,!1)})}hasTabWithURL(e){var t,i;return null!==(i=null===(t=i1(this,j,"f"))||void 0===t?void 0:t.some(t=>{var i;return(null===(i=t.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===e}))&&void 0!==i&&i}get title(){var e,t,i;return null===(i=null===(t=null===(e=this.page.contents_memo)||void 0===e?void 0:e.getType(fP))||void 0===t?void 0:t.find(e=>e.selected))||void 0===i?void 0:i.title.toString()}};iK(ye,"TabbedFeed"),j=new WeakMap,W=new WeakMap;var yt=ye,yi=class extends g7{constructor(e,t,i=!1){super(e,t,i),$.set(this,void 0)}get filter_chips(){var e,t;if(i1(this,$,"f"))return i1(this,$,"f")||[];if((null===(e=this.memo.getType(cr))||void 0===e?void 0:e.length)>1)throw new wu("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if((null===(t=this.memo.getType(cr))||void 0===t?void 0:t.length)===0)throw new wu("There are no feed filter chipbars");return i2(this,$,this.memo.getType(on),"f"),i1(this,$,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var t;return iX(this,void 0,void 0,function*(){let i;if("string"==typeof e){if(!this.filters.includes(e))throw new wu("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(t=>t.text.toString()===e)}else if("ChipCloudChip"===e.type)i=e;else throw new wu("Invalid filter");if(!i)throw new wu("Filter not found");if(i.is_selected)return this;let n=yield null===(t=i.endpoint)||void 0===t?void 0:t.call(this.actions,{parse:!0});if(!n)throw new wu("Failed to get filtered feed");return new g7(this.actions,n,!0)})}};iK(yi,"FilterableFeed"),$=new WeakMap;var yn=yi,ys=class extends yt{constructor(e,t,i=!1){var n,s,a,o,r,l;super(e,t,i),this.header=null===(s=null===(n=this.page.header)||void 0===n?void 0:n.item())||void 0===s?void 0:s.as(aR,aB,dc,pP);let c=null===(a=this.page.metadata)||void 0===a?void 0:a.item().as(az),d=null===(o=this.page.microformat)||void 0===o?void 0:o.as(um);if(this.page.alerts){let e=this.page.alerts.first();if((null==e?void 0:e.alert_type)==="ERROR")throw new wy(e.text.toString())}if(!c&&!this.page.contents)throw new wu("Invalid channel",this);this.metadata=Object.assign(Object.assign({},c),d||{}),this.subscribe_button=null===(r=this.page.header_memo)||void 0===r?void 0:r.getType(aA).first(),this.current_tab=null===(l=this.page.contents)||void 0===l?void 0:l.item().as(vb).tabs.array().filterType(fP,ct).get({selected:!0})}applyFilter(e){var t;return iX(this,void 0,void 0,function*(){let i;let n=this.memo.getType(cr).first();if("string"==typeof e){if(!(i=null==n?void 0:n.contents.get({text:e})))throw new wu(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof on&&(i=e);if(!i)throw new wu("Invalid filter",e);let s=yield null===(t=i.endpoint)||void 0===t?void 0:t.call(this.actions,{parse:!0});if(!s)throw new wu("No page returned",{filter:i});return new yo(this.actions,s,!0)})}applySort(e){var t,i;return iX(this,void 0,void 0,function*(){let n=this.memo.getType(sP).first();if(!n)throw new wu("No sort filter sub menu found");let s=null===(t=null==n?void 0:n.sub_menu_items)||void 0===t?void 0:t.find(t=>t.title===e);if(!s)throw new wu(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let a=yield null===(i=s.endpoint)||void 0===i?void 0:i.call(this.actions,{parse:!0});return new ys(this.actions,a,!0)})}applyContentTypeFilter(e){var t,i,n,s;return iX(this,void 0,void 0,function*(){let a=null===(n=null===(i=null===(t=this.current_tab)||void 0===t?void 0:t.content)||void 0===i?void 0:i.as(nH).sub_menu)||void 0===n?void 0:n.as(a3);if(!a)throw new wu("Sub menu not found");let o=a.content_type_sub_menu_items.find(t=>t.title===e);if(!o)throw new wu(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(o.selected)return this;let r=yield null===(s=o.endpoint)||void 0===s?void 0:s.call(this.actions,{parse:!0});return new ys(this.actions,r,!0)})}get filters(){var e,t;return(null===(t=null===(e=this.memo.getType(cr))||void 0===e?void 0:e[0])||void 0===t?void 0:t.contents.filterType(on).map(e=>e.text))||[]}get sort_filters(){var e;let t=this.memo.getType(sP).first();return(null===(e=null==t?void 0:t.sub_menu_items)||void 0===e?void 0:e.map(e=>e.title))||[]}get content_type_filters(){var e,t,i;let n=null===(i=null===(t=null===(e=this.current_tab)||void 0===e?void 0:e.content)||void 0===t?void 0:t.as(nH).sub_menu)||void 0===i?void 0:i.as(a3);return(null==n?void 0:n.content_type_sub_menu_items.map(e=>e.title))||[]}getHome(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new ys(this.actions,e.page,!0)})}getVideos(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new ys(this.actions,e.page,!0)})}getShorts(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new ys(this.actions,e.page,!0)})}getLiveStreams(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new ys(this.actions,e.page,!0)})}getReleases(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new ys(this.actions,e.page,!0)})}getPodcasts(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new ys(this.actions,e.page,!0)})}getPlaylists(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new ys(this.actions,e.page,!0)})}getCommunity(){return iX(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new ys(this.actions,e.page,!0)})}getAbout(){var e,t,i;return iX(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(aW)[0];if((null===(e=this.header)||void 0===e?void 0:e.is(aR))&&this.header.tagline){if(this.header.tagline.more_endpoint instanceof nm){let e=yield this.header.tagline.more_endpoint.call(this.actions);return new yt(this.actions,e,!1).memo.getType(aW)[0]}let e=null===(i=null===(t=this.page.header_memo)||void 0===t?void 0:t.getType(nL)[0])||void 0===i?void 0:i.endpoint;if(!e)throw new wu("Failed to extract continuation to get channel about");let n=yield e.call(this.actions,{parse:!0});if(!n.on_response_received_endpoints_memo)throw new wu("Unexpected response while fetching channel about",{response:n});return n.on_response_received_endpoints_memo.getType(sg)[0]}throw new wu("About not found")})}search(e){var t,i;return iX(this,void 0,void 0,function*(){let n=null===(t=this.memo.getType(ct))||void 0===t?void 0:t[0];if(!n)throw new wu("Search tab not found",this);let s=yield null===(i=n.endpoint)||void 0===i?void 0:i.call(this.actions,{query:e,parse:!0});return new ys(this.actions,s,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,t;return this.hasTabWithURL("about")||!!((null===(e=this.header)||void 0===e?void 0:e.is(aR))&&(null===(t=this.header.tagline)||void 0===t?void 0:t.more_endpoint))}get has_search(){var e;return(null===(e=this.memo.getType(ct))||void 0===e?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return iX(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!t)throw new wu("Could not get continuation data");return new ya(this.actions,t,!0)})}};iK(ys,"Channel");var ya=class extends g7{constructor(e,t,i=!1){var n,s;super(e,t,i),this.contents=(null===(n=this.page.on_response_received_actions)||void 0===n?void 0:n.first())||(null===(s=this.page.on_response_received_endpoints)||void 0===s?void 0:s.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return iX(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!t)throw new wu("Could not get continuation data");return new ya(this.actions,t,!0)})}};iK(ya,"ChannelListContinuation");var yo=class extends yn{constructor(e,t,i=!1){super(e,t,i),this.applied_filter=this.memo.getType(on).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return iX(this,void 0,void 0,function*(){let i=yield t.getFilteredFeed.call(this,e);return new yo(this.actions,i.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return iX(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!(null==t?void 0:t.on_response_received_actions_memo))throw new wu("Unexpected continuation data",t);return t.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(cr)),t.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(on)),new yo(this.actions,t,!0)})}};iK(yo,"FilteredChannelList");var yr=class{constructor(e,t,i=!1){var n,s,a;G.set(this,void 0),K.set(this,void 0),Y.set(this,void 0),i2(this,G,i?t:na.parseResponse(t),"f"),i2(this,K,e,"f");let o=i1(this,G,"f").on_response_received_endpoints;if(!o)throw new wu("Comments page did not have any content.");let r=o.at(0),l=o.at(1);this.header=null===(n=null==r?void 0:r.contents)||void 0===n?void 0:n.firstOfType(r4);let c=(null===(s=null==l?void 0:l.contents)||void 0===s?void 0:s.filterType(le))||[];this.contents=i9(c.map(e=>{var t;return null===(t=e.comment)||void 0===t||t.setActions(i1(this,K,"f")),e.setActions(i1(this,K,"f")),e})),i2(this,Y,null===(a=null==l?void 0:l.contents)||void 0===a?void 0:a.firstOfType(nL),"f")}applySort(e){var t,i,n,s;return iX(this,void 0,void 0,function*(){let a;if(!this.header)throw new wu("Page header is missing. Cannot apply sort option.");if("TOP_COMMENTS"===e?a=null===(i=null===(t=this.header.sort_menu)||void 0===t?void 0:t.sub_menu_items)||void 0===i?void 0:i.at(0):"NEWEST_FIRST"===e&&(a=null===(s=null===(n=this.header.sort_menu)||void 0===n?void 0:n.sub_menu_items)||void 0===s?void 0:s.at(1)),!a)throw new wu("Could not find target button.");if(a.selected)return this;let o=yield a.endpoint.call(i1(this,K,"f"),{parse:!0});return new yr(i1(this,K,"f"),o,!0)})}createComment(e){var t;return iX(this,void 0,void 0,function*(){if(!this.header)throw new wu("Page header is missing. Cannot create comment.");let i=null===(t=this.header.create_renderer)||void 0===t?void 0:t.as(r8).submit_button;if(!i)throw new wu("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new wu("Button does not have an endpoint.");return yield i.endpoint.call(i1(this,K,"f"),{commentText:e})})}getContinuation(){return iX(this,void 0,void 0,function*(){if(!i1(this,Y,"f"))throw new wu("Continuation not found");let e=yield i1(this,Y,"f").endpoint.call(i1(this,K,"f"),{parse:!0}),t=Object.assign({},i1(this,G,"f"));if(!t.on_response_received_endpoints||!e.on_response_received_endpoints)throw new wu("Invalid reponse format, missing on_response_received_endpoints.");return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new yr(i1(this,K,"f"),t,!0)})}get has_continuation(){return!!i1(this,Y,"f")}get page(){return i1(this,G,"f")}};iK(yr,"Comments"),G=new WeakMap,K=new WeakMap,Y=new WeakMap;var yl=yr,yc=class{constructor(e){q.set(this,void 0),i2(this,q,na.parseResponse(e),"f"),this.contents=i1(this,q,"f").items.array().as(cG,cY)}get page(){return i1(this,q,"f")}};iK(yc,"Guide"),q=new WeakMap;var yd=yc,yh=class extends g7{constructor(e,t,i=!1){super(e,t,i),this.sections=this.memo.getType(dg),this.feed_actions=this.memo.getType(am).first()}getContinuation(){return iX(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw Error("No continuation data found");return new yh(this.actions,e,!0)})}};iK(yh,"History");var yu=yh,yp=class extends yn{constructor(e,t,i=!1){super(e,t,i),this.header=this.memo.getType(ch).first(),this.contents=this.memo.getType(mV).first()||this.page.on_response_received_actions.first()}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return iX(this,void 0,void 0,function*(){let i=yield t.getFilteredFeed.call(this,e);return new yp(this.actions,i.page,!0)})}getContinuation(){var e;let t=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return iX(this,void 0,void 0,function*(){let i=yield t.getContinuation.call(this);return i.page.header=this.page.header,null===(e=i.page.header_memo)||void 0===e||e.set(this.header.type,[this.header]),new yp(this.actions,i.page,!0)})}};iK(yp,"HomeFeed");var ym=class extends yn{constructor(e,t){if(super(e,t),!this.page.contents_memo)throw new wu("Unexpected response",this.page);let i=this.page.contents_memo.getType(fP).first();if(!i.content)throw new wu("Content tab has no content",i);this.page.header&&(this.header=this.page.header.item().as(cz,pP)),this.contents=i.content.as(mV)}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return iX(this,void 0,void 0,function*(){let i=yield t.getFilteredFeed.call(this,e);return new ym(this.actions,i.page)})}};iK(ym,"HashtagFeed");var yf=class{constructor(e,t){z.set(this,void 0),X.set(this,void 0),J.set(this,void 0),i2(this,z,e,"f"),i2(this,X,t,"f");let i=null==e?void 0:e.live_chat_item_context_menu_supported_renderers;if(!i||!i.is(nN))throw new wu('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');i2(this,J,i.as(nN).items,"f")}selectItem(e){return iX(this,void 0,void 0,function*(){let t;if(e instanceof nl){if(!e.endpoint)throw new wu("Item does not have an endpoint.");t=e.endpoint}else{let i=i1(this,J,"f").find(t=>!!t.is(hX)&&t.as(hX).icon_type===e);if(!i||!i.is(hX))throw new wu(`Button "${e}" not found.`);t=i.endpoint}if(!t)throw new wu("Target button does not have an endpoint.");return yield t.call(i1(this,X,"f"),{parse:!0})})}items(){return i1(this,J,"f")}page(){return i1(this,z,"f")}};iK(yf,"ItemMenu"),z=new WeakMap,X=new WeakMap,J=new WeakMap;var yv=yf,yg=class extends g7{constructor(e,t,i=!1){var n,s,a,o,r;super(e,t,i),Q.add(this);let l=this.memo.getType(p2).first(),c=this.memo.getType(me).first(),d=this.memo.getType(mi).first(),h=null===(n=this.page.alerts)||void 0===n?void 0:n.firstOfType(nI);if(h&&"ERROR"===h.alert_type)throw new wu(h.text.toString(),h);if(!c&&!d&&0===Object.keys(this.page).length)throw new wu("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},null===(s=this.page.metadata)||void 0===s?void 0:s.item().as(p4)),{subtitle:l?l.subtitle:null,author:null!==(o=null===(a=null==d?void 0:d.owner)||void 0===a?void 0:a.as(vO).author)&&void 0!==o?o:null==l?void 0:l.author,thumbnails:null===(r=null==c?void 0:c.thumbnail_renderer)||void 0===r?void 0:r.as(ll,lo).thumbnail,total_items:i1(this,Q,"m",Z).call(this,0,c),views:i1(this,Q,"m",Z).call(this,1,c),last_updated:i1(this,Q,"m",Z).call(this,2,c),can_share:null==l?void 0:l.can_share,can_delete:null==l?void 0:l.can_delete,is_editable:null==l?void 0:l.is_editable,privacy:null==l?void 0:l.privacy}),this.menu=null==c?void 0:c.menu,this.endpoint=null==c?void 0:c.endpoint,this.messages=this.memo.getType(lC)}get items(){return this.videos}getContinuation(){return iX(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new wu("Could not get continuation data");return new yg(this.actions,e,!0)})}};iK(yg,"Playlist"),Q=new WeakSet,Z=iK(function(e,t){var i;return t&&t.stats&&(null===(i=t.stats[e])||void 0===i?void 0:i.toString())||"N/A"},"_Playlist_getStat");var yy=yg,y_=class extends g7{constructor(e,t){if(super(e,t),ee.add(this),!this.page.contents_memo)throw new wu("Page contents not found");this.header=this.memo.getType(pP).first();let i=this.page.contents_memo.getType(fy);this.sections=i.map(e=>{var t;return{type:e.icon_type,title:e.title,contents:(null===(t=e.content)||void 0===t?void 0:t.key("items").array())||[],getAll:()=>i1(this,ee,"m",et).call(this,e)}})}get history(){return this.sections.find(e=>"WATCH_HISTORY"===e.type)}get watch_later(){return this.sections.find(e=>"WATCH_LATER"===e.type)}get liked_videos(){return this.sections.find(e=>"LIKE"===e.type)}get playlists_section(){return this.sections.find(e=>"PLAYLISTS"===e.type)}get clips(){return this.sections.find(e=>"CONTENT_CUT"===e.type)}};iK(y_,"Library"),ee=new WeakSet,et=iK(function(e){var t;return iX(this,void 0,void 0,function*(){if(!(null===(t=e.menu)||void 0===t?void 0:t.as(nN).hasKey("top_level_buttons")))throw new wu(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(nN).top_level_buttons.firstOfType(nl);if(!i)throw new wu("Did not find target button.");let n=yield i.as(nl).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new yy(this.actions,n,!0);case"WATCH_HISTORY":return new yu(this.actions,n,!0);case"CONTENT_CUT":return new g7(this.actions,n,!0);default:throw new wu("Target shelf not implemented.")}})},"_Library_getAll");var yb=y_,yw=class extends EventTarget{constructor(){super(),ei.set(this,new Map)}emit(e,...t){let i=new wh.shim.CustomEvent(e,{detail:t});this.dispatchEvent(i)}on(e,t){let i=iK(e=>{e instanceof wh.shim.CustomEvent?t(...e.detail):t(e)},"wrapper");i1(this,ei,"f").set(t,i),this.addEventListener(e,i)}once(e,t){let i=iK(i=>{i instanceof wh.shim.CustomEvent?t(...i.detail):t(i),this.off(e,t)},"wrapper");i1(this,ei,"f").set(t,i),this.addEventListener(e,i)}off(e,t){let i=i1(this,ei,"f").get(t);i&&(this.removeEventListener(e,i),i1(this,ei,"f").delete(t))}};iK(yw,"EventEmitterLike"),ei=new WeakMap;var yx=yw;function yS(e){let t=[];for(let i of e)if(Array.isArray(i))for(let e of i)t.push(e);else t.push(i);return t}iK(yS,"flattenQueue");var yC=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};iK(yC,"DelayQueue");var yT=class{constructor(){en.set(this,void 0),es.set(this,void 0),ea.set(this,void 0),eo.set(this,void 0),er.set(this,void 0),el.set(this,void 0),i2(this,en,null,"f"),i2(this,es,null,"f"),i2(this,ea,null,"f"),i2(this,eo,[],"f"),i2(this,er,null,"f"),i2(this,el,new yC,"f")}enqueueActionGroup(e){if(null!==i1(this,en,"f")){let e=Date.now()-i1(this,en,"f");i1(this,el,"f").back.push(e),5<i1(this,el,"f").front.length+i1(this,el,"f").back.length&&(i1(this,el,"f").front.length||(i1(this,el,"f").front=i1(this,el,"f").back,i1(this,el,"f").front.reverse(),i1(this,el,"f").back=[]),i1(this,el,"f").front.pop()),i2(this,es,Math.max(...i1(this,el,"f").getValues()),"f")}i2(this,en,Date.now(),"f"),i1(this,eo,"f").push(e),null===i1(this,er,"f")&&i2(this,er,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(i2(this,er,null,"f"),i1(this,eo,"f").length){let e=1e4;null!==i1(this,es,"f")&&null!==i1(this,en,"f")&&(e=i1(this,es,"f")-Date.now()+i1(this,en,"f")),e=i1(this,eo,"f").length<e/80?1:Math.ceil(i1(this,eo,"f").length/(e/80));let t=yS(i1(this,eo,"f").splice(0,e));i1(this,ea,"f")&&i1(this,ea,"f").call(this,t),null!==i1(this,eo,"f")&&(e=1==e?Math.max(80,e=Math.min(1e3,e=i1(this,es,"f")/i1(this,eo,"f").length*(Math.random()+.5))):80,i2(this,er,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){null!==i1(this,er,"f")&&(clearTimeout(i1(this,er,"f")),i2(this,er,null,"f")),i2(this,eo,[],"f")}set callback(e){i2(this,ea,e,"f")}get callback(){return i1(this,ea,"f")}get action_queue(){return i1(this,eo,"f")}get estimated_update_interval(){return i1(this,es,"f")}get last_update_time(){return i1(this,en,"f")}get next_update_id(){return i1(this,er,"f")}get poll_response_delay_queue(){return i1(this,el,"f")}};iK(yT,"SmoothedQueue"),en=new WeakMap,es=new WeakMap,ea=new WeakMap,eo=new WeakMap,er=new WeakMap,el=new WeakMap;var yI=yT,yk=class extends yx{constructor(e){var t,i;super(),ec.add(this),ed.set(this,void 0),eh.set(this,void 0),eu.set(this,void 0),ep.set(this,void 0),em.set(this,void 0),ef.set(this,0),this.running=!1,this.is_replay=!1,i2(this,eh,e.basic_info.id,"f"),i2(this,eu,e.basic_info.channel_id,"f"),i2(this,ed,e.actions,"f"),i2(this,ep,null===(t=e.livechat)||void 0===t?void 0:t.continuation,"f"),this.is_replay=(null===(i=e.livechat)||void 0===i?void 0:i.is_replay)||!1,this.smoothed_queue=new yI,this.smoothed_queue.callback=e=>iX(this,void 0,void 0,function*(){e.length?e.length<10?yield i1(this,ec,"m",eg).call(this,e):this.is_replay?(i1(this,ec,"m",eg).call(this,e),yield i1(this,ec,"m",e_).call(this,2e3)):i1(this,ec,"m",eg).call(this,e):yield i1(this,ec,"m",e_).call(this,2e3),this.running&&i1(this,ec,"m",ev).call(this)})}on(e,t){super.on(e,t)}once(e,t){super.once(e,t)}start(){this.running||(this.running=!0,i1(this,ec,"m",ev).call(this),i1(this,ec,"m",ey).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return iX(this,void 0,void 0,function*(){let t=yield i1(this,ed,"f").execute("/live_chat/send_message",{params:rO(i1(this,eu,"f"),i1(this,eh,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:wh.shim.uuidv4(),client:"ANDROID",parse:!0});if(!t.actions)throw new wu("Unexpected response from send_message",t);return t.actions.array().as(dA)})}applyFilter(e){var t,i,n,s,a,o,r;if(!this.initial_info)throw new wu("Cannot apply filter before initial info is retrieved.");let l=null===(n=null===(i=null===(t=this.initial_info)||void 0===t?void 0:t.header)||void 0===i?void 0:i.view_selector)||void 0===n?void 0:n.sub_menu_items;if("TOP_CHAT"===e){if(null===(s=null==l?void 0:l.at(0))||void 0===s?void 0:s.selected)return;i2(this,ep,null===(a=null==l?void 0:l.at(0))||void 0===a?void 0:a.continuation,"f")}else{if(null===(o=null==l?void 0:l.at(1))||void 0===o?void 0:o.selected)return;i2(this,ep,null===(r=null==l?void 0:l.at(1))||void 0===r?void 0:r.continuation,"f")}}getItemMenu(e){return iX(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(nm))throw new wu("This item does not have a menu.",e);let t=yield e.key("menu_endpoint").instanceof(nm).call(i1(this,ed,"f"),{parse:!0});if(!t)throw new wu("Could not retrieve item menu.",e);return new yv(t,i1(this,ed,"f"))})}selectButton(e){return iX(this,void 0,void 0,function*(){return yield e.endpoint.call(i1(this,ed,"f"),{parse:!0})})}};iK(yk,"LiveChat"),ed=new WeakMap,eh=new WeakMap,eu=new WeakMap,ep=new WeakMap,em=new WeakMap,ef=new WeakMap,ec=new WeakSet,ev=iK(function e(){iX(this,void 0,void 0,function*(){var t,i;try{let t=yield i1(this,ed,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:i1(this,ep,"f"),parse:!0}),i=t.continuation_contents;if(i||(this.emit("error",new wu("Unexpected live chat incremental continuation response",t)),this.emit("end"),this.stop()),!(i instanceof gP)){this.stop(),this.emit("end");return}i2(this,ep,i.continuation.token,"f"),i.header?(this.initial_info=i,this.emit("start",i),this.running&&i1(this,ec,"m",e).call(this)):this.smoothed_queue.enqueueActionGroup(i.actions),i2(this,ef,0,"f")}catch(n){this.emit("error",n),(i2(this,ef,(i=i1(this,ef,"f"),t=i++,i),"f"),t<10)?(yield i1(this,ec,"m",e_).call(this,2e3),i1(this,ec,"m",e).call(this)):(this.emit("error",new wu("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),eg=iK(function(e){return iX(this,void 0,void 0,function*(){let t=e.length<125?1:Math.ceil(e.length/125),i=t=1==t?Math.max(80,t=Math.min(1e3,t=1e4/e.length*(Math.random()+.5))):80;for(let t of e)yield i1(this,ec,"m",e_).call(this,i),this.emit("chat-update",t)})},"_LiveChat_emitSmoothedActions"),ey=iK(function e(){iX(this,void 0,void 0,function*(){var t,i,n,s,a,o,r,l,c,d,h;try{let u={videoId:i1(this,eh,"f")};i1(this,em,"f")&&(u.continuation=i1(this,em,"f"));let p=yield i1(this,ed,"f").execute("/updated_metadata",u),m=na.parseResponse(p.data);i2(this,em,null===(t=m.continuation)||void 0===t?void 0:t.token,"f"),this.metadata={title:(null===(i=m.actions)||void 0===i?void 0:i.array().firstOfType(hE))||(null===(n=this.metadata)||void 0===n?void 0:n.title),description:(null===(s=m.actions)||void 0===s?void 0:s.array().firstOfType(hC))||(null===(a=this.metadata)||void 0===a?void 0:a.description),views:(null===(o=m.actions)||void 0===o?void 0:o.array().firstOfType(hM))||(null===(r=this.metadata)||void 0===r?void 0:r.views),likes:(null===(l=m.actions)||void 0===l?void 0:l.array().firstOfType(hP))||(null===(c=this.metadata)||void 0===c?void 0:c.likes),date:(null===(d=m.actions)||void 0===d?void 0:d.array().firstOfType(hx))||(null===(h=this.metadata)||void 0===h?void 0:h.date)},this.emit("metadata-update",this.metadata),yield i1(this,ec,"m",e_).call(this,5e3),this.running&&i1(this,ec,"m",e).call(this)}catch(t){yield i1(this,ec,"m",e_).call(this,2e3),this.running&&i1(this,ec,"m",e).call(this)}})},"_LiveChat_pollMetadata"),e_=iK(function(e){return iX(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(()=>t(),e))})},"_LiveChat_wait");var yE=yk,yA=class{constructor(e,t){eb.set(this,void 0),ew.set(this,void 0),i2(this,ew,e,"f"),i2(this,eb,na.parseResponse(t.data),"f"),this.header=i1(this,eb,"f").actions_memo.getType(ue).first(),this.contents=i1(this,eb,"f").actions_memo.getType(pI)}getContinuation(){return iX(this,void 0,void 0,function*(){let e=i1(this,eb,"f").actions_memo.getType(nL).first();if(!e)throw new wu("Continuation not found");let t=yield e.endpoint.call(i1(this,ew,"f"),{parse:!1});return new yA(i1(this,ew,"f"),t)})}get page(){return i1(this,eb,"f")}};iK(yA,"NotificationsMenu"),eb=new WeakMap,ew=new WeakMap;var yP=yA,yR=class extends g7{constructor(e,t,i=!1){var n,s,a,o,r,l;super(e,t,i);let c=(null===(n=this.page.contents_memo)||void 0===n?void 0:n.getType(nH).first().contents)||(null===(s=this.page.on_response_received_commands)||void 0===s?void 0:s.first().contents);if(!c)throw new wu("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(m4)),this.results=null===(a=c.find(e=>e.is(dg)&&e.contents&&e.contents.length>0))||void 0===a?void 0:a.as(dg).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=null===(o=this.page.contents_memo)||void 0===o?void 0:o.getType(m8).first(),this.watch_card=null===(r=this.page.contents_memo)||void 0===r?void 0:r.getType(vI).first(),this.refinement_cards=null===(l=this.results)||void 0===l?void 0:l.firstOfType(n1)}selectRefinementCard(e){var t,i;return iX(this,void 0,void 0,function*(){let n;if("string"==typeof e){if(!this.refinement_cards)throw new wu("No refinement cards found.");if(!(n=null===(i=null===(t=this.refinement_cards)||void 0===t?void 0:t.cards.get({query:e}))||void 0===i?void 0:i.as(nj)))throw new wu(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if("SearchRefinementCard"===e.type)n=e;else throw new wu("Invalid refinement card!");let s=yield n.endpoint.call(this.actions,{parse:!0});return new yR(this.actions,s,!0)})}get refinement_card_queries(){var e;return(null===(e=this.refinement_cards)||void 0===e?void 0:e.cards.as(nj).map(e=>e.query))||[]}getContinuation(){return iX(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new wu("Could not get continuation data");return new yR(this.actions,e,!0)})}};iK(yR,"Search");var yM=yR,yL=class{constructor(e,t){var i,n,s,a;if(ex.set(this,void 0),eS.set(this,void 0),i2(this,eS,e,"f"),i2(this,ex,na.parseResponse(t.data),"f"),this.sidebar=null===(i=i1(this,ex,"f").sidebar)||void 0===i?void 0:i.as(fm),!i1(this,ex,"f").contents)throw new wu("Page contents not found");let o=i1(this,ex,"f").contents.item().as(vb).tabs.array().as(fP).get({selected:!0});if(!o)throw new wu("Target tab not found");let r=null===(n=o.content)||void 0===n?void 0:n.as(nH).contents.as(dg);this.introduction=null===(a=null===(s=null==r?void 0:r.shift())||void 0===s?void 0:s.contents)||void 0===a?void 0:a.firstOfType(pM),this.sections=null==r?void 0:r.map(e=>{var t;return{title:(null===(t=e.header)||void 0===t?void 0:t.title.toString())||null,contents:e.contents}})}selectSidebarItem(e){return iX(this,void 0,void 0,function*(){let t;if(!this.sidebar)throw new wu("Sidebar not available");if("string"==typeof e){if(!(t=this.sidebar.items.get({title:e})))throw new wu(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(null==e?void 0:e.is(ls))t=e;else throw new wu("Invalid item",{target_item:e});let i=yield t.endpoint.call(i1(this,eS,"f"),{parse:!1});return new yL(i1(this,eS,"f"),i)})}getSettingOption(e){var t;if(!this.sections)throw new wu("Sections not available");for(let i of this.sections)if(i.contents)for(let n of i.contents){let i=n.as(fu).options;if(i){for(let n of i)if(n.is(fd)&&(null===(t=n.title)||void 0===t?void 0:t.toString())===e)return n}}throw new wu(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new wu("Sections not available");let e=[];for(let t of this.sections)if(t.contents)for(let i of t.contents)i.as(fu).options&&(e=e.concat(i.as(fu).options));return e.map(e=>{var t;return null===(t=e.title)||void 0===t?void 0:t.toString()}).filter(e=>e)}get sidebar_items(){if(!this.sidebar)throw new wu("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return i1(this,ex,"f")}};iK(yL,"Settings"),ex=new WeakMap,eS=new WeakMap;var yD=yL,yN=class{constructor(e){var t;if(eC.set(this,void 0),i2(this,eC,na.parseResponse(e.data),"f"),!i1(this,eC,"f").contents)throw new wu("Page contents not found");let i=i1(this,eC,"f").contents.item().as(fM).tabs.get({selected:!0});if(!i)throw new wu("Could not find target tab.");this.contents=null===(t=i.content)||void 0===t?void 0:t.as(nH).contents.as(dg)}get page(){return i1(this,eC,"f")}};iK(yN,"TimeWatched"),eC=new WeakMap;var yO=yN,yB={};iY(yB,{Feed:()=>g7,FilterableFeed:()=>yn,MediaInfo:()=>_u,TabbedFeed:()=>yt}),iY({},{chooseFormat:()=>_c,download:()=>_l,toDash:()=>_r});var yV={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function yU(e){return e.replace(/([&"<>'])/g,(e,t)=>yV[t])}function yH(e){return"mpd"===e?"MPD":"base-url"===e?"BaseURL":e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}function yF(e,t,...i){let n=i.flat().map(e=>"string"==typeof e?yj(e):e);return"function"==typeof e?e(Object.assign(Object.assign({},t),{children:n})):{type:yH(e),props:Object.assign(Object.assign({},t),{children:n})}}function yj(e){return{type:"TEXT_ELEMENT",props:{nodeValue:e}}}function yW(e){return iX(this,void 0,void 0,function*(){if("TEXT_ELEMENT"===e.type)return yU("string"==typeof e.props.nodeValue?e.props.nodeValue:"");let t=`<${e.type}`;if(e.props){let i=Object.keys(e.props).filter(t=>!["children","nodeValue"].includes(t)&&void 0!==e.props[t]).map(t=>`${t}="${yU(`${e.props[t]}`)}"`);i.length>0&&(t+=` ${i.join(" ")}`)}if(e.props.children){let i=yield Promise.all((yield Promise.all(e.props.children.flat())).flat().filter(e=>!!e).map(e=>yW(e)));if(i.length>0)return t+`>${i.join("")}</${e.type}>`}return`${t}/>`})}function y$(e){return iX(this,void 0,void 0,function*(){let t=yield yW((yield e));return`<?xml version="1.0" encoding="utf-8"?>${t}`})}function yG(e){return e.children}iK(yU,"escapeXMLString"),iK(yH,"normalizeTag"),iK(yF,"createElement"),iK(yj,"createTextElement"),iK(yW,"renderElementToString"),iK(y$,"renderToString"),iK(yG,"Fragment"),iK(class{constructor(e,t){eT.set(this,void 0),i2(this,eT,new wh.shim.Cache(e,t),"f")}get cache_dir(){return i1(this,eT,"f").cache_dir}get(e){return i1(this,eT,"f").get(e)}set(e,t){return i1(this,eT,"f").set(e,t)}remove(e){return i1(this,eT,"f").remove(e)}},"UniversalCache"),eT=new WeakMap;var yK=class{constructor(e,t,i){eI.add(this),ek.set(this,void 0),eE.set(this,void 0),eA.set(this,void 0),i2(this,ek,e,"f"),i2(this,eE,t,"f"),i2(this,eA,i||wh.shim.fetch,"f")}get fetch_function(){return i1(this,eA,"f")}fetch(e,t){return iX(this,void 0,void 0,function*(){let i=ne.API.PRODUCTION_1+i1(this,ek,"f").api_version,n=(null==t?void 0:t.baseURL)||i,s="string"==typeof e?new URL(n.endsWith("/")||e.startsWith("/")?n+e:`${n}/${e}`):e instanceof URL?e:new URL(e.url,n),a=(null==t?void 0:t.headers)||(e instanceof wh.shim.Request?e.headers:new wh.shim.Headers)||new wh.shim.Headers,o=(null==t?void 0:t.body)||(e instanceof wh.shim.Request?e.body:void 0),r=new wh.shim.Headers(a);r.set("Accept","*/*"),r.set("Accept-Language","*"),r.set("X-Goog-Visitor-Id",i1(this,ek,"f").context.client.visitorData||""),r.set("X-Origin",s.origin),r.set("X-Youtube-Client-Version",i1(this,ek,"f").context.client.clientVersion||""),wh.shim.server&&(r.set("User-Agent",wx("desktop")),r.set("origin",s.origin)),s.searchParams.set("key",i1(this,ek,"f").key),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");let l=r.get("Content-Type"),c=o,d=!1,h=n===i||n===ne.YT_UPLOAD;if("application/json"===l&&h&&"string"==typeof o){let e=Object.assign(Object.assign({},JSON.parse(o)),{context:JSON.parse(JSON.stringify(i1(this,ek,"f").context))});i1(this,eI,"m",eP).call(this,e.context,e.client),r.set("x-youtube-client-version",e.context.client.clientVersion),delete e.client,wh.shim.server&&("ANDROID"===e.context.client.clientName||"ANDROID_MUSIC"===e.context.client.clientName?r.set("User-Agent",ni.ANDROID.USER_AGENT):"iOS"===e.context.client.clientName&&r.set("User-Agent",ni.iOS.USER_AGENT)),d="WEB_KIDS"===e.context.client.clientName,c=JSON.stringify(e)}if(i1(this,ek,"f").logged_in&&h&&!d){let e=i1(this,ek,"f").oauth;if(e.validateCredentials()&&(yield e.refreshIfRequired(),r.set("authorization",`Bearer ${e.credentials.access_token}`),s.searchParams.delete("key")),i1(this,eE,"f")){let e=wb(i1(this,eE,"f"),"PAPISID=",";");e&&(r.set("authorization",(yield wS(e))),r.set("x-goog-authuser",i1(this,ek,"f").account_index.toString())),r.set("cookie",i1(this,eE,"f"))}}let u=new wh.shim.Request(s,e instanceof wh.shim.Request?e:t),p=yield i1(this,eA,"f").call(this,u,{body:c,headers:r,credentials:"include",redirect:e instanceof wh.shim.Request?e.redirect:(null==t?void 0:t.redirect)||"follow"});if(p.ok)return p;throw new wu(`Request to ${p.url} failed with status ${p.status}`,(yield p.text()))})}};function yY(e){var t,i,n;let s=new Map,a=e.some(e=>!!e.audio_track);for(let a of e){if((!a.index_range||!a.init_range)&&!a.is_type_otf)continue;let e=a.mime_type.split(";")[0],o=null===(t=wb(a.mime_type,'codecs="','"'))||void 0===t?void 0:t.split(".")[0],r=a.color_info?Object.values(a.color_info).join("-"):"",l=(null===(i=a.audio_track)||void 0===i?void 0:i.id)||"",c=`${e}-${o}-${r}-${l}`;s.has(c)||s.set(c,[]),null===(n=s.get(c))||void 0===n||n.push(a)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:a}}function yq(e,t){if(e.length>1&&1===new Set(e.map(e=>wb(e.mime_type,'codecs="','"'))).size)return t.push("codecs"),wb(e[0].mime_type,'codecs="','"')}function yz(e,t,i){if(e.length>1&&1===new Set(e.map(e=>e.fps)).size)return i.push(t),Number(e[0][t])}function yX(e,t){if(e.length>1&&1===new Set(e.map(e=>e.audio_channels||2)).size)return t.push("AudioChannelConfiguration"),e[0].audio_channels}function yJ(e,t){var i;return iX(this,void 0,void 0,function*(){let n=yield t.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:i7.STREAM_HEADERS,redirect:"follow"}),s=n.url.replace("&rn=0","").replace("&sq=0",""),a=null===(i=wb((yield n.text()),"Segment-Durations-Ms:","\r\n"))||void 0===i?void 0:i.split(",");if(!a)throw new wu("Failed to extract the segment durations from this OTF stream",{url:e});let o=[];for(let e of a){let t;let i=e.trim();if(0===i.length)continue;let n=wb(i,"(r=",")");n&&(t=parseInt(n)),o.push({duration:parseInt(i),repeat_count:t})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:o}})}function yQ(e,t,i,n,s){let a=new URL(e.decipher(n));a.searchParams.set("cpn",s||"");let o=t(a).toString();if(e.is_type_otf){if(!i)throw new wu("Unable to get segment durations for this OTF stream without an Actions instance",{format:e});return{is_oft:!0,getSegmentTemplate:()=>yJ(o,i)}}if(!e.index_range||!e.init_range)throw new wu("Index and init ranges not available",{format:e});return{is_oft:!1,base_url:o,index_range:e.index_range,init_range:e.init_range}}function yZ(e,t,i,n,s,a){return new URL(e.decipher(s)).searchParams.set("cpn",a||""),{uid:e.audio_track?`${e.itag}-${e.audio_track.id}`:e.itag.toString(),bitrate:e.bitrate,codecs:t.includes("codecs")?void 0:wb(e.mime_type,'codecs="','"'),audio_sample_rate:t.includes("audio_sample_rate")?void 0:e.audio_sample_rate,channels:t.includes("AudioChannelConfiguration")?void 0:e.audio_channels||2,segment_info:yQ(e,i,n,s,a)}}function y0(e){let{audio_track:t}=e;if(t)return t.audio_is_default?"main":e.is_dubbed?"dub":e.is_descriptive?"description":"alternate"}function y1(e,t,i,n,s){var a;let o=e[0],{audio_track:r}=o,l=[];return{mime_type:o.mime_type.split(";")[0],language:null!==(a=o.language)&&void 0!==a?a:void 0,codecs:yq(e,l),audio_sample_rate:yz(e,"audio_sample_rate",l),track_name:null==r?void 0:r.display_name,track_role:y0(o),channels:yX(e,l),representations:e.map(e=>yZ(e,l,t,i,n,s))}}iK(yK,"HTTPClient"),ek=new WeakMap,eE=new WeakMap,eA=new WeakMap,eI=new WeakSet,eP=iK(function(e,t){switch(("ANDROID"===t||"YTMUSIC_ANDROID"===t||"YTMUSIC_ANDROID"===t||"YTSTUDIO_ANDROID"===t)&&(e.client.androidSdkVersion=ni.ANDROID.SDK_VERSION,e.client.userAgent=ni.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),t){case"iOS":e.client.deviceModel=ni.iOS.DEVICE_MODEL,e.client.clientVersion=ni.iOS.VERSION,e.client.clientName=ni.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=ni.YTMUSIC.VERSION,e.client.clientName=ni.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=ni.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ni.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=ni.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ni.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=ni.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ni.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=ni.TV_EMBEDDED.NAME,e.client.clientVersion=ni.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ne.YT_BASE};break;case"YTKIDS":e.client.clientVersion=ni.WEB_KIDS.VERSION,e.client.clientName=ni.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}}}},"_HTTPClient_adjustContext"),iK(yY,"getFormatGroupings"),iK(yq,"hoistCodecsIfPossible"),iK(yz,"hoistNumberAttributeIfPossible"),iK(yX,"hoistAudioChannelsIfPossible"),iK(yJ,"getOTFSegmentTemplate"),iK(yQ,"getSegmentInfo"),iK(yZ,"getAudioRepresentation"),iK(y0,"getTrackRole"),iK(y1,"getAudioSet");var y2={BT709:"1",BT2020:"9"},y3={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},y5={BT709:"1",BT2020_NCL:"14"};function y6(e){let t=e.color_info,i=(null==t?void 0:t.primaries)?y2[t.primaries]:void 0,n=(null==t?void 0:t.transfer_characteristics)?y3[t.transfer_characteristics]:void 0,s=(null==t?void 0:t.matrix_coefficients)?y5[t.matrix_coefficients]:void 0;if((null==t?void 0:t.matrix_coefficients)&&!s){let i=new URL(e.url),n=JSON.parse(JSON.stringify(e));n.url="REDACTED",n.signature_cipher="REDACTED",n.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${t.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${wh.shim.info.bugs_url} so we can add support for it.
Innertube client: ${i.searchParams.get("c")}
format:`,n)}return{primaries:i,transfer_characteristics:n,matrix_coefficients:s}}function y4(e,t,i,n,s,a){return{uid:e.itag.toString(),bitrate:e.bitrate,width:e.width,height:e.height,codecs:i.includes("codecs")?void 0:wb(e.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:e.fps,segment_info:yQ(e,t,s,n,a)}}function y9(e,t,i,n,s){let a=e[0],o=y6(a),r=[];return{mime_type:a.mime_type.split(";")[0],color_info:o,codecs:yq(e,r),fps:yz(e,"fps",r),representations:e.map(e=>y4(e,t,r,i,n,s))}}function y8(e){var t;let i=new Map;for(let n of e.boards){let e=new URL(n.template_url).pathname.split(".").pop(),s=`image/${"jpg"===e?"jpeg":e}`;i.has(s)||i.set(s,[]),null===(t=i.get(s))||void 0===t||t.push(n)}return i}function y7(e,t,i,n,s){return iX(this,void 0,void 0,function*(){let a=t.template_url,o=i(new URL(a.replace("$M","0"))),r=s.response?s.response:e.session.http.fetch_function(o,{method:"HEAD",headers:i7.STREAM_HEADERS});return s.response=r,(yield r).headers.get("Content-Type")||n})}function _e(e,t,i){return iX(this,void 0,void 0,function*(){let n=t.template_url,s=[],a=Math.min(t.storyboard_count,10);for(let t=0;t<a;t++){let a=new URL(n.replace("$M",t.toString())),o=0===t&&i.response?i.response:e.session.http.fetch_function(a,{method:"HEAD",headers:i7.STREAM_HEADERS});0===t&&(i.response=o),s.push(o)}let o=yield Promise.all(s),r=[];for(let e of o)r.push(parseInt(e.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...r)/(t.rows*t.columns)*8)})}function _t(e,t,i,n,s){let a=i.template_url,o=new URL(a.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate:()=>_e(t,i,s),sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:e/i.storyboard_count,template_url:n(o).toString(),getURL:e=>o.toString().replace("$Number$",e.toString())}}function _i(e,t,i,n){let s=y8(i),a={};return Array.from(s.entries()).map(([i,s])=>({probable_mime_type:i,getMimeType:()=>y7(t,s[0],n,i,a),representations:s.map(i=>_t(e,t,i,n,a))}))}function _n(e,t=e=>e,i,n,s,a,o){if(!e)throw new wu("Streaming data not available");let r=i?e.adaptive_formats.filter(e=>!i(e)):e.adaptive_formats,l=r[0].approx_duration_ms/1e3,{groups:c,has_multiple_audio_tracks:d}=yY(r),{video_groups:h,audio_groups:u}=c.reduce((e,t)=>(t[0].has_audio?d&&!t[0].audio_track||e.audio_groups.push(t):e.video_groups.push(t),e),{video_groups:[],audio_groups:[]}),p=u.map(e=>y1(e,t,a,s,n)),m=h.map(e=>y9(e,t,s,a,n)),f=o&&a?_i(l,a,o,t):[];return{duration:l,audio_sets:p,video_sets:m,image_sets:f}}function _s({info:e}){return iX(this,void 0,void 0,function*(){if(!e.is_oft)return null;let t=yield e.getSegmentTemplate();return yF("segment-template",{startNumber:"1",timescale:"1000",initialization:t.init_url,media:t.media_url},yF("segment-timeline",null,t.timeline.map(e=>yF("s",{d:e.duration,r:e.repeat_count}))))})}function _a({info:e}){return e.is_oft?yF(_s,{info:e}):yF(yG,null,yF("base-url",null,e.base_url),yF("segment-base",{indexRange:`${e.index_range.start}-${e.index_range.end}`},yF("initialization",{range:`${e.init_range.start}-${e.init_range.end}`})))}function _o({streamingData:e,transformURL:t,rejectFormat:i,cpn:n,player:s,actions:a,storyboards:o}){let{duration:r,audio_sets:l,video_sets:c,image_sets:d}=_n(e,t,i,n,s,a,o);return yF("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${r}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},yF("period",null,l.map((e,t)=>yF("adaptation-set",{id:t,mimeType:e.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:e.language,codecs:e.codecs,audioSamplingRate:e.audio_sample_rate,contentType:"audio"},e.track_role&&yF("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:e.track_role}),e.track_name&&yF("label",{id:t},e.track_name),e.channels&&yF("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:e.channels}),e.representations.map(e=>yF("representation",{id:e.uid,bandwidth:e.bitrate,codecs:e.codecs,audioSamplingRate:e.audio_sample_rate},e.channels&&yF("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:e.channels}),yF(_a,{info:e.segment_info}))))),c.map((e,t)=>yF("adaptation-set",{id:t+l.length,mimeType:e.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:e.codecs,maxPlayoutRate:"1",frameRate:e.fps,contentType:"video"},e.color_info.primaries&&yF("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:e.color_info.primaries}),e.color_info.transfer_characteristics&&yF("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:e.color_info.transfer_characteristics}),e.color_info.matrix_coefficients&&yF("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:e.color_info.matrix_coefficients}),e.representations.map(e=>yF("representation",{id:e.uid,bandwidth:e.bitrate,width:e.width,height:e.height,codecs:e.codecs,frameRate:e.fps},yF(_a,{info:e.segment_info}))))),d.map((e,t)=>iX(this,void 0,void 0,function*(){return yF("adaptation-set",{id:t+l.length+c.length,mimeType:yield e.getMimeType(),contentType:"image"},e.representations.map(e=>iX(this,void 0,void 0,function*(){return yF("representation",{id:`thumbnails_${e.thumbnail_width}x${e.thumbnail_height}`,bandwidth:yield e.getBitrate(),width:e.sheet_width,height:e.sheet_height},yF("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${e.columns}x${e.rows}`}),yF("segment-template",{media:e.template_url,duration:e.template_duration,startNumber:"0"}))})))}))))}function _r(e,t=e=>e,i,n,s,a,o){if(!e)throw new wu("Streaming data not available");return y$(yF(_o,{streamingData:e,transformURL:t,rejectFormat:i,cpn:n,player:s,actions:a,storyboards:o}))}function _l(e,t,i,n,s,a){return iX(this,void 0,void 0,function*(){let o;if((null==i?void 0:i.status)==="UNPLAYABLE")throw new wu("Video is unplayable",{error_type:"UNPLAYABLE"});if((null==i?void 0:i.status)==="LOGIN_REQUIRED")throw new wu("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new wu("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let r=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),l=_c(r,n),c=l.decipher(s);if("video+audio"===r.type&&!e.range){let e=yield t.session.http.fetch_function(`${c}&cpn=${a}`,{method:"GET",headers:nn,redirect:"follow"});if(!e.ok)throw new wu("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:e});let i=e.body;if(!i)throw new wu("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:e});return i}let d=e.range?e.range.start:0,h=e.range?e.range.end:10485760,u=!1;return new wh.shim.ReadableStream({start(){},pull:i=>iX(this,void 0,void 0,function*(){if(u){i.close();return}return(h>=(l.content_length?l.content_length:0)||e.range)&&(u=!0),new Promise((e,n)=>iX(this,void 0,void 0,function*(){var s,r,l,u;try{o=new AbortController;let n=yield t.session.http.fetch_function(`${c}&cpn=${a}&range=${d}-${h||""}`,{method:"GET",headers:Object.assign({},nn),signal:o.signal}),v=n.body;if(!v)throw new wu("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:n});try{for(var p,m=!0,f=i0(wA(v));!(s=(p=yield f.next()).done);m=!0)u=p.value,m=!1,i.enqueue(u)}catch(e){r={error:e}}finally{try{!m&&!s&&(l=f.return)&&(yield l.call(f))}finally{if(r)throw r.error}}d=h+1,h+=10485760,e()}catch(e){n(e)}}))}),cancel(e){return iX(this,void 0,void 0,function*(){o.abort(e)})}},{highWaterMark:1,size:e=>e.byteLength})})}function _c(e,t){if(!t)throw new wu("Streaming data not available");let i=[...t.formats||[],...t.adaptive_formats||[]],n=!e.type||e.type.includes("audio"),s=!e.type||e.type.includes("video"),a=e.language||"original",o=e.quality||"best",r=-1,l=["best","bestefficiency"].includes(o),c="best"!==o,d=i.filter(t=>!!((!n||t.has_audio)&&(!s||t.has_video)&&("any"===e.format||t.mime_type.includes(e.format||"mp4")))&&(!!l||t.quality_label===o)&&(r<t.width&&(r=t.width),!0));if(!d.length)throw new wu("No matching formats found",{options:e});if(l&&s&&(d=d.filter(e=>e.width===r)),n&&!s){let e=d.filter(e=>"original"!==a?!e.has_video&&e.language===a:!e.has_video&&e.is_original);e.length>0&&(d=e)}return c?d.sort((e,t)=>e.bitrate-t.bitrate):d.sort((e,t)=>t.bitrate-e.bitrate),d[0]}iK(y6,"getColorInfo"),iK(y4,"getVideoRepresentation"),iK(y9,"getVideoSet"),iK(y8,"getStoryboardInfo"),iK(y7,"getStoryboardMimeType"),iK(_e,"getStoryboardBitrate"),iK(_t,"getImageRepresentation"),iK(_i,"getImageSets"),iK(_n,"getStreamingInfo"),iK(_s,"OTFSegmentInfo"),iK(_a,"SegmentInfo"),iK(_o,"DashManifest"),iK(_r,"toDash"),iK(_l,"download"),iK(_c,"chooseFormat");var _d=class{constructor(e,t){eR.set(this,void 0),eM.set(this,void 0),i2(this,eR,na.parseResponse(t.data),"f"),i2(this,eM,e,"f"),this.transcript=i1(this,eR,"f").actions_memo.getType(s$).first()}selectLanguage(e){var t,i,n,s;return iX(this,void 0,void 0,function*(){let a=null===(s=null===(n=null===(i=null===(t=this.transcript.content)||void 0===t?void 0:t.footer)||void 0===i?void 0:i.language_menu)||void 0===n?void 0:n.sub_menu_items)||void 0===s?void 0:s.find(t=>t.title.toString()===e);if(!a)throw Error(`Language not found: ${e}`);if(a.selected)return this;let o=yield i1(this,eM,"f").execute("/get_transcript",{params:a.continuation});return new _d(i1(this,eM,"f"),o)})}get languages(){var e,t,i,n;return(null===(n=null===(i=null===(t=null===(e=this.transcript.content)||void 0===e?void 0:e.footer)||void 0===t?void 0:t.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===n?void 0:n.map(e=>e.title.toString()))||[]}get selectedLanguage(){var e,t,i,n,s;return(null===(s=null===(n=null===(i=null===(t=null===(e=this.transcript.content)||void 0===e?void 0:e.footer)||void 0===t?void 0:t.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===n?void 0:n.find(e=>e.selected))||void 0===s?void 0:s.title.toString())||""}get page(){return i1(this,eR,"f")}};iK(_d,"TranscriptInfo"),eR=new WeakMap,eM=new WeakMap;var _h=class{constructor(e,t,i){var n,s;eL.set(this,void 0),eD.set(this,void 0),eN.set(this,void 0),eO.set(this,void 0),i2(this,eD,t,"f");let a=na.parseResponse(e[0].data),o=(null===(n=null==e?void 0:e[1])||void 0===n?void 0:n.data)?na.parseResponse(e[1].data):void 0;if(i2(this,eL,[a,o],"f"),i2(this,eN,i,"f"),(null===(s=a.playability_status)||void 0===s?void 0:s.status)==="ERROR")throw new wu("This video is unavailable",a.playability_status);this.streaming_data=a.streaming_data,this.playability_status=a.playability_status,i2(this,eO,a.playback_tracking,"f")}toDash(e,t,i={include_thumbnails:!1}){var n;return iX(this,void 0,void 0,function*(){let s;let a=i1(this,eL,"f")[0];if(a.video_details&&(a.video_details.is_live||a.video_details.is_post_live_dvr))throw new wu("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");return i.include_thumbnails&&(null===(n=a.storyboards)||void 0===n?void 0:n.is(nT))&&(s=a.storyboards),_r(this.streaming_data,e,t,i1(this,eN,"f"),i1(this,eD,"f").session.player,i1(this,eD,"f"),s)})}getStreamingInfo(e,t){var i;return _n(this.streaming_data,e,t,this.cpn,i1(this,eD,"f").session.player,i1(this,eD,"f"),(null===(i=i1(this,eL,"f")[0].storyboards)||void 0===i?void 0:i.is(nT))?i1(this,eL,"f")[0].storyboards:void 0)}chooseFormat(e){return _c(e,this.streaming_data)}download(e={}){return iX(this,void 0,void 0,function*(){let t=i1(this,eL,"f")[0];if(t.video_details&&(t.video_details.is_live||t.video_details.is_post_live_dvr))throw new wu("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return _l(e,i1(this,eD,"f"),this.playability_status,this.streaming_data,i1(this,eD,"f").session.player,this.cpn)})}getTranscript(){var e;return iX(this,void 0,void 0,function*(){let t=this.page[1];if(!t)throw new wu("Cannot get transcript from basic video info.");if(!t.engagement_panels)throw new wu("Engagement panels not found. Video likely has no transcript.");let i=t.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new wu("Transcript panel not found. Video likely has no transcript.");let n=null===(e=i.content)||void 0===e?void 0:e.as(nL);if(!n)throw new wu("Transcript continuation not found.");let s=yield n.endpoint.call(this.actions);return new _d(this.actions,s)})}addToWatchHistory(e=ni.WEB.NAME,t=ni.WEB.VERSION,i="https://www."){return iX(this,void 0,void 0,function*(){if(!i1(this,eO,"f"))throw new wu("Playback tracking not available");let n={cpn:i1(this,eN,"f"),fmt:251,rtn:0,rt:0},s=i1(this,eO,"f").videostats_playback_url.replace("https://s.",i);return yield i1(this,eD,"f").stats(s,{client_name:e,client_version:t},n)})}get actions(){return i1(this,eD,"f")}get cpn(){return i1(this,eN,"f")}get page(){return i1(this,eL,"f")}};iK(_h,"MediaInfo"),eL=new WeakMap,eD=new WeakMap,eN=new WeakMap,eO=new WeakMap;var _u=_h,_p=class extends _u{constructor(e,t,i){var n,s,a,o,r,l,c,d,h,u,p,m,f,v,g,y,_,b,w,x,S,C,T,I,k,E,A,P,R,M,L,D,N,O,B,V,U,H,F,j,W,$;super(e,t,i),eB.set(this,void 0);let[G,K]=this.page;if(G.microformat&&!(null===(n=G.microformat)||void 0===n?void 0:n.is(pq,um)))throw new wu("Invalid microformat",G.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},G.video_details),{embed:(null===(s=G.microformat)||void 0===s?void 0:s.is(pq))?null===(a=G.microformat)||void 0===a?void 0:a.embed:null,channel:(null===(o=G.microformat)||void 0===o?void 0:o.is(pq))?null===(r=G.microformat)||void 0===r?void 0:r.channel:null,is_unlisted:null===(l=G.microformat)||void 0===l?void 0:l.is_unlisted,is_family_safe:null===(c=G.microformat)||void 0===c?void 0:c.is_family_safe,category:(null===(d=G.microformat)||void 0===d?void 0:d.is(pq))?null===(h=G.microformat)||void 0===h?void 0:h.category:null,has_ypc_metadata:(null===(u=G.microformat)||void 0===u?void 0:u.is(pq))?null===(p=G.microformat)||void 0===p?void 0:p.has_ypc_metadata:null,start_timestamp:(null===(m=G.microformat)||void 0===m?void 0:m.is(pq))?G.microformat.start_timestamp:null,view_count:(null===(f=G.microformat)||void 0===f?void 0:f.is(pq))&&isNaN(null===(v=G.video_details)||void 0===v?void 0:v.view_count)?G.microformat.view_count:null===(g=G.video_details)||void 0===g?void 0:g.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=G.annotations,this.storyboards=G.storyboards,this.endscreen=G.endscreen,this.captions=G.captions,this.cards=G.cards,this.streaming_data){let e=this.streaming_data.adaptive_formats.find(e=>{var t;return null===(t=e.audio_track)||void 0===t?void 0:t.audio_is_default});if(e)this.streaming_data.formats.forEach(t=>t.language=e.language);else if(void 0!==(null===(y=this.captions)||void 0===y?void 0:y.default_audio_track_index)&&(null===(_=this.captions)||void 0===_?void 0:_.audio_tracks)&&this.captions.caption_tracks){let e=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,t=this.captions.caption_tracks[e].language_code;this.streaming_data.adaptive_formats.forEach(e=>{e.has_audio&&(e.language=t)}),this.streaming_data.formats.forEach(e=>e.language=t)}}let Y=null===(b=null==K?void 0:K.contents)||void 0===b?void 0:b.item().as(vC),q=null==Y?void 0:Y.results,z=null==Y?void 0:Y.secondary_results;if(q&&z){if((null===(w=G.microformat)||void 0===w?void 0:w.is(pq))&&(null===(x=G.microformat)||void 0===x?void 0:x.category)==="Gaming"){let e=null===(T=null===(C=null===(S=q.firstOfType(vH))||void 0===S?void 0:S.metadata)||void 0===C?void 0:C.rows)||void 0===T?void 0:T.firstOfType(mK);(null==e?void 0:e.is(mK))&&(this.game_info={title:null===(k=null===(I=null==e?void 0:e.contents)||void 0===I?void 0:I.firstOfType(m$))||void 0===k?void 0:k.title,release_year:null===(A=null===(E=null==e?void 0:e.contents)||void 0===E?void 0:E.firstOfType(m$))||void 0===A?void 0:A.subtitle})}this.primary_info=q.firstOfType(vV),this.secondary_info=q.firstOfType(vH),this.merchandise=q.firstOfType(us),this.related_chip_cloud=null===(P=z.firstOfType(mO))||void 0===P?void 0:P.content.as(oa),(null==Y?void 0:Y.playlist)&&(this.playlist=Y.playlist),this.watch_next_feed=(null===(R=z.firstOfType(dg))||void 0===R?void 0:R.contents)||z,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&(null===(M=this.watch_next_feed.at(-1))||void 0===M?void 0:M.is(nL))&&i2(this,eB,null===(L=this.watch_next_feed.pop())||void 0===L?void 0:L.as(nL),"f"),this.player_overlays=null===(D=null==K?void 0:K.player_overlays)||void 0===D?void 0:D.item().as(p0),(null==Y?void 0:Y.autoplay)&&(this.autoplay=Y.autoplay);let e=null===(O=null===(N=this.primary_info)||void 0===N?void 0:N.menu)||void 0===O?void 0:O.top_level_buttons.firstOfType(fs);(null===(B=null==e?void 0:e.like_button)||void 0===B?void 0:B.is(as))&&(null===(V=null==e?void 0:e.dislike_button)||void 0===V?void 0:V.is(as))&&(this.basic_info.like_count=null===(U=null==e?void 0:e.like_button)||void 0===U?void 0:U.like_count,this.basic_info.is_liked=null===(H=null==e?void 0:e.like_button)||void 0===H?void 0:H.is_toggled,this.basic_info.is_disliked=null===(F=null==e?void 0:e.dislike_button)||void 0===F?void 0:F.is_toggled);let t=null===(j=q.get({target_id:"comments-entry-point"}))||void 0===j?void 0:j.as(dg);this.comments_entry_point_header=null===(W=null==t?void 0:t.contents)||void 0===W?void 0:W.firstOfType(r5),this.livechat=null===($=null==K?void 0:K.contents_memo)||void 0===$?void 0:$.getType(dw).first()}}selectFilter(e){var t,i,n,s;return iX(this,void 0,void 0,function*(){let a;if(!this.related_chip_cloud)throw new wu("Chip cloud not found, cannot apply filter");if("string"==typeof e){let n=null===(i=null===(t=this.related_chip_cloud)||void 0===t?void 0:t.chips)||void 0===i?void 0:i.get({text:e});if(!n)throw new wu("Invalid filter",{available_filters:this.filters});a=n}else if(null==e?void 0:e.is(on))a=e;else throw new wu("Invalid cloud chip",e);if(a.is_selected)return this;let o=yield null===(n=a.endpoint)||void 0===n?void 0:n.call(this.actions,{parse:!0}),r=null===(s=null==o?void 0:o.on_response_received_endpoints)||void 0===s?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=null==r?void 0:r.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return iX(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,t,i,n,s;return iX(this,void 0,void 0,function*(){if(!i1(this,eB,"f"))throw new wu("Watch next feed continuation not found");let a=yield null===(e=i1(this,eB,"f"))||void 0===e?void 0:e.endpoint.call(this.actions,{parse:!0}),o=null===(t=null==a?void 0:a.on_response_received_endpoints)||void 0===t?void 0:t.get({type:"appendContinuationItemsAction"});if(!o)throw new wu("AppendContinuationItemsAction not found");return this.watch_next_feed=null==o?void 0:o.contents,(null===(n=null===(i=this.watch_next_feed)||void 0===i?void 0:i.at(-1))||void 0===n?void 0:n.is(nL))?i2(this,eB,null===(s=this.watch_next_feed.pop())||void 0===s?void 0:s.as(nL),"f"):i2(this,eB,void 0,"f"),this})}like(){var e,t;return iX(this,void 0,void 0,function*(){let i=null===(t=null===(e=this.primary_info)||void 0===e?void 0:e.menu)||void 0===t?void 0:t.top_level_buttons.firstOfType(fs),n=null==i?void 0:i.like_button;if(!n)throw new wu("Like button not found",{video_id:this.basic_info.id});if(!n.is(as))throw new wu("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new wu("This video is already liked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}dislike(){var e,t;return iX(this,void 0,void 0,function*(){let i=null===(t=null===(e=this.primary_info)||void 0===e?void 0:e.menu)||void 0===t?void 0:t.top_level_buttons.firstOfType(fs),n=null==i?void 0:i.dislike_button;if(!n)throw new wu("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(as))throw new wu("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new wu("This video is already disliked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}removeRating(){var e,t;return iX(this,void 0,void 0,function*(){let i;let n=null===(t=null===(e=this.primary_info)||void 0===e?void 0:e.menu)||void 0===t?void 0:t.top_level_buttons.firstOfType(fs),s=null==n?void 0:n.like_button,a=null==n?void 0:n.dislike_button;if(!(null==s?void 0:s.is(as))||!(null==a?void 0:a.is(as)))throw new wu("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if((null==s?void 0:s.is_toggled)?i=s:(null==a?void 0:a.is_toggled)&&(i=a),!i)throw new wu("This video is not liked/disliked",{video_id:this.basic_info.id});return yield i.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new wu("Live Chat is not available",{video_id:this.basic_info.id});return new yE(this)}getTrailerInfo(){var e,t;if(this.has_trailer){let i=null===(t=null===(e=this.playability_status.error_screen)||void 0===e?void 0:e.as(pK).trailer)||void 0===t?void 0:t.player_response;if(i)return new _p([{data:i}],this.actions,this.cpn)}return null}get filters(){var e,t;return(null===(t=null===(e=this.related_chip_cloud)||void 0===e?void 0:e.chips)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.text)||void 0===t?void 0:t.toString()}))||[]}get wn_has_continuation(){return!!i1(this,eB,"f")}get autoplay_video_endpoint(){var e,t,i;return(null===(i=null===(t=null===(e=this.autoplay)||void 0===e?void 0:e.sets)||void 0===t?void 0:t[0])||void 0===i?void 0:i.autoplay_video)||null}get has_trailer(){var e;return!!(null===(e=this.playability_status.error_screen)||void 0===e?void 0:e.is(pK))}get music_tracks(){var e,t,i,n,s,a;let o=null===(t=null===(e=this.page[1])||void 0===e?void 0:e.engagement_panels)||void 0===t?void 0:t.filter(e=>{var t;return null===(t=e.content)||void 0===t?void 0:t.is(sa)});if(void 0!==o&&o.length>0){let e=null===(s=null===(n=null===(i=o[0].content)||void 0===i?void 0:i.as(sa))||void 0===n?void 0:n.items)||void 0===s?void 0:s.filterType(se);if(void 0!==e&&e.length>0)return null===(a=e[0].carousel_lockups)||void 0===a?void 0:a.map(e=>{var t,i,n,s,a,o,r,l,c,d,h,u,p,m,f,v,g,y,_;let b,w,x,S,C,T;b=null===(i=null===(t=e.video_lockup)||void 0===t?void 0:t.title)||void 0===i?void 0:i.toString(),C=null===(n=e.video_lockup)||void 0===n?void 0:n.endpoint.payload.videoId;for(let t=0;t<e.info_rows.length;t++){let i=e.info_rows[t];if(void 0===i.info_row_expand_status_key){if(void 0===b){if(b=(null===(s=i.default_metadata)||void 0===s?void 0:s.toString())||(null===(a=i.expanded_metadata)||void 0===a?void 0:a.toString()),void 0===C){let e=(null===(o=i.default_metadata)||void 0===o?void 0:o.endpoint)||(null===(r=i.expanded_metadata)||void 0===r?void 0:r.endpoint);C=null===(l=null==e?void 0:e.payload)||void 0===l?void 0:l.videoId}}else x=(null===(c=i.default_metadata)||void 0===c?void 0:c.toString())||(null===(d=i.expanded_metadata)||void 0===d?void 0:d.toString())}else{if((null===(h=i.info_row_expand_status_key)||void 0===h?void 0:h.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(w=(null===(u=i.default_metadata)||void 0===u?void 0:u.toString())||(null===(p=i.expanded_metadata)||void 0===p?void 0:p.toString()),void 0===T)){let e=(null===(m=i.default_metadata)||void 0===m?void 0:m.endpoint)||(null===(f=i.expanded_metadata)||void 0===f?void 0:f.endpoint);T=null===(v=null==e?void 0:e.payload)||void 0===v?void 0:v.browseId}(null===(g=i.info_row_expand_status_key)||void 0===g?void 0:g.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(S=(null===(y=i.default_metadata)||void 0===y?void 0:y.toString())||(null===(_=i.expanded_metadata)||void 0===_?void 0:_.toString()))}}return{song:b,artist:w,album:x,license:S,videoId:C,channelId:T}})}return[]}};iK(_p,"VideoInfo"),eB=new WeakMap;var _m=_p;iY({},{Album:()=>_v,Artist:()=>_y,Explore:()=>_b,HomeFeed:()=>_x,Library:()=>_T,LibraryContinuation:()=>_C,Playlist:()=>_k,Recap:()=>_A,Search:()=>_R,TrackInfo:()=>_D});var _f=class{constructor(e){var t,i,n;if(eV.set(this,void 0),i2(this,eV,na.parseResponse(e.data),"f"),this.header=null===(t=i1(this,eV,"f").header)||void 0===t?void 0:t.item().as(uQ),this.url=(null===(i=i1(this,eV,"f").microformat)||void 0===i?void 0:i.as(um).url_canonical)||null,!i1(this,eV,"f").contents_memo)throw Error("No contents found in the response");this.contents=null===(n=i1(this,eV,"f").contents_memo.getType(pm))||void 0===n?void 0:n.first().contents,this.sections=i1(this,eV,"f").contents_memo.getType(uq)||[]}get page(){return i1(this,eV,"f")}};iK(_f,"Album"),eV=new WeakMap;var _v=_f,_g=class{constructor(e,t){var i,n,s;eU.set(this,void 0),eH.set(this,void 0),i2(this,eU,na.parseResponse(e.data),"f"),i2(this,eH,t,"f"),this.header=null===(i=this.page.header)||void 0===i?void 0:i.item().as(u8,pC,u4);let a=(null===(n=i1(this,eU,"f").contents_memo)||void 0===n?void 0:n.getType(pm))||[],o=(null===(s=i1(this,eU,"f").contents_memo)||void 0===s?void 0:s.getType(uq))||[];this.sections=[...a,...o]}getAllSongs(){var e,t;return iX(this,void 0,void 0,function*(){let i=this.sections.filter(e=>"MusicShelf"===e.type);if(!i.length)throw new wu("Could not find any node of type MusicShelf.");let n=i.find(e=>"Songs"===e.title.toString());if(!n)throw new wu("Could not find target shelf (Songs).");if(!n.endpoint)throw new wu("Target shelf (Songs) did not have an endpoint.");return null===(t=null===(e=(yield n.endpoint.call(i1(this,eH,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)||void 0===e?void 0:e.getType(ps))||void 0===t?void 0:t.first()})}get page(){return i1(this,eU,"f")}};iK(_g,"Artist"),eU=new WeakMap,eH=new WeakMap;var _y=_g,__=class{constructor(e){var t,i,n;eF.set(this,void 0),i2(this,eF,na.parseResponse(e.data),"f");let s=null===(t=i1(this,eF,"f").contents)||void 0===t?void 0:t.item().as(fM).tabs.get({selected:!0});if(!s)throw new wu("Could not find target tab.");let a=null===(i=s.content)||void 0===i?void 0:i.as(nH);if(!a)throw new wu("Target tab did not have any content.");this.top_buttons=(null===(n=a.contents.firstOfType(cg))||void 0===n?void 0:n.items.as(uV))||[],this.sections=a.contents.filterType(uq)}get page(){return i1(this,eF,"f")}};iK(__,"Explore"),eF=new WeakMap;var _b=__,_w=class{constructor(e,t){var i,n,s,a,o,r;ej.set(this,void 0),eW.set(this,void 0),e$.set(this,void 0),i2(this,eW,t,"f"),i2(this,ej,na.parseResponse(e.data),"f");let l=null===(i=i1(this,ej,"f").contents)||void 0===i?void 0:i.item().as(fM).tabs.get({selected:!0});if(!l)throw new wu("Could not find Home tab.");if(null===l.content){if(!i1(this,ej,"f").continuation_contents)throw new wu("Continuation did not have any content.");i2(this,e$,i1(this,ej,"f").continuation_contents.as(gC).continuation,"f"),this.sections=null===(n=i1(this,ej,"f").continuation_contents.as(gC).contents)||void 0===n?void 0:n.as(uq);return}this.header=null===(a=null===(s=l.content)||void 0===s?void 0:s.as(nH).header)||void 0===a?void 0:a.as(oa),i2(this,e$,null===(o=l.content)||void 0===o?void 0:o.as(nH).continuation,"f"),this.sections=null===(r=l.content)||void 0===r?void 0:r.as(nH).contents.as(uq,px)}getContinuation(){return iX(this,void 0,void 0,function*(){if(!i1(this,e$,"f"))throw new wu("Continuation not found.");return new _w((yield i1(this,eW,"f").execute("/browse",{client:"YTMUSIC",continuation:i1(this,e$,"f")})),i1(this,eW,"f"))})}applyFilter(e){var t,i;return iX(this,void 0,void 0,function*(){let n;if("string"==typeof e){if(!(n=null===(i=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===i?void 0:i.as(on).get({text:e})))throw new wu("Could not find filter with given name.",{available_filters:this.filters})}else(null==e?void 0:e.is(on))&&(n=e);if(!n)throw new wu("Invalid filter",{available_filters:this.filters});if(null==n?void 0:n.is_selected)return this;if(!n.endpoint)throw new wu("Selected filter does not have an endpoint.");return new _w((yield n.endpoint.call(i1(this,eW,"f"),{client:"YTMUSIC"})),i1(this,eW,"f"))})}get filters(){var e,t;return(null===(t=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===t?void 0:t.as(on).map(e=>e.text))||[]}get has_continuation(){return!!i1(this,e$,"f")}get page(){return i1(this,ej,"f")}};iK(_w,"HomeFeed"),ej=new WeakMap,eW=new WeakMap,e$=new WeakMap;var _x=_w,_S=class{constructor(e,t){var i,n,s,a,o;eG.set(this,void 0),eK.set(this,void 0),eY.set(this,void 0),i2(this,eG,na.parseResponse(e.data),"f"),i2(this,eK,t,"f");let r=null===(i=i1(this,eG,"f").contents_memo)||void 0===i?void 0:i.getType(nH).first();this.header=null===(n=null==r?void 0:r.header)||void 0===n?void 0:n.as(pv),this.contents=null===(s=null==r?void 0:r.contents)||void 0===s?void 0:s.as(cg,pm),i2(this,eY,null===(o=null===(a=this.contents)||void 0===a?void 0:a.find(e=>e.continuation))||void 0===o?void 0:o.continuation,"f")}applySort(e){var t,i,n,s,a,o,r,l,c,d;return iX(this,void 0,void 0,function*(){let h;if("string"==typeof e){let n=null===(t=i1(this,eG,"f").contents_memo)||void 0===t?void 0:t.getType(py).first(),s=null===(i=null==n?void 0:n.menu)||void 0===i?void 0:i.options.filter(e=>e instanceof sr);if(!(h=null==s?void 0:s.find(t=>t.title===e)))throw new wu(`Sort option "${e}" not found`,{available_filters:s.map(e=>e.title)})}else e instanceof sr&&(h=e);if(!h)throw new wu("Invalid sort option");if(h.selected)return this;let u=null===(o=null===(a=null===(s=null===(n=h.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.commands)||void 0===a?void 0:a.find(e=>e.browseSectionListReloadEndpoint))||void 0===o?void 0:o.browseSectionListReloadEndpoint;if(!u)throw new wu("Failed to find sort option command");let p=yield i1(this,eK,"f").execute("/browse",{client:"YTMUSIC",continuation:u.continuation.reloadContinuationData.continuation,parse:!0}),m=null===(l=null===(r=i1(this,eG,"f").contents_memo)||void 0===r?void 0:r.getType(sr))||void 0===l?void 0:l.find(e=>e.selected);return m&&(m.selected=!1),h.selected=!0,this.contents=null===(d=null===(c=p.continuation_contents)||void 0===c?void 0:c.as(gC).contents)||void 0===d?void 0:d.as(cg,pm),this})}applyFilter(e){var t,i,n,s;return iX(this,void 0,void 0,function*(){let a;let o=null===(t=i1(this,eG,"f").contents_memo)||void 0===t?void 0:t.getType(oa).first();if("string"==typeof e){if(!(a=null==o?void 0:o.chips.get({text:e})))throw new wu(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof on&&(a=e);if(!a)throw new wu("Invalid filter",e);let r=new nm(null===(s=null===(n=null===(i=a.endpoint)||void 0===i?void 0:i.payload)||void 0===n?void 0:n.commands)||void 0===s?void 0:s[0]);return new _S((yield r.call(i1(this,eK,"f"),{client:"YTMUSIC"})),i1(this,eK,"f"))})}getContinuation(){return iX(this,void 0,void 0,function*(){if(!i1(this,eY,"f"))throw new wu("No continuation available");return new _C((yield i1(this,eK,"f").execute("/browse",{client:"YTMUSIC",continuation:i1(this,eY,"f")})),i1(this,eK,"f"))})}get has_continuation(){return!!i1(this,eY,"f")}get sort_options(){var e,t;let i=null===(e=i1(this,eG,"f").contents_memo)||void 0===e?void 0:e.getType(py).first();return(null===(t=null==i?void 0:i.menu)||void 0===t?void 0:t.options.filter(e=>e instanceof sr)).map(e=>e.title)}get filters(){var e,t;return(null===(t=null===(e=i1(this,eG,"f").contents_memo)||void 0===e?void 0:e.getType(oa))||void 0===t?void 0:t.first().chips.map(e=>e.text))||[]}get page(){return i1(this,eG,"f")}};iK(_S,"Library"),eG=new WeakMap,eK=new WeakMap,eY=new WeakMap;var _C=class{constructor(e,t){if(eq.set(this,void 0),ez.set(this,void 0),eX.set(this,void 0),i2(this,eq,na.parseResponse(e.data),"f"),i2(this,ez,t,"f"),!i1(this,eq,"f").continuation_contents)throw new wu("No continuation contents found");this.contents=i1(this,eq,"f").continuation_contents.as(gI,gk),i2(this,eX,this.contents.continuation||null,"f")}getContinuation(){return iX(this,void 0,void 0,function*(){if(!i1(this,eX,"f"))throw new wu("No continuation available");return new _C((yield i1(this,ez,"f").execute("/browse",{client:"YTMUSIC",continuation:i1(this,eX,"f")})),i1(this,ez,"f"))})}get has_continuation(){return!!i1(this,eX,"f")}get page(){return i1(this,eq,"f")}};iK(_C,"LibraryContinuation"),eq=new WeakMap,ez=new WeakMap,eX=new WeakMap;var _T=_S,_I=class{constructor(e,t){var i,n,s,a,o,r,l;if(eJ.add(this),eQ.set(this,void 0),eZ.set(this,void 0),e0.set(this,void 0),e1.set(this,void 0),e2.set(this,void 0),i2(this,eZ,t,"f"),i2(this,eQ,na.parseResponse(e.data),"f"),i2(this,e1,null,"f"),i2(this,e2,null,"f"),i1(this,eQ,"f").continuation_contents){let e=null===(i=i1(this,eQ,"f").continuation_contents)||void 0===i?void 0:i.as(gT);this.items=e.contents,i2(this,e0,e.continuation,"f")}else(null===(n=i1(this,eQ,"f").header)||void 0===n?void 0:n.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=null===(a=null===(s=i1(this,eQ,"f").header)||void 0===s?void 0:s.item().as(u2).header)||void 0===a?void 0:a.as(uQ):this.header=null===(o=i1(this,eQ,"f").header)||void 0===o?void 0:o.item().as(uQ),this.items=(null===(r=i1(this,eQ,"f").contents_memo)||void 0===r?void 0:r.getType(ps).first().contents)||null,i2(this,e0,(null===(l=i1(this,eQ,"f").contents_memo)||void 0===l?void 0:l.getType(ps).first().continuation)||null,"f")}getContinuation(){return iX(this,void 0,void 0,function*(){if(!i1(this,e0,"f"))throw new wu("Continuation not found.");return new _I((yield i1(this,eZ,"f").execute("/browse",{client:"YTMUSIC",continuation:i1(this,e0,"f")})),i1(this,eZ,"f"))})}getRelated(){var e,t,i,n,s;return iX(this,void 0,void 0,function*(){let a=null===(t=null===(e=i1(this,eQ,"f").contents_memo)||void 0===e?void 0:e.getType(nH))||void 0===t?void 0:t[0].continuation;for(;a;){let e=null===(i=(yield i1(this,eZ,"f").execute("/browse",{client:"YTMUSIC",continuation:a,parse:!0})).continuation_contents)||void 0===i?void 0:i.as(gC),t=null===(n=null==e?void 0:e.contents)||void 0===n?void 0:n.as(uq,pm),o=null===(s=null==t?void 0:t.matchCondition(e=>e.is(uq)))||void 0===s?void 0:s.as(uq);if(o)return o;a=null==e?void 0:e.continuation}throw new wu("Target section not found.")})}getSuggestions(e=!0){return iX(this,void 0,void 0,function*(){let t=e||!i1(this,e1,"f")?i1(this,eJ,"m",e3).call(this):Promise.resolve(null),i=yield t;return i&&(i2(this,e1,i.items,"f"),i2(this,e2,i.continuation,"f")),(null==i?void 0:i.items)||i1(this,e1,"f")})}get page(){return i1(this,eQ,"f")}get has_continuation(){return!!i1(this,e0,"f")}};iK(_I,"Playlist"),eQ=new WeakMap,eZ=new WeakMap,e0=new WeakMap,e1=new WeakMap,e2=new WeakMap,eJ=new WeakSet,e3=iK(function(){var e,t,i,n,s;return iX(this,void 0,void 0,function*(){let a=i1(this,e2,"f")||(null===(t=null===(e=i1(this,eQ,"f").contents_memo)||void 0===e?void 0:e.get("SectionList"))||void 0===t?void 0:t[0].as(nH).continuation);if(a){let e=null===(i=(yield i1(this,eZ,"f").execute("/browse",{client:"YTMUSIC",continuation:a,parse:!0})).continuation_contents)||void 0===i?void 0:i.as(gC),t=null===(n=null==e?void 0:e.contents)||void 0===n?void 0:n.as(uq,pm),o=null===(s=null==t?void 0:t.matchCondition(e=>e.is(pm)))||void 0===s?void 0:s.as(pm);return{items:(null==o?void 0:o.contents)||[],continuation:(null==o?void 0:o.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var _k=_I,_E=class{constructor(e,t){var i,n,s,a,o,r,l;e5.set(this,void 0),e6.set(this,void 0),i2(this,e5,na.parseResponse(e.data),"f"),i2(this,e6,t,"f");let c=null===(i=i1(this,e5,"f").header)||void 0===i?void 0:i.item();this.header=(null==c?void 0:c.is(u5))?null===(a=null===(s=null===(n=i1(this,e5,"f").header)||void 0===n?void 0:n.item().as(u5).element)||void 0===s?void 0:s.model)||void 0===a?void 0:a.as(c2):null===(o=i1(this,e5,"f").header)||void 0===o?void 0:o.item().as(u4);let d=null===(r=i1(this,e5,"f").contents)||void 0===r?void 0:r.item().as(fM).tabs.firstOfType(fP);if(!d)throw new wu("Target tab not found");this.sections=null===(l=d.content)||void 0===l?void 0:l.as(nH).contents.as(dg,uq,lC)}getPlaylist(){return iX(this,void 0,void 0,function*(){if(!this.header)throw new wu("Header not found");if(!this.header.is(c2))throw new wu("Recap playlist not available, check back later.");let e=this.header.panels[0].text_on_tap_endpoint;return new _k((yield e.call(i1(this,e6,"f"),{client:"YTMUSIC"})),i1(this,e6,"f"))})}get page(){return i1(this,e5,"f")}};iK(_E,"Recap"),e5=new WeakMap,e6=new WeakMap;var _A=_E,_P=class{constructor(e,t,i){var n,s,a;if(e4.set(this,void 0),e9.set(this,void 0),e8.set(this,void 0),i2(this,e9,t,"f"),i2(this,e4,na.parseResponse(e.data),"f"),!i1(this,e4,"f").contents||!i1(this,e4,"f").contents_memo)throw new wu("Response did not contain any contents.");let o=i1(this,e4,"f").contents.item().as(fq).tabs.get({selected:!0});if(!o)throw new wu("Could not find target tab.");let r=null===(n=o.content)||void 0===n?void 0:n.as(nH);if(!r)throw new wu("Target tab did not have any content.");this.header=null===(s=r.header)||void 0===s?void 0:s.as(oa),this.contents=r.contents.as(pm,uM,dg),i&&i2(this,e8,null===(a=this.contents.firstOfType(pm))||void 0===a?void 0:a.continuation,"f")}getMore(e){return iX(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new wu("Cannot retrieve more items for this shelf because it does not have an endpoint.");let t=yield e.endpoint.call(i1(this,e9,"f"),{client:"YTMUSIC"});if(!t)throw new wu("Endpoint did not return any data");return new _P(t,i1(this,e9,"f"),!0)})}getContinuation(){return iX(this,void 0,void 0,function*(){if(!i1(this,e8,"f"))throw new wu("Continuation not found.");let e=yield i1(this,e9,"f").execute("/search",{continuation:i1(this,e8,"f"),client:"YTMUSIC"});return new _M(i1(this,e9,"f"),e)})}applyFilter(e){var t,i;return iX(this,void 0,void 0,function*(){let n;if("string"==typeof e){if(!(n=null===(i=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===i?void 0:i.as(on).get({text:e})))throw new wu("Could not find filter with given name.",{available_filters:this.filters})}else(null==e?void 0:e.is(on))&&(n=e);if(!n)throw new wu("Invalid filter",{available_filters:this.filters});if(null==n?void 0:n.is_selected)return this;if(!n.endpoint)throw new wu("Selected filter does not have an endpoint.");return new _P((yield n.endpoint.call(i1(this,e9,"f"),{client:"YTMUSIC"})),i1(this,e9,"f"),!0)})}get filters(){var e,t;return(null===(t=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===t?void 0:t.as(on).map(e=>e.text))||[]}get has_continuation(){return!!i1(this,e8,"f")}get did_you_mean(){var e;return null===(e=i1(this,e4,"f").contents_memo)||void 0===e?void 0:e.getType(lF).first()}get showing_results_for(){var e;return null===(e=i1(this,e4,"f").contents_memo)||void 0===e?void 0:e.getType(fb).first()}get message(){var e;return null===(e=i1(this,e4,"f").contents_memo)||void 0===e?void 0:e.getType(lC).first()}get songs(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(pm).find(e=>"Songs"===e.title.toString())}get videos(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(pm).find(e=>"Videos"===e.title.toString())}get albums(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(pm).find(e=>"Albums"===e.title.toString())}get artists(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(pm).find(e=>"Artists"===e.title.toString())}get playlists(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(pm).find(e=>"Community playlists"===e.title.toString())}get results(){var e,t;return null===(t=null===(e=this.contents)||void 0===e?void 0:e.firstOfType(pm))||void 0===t?void 0:t.contents}get sections(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(pm)}get page(){return i1(this,e4,"f")}};iK(_P,"Search"),e4=new WeakMap,e9=new WeakMap,e8=new WeakMap;var _R=_P,_M=class{constructor(e,t){var i,n;e7.set(this,void 0),te.set(this,void 0),i2(this,e7,e,"f"),i2(this,te,na.parseResponse(t.data),"f"),this.header=null===(i=i1(this,te,"f").header)||void 0===i?void 0:i.item().as(u4),this.contents=null===(n=i1(this,te,"f").continuation_contents)||void 0===n?void 0:n.as(gI)}getContinuation(){var e;return iX(this,void 0,void 0,function*(){if(!(null===(e=this.contents)||void 0===e?void 0:e.continuation))throw new wu("Continuation not found.");let t=yield i1(this,e7,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new _M(i1(this,e7,"f"),t)})}get has_continuation(){var e;return!!(null===(e=this.contents)||void 0===e?void 0:e.continuation)}get page(){return i1(this,te,"f")}};iK(_M,"SearchContinuation"),e7=new WeakMap,te=new WeakMap;var _L=class extends _u{constructor(e,t,i){var n,s,a,o,r,l,c,d,h;super(e,t,i);let[u,p]=this.page;if(!(null===(n=u.microformat)||void 0===n?void 0:n.is(um)))throw new wu("Invalid microformat",u.microformat);if(this.basic_info=Object.assign(Object.assign({},u.video_details),{description:null===(s=u.microformat)||void 0===s?void 0:s.description,is_unlisted:null===(a=u.microformat)||void 0===a?void 0:a.is_unlisted,is_family_safe:null===(o=u.microformat)||void 0===o?void 0:o.is_family_safe,url_canonical:null===(r=u.microformat)||void 0===r?void 0:r.url_canonical,tags:null===(l=u.microformat)||void 0===l?void 0:l.tags}),this.storyboards=u.storyboards,this.endscreen=u.endscreen,p){let e=null===(d=null===(c=p.contents_memo)||void 0===c?void 0:c.getType(vX))||void 0===d?void 0:d[0];this.tabs=null==e?void 0:e.tabs.array().as(fP),this.current_video_endpoint=p.current_video_endpoint,this.player_overlays=null===(h=p.player_overlays)||void 0===h?void 0:h.item().as(p0)}}getTab(e){var t,i;return iX(this,void 0,void 0,function*(){if(!this.tabs)throw new wu("Could not find any tab");let n=this.tabs.get({title:e})||this.tabs.matchCondition(t=>{var i,n;return(null===(n=null===(i=t.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===i?void 0:i.browseEndpointContextMusicConfig)||void 0===n?void 0:n.pageType)===e})||(null===(t=this.tabs)||void 0===t?void 0:t[0]);if(!n)throw new wu(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(n.content)return n.content;let s=yield n.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if((null===(i=s.contents)||void 0===i?void 0:i.item().type)==="Message")return s.contents.item().as(lC);if(!s.contents)throw new wu("Page contents was empty",s);return s.contents.item().as(nH).contents})}getUpNext(e=!0){var t,i;return iX(this,void 0,void 0,function*(){let n=yield this.getTab("Up next");if(!n||!n.content)throw new wu("Music queue was empty, the video id is probably invalid.",n);let s=n.content.as(pd);if(!s.playlist_id&&e){let e=s.contents.firstOfType(ae);if(!e)throw new wu("Automix item not found");let n=yield null===(t=e.playlist_video)||void 0===t?void 0:t.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!n||!n.contents_memo)throw new wu("Could not fetch automix");return null===(i=n.contents_memo.getType(pd))||void 0===i?void 0:i[0]}return s})}getRelated(){return iX(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return iX(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(uX)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return iX(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,ni.YTMUSIC.NAME,ni.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};iK(_L,"TrackInfo");var _D=_L;iY({},{Channel:()=>_O,HomeFeed:()=>_V,Search:()=>_H,VideoInfo:()=>_j});var _N=class extends g7{constructor(e,t,i=!1){var n,s;super(e,t,i),this.header=null===(n=this.page.header)||void 0===n?void 0:n.item().as(aR),this.contents=this.memo.getType(dg).first()||(null===(s=this.page.continuation_contents)||void 0===s?void 0:s.as(gb))}getContinuation(){var e;return iX(this,void 0,void 0,function*(){let t=yield this.actions.execute("/browse",{continuation:null===(e=this.contents)||void 0===e?void 0:e.continuation,client:"YTKIDS"});return new _N(this.actions,t)})}get has_continuation(){var e;return!!(null===(e=this.contents)||void 0===e?void 0:e.continuation)}};iK(_N,"Channel");var _O=_N,_B=class extends g7{constructor(e,t,i=!1){var n,s;super(e,t,i),this.header=null===(n=this.page.header)||void 0===n?void 0:n.item().as(v4),this.contents=null===(s=this.page.contents)||void 0===s?void 0:s.item().as(v8)}selectCategoryTab(e){var t;return iX(this,void 0,void 0,function*(){let i;if("string"==typeof e?i=null===(t=this.header)||void 0===t?void 0:t.category_tabs.find(t=>t.title.toString()===e):(null==e?void 0:e.is(v5))&&(i=e),!i)throw new wu(`Tab "${e}" not found`);let n=yield i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new _B(this.actions,n,!0)})}get categories(){var e;return(null===(e=this.header)||void 0===e?void 0:e.category_tabs.map(e=>e.title.toString()))||[]}};iK(_B,"HomeFeed");var _V=_B,_U=class extends g7{constructor(e,t){super(e,t),this.estimated_results=this.page.estimated_results;let i=this.memo.getType(dg).first();if(!i)throw new wu("No item section found in search response.");this.contents=i.contents}};iK(_U,"Search");var _H=_U,_F=class extends _u{constructor(e,t,i){var n,s,a,o,r;super(e,t,i);let[l,c]=this.page;this.basic_info=l.video_details,this.captions=l.captions;let d=null===(n=null==c?void 0:c.contents)||void 0===n?void 0:n.item().as(vC),h=null==d?void 0:d.results,u=null==d?void 0:d.secondary_results;h&&u&&(this.slim_video_metadata=null===(a=null===(s=h.firstOfType(dg))||void 0===s?void 0:s.contents)||void 0===a?void 0:a.firstOfType(fH),this.watch_next_feed=(null===(o=u.firstOfType(dg))||void 0===o?void 0:o.contents)||u,this.current_video_endpoint=null==c?void 0:c.current_video_endpoint,this.player_overlays=null===(r=null==c?void 0:c.player_overlays)||void 0===r?void 0:r.item().as(p0))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return iX(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};iK(_F,"VideoInfo");var _j=_F;iY({},{VideoInfo:()=>wl});var _W={};iY(_W,{Account:()=>be,Browse:()=>bs,BrowseEndpoint:()=>_$,Channel:()=>bl,Comment:()=>bf,GetNotificationMenuEndpoint:()=>_Y,GuideEndpoint:()=>_X,Kids:()=>wn,Like:()=>bx,Music:()=>bM,NextEndpoint:()=>_Q,Notification:()=>bO,PlayerEndpoint:()=>_1,Playlist:()=>bj,Reel:()=>b2,ResolveURLEndpoint:()=>_5,SearchEndpoint:()=>_9,Subscription:()=>bz,Upload:()=>b7});var _$={};iY(_$,{PATH:()=>_G,build:()=>_K});var _G="/browse";function _K(e){return Object.assign({browseId:e.browse_id,params:e.params,continuation:e.continuation,client:e.client})}iK(_K,"build");var _Y={};iY(_Y,{PATH:()=>_q,build:()=>_z});var _q="/notification/get_notification_menu";function _z(e){return Object.assign({notificationsMenuRequestType:e.notifications_menu_request_type})}iK(_z,"build");var _X={};iY(_X,{PATH:()=>_J});var _J="/guide",_Q={};iY(_Q,{PATH:()=>_Z,build:()=>_0});var _Z="/next";function _0(e){return Object.assign({videoId:e.video_id,playlistId:e.playlist_id,params:e.params,playlistIndex:e.playlist_index,client:e.client,continuation:e.continuation})}iK(_0,"build");var _1={};iY(_1,{PATH:()=>_2,build:()=>_3});var _2="/player";function _3(e){let t="ANDROID"===e.client||"YTMUSIC_ANDROID"===e.client||"YTSTUDIO_ANDROID"===e.client;return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:e.playlist_id?`https://www.youtube.com/watch?v=${e.video_id}&list=${e.playlist_id}`:`https://www.youtube.com/watch?v=${e.video_id}`,currentUrl:e.playlist_id?`/watch?v=${e.video_id}&list=${e.playlist_id}`:`/watch?v=${e.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:e.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:e.video_id},{client:e.client,playlistId:e.playlist_id,params:t?"2AMBCgIQBg":e.params})}iK(_3,"build");var _5={};iY(_5,{PATH:()=>_6,build:()=>_4});var _6="/navigation/resolve_url";function _4(e){return Object.assign({url:e.url})}iK(_4,"build");var _9={};iY(_9,{PATH:()=>_8,build:()=>_7});var _8="/search";function _7(e){return Object.assign({query:e.query,params:e.params,continuation:e.continuation,client:e.client})}iK(_7,"build");var be={};iY(be,{AccountListEndpoint:()=>bt});var bt={};iY(bt,{PATH:()=>bi,build:()=>bn});var bi="/account/accounts_list";function bn(){return{client:"ANDROID"}}iK(bn,"build");var bs={};iY(bs,{EditPlaylistEndpoint:()=>ba});var ba={};iY(ba,{PATH:()=>bo,build:()=>br});var bo="/browse/edit_playlist";function br(e){return{playlistId:e.playlist_id,actions:e.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}iK(br,"build");var bl={};iY(bl,{EditDescriptionEndpoint:()=>bu,EditNameEndpoint:()=>bc});var bc={};iY(bc,{PATH:()=>bd,build:()=>bh});var bd="/channel/edit_name";function bh(e){return{givenName:e.given_name,client:"ANDROID"}}iK(bh,"build");var bu={};iY(bu,{PATH:()=>bp,build:()=>bm});var bp="/channel/edit_description";function bm(e){return{givenDescription:e.given_description,client:"ANDROID"}}iK(bm,"build");var bf={};iY(bf,{CreateCommentEndpoint:()=>b_,PerformCommentActionEndpoint:()=>bv});var bv={};iY(bv,{PATH:()=>bg,build:()=>by});var bg="/comment/perform_comment_action";function by(e){return Object.assign({actions:e.actions},{client:e.client})}iK(by,"build");var b_={};iY(b_,{PATH:()=>bb,build:()=>bw});var bb="/comment/create_comment";function bw(e){return Object.assign({commentText:e.comment_text,createCommentParams:e.create_comment_params},{client:e.client})}iK(bw,"build");var bx={};iY(bx,{DislikeEndpoint:()=>bI,LikeEndpoint:()=>bS,RemoveLikeEndpoint:()=>bA});var bS={};iY(bS,{PATH:()=>bC,build:()=>bT});var bC="/like/like";function bT(e){return Object.assign({target:{videoId:e.target.video_id}},{client:e.client})}iK(bT,"build");var bI={};iY(bI,{PATH:()=>bk,build:()=>bE});var bk="/like/dislike";function bE(e){return Object.assign({target:{videoId:e.target.video_id}},{client:e.client})}iK(bE,"build");var bA={};iY(bA,{PATH:()=>bP,build:()=>bR});var bP="/like/removelike";function bR(e){return Object.assign({target:{videoId:e.target.video_id}},{client:e.client})}iK(bR,"build");var bM={};iY(bM,{GetSearchSuggestionsEndpoint:()=>bL});var bL={};iY(bL,{PATH:()=>bD,build:()=>bN});var bD="/music/get_search_suggestions";function bN(e){return{input:e.input,client:"YTMUSIC"}}iK(bN,"build");var bO={};iY(bO,{GetUnseenCountEndpoint:()=>bB,ModifyChannelPreferenceEndpoint:()=>bU});var bB={};iY(bB,{PATH:()=>bV});var bV="/notification/get_unseen_count",bU={};iY(bU,{PATH:()=>bH,build:()=>bF});var bH="/notification/modify_channel_preference";function bF(e){return Object.assign({params:e.params},{client:e.client})}iK(bF,"build");var bj={};iY(bj,{CreateEndpoint:()=>bW,DeleteEndpoint:()=>bK});var bW={};iY(bW,{PATH:()=>b$,build:()=>bG});var b$="/playlist/create";function bG(e){return{title:e.title,ids:e.ids}}iK(bG,"build");var bK={};iY(bK,{PATH:()=>bY,build:()=>bq});var bY="/playlist/delete";function bq(e){return{playlistId:e.playlist_id}}iK(bq,"build");var bz={};iY(bz,{SubscribeEndpoint:()=>bX,UnsubscribeEndpoint:()=>bZ});var bX={};iY(bX,{PATH:()=>bJ,build:()=>bQ});var bJ="/subscription/subscribe";function bQ(e){return Object.assign({channelIds:e.channel_ids},{client:e.client,params:e.params})}iK(bQ,"build");var bZ={};iY(bZ,{PATH:()=>b0,build:()=>b1});var b0="/subscription/unsubscribe";function b1(e){return Object.assign({channelIds:e.channel_ids},{client:e.client,params:e.params})}iK(b1,"build");var b2={};iY(b2,{WatchEndpoint:()=>b3,WatchSequenceEndpoint:()=>b4});var b3={};iY(b3,{PATH:()=>b5,build:()=>b6});var b5="/reel/reel_item_watch";function b6(e){var t,i;return{playerRequest:{videoId:e.short_id,params:null!==(t=e.params)&&void 0!==t?t:"CAUwAg%3D%3D"},params:null!==(i=e.params)&&void 0!==i?i:"CAUwAg%3D%3D"}}iK(b6,"build");var b4={};iY(b4,{PATH:()=>b9,build:()=>b8});var b9="/reel/reel_watch_sequence";function b8(e){return{sequenceParams:e.sequenceParams}}iK(b8,"build");var b7={};iY(b7,{CreateVideoEndpoint:()=>we});var we={};iY(we,{PATH:()=>wt,build:()=>wi});var wt="/upload/createvideo";function wi(e){return Object.assign({resourceId:{scottyResourceId:{id:e.resource_id.scotty_resource_id.id}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:e.initial_metadata.title.new_title},description:{newDescription:e.initial_metadata.description.new_description,shouldSegment:e.initial_metadata.description.should_segment},privacy:{newPrivacy:e.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!e.initial_metadata.draft_state.is_draft}}},{client:e.client})}iK(wi,"build");var wn={};iY(wn,{BlocklistPickerEndpoint:()=>ws});var ws={};iY(ws,{PATH:()=>wa,build:()=>wo});var wa="/kids/get_kids_blocklist_picker";function wo(e){return{blockedForKidsContent:{external_channel_id:e.channel_id}}}iK(wo,"build");var wr=class{constructor(e,t){var i,n;tt.set(this,void 0),ti.set(this,void 0),i2(this,ti,t,"f");let s=na.parseResponse(e[0].data),a=na.parseResponse(e[1].data);this.basic_info=s.video_details,this.watch_next_feed=null===(i=a.entries)||void 0===i?void 0:i.array(),i2(this,tt,null===(n=a.continuationEndpoint)||void 0===n?void 0:n.as(gR),"f")}getWatchNextContinuation(){var e,t;return iX(this,void 0,void 0,function*(){if(!i1(this,tt,"f"))throw new wu("Watch next feed continuation not found");let i=yield i1(this,ti,"f").execute(b2.WatchSequenceEndpoint.PATH,b2.WatchSequenceEndpoint.build({sequenceParams:i1(this,tt,"f").token}));if(!i.success)throw new wu("Continue failed ",i.status_code);let n=na.parseResponse(i.data);return this.watch_next_feed=null===(e=n.entries)||void 0===e?void 0:e.array(),i2(this,tt,null===(t=n.continuationEndpoint)||void 0===t?void 0:t.as(gR),"f"),this})}};iK(wr,"VideoInfo"),tt=new WeakMap,ti=new WeakMap;var wl=wr,wc=class{constructor(e,t,i,n){var s,a,o,r,l,c,d,h,u,p,m,f,v,g,y,_,b,w,x,S,C,T,I,k,E,A,P;let R=new n_(e);this.id=n||(null===(r=null===(o=null===(a=null===(s=null==R?void 0:R.runs)||void 0===s?void 0:s[0])||void 0===a?void 0:a.endpoint)||void 0===o?void 0:o.payload)||void 0===r?void 0:r.browseId)||(null===(c=null===(l=null==R?void 0:R.endpoint)||void 0===l?void 0:l.payload)||void 0===c?void 0:c.browseId)||"N/A",this.name=(null==R?void 0:R.text)||"N/A",this.thumbnails=i?nf.fromResponse(i):[],this.endpoint=(null===(h=null===(d=null==R?void 0:R.runs)||void 0===d?void 0:d[0])||void 0===h?void 0:h.endpoint)||(null==R?void 0:R.endpoint),this.badges=Array.isArray(t)?na.parseArray(t):i9([]),this.is_moderator=null===(u=this.badges)||void 0===u?void 0:u.some(e=>"MODERATOR"==e.icon_type),this.is_verified=null===(p=this.badges)||void 0===p?void 0:p.some(e=>"BADGE_STYLE_TYPE_VERIFIED"==e.style),this.is_verified_artist=null===(m=this.badges)||void 0===m?void 0:m.some(e=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"==e.style),this.url=(null===(y=null===(g=null===(v=null===(f=null==R?void 0:R.runs)||void 0===f?void 0:f[0])||void 0===v?void 0:v.endpoint)||void 0===g?void 0:g.metadata)||void 0===y?void 0:y.api_url)==="/browse"&&`${ne.YT_BASE}${(null===(x=null===(w=null===(b=null===(_=null==R?void 0:R.runs)||void 0===_?void 0:_[0])||void 0===b?void 0:b.endpoint)||void 0===w?void 0:w.payload)||void 0===x?void 0:x.canonicalBaseUrl)||`/u/${null===(I=null===(T=null===(C=null===(S=null==R?void 0:R.runs)||void 0===S?void 0:S[0])||void 0===C?void 0:C.endpoint)||void 0===T?void 0:T.payload)||void 0===I?void 0:I.browseId}`}`||`${ne.YT_BASE}${(null===(E=null===(k=null==R?void 0:R.endpoint)||void 0===k?void 0:k.payload)||void 0===E?void 0:E.canonicalBaseUrl)||`/u/${null===(P=null===(A=null==R?void 0:R.endpoint)||void 0===A?void 0:A.payload)||void 0===P?void 0:P.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};iK(wc,"Author");var wd={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]},wh=class{static load(e){i2(wh,tn,e,"f",ts)}static get shim(){if(!i1(wh,tn,"f",ts))throw Error("Platform is not loaded");return i1(wh,tn,"f",ts)}};iK(wh,"Platform"),tn=wh,ts={value:void 0};var wu=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=wh.shim.info.version}};iK(wu,"InnertubeError");var wp=class extends wu{};iK(wp,"ParsingError");var wm=class extends wu{};iK(wm,"MissingParamError");var wf=class extends wu{};iK(wf,"OAuthError");var wv=class extends Error{};iK(wv,"PlayerError");var wg=class extends Error{};iK(wg,"SessionError");var wy=class extends Error{};function w_(e,t){return Reflect.ownKeys(e).some(i=>{let n=t[i]instanceof n_;return n||"object"!=typeof t[i]?e[i]===(n?t[i].toString():t[i]):JSON.stringify(e[i])===JSON.stringify(t[i])})}function wb(e,t,i){let n=RegExp(`${ww(t)}(.*?)${ww(i)}`,"s"),s=e.match(n);return s?s[1]:void 0}function ww(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function wx(e){let t=wd[e],i=Math.floor(Math.random()*t.length);return t[i]}function wS(e){return iX(this,void 0,void 0,function*(){let t=Math.floor(new Date().getTime()/1e3),i=[t,e,"https://www.youtube.com"].join(" ");return["SAPISIDHASH",[t,(yield wh.shim.sha1Hash(i))].join("_")].join(" ")})}function wC(e){let t=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<e;n++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}function wT(e){let t=e.split(":").map(e=>parseInt(e.replace(/\D/g,"")));switch(t.length){case 1:return t[0];case 2:return 60*t[0]+t[1];case 3:return 3600*t[0]+60*t[1]+t[2];default:throw Error("Invalid time string")}}function wI(...e){let t=new i8;for(let i of e)if(i)for(let e of i){let i=t.get(e[0]);if(i){t.set(e[0],[...i,...e[1]]);continue}t.set(...e)}return t}function wk(e){for(let[t,i]of Object.entries(e))if(!i)throw new wm(`${t} is missing`)}function wE(e,...t){for(let i of t)if(!Reflect.has(e,i)||void 0===e[i])return!1;return!0}function wA(e){return iZ(this,arguments,iK(function*(){let t=e.getReader();try{for(;;){let{done:e,value:i}=yield iQ(t.read());if(e)return yield iQ(void 0);yield yield iQ(i)}}finally{t.releaseLock()}},"streamToIterable_1"))}iK(wy,"ChannelError"),iK(w_,"deepCompare"),iK(wb,"getStringBetweenStrings"),iK(ww,"escapeStringRegexp"),iK(wx,"getRandomUserAgent"),iK(wS,"generateSidAuth"),iK(wC,"generateRandomString"),iK(wT,"timeToSeconds"),iK(wI,"concatMemos"),iK(wk,"throwIfMissing"),iK(wE,"hasKeys"),iK(wA,"streamToIterable");var wP=iK((e,t)=>{let i="string"==typeof e?new URL(e):e instanceof URL?e:new URL(e.url),n=(null==t?void 0:t.headers)?new Headers(t.headers):e instanceof Request?e.headers:new Headers,s=[...n],a=(null==t?void 0:t.body)?"string"==typeof t.body?"application/json"===n.get("content-type")?JSON.stringify(JSON.parse(t.body),null,2):t.body:"    <binary>":"    (none)",o=s.length>0?`${s.map(([e,t])=>`    ${e}: ${t}`).join("\n")}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(null==t?void 0:t.method)||"GET"}
  headers:
${o}
' + 
    '  body:
${a}`),wh.shim.fetch(e,t)},"debugFetch");function wR(e){return btoa(String.fromCharCode.apply(null,Array.from(e)))}function wM(e){return new Uint8Array(atob(e).split("").map(e=>e.charCodeAt(0)))}function wL(e){return!("emoji"in e)}function wD(e){return iX(this,void 0,void 0,function*(){let t=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(e){let i=new Uint8Array(e),n=[];for(let e=0;e<i.length;++e)n.push(t[i[e]]);return n.join("")}return iK(i,"hex"),i((yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(e))))})}iK(wR,"u8ToBase64"),iK(wM,"base64ToU8"),iK(wL,"isTextRun"),iK(wD,"sha1Hash");var wN={version:"8.0.0",bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme"},wO={};iY(wO,{ArrayExpression:()=>wV,ArrowFunctionExpression:()=>wH,AssignmentExpression:()=>wF,BinaryExpression:()=>wj,BlockStatement:()=>wW,BreakStatement:()=>w$,CallExpression:()=>wK,ConditionalExpression:()=>wq,ContinueStatement:()=>wz,ExpressionStatement:()=>wX,ForOfStatement:()=>wJ,ForStatement:()=>wQ,FunctionDeclaration:()=>wZ,FunctionExpression:()=>w0,Identifier:()=>w1,IfStatement:()=>w2,Literal:()=>w3,LogicalExpression:()=>w5,MemberExpression:()=>w6,NewExpression:()=>w4,ObjectExpression:()=>w9,Property:()=>w7,ReturnStatement:()=>xe,SequenceExpression:()=>xt,SwitchCase:()=>xi,SwitchStatement:()=>xn,ThisExpression:()=>xs,ThrowStatement:()=>xa,TryStatement:()=>xo,UnaryExpression:()=>xr,UpdateExpression:()=>xl,VariableDeclaration:()=>xc,WhileStatement:()=>xd});var wB=class{constructor(e,t){this.node=e,this.visitor=t}run(){}};iK(wB,"BaseJSNode");var wV=class extends wB{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};iK(wV,"ArrayExpression"),iY({},{namedFunction:()=>wU});var wU=iK((e,t)=>Object.defineProperty(t,"name",{value:e}),"namedFunction"),wH=class extends wB{run(){let{params:e,body:t}=this.node;return wU("anonymous function",i=>{let n=0;for(let t of e)this.visitor.visitNode(t),"Identifier"===t.type?this.visitor.scope.set(t.name,i[n]):console.warn("Unhandled param type",t.type),n++;return this.visitor.visitNode(t)})}};iK(wH,"ArrowFunctionExpression");var wF=class extends wB{run(){let e=this.node.operator,t=this.visitor.visitNode(this.node.right);switch(e){case"=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]=t;if("Identifier"===this.node.left.type)return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]+=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)+t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]-=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)-t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]*=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)*t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]/=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)/t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]%=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)%t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]**=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)**t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]<<=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)<<t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]>>=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)>>t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]>>>=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)>>>t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]&=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)&t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left)}}};iK(wF,"AssignmentExpression");var wj=class extends wB{run(){let e=this.node.operator,t=this.visitor.visitNode(this.node.left),i=this.visitor.visitNode(this.node.right);switch(e){case"!=":return t!=i;case"!==":return t!==i;case"%":return t%i;case"&":return t&i;case"*":return t*i;case"**":return t**i;case"+":return t+i;case"-":return t-i;case"/":return t/i;case"<":return t<i;case"<<":return t<<i;case"<=":return t<=i;case"==":return t==i;case"===":return t===i;case">":return t>i;case">=":return t>=i;case">>":return t>>i;case">>>":return t>>>i;case"^":return t^i;case"|":return t|i;case"in":return t in i;case"instanceof":return t instanceof i}}};iK(wj,"BinaryExpression");var wW=class extends wB{run(){for(let e of this.node.body){let t=this.visitor.visitNode(e);if("ReturnStatement"===e.type||"break"===t||"continue"===t||("WhileStatement"===e.type||"IfStatement"===e.type||"ForStatement"===e.type||"TryStatement"===e.type)&&t)return t}}};iK(wW,"BlockStatement");var w$=class extends wB{run(){return"break"}};iK(w$,"BreakStatement");var wG=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},wK=class extends wB{constructor(){super(...arguments),ta.add(this)}run(){let e,t;if("MemberExpression"===this.node.callee.type?(e=this.visitor.getName(this.node.callee.object),t=this.visitor.getName(this.node.callee.property)):"Identifier"===this.node.callee.type&&(t=this.node.callee.name),e&&this.visitor.listeners[e]){let t=this.visitor.listeners[e](this.node,this.visitor);if("proceed"!==t)return t}if(t&&"toString"!==t&&this.visitor.listeners[t]){let e=this.visitor.listeners[t](this.node,this.visitor);if("proceed"!==e)return e}if("MemberExpression"===this.node.callee.type){if(wY.has(this.node,this.visitor))return wY.execute(this.node,this.visitor);let e=this.visitor.visitNode(this.node.callee.object),t=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),i=this.node.arguments.map(e=>this.visitor.visitNode(e));return("function"!=typeof e[t]&&wG(this,ta,"m",to).call(this),e[t].toString().includes("[native code]"))?e[t](...i):e[t](i)}let i=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(e=>this.visitor.visitNode(e));return"function"!=typeof i&&wG(this,ta,"m",to).call(this),i(n)}};iK(wK,"CallExpression"),ta=new WeakSet,to=iK(function(){if("MemberExpression"===this.node.callee.type)throw Error(`${"Identifier"===this.node.callee.object.type?this.node.callee.object.name:"<object>"}.${"Identifier"===this.node.callee.property.type?this.node.callee.property.name:"?"} is not a function`);if("Identifier"===this.node.callee.type)throw Error(`${this.node.callee.name} is not a function`);if("SequenceExpression"===this.node.callee.type){let e=[],t=[];throw e.push("("),this.node.callee.expressions.forEach(e=>{"Literal"===e.type?t.push(e.raw||""):"Identifier"===e.type?t.push(e.name):"MemberExpression"===e.type&&(e.computed?t.push(`${this.visitor.getName(e.object)}[${this.visitor.getName(e.property)||"..."}]`):t.push(`${this.visitor.getName(e.object)}.${this.visitor.getName(e.property)}`))}),e.push(t.join(", ")),e.push(")"),Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var wY=class{static has(e,t){var i;return"MemberExpression"===e.callee.type&&!!(null===(i=this.builtins)||void 0===i?void 0:i[t.getName(e.callee.property)||""])}static execute(e,t){if("MemberExpression"===e.callee.type)return this.builtins[t.getName(e.callee.property)||""](e,t)}};iK(wY,"Builtins"),wY.builtins={forEach:(e,t)=>{let i=e.arguments.map(e=>t.visitNode(e));if("MemberExpression"===e.callee.type){let n=t.visitNode(e.callee.object);i.length>1&&t.scope.set("_this",i.slice(-1)[0]);let s=0;for(let e of n)i[0]([e,s++,n])}else console.warn("Unhandled callee type:",e.callee.type)},toString:(e,t)=>{if("MemberExpression"===e.callee.type)return t.visitNode(e.callee.object).toString()}};var wq=class extends wB{run(){let{test:e,consequent:t,alternate:i}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(t):this.visitor.visitNode(i)}};iK(wq,"ConditionalExpression");var wz=class extends wB{run(){return"continue"}};iK(wz,"ContinueStatement");var wX=class extends wB{run(){return this.visitor.visitNode(this.node.expression)}};iK(wX,"ExpressionStatement");var wJ=class extends wB{run(){for(let e of(this.visitor.visitNode(this.node.left),this.visitor.visitNode(this.node.right))){if("VariableDeclaration"===this.node.left.type&&"Identifier"===this.node.left.declarations[0].id.type)this.visitor.scope.set(this.node.left.declarations[0].id.name,e);else if("VariableDeclaration"===this.node.left.type&&"ObjectPattern"===this.node.left.declarations[0].id.type)for(let t of this.node.left.declarations[0].id.properties)"Property"===t.type&&"Identifier"===t.value.type&&"Identifier"===t.key.type&&this.visitor.scope.set(t.value.name,e[t.key.name]);let t=this.visitor.visitNode(this.node.body);if("break"===t)break;if("continue"!==t&&t&&"ExpressionStatement"!==this.node.body.type)return t}}};iK(wJ,"ForOfStatement");var wQ=class extends wB{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=iK(()=>!this.node.test||this.visitor.visitNode(this.node.test),"test");for(;e();){let e=this.visitor.visitNode(this.node.body);if("continue"!==e){if("break"===e)break;if(this.node.update&&this.visitor.visitNode(this.node.update),e&&"ExpressionStatement"!==this.node.body.type)return e}}}};iK(wQ,"ForStatement");var wZ=class extends wB{run(){let{params:e,body:t}=this.node,i=this.visitor.visitNode(this.node.id),n=wU(i,i=>{let n=0;for(let t of e)this.visitor.visitNode(t),"Identifier"===t.type?this.visitor.scope.set(t.name,i[n]):console.warn("Unhandled param type",t.type),n++;return this.visitor.visitNode(t)});this.visitor.scope.set(i,n)}};iK(wZ,"FunctionDeclaration");var w0=class extends wB{run(){let{params:e,body:t}=this.node;return wU("anonymous function",i=>{let n=0;for(let t of e)this.visitor.visitNode(t),"Identifier"===t.type?this.visitor.scope.set(t.name,i[n]):console.warn("Unhandled param type",t.type),n++;return this.visitor.visitNode(t)})}};iK(w0,"FunctionExpression");var w1=class extends wB{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if("proceed"!==e)return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};iK(w1,"Identifier");var w2=class extends wB{run(){return this.visitor.visitNode(this.node.test)?this.visitor.visitNode(this.node.consequent):this.node.alternate?this.visitor.visitNode(this.node.alternate):void 0}};iK(w2,"IfStatement");var w3=class extends wB{run(){return this.node.value}};iK(w3,"Literal");var w5=class extends wB{run(){switch(this.node.operator){case"&&":{let e=this.visitor.visitNode(this.node.left);if(!0===e)return this.visitor.visitNode(this.node.right);return e}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let e=this.visitor.visitNode(this.node.left);return null!=e?e:this.visitor.visitNode(this.node.right)}}}};iK(w5,"LogicalExpression");var w6=class extends wB{run(){let{object:e,property:t,computed:i}=this.node,n=this.visitor.visitNode(e),s=i?this.visitor.visitNode(t):this.visitor.getName(t);if(void 0!==s||null!==s){if(this.visitor.listeners[s]){let e=this.visitor.listeners[s](this.node,this.visitor);if("proceed"!==e)return e}return null==n?void 0:n[s]}}};iK(w6,"MemberExpression");var w4=class extends wB{run(){return new(this.visitor.visitNode(this.node.callee))(this.node.arguments.map(e=>this.visitor.visitNode(e)))}};iK(w4,"NewExpression");var w9=class extends wB{run(){let e={};for(let t of this.node.properties)if("Property"===t.type)e=Object.assign(Object.assign({},e),this.visitor.visitNode(t));else throw Error(`Unhandled property type: ${t.type}`);return e}};iK(w9,"ObjectExpression");var w8=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},w7=class extends wB{constructor(){super(...arguments),tr.add(this)}run(){switch(this.node.kind){case"init":return w8(this,tr,"m",tl).call(this);case"get":return w8(this,tr,"m",tc).call(this);case"set":return w8(this,tr,"m",td).call(this);default:throw Error(`Unhandled property kind: ${this.node.kind}`)}}};iK(w7,"Property"),tr=new WeakSet,tl=iK(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),t=this.visitor.visitNode(this.node.value);if(e)return{[e]:t}},"_Property_init"),tc=iK(function(){throw TypeError("Not implemented: Property.get")},"_Property_get"),td=iK(function(){throw TypeError("Not implemented: Property.set")},"_Property_set");var xe=class extends wB{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};iK(xe,"ReturnStatement");var xt=class extends wB{run(){let e;for(let t of this.node.expressions)e=this.visitor.visitNode(t);return e}};iK(xt,"SequenceExpression");var xi=class extends wB{run(){for(let e of this.node.consequent){let t=this.visitor.visitNode(e);if("ContinueStatement"===e.type||"BreakStatement"===e.type)return t}}};iK(xi,"SwitchCase");var xn=class extends wB{run(){let e=this.visitor.visitNode(this.node.discriminant),t=!1,i=-1,n=0;for(;;){let s=this.node.cases[n];if(t){let e=this.visitor.visitNode(s);if("break"===e)break;if("continue"===e)return e;if(!(++n>=this.node.cases.length))continue;n=0;break}if(void 0===(t=s&&e===this.visitor.visitNode(s.test))&&n>this.node.cases.length)break;if(s&&!t&&!s.test){i=n,n+=1;continue}if(!s&&!t&&-1!==i){t=!0,n=i;continue}!t&&++n}}};iK(xn,"SwitchStatement");var xs=class extends wB{run(){return this.visitor.scope.get("_this")}};iK(xs,"ThisExpression");var xa=class extends wB{run(){throw this.visitor.visitNode(this.node.argument)}};iK(xa,"ThrowStatement");var xo=class extends wB{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&"Identifier"===this.node.handler.param.type&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};iK(xo,"TryStatement");var xr=class extends wB{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":this.visitor.visitNode(this.node.argument);return;case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":if("MemberExpression"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument.object),t=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete e[t]}if("Identifier"===this.node.argument.type)return this.visitor.scope.delete(this.node.argument.name);return!0;default:console.warn("Unhandled UnaryExpression operator",e)}}};iK(xr,"UnaryExpression");var xl=class extends wB{run(){switch(this.node.operator){case"++":if("MemberExpression"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument.object);return e[this.visitor.visitNode(this.node.argument.property)]++}if("Identifier"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,e+1),this.node.prefix?++e:e}break;case"--":if("MemberExpression"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument.object);return e[this.visitor.visitNode(this.node.argument.property)]--}if("Identifier"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,e-1),this.node.prefix?--e:e}}}};iK(xl,"UpdateExpression");var xc=class extends wB{run(){this.node.declarations.forEach(e=>{let{id:t,init:i}=e,n=this.visitor.getName(t),s=i?this.visitor.visitNode(i):void 0;n&&this.visitor.scope.set(n,s),"object"==typeof s&&null!==s&&this.visitor.scope.set("_this",s)})}};iK(xc,"VariableDeclaration");var xd=class extends wB{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if("break"===e)break;if("continue"!==e&&e)return e}}};iK(xd,"WhileStatement");var xh=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},xu=class{constructor(e){th.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let t of this.ast)e=this.visitNode(t);return e}visitNode(e){if(!e)return null;let t=xh(this,th,"m",tu).call(this,e.type);if(t)return new t(e,this).run()}getName(e){return"Identifier"===e.type?e.name:"Literal"===e.type?e.value:void 0}on(e,t){this.listeners[e]=t}};iK(xu,"Visitor"),th=new WeakSet,tu=iK(function(e){let t=wO[e];return t||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),t},"_Visitor_getNode");var xp=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],xm=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],xf="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",xv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},xg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",xy={5:xg,"5module":xg+" export import",6:xg+" const class extends export import super"},x_=/^in(stanceof)?$/,xb=RegExp("["+xf+"]"),xw=RegExp("["+xf+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿]");function xx(e,t){for(var i=65536,n=0;n<t.length&&!((i+=t[n])>e);n+=2)if((i+=t[n+1])>=e)return!0;return!1}function xS(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&xb.test(String.fromCharCode(e)):!1!==t&&xx(e,xm)))}function xC(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&xw.test(String.fromCharCode(e)):!1!==t&&(xx(e,xm)||xx(e,xp)))))}iK(xx,"isInAstralSet"),iK(xS,"isIdentifierStart"),iK(xC,"isIdentifierChar");var xT=iK(function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},"TokenType");function xI(e,t){return new xT(e,{beforeExpr:!0,binop:t})}iK(xI,"binop");var xk={beforeExpr:!0},xE={startsExpr:!0},xA={};function xP(e,t){return void 0===t&&(t={}),t.keyword=e,xA[e]=new xT(e,t)}iK(xP,"kw");var xR={num:new xT("num",xE),regexp:new xT("regexp",xE),string:new xT("string",xE),name:new xT("name",xE),privateId:new xT("privateId",xE),eof:new xT("eof"),bracketL:new xT("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new xT("]"),braceL:new xT("{",{beforeExpr:!0,startsExpr:!0}),braceR:new xT("}"),parenL:new xT("(",{beforeExpr:!0,startsExpr:!0}),parenR:new xT(")"),comma:new xT(",",xk),semi:new xT(";",xk),colon:new xT(":",xk),dot:new xT("."),question:new xT("?",xk),questionDot:new xT("?."),arrow:new xT("=>",xk),template:new xT("template"),invalidTemplate:new xT("invalidTemplate"),ellipsis:new xT("...",xk),backQuote:new xT("`",xE),dollarBraceL:new xT("${",{beforeExpr:!0,startsExpr:!0}),eq:new xT("=",{beforeExpr:!0,isAssign:!0}),assign:new xT("_=",{beforeExpr:!0,isAssign:!0}),incDec:new xT("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new xT("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:xI("||",1),logicalAND:xI("&&",2),bitwiseOR:xI("|",3),bitwiseXOR:xI("^",4),bitwiseAND:xI("&",5),equality:xI("==/!=/===/!==",6),relational:xI("</>/<=/>=",7),bitShift:xI("<</>>/>>>",8),plusMin:new xT("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:xI("%",10),star:xI("*",10),slash:xI("/",10),starstar:new xT("**",{beforeExpr:!0}),coalesce:xI("??",1),_break:xP("break"),_case:xP("case",xk),_catch:xP("catch"),_continue:xP("continue"),_debugger:xP("debugger"),_default:xP("default",xk),_do:xP("do",{isLoop:!0,beforeExpr:!0}),_else:xP("else",xk),_finally:xP("finally"),_for:xP("for",{isLoop:!0}),_function:xP("function",xE),_if:xP("if"),_return:xP("return",xk),_switch:xP("switch"),_throw:xP("throw",xk),_try:xP("try"),_var:xP("var"),_const:xP("const"),_while:xP("while",{isLoop:!0}),_with:xP("with"),_new:xP("new",{beforeExpr:!0,startsExpr:!0}),_this:xP("this",xE),_super:xP("super",xE),_class:xP("class",xE),_extends:xP("extends",xk),_export:xP("export"),_import:xP("import",xE),_null:xP("null",xE),_true:xP("true",xE),_false:xP("false",xE),_in:xP("in",{beforeExpr:!0,binop:7}),_instanceof:xP("instanceof",{beforeExpr:!0,binop:7}),_typeof:xP("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:xP("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:xP("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},xM=/\r\n?|\n|\u2028|\u2029/,xL=RegExp(xM.source,"g");function xD(e){return 10===e||13===e||8232===e||8233===e}function xN(e,t,i){void 0===i&&(i=e.length);for(var n=t;n<i;n++){var s=e.charCodeAt(n);if(xD(s))return n<i-1&&13===s&&10===e.charCodeAt(n+1)?n+2:n+1}return -1}iK(xD,"isNewLine"),iK(xN,"nextLineBreak");var xO=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,xB=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,xV=Object.prototype,xU=xV.hasOwnProperty,xH=xV.toString,xF=Object.hasOwn||function(e,t){return xU.call(e,t)},xj=Array.isArray||function(e){return"[object Array]"===xH.call(e)};function xW(e){return RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function x$(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,(1023&e)+56320)}iK(xW,"wordsRegexp"),iK(x$,"codePointToString");var xG=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,xK=iK(function(e,t){this.line=e,this.column=t},"Position");xK.prototype.offset=iK(function(e){return new xK(this.line,this.column+e)},"offset");var xY=iK(function(e,t,i){this.start=t,this.end=i,null!==e.sourceFile&&(this.source=e.sourceFile)},"SourceLocation");function xq(e,t){for(var i=1,n=0;;){var s=xN(e,n,t);if(s<0)return new xK(i,t-n);++i,n=s}}iK(xq,"getLineInfo");var xz={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},xX=!1;function xJ(e){var t={};for(var i in xz)t[i]=e&&xF(e,i)?e[i]:xz[i];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!xX&&"object"==typeof console&&console.warn&&(xX=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),e&&null!=e.allowHashBang||(t.allowHashBang=t.ecmaVersion>=14),xj(t.onToken)){var n=t.onToken;t.onToken=function(e){return n.push(e)}}return xj(t.onComment)&&(t.onComment=xQ(t,t.onComment)),t}function xQ(e,t){return function(i,n,s,a,o,r){var l={type:i?"Block":"Line",value:n,start:s,end:a};e.locations&&(l.loc=new xY(this,o,r)),e.ranges&&(l.range=[s,a]),t.push(l)}}function xZ(e,t){return 2|(e?4:0)|(t?8:0)}iK(xJ,"getOptions"),iK(xQ,"pushComment"),iK(xZ,"functionFlags");var x0=iK(function(e,t,i){this.options=e=xJ(e),this.sourceFile=e.sourceFile,this.keywords=xW(xy[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var n="";!0!==e.allowReserved&&(n=xv[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(n+=" await")),this.reservedWords=xW(n);var s=(n?n+" ":"")+xv.strict;this.reservedWordsStrict=xW(s),this.reservedWordsStrictBind=xW(s+" "+xv.strictBind),this.input=String(t),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(xM).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=xR.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},"Parser"),x1={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};x0.prototype.parse=iK(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse"),x1.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},x1.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},x1.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},x1.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||256&t.flags)return!1;if(2&t.flags)return(4&t.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},x1.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(64&t)>0||i||this.options.allowSuperOutsideMethod},x1.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},x1.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},x1.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(258&t)>0||i},x1.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},x0.extend=iK(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=this,n=0;n<e.length;n++)i=e[n](i);return i},"extend"),x0.parse=iK(function(e,t){return new this(t,e).parse()},"parse"),x0.parseExpressionAt=iK(function(e,t,i){var n=new this(i,e,t);return n.nextToken(),n.parseExpression()},"parseExpressionAt"),x0.tokenizer=iK(function(e,t){return new this(t,e)},"tokenizer"),Object.defineProperties(x0.prototype,x1);var x2=x0.prototype,x3=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;x2.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){xB.lastIndex=e,e+=xB.exec(this.input)[0].length;var t=x3.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){xB.lastIndex=e+t[0].length;var i=xB.exec(this.input),n=i.index+i[0].length,s=this.input.charAt(n);return";"===s||"}"===s||xM.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||"!"===s&&"="===this.input.charAt(n+1))}e+=t[0].length,xB.lastIndex=e,e+=xB.exec(this.input)[0].length,";"===this.input[e]&&e++}},x2.eat=function(e){return this.type===e&&(this.next(),!0)},x2.isContextual=function(e){return this.type===xR.name&&this.value===e&&!this.containsEsc},x2.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},x2.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},x2.canInsertSemicolon=function(){return this.type===xR.eof||this.type===xR.braceR||xM.test(this.input.slice(this.lastTokEnd,this.start))},x2.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},x2.semicolon=function(){this.eat(xR.semi)||this.insertSemicolon()||this.unexpected()},x2.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},x2.expect=function(e){this.eat(e)||this.unexpected()},x2.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var x5=iK(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");x2.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var i=t?e.parenthesizedAssign:e.parenthesizedBind;i>-1&&this.raiseRecoverable(i,t?"Assigning to rvalue":"Parenthesized pattern")}},x2.checkExpressionErrors=function(e,t){if(!e)return!1;var i=e.shorthandAssign,n=e.doubleProto;if(!t)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},x2.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},x2.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var x6=x0.prototype;x6.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==xR.eof;){var i=this.parseStatement(null,!0,t);e.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var a=s[n];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var x4={kind:"loop"},x9={kind:"switch"};x6.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;xB.lastIndex=this.pos;var t=xB.exec(this.input),i=this.pos+t[0].length,n=this.input.charCodeAt(i);if(91===n||92===n)return!0;if(e)return!1;if(123===n||n>55295&&n<56320)return!0;if(xS(n,!0)){for(var s=i+1;xC(n=this.input.charCodeAt(s),!0);)++s;if(92===n||n>55295&&n<56320)return!0;var a=this.input.slice(i,s);if(!x_.test(a))return!0}return!1},x6.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;xB.lastIndex=this.pos;var e,t=xB.exec(this.input),i=this.pos+t[0].length;return!xM.test(this.input.slice(this.pos,i))&&"function"===this.input.slice(i,i+8)&&(i+8===this.input.length||!(xC(e=this.input.charCodeAt(i+8))||e>55295&&e<56320))},x6.parseStatement=function(e,t,i){var n,s=this.type,a=this.startNode();switch(this.isLet(e)&&(s=xR._var,n="let"),s){case xR._break:case xR._continue:return this.parseBreakContinueStatement(a,s.keyword);case xR._debugger:return this.parseDebuggerStatement(a);case xR._do:return this.parseDoStatement(a);case xR._for:return this.parseForStatement(a);case xR._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!e);case xR._class:return e&&this.unexpected(),this.parseClass(a,!0);case xR._if:return this.parseIfStatement(a);case xR._return:return this.parseReturnStatement(a);case xR._switch:return this.parseSwitchStatement(a);case xR._throw:return this.parseThrowStatement(a);case xR._try:return this.parseTryStatement(a);case xR._const:case xR._var:return n=n||this.value,e&&"var"!==n&&this.unexpected(),this.parseVarStatement(a,n);case xR._while:return this.parseWhileStatement(a);case xR._with:return this.parseWithStatement(a);case xR.braceL:return this.parseBlock(!0,a);case xR.semi:return this.parseEmptyStatement(a);case xR._export:case xR._import:if(this.options.ecmaVersion>10&&s===xR._import){xB.lastIndex=this.pos;var o=xB.exec(this.input),r=this.pos+o[0].length,l=this.input.charCodeAt(r);if(40===l||46===l)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===xR._import?this.parseImport(a):this.parseExport(a,i);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!e);var c=this.value,d=this.parseExpression();if(s===xR.name&&"Identifier"===d.type&&this.eat(xR.colon))return this.parseLabeledStatement(a,c,d,e);return this.parseExpressionStatement(a,d)}},x6.parseBreakContinueStatement=function(e,t){var i="break"===t;this.next(),this.eat(xR.semi)||this.insertSemicolon()?e.label=null:this.type!==xR.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((null==e.label||s.name===e.label.name)&&(null!=s.kind&&(i||"loop"===s.kind)||e.label&&i))break}return n===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,i?"BreakStatement":"ContinueStatement")},x6.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},x6.parseDoStatement=function(e){return this.next(),this.labels.push(x4),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(xR._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(xR.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},x6.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(x4),this.enterScope(0),this.expect(xR.parenL),this.type===xR.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var i=this.isLet();if(this.type===xR._var||this.type===xR._const||i){var n=this.startNode(),s=i?"let":this.value;return(this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===xR._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===n.declarations.length)?(this.options.ecmaVersion>=9&&(this.type===xR._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,n)):(t>-1&&this.unexpected(t),this.parseFor(e,n))}var a=this.isContextual("let"),o=!1,r=new x5,l=this.parseExpression(!(t>-1)||"await",r);return this.type===xR._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===xR._in?t>-1&&this.unexpected(t):e.await=t>-1),a&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,r),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(r,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))},x6.parseFunctionStatement=function(e,t,i){return this.next(),this.parseFunction(e,x7|(i?0:Se),!1,t)},x6.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(xR._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},x6.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(xR.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},x6.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(xR.braceL),this.labels.push(x9),this.enterScope(0);for(var t,i=!1;this.type!==xR.braceR;)if(this.type===xR._case||this.type===xR._default){var n=this.type===xR._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,t.test=null),this.expect(xR.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},x6.parseThrowStatement=function(e){return this.next(),xM.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var x8=[];x6.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(xR.parenR),e},x6.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===xR._catch){var t=this.startNode();this.next(),this.eat(xR.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(xR._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},x6.parseVarStatement=function(e,t,i){return this.next(),this.parseVar(e,!1,t,i),this.semicolon(),this.finishNode(e,"VariableDeclaration")},x6.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(x4),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},x6.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},x6.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},x6.parseLabeledStatement=function(e,t,i,n){for(var s=0,a=this.labels;s<a.length;s+=1)a[s].name===t&&this.raise(i.start,"Label '"+t+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===xR._switch?"switch":null,r=this.labels.length-1;r>=0;r--){var l=this.labels[r];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")},x6.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},x6.parseBlock=function(e,t,i){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(xR.braceL),e&&this.enterScope(0);this.type!==xR.braceR;){var n=this.parseStatement(null);t.body.push(n)}return i&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},x6.parseFor=function(e,t){return e.init=t,this.expect(xR.semi),e.test=this.type===xR.semi?null:this.parseExpression(),this.expect(xR.semi),e.update=this.type===xR.parenR?null:this.parseExpression(),this.expect(xR.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},x6.parseForIn=function(e,t){var i=this.type===xR._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(xR.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")},x6.parseVar=function(e,t,i,n){for(e.declarations=[],e.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(xR.eq)?s.init=this.parseMaybeAssign(t):n||"const"!==i||this.type===xR._in||this.options.ecmaVersion>=6&&this.isContextual("of")?n||"Identifier"===s.id.type||t&&(this.type===xR._in||this.isContextual("of"))?s.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(xR.comma))break}return e},x6.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var x7=1,Se=2;function St(e,t){var i=t.key.name,n=e[i],s="true";return("MethodDefinition"===t.type&&("get"===t.kind||"set"===t.kind)&&(s=(t.static?"s":"i")+t.kind),"iget"===n&&"iset"===s||"iset"===n&&"iget"===s||"sget"===n&&"sset"===s||"sset"===n&&"sget"===s)?(e[i]="true",!1):!!n||(e[i]=s,!1)}function Si(e,t){var i=e.computed,n=e.key;return!i&&("Identifier"===n.type&&n.name===t||"Literal"===n.type&&n.value===t)}x6.parseFunction=function(e,t,i,n,s){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===xR.star&&t&Se&&this.unexpected(),e.generator=this.eat(xR.star)),this.options.ecmaVersion>=8&&(e.async=!!n),t&x7&&(e.id=4&t&&this.type!==xR.name?null:this.parseIdent(),e.id&&!(t&Se)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var a=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(xZ(e.async,e.generator)),t&x7||(e.id=this.type===xR.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,i,!1,s),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(e,t&x7?"FunctionDeclaration":"FunctionExpression")},x6.parseFunctionParams=function(e){this.expect(xR.parenL),e.params=this.parseBindingList(xR.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},x6.parseClass=function(e,t){this.next();var i=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var n=this.enterClassBody(),s=this.startNode(),a=!1;for(s.body=[],this.expect(xR.braceL);this.type!==xR.braceR;){var o=this.parseClassElement(null!==e.superClass);o&&(s.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(a&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&"PrivateIdentifier"===o.key.type&&St(n,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),e.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},x6.parseClassElement=function(e){if(this.eat(xR.semi))return null;var t=this.options.ecmaVersion,i=this.startNode(),n="",s=!1,a=!1,o="method",r=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(xR.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===xR.star?r=!0:n="static"}if(i.static=r,!n&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===xR.star)&&!this.canInsertSemicolon()?a=!0:n="async"),!n&&(t>=9||!a)&&this.eat(xR.star)&&(s=!0),!n&&!a&&!s){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:n=l)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),t<13||this.type===xR.parenL||"method"!==o||s||a){var c=!i.static&&Si(i,"constructor");c&&"method"!==o&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=c?"constructor":o,this.parseClassMethod(i,s,a,c&&e)}else this.parseClassField(i);return i},x6.isClassElementNameStart=function(){return this.type===xR.name||this.type===xR.privateId||this.type===xR.num||this.type===xR.string||this.type===xR.bracketL||this.type.keyword},x6.parseClassElementName=function(e){this.type===xR.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},x6.parseClassMethod=function(e,t,i,n){var s=e.key;"constructor"===e.kind?(t&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):e.static&&Si(e,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var a=e.value=this.parseMethod(t,i,n);return"get"===e.kind&&0!==a.params.length&&this.raiseRecoverable(a.start,"getter should have no params"),"set"===e.kind&&1!==a.params.length&&this.raiseRecoverable(a.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===a.params[0].type&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},x6.parseClassField=function(e){if(Si(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Si(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(xR.eq)){var t=this.currentThisScope(),i=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=i}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},x6.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==xR.braceR;){var i=this.parseStatement(null);e.body.push(i)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},x6.parseClassId=function(e,t){this.type===xR.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},x6.parseClassSuper=function(e){e.superClass=this.eat(xR._extends)?this.parseExprSubscripts(null,!1):null},x6.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},x6.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,i=e.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=0===n?null:this.privateNameStack[n-1],a=0;a<i.length;++a){var o=i[a];xF(t,o.name)||(s?s.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},iK(St,"isPrivateNameConflicted"),iK(Si,"checkKeyName"),x6.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==xR.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},x6.parseExport=function(e,t){if(this.next(),this.eat(xR.star))return this.parseExportAllDeclaration(e,t);if(this.eat(xR._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==xR.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var i=0,n=e.specifiers;i<n.length;i+=1){var s=n[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),"Literal"===s.local.type&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},x6.parseExportDeclaration=function(e){return this.parseStatement(null)},x6.parseExportDefaultDeclaration=function(){if(this.type===xR._function||(e=this.isAsyncFunction())){var e,t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|x7,!1,e)}if(this.type===xR._class){var i=this.startNode();return this.parseClass(i,"nullableID")}var n=this.parseMaybeAssign();return this.semicolon(),n},x6.checkExport=function(e,t,i){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),xF(e,t)&&this.raiseRecoverable(i,"Duplicate export '"+t+"'"),e[t]=!0)},x6.checkPatternExport=function(e,t){var i=t.type;if("Identifier"===i)this.checkExport(e,t,t.start);else if("ObjectPattern"===i)for(var n=0,s=t.properties;n<s.length;n+=1){var a=s[n];this.checkPatternExport(e,a)}else if("ArrayPattern"===i)for(var o=0,r=t.elements;o<r.length;o+=1){var l=r[o];l&&this.checkPatternExport(e,l)}else"Property"===i?this.checkPatternExport(e,t.value):"AssignmentPattern"===i?this.checkPatternExport(e,t.left):"RestElement"===i?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===i&&this.checkPatternExport(e,t.expression)},x6.checkVariableExport=function(e,t){if(e)for(var i=0;i<t.length;i+=1){var n=t[i];this.checkPatternExport(e,n.id)}},x6.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},x6.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},x6.parseExportSpecifiers=function(e){var t=[],i=!0;for(this.expect(xR.braceL);!this.eat(xR.braceR);){if(i)i=!1;else if(this.expect(xR.comma),this.afterTrailingComma(xR.braceR))break;t.push(this.parseExportSpecifier(e))}return t},x6.parseImport=function(e){return this.next(),this.type===xR.string?(e.specifiers=x8,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===xR.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},x6.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},x6.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},x6.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},x6.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===xR.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(xR.comma)))return e;if(this.type===xR.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(xR.braceL);!this.eat(xR.braceR);){if(t)t=!1;else if(this.expect(xR.comma),this.afterTrailingComma(xR.braceR))break;e.push(this.parseImportSpecifier())}return e},x6.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===xR.string){var e=this.parseLiteral(this.value);return xG.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},x6.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},x6.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Sn=x0.prototype;Sn.toAssignable=function(e,t,i){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=e.properties;n<s.length;n+=1){var a=s[n];this.toAssignable(a,t),"RestElement"===a.type&&("ArrayPattern"===a.argument.type||"ObjectPattern"===a.argument.type)&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,i);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return e},Sn.toAssignableList=function(e,t){for(var i=e.length,n=0;n<i;n++){var s=e[n];s&&this.toAssignable(s,t)}if(i){var a=e[i-1];6===this.options.ecmaVersion&&t&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return e},Sn.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Sn.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==xR.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Sn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case xR.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(xR.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case xR.braceL:return this.parseObj(!0)}return this.parseIdent()},Sn.parseBindingList=function(e,t,i,n){for(var s=[],a=!0;!this.eat(e);)if(a?a=!1:this.expect(xR.comma),t&&this.type===xR.comma)s.push(null);else if(i&&this.afterTrailingComma(e))break;else if(this.type===xR.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),s.push(o),this.type===xR.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else s.push(this.parseAssignableListItem(n));return s},Sn.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},Sn.parseBindingListItem=function(e){return e},Sn.parseMaybeDefault=function(e,t,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(xR.eq))return i;var n=this.startNodeAt(e,t);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},Sn.checkLValSimple=function(e,t,i){void 0===t&&(t=0);var n=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(n?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),i&&(xF(i,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),i[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,i);default:this.raise(e.start,(n?"Binding":"Assigning to")+" rvalue")}},Sn.checkLValPattern=function(e,t,i){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var n=0,s=e.properties;n<s.length;n+=1){var a=s[n];this.checkLValInnerPattern(a,t,i)}break;case"ArrayPattern":for(var o=0,r=e.elements;o<r.length;o+=1){var l=r[o];l&&this.checkLValInnerPattern(l,t,i)}break;default:this.checkLValSimple(e,t,i)}},Sn.checkLValInnerPattern=function(e,t,i){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,i);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,i);break;case"RestElement":this.checkLValPattern(e.argument,t,i);break;default:this.checkLValPattern(e,t,i)}};var Ss=iK(function(e,t,i,n,s){this.token=e,this.isExpr=!!t,this.preserveSpace=!!i,this.override=n,this.generator=!!s},"TokContext"),Sa={b_stat:new Ss("{",!1),b_expr:new Ss("{",!0),b_tmpl:new Ss("${",!1),p_stat:new Ss("(",!1),p_expr:new Ss("(",!0),q_tmpl:new Ss("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ss("function",!1),f_expr:new Ss("function",!0),f_expr_gen:new Ss("function",!0,!1,null,!0),f_gen:new Ss("function",!1,!1,null,!0)},So=x0.prototype;So.initialContext=function(){return[Sa.b_stat]},So.curContext=function(){return this.context[this.context.length-1]},So.braceIsBlock=function(e){var t=this.curContext();return t===Sa.f_expr||t===Sa.f_stat||(e===xR.colon&&(t===Sa.b_stat||t===Sa.b_expr)?!t.isExpr:e===xR._return||e===xR.name&&this.exprAllowed?xM.test(this.input.slice(this.lastTokEnd,this.start)):e===xR._else||e===xR.semi||e===xR.eof||e===xR.parenR||e===xR.arrow||(e===xR.braceL?t===Sa.b_stat:e!==xR._var&&e!==xR._const&&e!==xR.name&&!this.exprAllowed))},So.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},So.updateContext=function(e){var t,i=this.type;i.keyword&&e===xR.dot?this.exprAllowed=!1:(t=i.updateContext)?t.call(this,e):this.exprAllowed=i.beforeExpr},So.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},xR.parenR.updateContext=xR.braceR.updateContext=function(){if(1===this.context.length){this.exprAllowed=!0;return}var e=this.context.pop();e===Sa.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},xR.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Sa.b_stat:Sa.b_expr),this.exprAllowed=!0},xR.dollarBraceL.updateContext=function(){this.context.push(Sa.b_tmpl),this.exprAllowed=!0},xR.parenL.updateContext=function(e){var t=e===xR._if||e===xR._for||e===xR._with||e===xR._while;this.context.push(t?Sa.p_stat:Sa.p_expr),this.exprAllowed=!0},xR.incDec.updateContext=function(){},xR._function.updateContext=xR._class.updateContext=function(e){!e.beforeExpr||e===xR._else||e===xR.semi&&this.curContext()!==Sa.p_stat||e===xR._return&&xM.test(this.input.slice(this.lastTokEnd,this.start))||(e===xR.colon||e===xR.braceL)&&this.curContext()===Sa.b_stat?this.context.push(Sa.f_stat):this.context.push(Sa.f_expr),this.exprAllowed=!1},xR.backQuote.updateContext=function(){this.curContext()===Sa.q_tmpl?this.context.pop():this.context.push(Sa.q_tmpl),this.exprAllowed=!1},xR.star.updateContext=function(e){if(e===xR._function){var t=this.context.length-1;this.context[t]===Sa.f_expr?this.context[t]=Sa.f_expr_gen:this.context[t]=Sa.f_gen}this.exprAllowed=!0},xR.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==xR.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Sr=x0.prototype;function Sl(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&Sl(e.expression)}Sr.checkPropClash=function(e,t,i){if((!(this.options.ecmaVersion>=9)||"SpreadElement"!==e.type)&&(!(this.options.ecmaVersion>=6)||!e.computed&&!e.method&&!e.shorthand)){var n,s=e.key;switch(s.type){case"Identifier":n=s.name;break;case"Literal":n=String(s.value);break;default:return}var a=e.kind;if(this.options.ecmaVersion>=6){"__proto__"===n&&"init"===a&&(t.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),t.proto=!0);return}var o=t[n="$"+n];o?("init"===a?this.strict&&o.init||o.get||o.set:o.init||o[a])&&this.raiseRecoverable(s.start,"Redefinition of property"):o=t[n]={init:!1,get:!1,set:!1},o[a]=!0}},Sr.parseExpression=function(e,t){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(e,t);if(this.type===xR.comma){var a=this.startNodeAt(i,n);for(a.expressions=[s];this.eat(xR.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")}return s},Sr.parseMaybeAssign=function(e,t,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var n=!1,s=-1,a=-1,o=-1;t?(s=t.parenthesizedAssign,a=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new x5,n=!0);var r=this.start,l=this.startLoc;(this.type===xR.parenL||this.type===xR.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var c=this.parseMaybeConditional(e,t);if(i&&(c=i.call(this,c,r,l)),this.type.isAssign){var d=this.startNodeAt(r,l);return d.operator=this.value,this.type===xR.eq&&(c=this.toAssignable(c,!1,t)),n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.start&&(t.shorthandAssign=-1),this.type===xR.eq?this.checkLValPattern(c):this.checkLValSimple(c),d.left=c,this.next(),d.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(d,"AssignmentExpression")}return n&&this.checkExpressionErrors(t,!0),s>-1&&(t.parenthesizedAssign=s),a>-1&&(t.trailingComma=a),c},Sr.parseMaybeConditional=function(e,t){var i=this.start,n=this.startLoc,s=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return s;if(this.eat(xR.question)){var a=this.startNodeAt(i,n);return a.test=s,a.consequent=this.parseMaybeAssign(),this.expect(xR.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return s},Sr.parseExprOps=function(e,t){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)?s:s.start===i&&"ArrowFunctionExpression"===s.type?s:this.parseExprOp(s,i,n,-1,e)},Sr.parseExprOp=function(e,t,i,n,s){var a=this.type.binop;if(null!=a&&(!s||this.type!==xR._in)&&a>n){var o=this.type===xR.logicalOR||this.type===xR.logicalAND,r=this.type===xR.coalesce;r&&(a=xR.logicalAND.binop);var l=this.value;this.next();var c=this.start,d=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),c,d,a,s),u=this.buildBinary(t,i,e,h,l,o||r);return(o&&this.type===xR.coalesce||r&&(this.type===xR.logicalOR||this.type===xR.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(u,t,i,n,s)}return e},Sr.buildBinary=function(e,t,i,n,s,a){"PrivateIdentifier"===n.type&&this.raise(n.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=i,o.operator=s,o.right=n,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},Sr.parseMaybeUnary=function(e,t,i,n){var s,a=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(n),t=!0;else if(this.type.prefix){var r=this.startNode(),l=this.type===xR.incDec;r.operator=this.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(null,!0,l,n),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(r.argument):this.strict&&"delete"===r.operator&&"Identifier"===r.argument.type?this.raiseRecoverable(r.start,"Deleting local variable in strict mode"):"delete"===r.operator&&Sl(r.argument)?this.raiseRecoverable(r.start,"Private fields can not be deleted"):t=!0,s=this.finishNode(r,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==xR.privateId){if(s=this.parseExprSubscripts(e,n),this.checkExpressionErrors(e))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(a,o);c.operator=this.value,c.prefix=!1,c.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(c,"UpdateExpression")}}else(n||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==xR._in&&this.unexpected();return!i&&this.eat(xR.starstar)?t?void this.unexpected(this.lastTokStart):this.buildBinary(a,o,s,this.parseMaybeUnary(null,!1,!1,n),"**",!1):s},iK(Sl,"isPrivateFieldAccess"),Sr.parseExprSubscripts=function(e,t){var i=this.start,n=this.startLoc,s=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===s.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return s;var a=this.parseSubscripts(s,i,n,!1,t);return e&&"MemberExpression"===a.type&&(e.parenthesizedAssign>=a.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=a.start&&(e.parenthesizedBind=-1),e.trailingComma>=a.start&&(e.trailingComma=-1)),a},Sr.parseSubscripts=function(e,t,i,n,s){for(var a=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,o=!1;;){var r=this.parseSubscript(e,t,i,n,a,o,s);if(r.optional&&(o=!0),r===e||"ArrowFunctionExpression"===r.type){if(o){var l=this.startNodeAt(t,i);l.expression=r,r=this.finishNode(l,"ChainExpression")}return r}e=r}},Sr.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(xR.arrow)},Sr.parseSubscriptAsyncArrow=function(e,t,i,n){return this.parseArrowExpression(this.startNodeAt(e,t),i,!0,n)},Sr.parseSubscript=function(e,t,i,n,s,a,o){var r=this.options.ecmaVersion>=11,l=r&&this.eat(xR.questionDot);n&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(xR.bracketL);if(c||l&&this.type!==xR.parenL&&this.type!==xR.backQuote||this.eat(xR.dot)){var d=this.startNodeAt(t,i);d.object=e,c?(d.property=this.parseExpression(),this.expect(xR.bracketR)):this.type===xR.privateId&&"Super"!==e.type?d.property=this.parsePrivateIdent():d.property=this.parseIdent("never"!==this.options.allowReserved),d.computed=!!c,r&&(d.optional=l),e=this.finishNode(d,"MemberExpression")}else if(!n&&this.eat(xR.parenL)){var h=new x5,u=this.yieldPos,p=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var f=this.parseExprList(xR.parenR,this.options.ecmaVersion>=8,!1,h);if(s&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=p,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(t,i,f,o);this.checkExpressionErrors(h,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var v=this.startNodeAt(t,i);v.callee=e,v.arguments=f,r&&(v.optional=l),e=this.finishNode(v,"CallExpression")}else if(this.type===xR.backQuote){(l||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,i);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e},Sr.parseExprAtom=function(e,t,i){this.type===xR.slash&&this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case xR._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==xR.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==xR.dot&&this.type!==xR.bracketL&&this.type!==xR.parenL&&this.unexpected(),this.finishNode(n,"Super");case xR._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case xR.name:var a=this.start,o=this.startLoc,r=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!r&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(xR._function))return this.overrideContext(Sa.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(xR.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===xR.name&&!r&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(xR.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[l],!0,t)}return l;case xR.regexp:var c=this.value;return(n=this.parseLiteral(c.value)).regex={pattern:c.pattern,flags:c.flags},n;case xR.num:case xR.string:return this.parseLiteral(this.value);case xR._null:case xR._true:case xR._false:return(n=this.startNode()).value=this.type===xR._null?null:this.type===xR._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case xR.parenL:var d=this.start,h=this.parseParenAndDistinguishExpression(s,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=d),e.parenthesizedBind<0&&(e.parenthesizedBind=d)),h;case xR.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(xR.bracketR,!0,!0,e),this.finishNode(n,"ArrayExpression");case xR.braceL:return this.overrideContext(Sa.b_expr),this.parseObj(!1,e);case xR._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case xR._class:return this.parseClass(this.startNode(),!1);case xR._new:return this.parseNew();case xR.backQuote:return this.parseTemplate();case xR._import:if(this.options.ecmaVersion>=11)return this.parseExprImport(i);return this.unexpected();default:return this.parseExprAtomDefault()}},Sr.parseExprAtomDefault=function(){this.unexpected()},Sr.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);return this.type!==xR.parenL||e?this.type===xR.dot?(t.meta=i,this.parseImportMeta(t)):void this.unexpected():this.parseDynamicImport(t)},Sr.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(xR.parenR)){var t=this.start;this.eat(xR.comma)&&this.eat(xR.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Sr.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Sr.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Sr.parseParenExpression=function(){this.expect(xR.parenL);var e=this.parseExpression();return this.expect(xR.parenR),e},Sr.shouldParseArrow=function(e){return!this.canInsertSemicolon()},Sr.parseParenAndDistinguishExpression=function(e,t){var i,n=this.start,s=this.startLoc,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,r=this.start,l=this.startLoc,c=[],d=!0,h=!1,u=new x5,p=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==xR.parenR;){if(d?d=!1:this.expect(xR.comma),a&&this.afterTrailingComma(xR.parenR,!0)){h=!0;break}if(this.type===xR.ellipsis){o=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===xR.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var f=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(xR.parenR),e&&this.shouldParseArrow(c)&&this.eat(xR.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=m,this.parseParenArrowList(n,s,c,t);(!c.length||h)&&this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=m||this.awaitPos,c.length>1?((i=this.startNodeAt(r,l)).expressions=c,this.finishNodeAt(i,"SequenceExpression",f,v)):i=c[0]}else i=this.parseParenExpression();if(!this.options.preserveParens)return i;var g=this.startNodeAt(n,s);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")},Sr.parseParenItem=function(e){return e},Sr.parseParenArrowList=function(e,t,i,n){return this.parseArrowExpression(this.startNodeAt(e,t),i,!1,n)};var Sc=[];Sr.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(xR.dot)){e.meta=t;var i=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var n=this.start,s=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(xR.parenL)?e.arguments=this.parseExprList(xR.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Sc,this.finishNode(e,"NewExpression")},Sr.parseTemplateElement=function(e){var t=e.isTagged,i=this.startNode();return this.type===xR.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===xR.backQuote,this.finishNode(i,"TemplateElement")},Sr.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(i.quasis=[n];!n.tail;)this.type===xR.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(xR.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(xR.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(i,"TemplateLiteral")},Sr.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===xR.name||this.type===xR.num||this.type===xR.string||this.type===xR.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===xR.star)&&!xM.test(this.input.slice(this.lastTokEnd,this.start))},Sr.parseObj=function(e,t){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(xR.braceR);){if(n)n=!1;else if(this.expect(xR.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(xR.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,s,t),i.properties.push(a)}return this.finishNode(i,e?"ObjectPattern":"ObjectExpression")},Sr.parseProperty=function(e,t){var i,n,s,a,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(xR.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===xR.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,t),this.type===xR.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(s=this.start,a=this.startLoc),e||(i=this.eat(xR.star)));var r=this.containsEsc;return this.parsePropertyName(o),!e&&!r&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(o)?(n=!0,i=this.options.ecmaVersion>=9&&this.eat(xR.star),this.parsePropertyName(o)):n=!1,this.parsePropertyValue(o,e,i,n,s,a,t,r),this.finishNode(o,"Property")},Sr.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t="get"===e.kind?0:1;if(e.value.params.length!==t){var i=e.value.start;"get"===e.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},Sr.parsePropertyValue=function(e,t,i,n,s,a,o,r){(i||n)&&this.type===xR.colon&&this.unexpected(),this.eat(xR.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===xR.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(i,n)):t||r||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===xR.comma||this.type===xR.braceR||this.type===xR.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((i||n)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=s),e.kind="init",t?e.value=this.parseMaybeDefault(s,a,this.copyNode(e.key)):this.type===xR.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(s,a,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected():((i||n)&&this.unexpected(),this.parseGetterSetter(e))},Sr.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(xR.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(xR.bracketR),e.key;e.computed=!1}return e.key=this.type===xR.num||this.type===xR.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Sr.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Sr.parseMethod=function(e,t,i){var n=this.startNode(),s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|xZ(t,n.generator)|(i?128:0)),this.expect(xR.parenL),n.params=this.parseBindingList(xR.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(n,"FunctionExpression")},Sr.parseArrowExpression=function(e,t,i,n){var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|xZ(i,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,n),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},Sr.parseFunctionBody=function(e,t,i,n){var s=t&&this.type!==xR.braceL,a=this.strict,o=!1;if(s)e.body=this.parseMaybeAssign(n),e.expression=!0,this.checkParams(e,!1);else{var r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!a||r)&&(o=this.strictDirective(this.end))&&r&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!a&&!o&&!t&&!i&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,o&&!a),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()},Sr.isSimpleParamList=function(e){for(var t=0;t<e.length;t+=1)if("Identifier"!==e[t].type)return!1;return!0},Sr.checkParams=function(e,t){for(var i=Object.create(null),n=0,s=e.params;n<s.length;n+=1){var a=s[n];this.checkLValInnerPattern(a,1,t?null:i)}},Sr.parseExprList=function(e,t,i,n){for(var s=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(xR.comma),t&&this.afterTrailingComma(e))break;var o=void 0;i&&this.type===xR.comma?o=null:this.type===xR.ellipsis?(o=this.parseSpread(n),n&&this.type===xR.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),s.push(o)}return s},Sr.checkUnreserved=function(e){var t=e.start,i=e.end,n=e.name;this.inGenerator&&"yield"===n&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===n&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===n||"await"===n)&&this.raise(t,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),(!(this.options.ecmaVersion<6)||-1===this.input.slice(t,i).indexOf("\\"))&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))},Sr.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},Sr.parseIdentNode=function(){var e=this.startNode();return this.type===xR.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,("class"===e.name||"function"===e.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop()):this.unexpected(),e},Sr.parsePrivateIdent=function(){var e=this.startNode();return this.type===xR.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},Sr.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===xR.semi||this.canInsertSemicolon()||this.type!==xR.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(xR.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Sr.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Sd=x0.prototype;Sd.raise=function(e,t){var i=xq(this.input,e),n=SyntaxError(t+=" ("+i.line+":"+i.column+")");throw n.pos=e,n.loc=i,n.raisedAt=this.pos,n},Sd.raiseRecoverable=Sd.raise,Sd.curPosition=function(){if(this.options.locations)return new xK(this.curLine,this.pos-this.lineStart)};var Sh=x0.prototype,Su=iK(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Sh.enterScope=function(e){this.scopeStack.push(new Su(e))},Sh.exitScope=function(){this.scopeStack.pop()},Sh.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},Sh.declareName=function(e,t,i){var n=!1;if(2===t){var s=this.currentScope();n=s.lexical.indexOf(e)>-1||s.functions.indexOf(e)>-1||s.var.indexOf(e)>-1,s.lexical.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var a=this.currentScope();n=this.treatFunctionsAsVar?a.lexical.indexOf(e)>-1:a.lexical.indexOf(e)>-1||a.var.indexOf(e)>-1,a.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var r=this.scopeStack[o];if(r.lexical.indexOf(e)>-1&&!(32&r.flags&&r.lexical[0]===e)||!this.treatFunctionsAsVarInScope(r)&&r.functions.indexOf(e)>-1){n=!0;break}if(r.var.push(e),this.inModule&&1&r.flags&&delete this.undefinedExports[e],259&r.flags)break}n&&this.raiseRecoverable(i,"Identifier '"+e+"' has already been declared")},Sh.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Sh.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Sh.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},Sh.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var Sp=iK(function(e,t,i){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new xY(e,i)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},"Node"),Sm=x0.prototype;function Sf(e,t,i,n){return e.type=t,e.end=i,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=i),e}Sm.startNode=function(){return new Sp(this,this.start,this.startLoc)},Sm.startNodeAt=function(e,t){return new Sp(this,e,t)},iK(Sf,"finishNodeAt"),Sm.finishNode=function(e,t){return Sf.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Sm.finishNodeAt=function(e,t,i,n){return Sf.call(this,e,t,i,n)},Sm.copyNode=function(e){var t=new Sp(this,e.start,this.startLoc);for(var i in e)t[i]=e[i];return t};var Sv="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Sg=Sv+" Extended_Pictographic",Sy=Sg+" EBase EComp EMod EPres ExtPict",S_={9:Sv,10:Sg,11:Sg,12:Sy,13:Sy,14:Sy},Sb={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},Sw="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Sx="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",SS=Sx+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",SC=SS+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ST=SC+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",SI=ST+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Sk={9:Sx,10:SS,11:SC,12:ST,13:SI,14:SI+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},SE={};function SA(e){var t=SE[e]={binary:xW(S_[e]+" "+Sw),binaryOfStrings:xW(Sb[e]),nonBinary:{General_Category:xW(Sw),Script:xW(Sk[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(iK(SA,"buildUnicodeData"),tp=0,tm=[9,10,11,12,13,14];tp<tm.length;tp+=1)SA(tm[tp]);var SP=x0.prototype,SR=iK(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=SE[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");function SM(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function SL(e){return xS(e,!0)||36===e||95===e}function SD(e){return xC(e,!0)||36===e||95===e||8204===e||8205===e}function SN(e){return e>=65&&e<=90||e>=97&&e<=122}function SO(e){return e>=0&&e<=1114111}function SB(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function SV(e){return SN(e)||95===e}function SU(e){return SV(e)||SW(e)}function SH(e){return 33===e||e>=35&&e<=38||e>=42&&e<=44||46===e||e>=58&&e<=64||94===e||96===e||126===e}function SF(e){return 40===e||41===e||45===e||47===e||e>=91&&e<=93||e>=123&&e<=125}function Sj(e){return 33===e||35===e||37===e||38===e||44===e||45===e||e>=58&&e<=62||64===e||96===e||126===e}function SW(e){return e>=48&&e<=57}function S$(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function SG(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}function SK(e){return e>=48&&e<=55}SR.prototype.reset=iK(function(e,t,i){var n=-1!==i.indexOf("v"),s=-1!==i.indexOf("u");this.start=0|e,this.source=t+"",this.flags=i,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},"reset"),SR.prototype.raise=iK(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise"),SR.prototype.at=iK(function(e,t){void 0===t&&(t=!1);var i=this.source,n=i.length;if(e>=n)return -1;var s=i.charCodeAt(e);if(!(t||this.switchU)||s<=55295||s>=57344||e+1>=n)return s;var a=i.charCodeAt(e+1);return a>=56320&&a<=57343?(s<<10)+a-56613888:s},"at"),SR.prototype.nextIndex=iK(function(e,t){void 0===t&&(t=!1);var i=this.source,n=i.length;if(e>=n)return n;var s,a=i.charCodeAt(e);return!(t||this.switchU)||a<=55295||a>=57344||e+1>=n||(s=i.charCodeAt(e+1))<56320||s>57343?e+1:e+2},"nextIndex"),SR.prototype.current=iK(function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},"current"),SR.prototype.lookahead=iK(function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead"),SR.prototype.advance=iK(function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance"),SR.prototype.eat=iK(function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},"eat"),SR.prototype.eatChars=iK(function(e,t){void 0===t&&(t=!1);for(var i=this.pos,n=0;n<e.length;n+=1){var s=e[n],a=this.at(i,t);if(-1===a||a!==s)return!1;i=this.nextIndex(i,t)}return this.pos=i,!0},"eatChars"),SP.validateRegExpFlags=function(e){for(var t=e.validFlags,i=e.flags,n=!1,s=!1,a=0;a<i.length;a++){var o=i.charAt(a);-1===t.indexOf(o)&&this.raise(e.start,"Invalid regular expression flag"),i.indexOf(o,a+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===o&&(n=!0),"v"===o&&(s=!0)}this.options.ecmaVersion>=15&&n&&s&&this.raise(e.start,"Invalid regular expression flag")},SP.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},SP.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,i=e.backReferenceNames;t<i.length;t+=1){var n=i[t];-1===e.groupNames.indexOf(n)&&e.raise("Invalid named capture referenced")}},SP.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},SP.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},SP.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?!!this.regexp_eatAtom(e):!!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},SP.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!i,!0}return e.pos=t,!1},SP.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},SP.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},SP.regexp_eatBracedQuantifier=function(e,t){var i=e.pos;if(e.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(s=e.lastIntValue),e.eat(125)))return -1!==s&&s<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=i}return!1},SP.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},SP.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},SP.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},SP.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},SP.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},SP.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},SP.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!SM(t)&&(e.lastIntValue=t,e.advance(),!0)},iK(SM,"isSyntaxCharacter"),SP.regexp_eatPatternCharacters=function(e){for(var t=e.pos,i=0;-1!==(i=e.current())&&!SM(i);)e.advance();return e.pos!==t},SP.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return -1!==t&&36!==t&&(!(t>=40)||!(t<=43))&&46!==t&&63!==t&&91!==t&&94!==t&&124!==t&&(e.advance(),!0)},SP.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}},SP.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},SP.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=x$(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=x$(e.lastIntValue);return!0}return!1},SP.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,n=e.current(i);return(e.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(n=e.lastIntValue),SL(n))?(e.lastIntValue=n,!0):(e.pos=t,!1)},iK(SL,"isRegExpIdentifierStart"),SP.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,n=e.current(i);return(e.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(n=e.lastIntValue),SD(n))?(e.lastIntValue=n,!0):(e.pos=t,!1)},iK(SD,"isRegExpIdentifierPart"),SP.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},SP.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var i=e.lastIntValue;if(e.switchU)return i>e.maxBackReference&&(e.maxBackReference=i),!0;if(i<=e.numCapturingParens)return!0;e.pos=t}return!1},SP.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},SP.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},SP.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},SP.regexp_eatZero=function(e){return!(48!==e.current()||SW(e.lookahead()))&&(e.lastIntValue=0,e.advance(),!0)},SP.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},SP.regexp_eatControlLetter=function(e){var t=e.current();return!!SN(t)&&(e.lastIntValue=t%32,e.advance(),!0)},iK(SN,"isControlLetter"),SP.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var i=e.pos,n=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(n&&s>=55296&&s<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=s}return!0}if(n&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&SO(e.lastIntValue))return!0;n&&e.raise("Invalid unicode escape"),e.pos=i}return!1},iK(SO,"isValidUnicode"),SP.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return 99!==t&&(!e.switchN||107!==t)&&(e.lastIntValue=t,e.advance(),!0)},SP.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57)return!0}return!1},SP.regexp_eatCharacterClassEscape=function(e){var t,i=e.current();if(SB(i))return e.lastIntValue=-1,e.advance(),1;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=80===i)||112===i)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(t=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&2===t&&e.raise("Invalid property name"),t;e.raise("Invalid property name")}return 0},iK(SB,"isCharacterClassEscape"),SP.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var i=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,i,n),1}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var s=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,s)}return 0},SP.regexp_validateUnicodePropertyNameAndValue=function(e,t,i){xF(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(i)||e.raise("Invalid property value")},SP.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},SP.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";SV(t=e.current());)e.lastStringValue+=x$(t),e.advance();return""!==e.lastStringValue},iK(SV,"isUnicodePropertyNameCharacter"),SP.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";SU(t=e.current());)e.lastStringValue+=x$(t),e.advance();return""!==e.lastStringValue},iK(SU,"isUnicodePropertyValueCharacter"),SP.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},SP.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),i=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===i&&e.raise("Negated character class may contain strings"),!0}return!1},SP.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},SP.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var i=e.lastIntValue;e.switchU&&(-1===t||-1===i)&&e.raise("Invalid character class"),-1!==t&&-1!==i&&t>i&&e.raise("Range out of order in character class")}}},SP.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var i=e.current();(99===i||SK(i))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return 93!==n&&(e.lastIntValue=n,e.advance(),!0)},SP.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},SP.regexp_classSetExpression=function(e){var t,i=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(i=2);for(var n=e.pos;e.eatChars([38,38]);){if(38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))){2!==t&&(i=1);continue}e.raise("Invalid character in character class")}if(n!==e.pos)return i;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(n!==e.pos)return i}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return i;2===t&&(i=2)}},SP.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;return -1!==i&&-1!==n&&i>n&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},SP.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},SP.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var i=e.eat(94),n=this.regexp_classContents(e);if(e.eat(93))return i&&2===n&&e.raise("Negated character class may contain strings"),n;e.pos=t}if(e.eat(92)){var s=this.regexp_eatCharacterClassEscape(e);if(s)return s;e.pos=t}return null},SP.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var i=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return i}else e.raise("Invalid escape");e.pos=t}return null},SP.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},SP.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},SP.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return!!(this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e))||(e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1));var i=e.current();return!(i<0||i===e.lookahead()&&SH(i)||SF(i))&&(e.advance(),e.lastIntValue=i,!0)},iK(SH,"isClassSetReservedDoublePunctuatorCharacter"),iK(SF,"isClassSetSyntaxCharacter"),SP.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!Sj(t)&&(e.lastIntValue=t,e.advance(),!0)},iK(Sj,"isClassSetReservedPunctuator"),SP.regexp_eatClassControlLetter=function(e){var t=e.current();return(!!SW(t)||95===t)&&(e.lastIntValue=t%32,e.advance(),!0)},SP.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},SP.regexp_eatDecimalDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;SW(i=e.current());)e.lastIntValue=10*e.lastIntValue+(i-48),e.advance();return e.pos!==t},iK(SW,"isDecimalDigit"),SP.regexp_eatHexDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;S$(i=e.current());)e.lastIntValue=16*e.lastIntValue+SG(i),e.advance();return e.pos!==t},iK(S$,"isHexDigit"),iK(SG,"hexToInt"),SP.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var i=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*i+e.lastIntValue:e.lastIntValue=8*t+i}else e.lastIntValue=t;return!0}return!1},SP.regexp_eatOctalDigit=function(e){var t=e.current();return SK(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},iK(SK,"isOctalDigit"),SP.regexp_eatFixedHexDigits=function(e,t){var i=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var s=e.current();if(!S$(s))return e.pos=i,!1;e.lastIntValue=16*e.lastIntValue+SG(s),e.advance()}return!0};var SY=iK(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new xY(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Sq=x0.prototype;function Sz(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function SX(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}Sq.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new SY(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Sq.getToken=function(){return this.next(),new SY(this)},"undefined"!=typeof Symbol&&(Sq[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===xR.eof,value:t}}}}),Sq.nextToken=function(){var e=this.curContext();return(e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)?this.finishToken(xR.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Sq.readToken=function(e){return xS(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Sq.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Sq.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,s=t;(n=xN(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,i),t,this.pos,e,this.curPosition())},Sq.skipLineComment=function(e){for(var t=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!xD(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,i,this.curPosition())},Sq.skipSpace=function(){t:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(e>8&&e<14||e>=5760&&xO.test(String.fromCharCode(e)))++this.pos;else break t}}},Sq.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=e,this.value=t,this.updateContext(i)},Sq.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(xR.ellipsis)):(++this.pos,this.finishToken(xR.dot))},Sq.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(xR.assign,2):this.finishOp(xR.slash,1)},Sq.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),i=1,n=42===e?xR.star:xR.modulo;return(this.options.ecmaVersion>=7&&42===e&&42===t&&(++i,n=xR.starstar,t=this.input.charCodeAt(this.pos+2)),61===t)?this.finishOp(xR.assign,i+1):this.finishOp(n,i)},Sq.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(xR.assign,3):this.finishOp(124===e?xR.logicalOR:xR.logicalAND,2):61===t?this.finishOp(xR.assign,2):this.finishOp(124===e?xR.bitwiseOR:xR.bitwiseAND,1)},Sq.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(xR.assign,2):this.finishOp(xR.bitwiseXOR,1)},Sq.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45===t&&!this.inModule&&62===this.input.charCodeAt(this.pos+2)&&(0===this.lastTokEnd||xM.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(xR.incDec,2):61===t?this.finishOp(xR.assign,2):this.finishOp(xR.plusMin,1)},Sq.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),i=1;return t===e?(i=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i))?this.finishOp(xR.assign,i+1):this.finishOp(xR.bitShift,i):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(i=2),this.finishOp(xR.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Sq.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(xR.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(xR.arrow)):this.finishOp(61===e?xR.eq:xR.prefix,1)},Sq.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(xR.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(xR.assign,3):this.finishOp(xR.coalesce,2)}return this.finishOp(xR.question,1)},Sq.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,xS(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(xR.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+x$(t)+"'")},Sq.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(xR.parenL);case 41:return++this.pos,this.finishToken(xR.parenR);case 59:return++this.pos,this.finishToken(xR.semi);case 44:return++this.pos,this.finishToken(xR.comma);case 91:return++this.pos,this.finishToken(xR.bracketL);case 93:return++this.pos,this.finishToken(xR.bracketR);case 123:return++this.pos,this.finishToken(xR.braceL);case 125:return++this.pos,this.finishToken(xR.braceR);case 58:return++this.pos,this.finishToken(xR.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(xR.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(xR.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+x$(e)+"'")},Sq.finishOp=function(e,t){var i=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,i)},Sq.readRegexp=function(){for(var e,t,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(xM.test(n)&&this.raise(i,"Unterminated regular expression"),e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var r=this.regexpState||(this.regexpState=new SR(this));r.reset(i,s,o),this.validateRegExpFlags(r),this.validateRegExpPattern(r);var l=null;try{l=new RegExp(s,o)}catch(e){}return this.finishToken(xR.regexp,{pattern:s,flags:o,value:l})},Sq.readInt=function(e,t,i){for(var n=this.options.ecmaVersion>=12&&void 0===t,s=i&&48===this.input.charCodeAt(this.pos),a=this.pos,o=0,r=0,l=0,c=null==t?1/0:t;l<c;++l,++this.pos){var d=this.input.charCodeAt(this.pos),h=void 0;if(n&&95===d){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===r&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),r=d;continue}if((h=d>=97?d-97+10:d>=65?d-65+10:d>=48&&d<=57?d-48:1/0)>=e)break;r=d,o=o*e+h}return(n&&95===r&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||null!=t&&this.pos-a!==t)?null:o},iK(Sz,"stringToNumber"),iK(SX,"stringToBigInt"),Sq.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var i=this.readInt(e);return null==i&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(i=SX(this.input.slice(t,this.pos)),++this.pos):xS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(xR.num,i)},Sq.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var i=this.pos-t>=2&&48===this.input.charCodeAt(t);i&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!e&&this.options.ecmaVersion>=11&&110===n){var s=SX(this.input.slice(t,this.pos));return++this.pos,xS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(xR.num,s)}i&&/[89]/.test(this.input.slice(t,this.pos))&&(i=!1),46!==n||i||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||i||((43===(n=this.input.charCodeAt(++this.pos))||45===n)&&++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),xS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=Sz(this.input.slice(t,this.pos),i);return this.finishToken(xR.num,a)},Sq.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Sq.readString=function(e){for(var t="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;92===n?(t+=this.input.slice(i,this.pos)+this.readEscapedChar(!1),i=this.pos):8232===n||8233===n?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(xD(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(i,this.pos++),this.finishToken(xR.string,t)};var SJ={};function SQ(e,t){return x0.parse(e,t)}Sq.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===SJ)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},Sq.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw SJ;this.raise(e,t)},Sq.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1)){if(this.pos===this.start&&(this.type===xR.template||this.type===xR.invalidTemplate)){if(36===i)return this.pos+=2,this.finishToken(xR.dollarBraceL);return++this.pos,this.finishToken(xR.backQuote)}return e+=this.input.slice(t,this.pos),this.finishToken(xR.template,e)}if(92===i)e+=this.input.slice(t,this.pos)+this.readEscapedChar(!0),t=this.pos;else if(xD(i)){switch(e+=this.input.slice(t,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Sq.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(xR.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Sq.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return x$(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(s=parseInt(n=n.slice(0,-1),8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),("0"!==n||56===t||57===t)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}if(xD(t))return"";return String.fromCharCode(t)}},Sq.readHexChar=function(e){var t=this.pos,i=this.readInt(16,e);return null===i&&this.invalidStringToken(t,"Bad character escape sequence"),i},Sq.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(xC(s,n))this.pos+=s<=65535?1:2;else if(92===s){this.containsEsc=!0,e+=this.input.slice(i,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?xS:xC)(o,n)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=x$(o),i=this.pos}else break;t=!1}return e+this.input.slice(i,this.pos)},Sq.readWord=function(){var e=this.readWord1(),t=xR.name;return this.keywords.test(e)&&(t=xA[e]),this.finishToken(t,e)},x0.acorn={Parser:x0,version:"8.10.0",defaultOptions:xz,Position:xK,SourceLocation:xY,getLineInfo:xq,Node:Sp,TokenType:xT,tokTypes:xR,keywordTypes:xA,TokContext:Ss,tokContexts:Sa,isIdentifierChar:xC,isIdentifierStart:xS,Token:SY,isNewLine:xD,lineBreak:xM,lineBreakG:xL,nonASCIIwhitespace:xO},iK(SQ,"parse");var SZ=function(e,t,i,n,s){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i},S0=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},S1=class{constructor(e){tf.set(this,void 0);let t=SQ(e,{ecmaVersion:2020});SZ(this,tf,t.body,"f"),this.visitor=new xu(S0(this,tf,"f")),this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.visitor.on("console",(e,t)=>{if("Identifier"===e.type)return console;if("CallExpression"===e.type&&"MemberExpression"===e.callee.type){let i=t.visitNode(e.callee.property),n=e.arguments.map(e=>t.visitNode(e)),s=console[i];return s?s(...n):"proceed"}return"proceed"}),this.visitor.on("Math",(e,t)=>{if("Identifier"===e.type)return Math;if("CallExpression"===e.type&&"MemberExpression"===e.callee.type){let i=t.visitNode(e.callee.property),n=e.arguments.map(e=>t.visitNode(e)),s=Math[i];return s?s(...n):"proceed"}return"proceed"}),this.visitor.on("String",(e,t)=>{if("Identifier"===e.type)return String;if("CallExpression"===e.type&&"MemberExpression"===e.callee.type){let i=t.visitNode(e.callee.property),n=e.arguments.map(e=>t.visitNode(e)),s=String[i];return s?s(n):"proceed"}return"proceed"}),this.visitor.on("Date",e=>{if("Identifier"===e.type)return Date})}interpret(){return this.visitor.run()}};function S2(e,t){let i=new S1(e);for(let[e,n]of Object.entries(t))i.scope.set(e,n);return i.interpret()}iK(S1,"Jinter"),tf=new WeakMap,iK(S2,"evaluate");var S3=class{constructor(e){tv.add(this),tg.set(this,void 0),i2(this,tg,e,"f")}get session(){return i1(this,tg,"f")}stats(e,t,i){return iX(this,void 0,void 0,function*(){let n=new URL(e);for(let e of(n.searchParams.set("ver","2"),n.searchParams.set("c",t.client_name.toLowerCase()),n.searchParams.set("cbrver",t.client_version),n.searchParams.set("cver",t.client_version),Object.keys(i)))n.searchParams.set(e,i[e]);return yield i1(this,tg,"f").http.fetch(n)})}execute(e,t){var i,n;return iX(this,void 0,void 0,function*(){let s;if(t&&!t.protobuf){if(s=Object.assign({},t),Reflect.has(s,"browseId")&&i1(this,tv,"m",tb).call(this,s.browseId)&&!i1(this,tg,"f").logged_in)throw new wu("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(null==s?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else t&&(s=t.serialized_data);let a=Reflect.has(t||{},"override_endpoint")?null==t?void 0:t.override_endpoint:e,o=yield i1(this,tg,"f").http.fetch(a,{method:"POST",body:(null==t?void 0:t.protobuf)?s:JSON.stringify(s||{}),headers:{"Content-Type":(null==t?void 0:t.protobuf)?"application/x-protobuf":"application/json"}});if(null==t?void 0:t.parse){let e=na.parseResponse((yield o.json()));if(i1(this,tv,"m",t_).call(this,e)&&(null===(n=null===(i=e.on_response_received_actions)||void 0===i?void 0:i.first())||void 0===n?void 0:n.type)==="navigateAction"){let t=e.on_response_received_actions.firstOfType(gw);t&&(e=yield t.endpoint.call(this,{parse:!0}))}return e}return i1(this,tv,"m",ty).call(this,o)})}};iK(S3,"Actions"),tg=new WeakMap,tv=new WeakSet,ty=iK(function(e){return iX(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse((yield e.text()))}})},"_Actions_wrap"),t_=iK(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),tb=iK(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var S5=class{constructor(e,t,i,n){tw.set(this,void 0),tx.set(this,void 0),tS.set(this,void 0),tC.set(this,void 0),i2(this,tw,i,"f"),i2(this,tx,t,"f"),i2(this,tS,e,"f"),i2(this,tC,n,"f")}static create(e,t=wh.shim.fetch){return iX(this,void 0,void 0,function*(){let i=new URL("/iframe_api",ne.YT_BASE),n=yield t(i);if(200!==n.status)throw new wv("Failed to request player id");let s=wb((yield n.text()),"player\\/","\\/");if(!s)throw new wv("Failed to get player id");if(e){let t=yield S5.fromCache(e,s);if(t)return t}let a=new URL(`/s/player/${s}/player_ias.vflset/en_US/base.js`,ne.YT_BASE),o=yield t(a,{headers:{"user-agent":wx("desktop")}});if(!o.ok)throw new wv(`Failed to get player data: ${o.status}`);let r=yield o.text(),l=this.extractSigTimestamp(r),c=this.extractSigSourceCode(r),d=this.extractNSigSourceCode(r);return yield S5.fromSource(e,l,c,d,s)})}decipher(e,t,i,n){if(!(e=e||t||i))throw new wv("No valid URL to decipher");let s=new URLSearchParams(e),a=new URL(s.get("url")||e);if(t||i){let e=wh.shim.eval(i1(this,tx,"f"),{sig:s.get("s")});if("string"!=typeof e)throw new wv("Failed to decipher signature");let t=s.get("sp");t?a.searchParams.set(t,e):a.searchParams.set("signature",e)}let o=a.searchParams.get("n");if(o){let e;if(n&&n.has(o))e=n.get(o);else{if("string"!=typeof(e=wh.shim.eval(i1(this,tw,"f"),{nsig:o})))throw new wv("Failed to decipher nsig");e.startsWith("enhanced_except_")?console.warn('Warning:\nCould not transform nsig, download may be throttled.\nChanging the InnerTube client to "ANDROID" might help!'):n&&n.set(o,e)}a.searchParams.set("n",e)}switch(a.searchParams.get("c")){case"WEB":a.searchParams.set("cver",ni.WEB.VERSION);break;case"WEB_REMIX":a.searchParams.set("cver",ni.YTMUSIC.VERSION);break;case"WEB_KIDS":a.searchParams.set("cver",ni.WEB_KIDS.VERSION);break;case"ANDROID":a.searchParams.set("cver",ni.ANDROID.VERSION);break;case"ANDROID_MUSIC":a.searchParams.set("cver",ni.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":a.searchParams.set("cver",ni.TV_EMBEDDED.VERSION)}return a.toString()}static fromCache(e,t){return iX(this,void 0,void 0,function*(){let i=yield e.get(t);if(!i)return null;let n=new DataView(i);if(n.getUint32(0,!0)!==S5.LIBRARY_VERSION)return null;let s=n.getUint32(4,!0),a=n.getUint32(8,!0),o=i.slice(12,12+a),r=i.slice(12+a),l=new TextDecoder;return new S5(s,l.decode(o),l.decode(r),t)})}static fromSource(e,t,i,n,s){return iX(this,void 0,void 0,function*(){let a=new S5(t,i,n,s);return yield a.cache(e),a})}cache(e){return iX(this,void 0,void 0,function*(){if(!e)return;let t=new TextEncoder,i=t.encode(i1(this,tx,"f")),n=t.encode(i1(this,tw,"f")),s=new ArrayBuffer(12+i.byteLength+n.byteLength),a=new DataView(s);a.setUint32(0,S5.LIBRARY_VERSION,!0),a.setUint32(4,i1(this,tS,"f"),!0),a.setUint32(8,i.byteLength,!0),new Uint8Array(s).set(i,12),new Uint8Array(s).set(n,12+i.byteLength),yield e.set(i1(this,tC,"f"),new Uint8Array(s))})}static extractSigTimestamp(e){return parseInt(wb(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var t,i,n;let s=wb(e,'function(a){a=a.split("")','return a.join("")}'),a=null===(n=null===(i=null===(t=null==s?void 0:s.split(/\.|\[/))||void 0===t?void 0:t[0])||void 0===i?void 0:i.replace(";",""))||void 0===n?void 0:n.trim(),o=wb(e,`var ${a}={`,"};");return o&&s||console.warn(new wv("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${a}={${o}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let t=`function descramble_nsig(a) { let b=a.split("")${wb(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return t||console.warn(new wv("Failed to extract n-token decipher algorithm")),t}get url(){return new URL(`/s/player/${i1(this,tC,"f")}/player_ias.vflset/en_US/base.js`,ne.YT_BASE).toString()}get sts(){return i1(this,tS,"f")}get nsig_sc(){return i1(this,tw,"f")}get sig_sc(){return i1(this,tx,"f")}static get LIBRARY_VERSION(){return 2}};iK(S5,"Player"),tw=new WeakMap,tx=new WeakMap,tS=new WeakMap,tC=new WeakMap;var S6=class{constructor(e){tT.add(this),tI.set(this,void 0),tk.set(this,void 0),tE.set(this,void 0),tA.set(this,5),i2(this,tk,e,"f")}init(e){return iX(this,void 0,void 0,function*(){i2(this,tE,e,"f"),this.validateCredentials()?this.has_access_token_expired||i1(this,tk,"f").emit("auth",{credentials:i1(this,tE,"f"),status:"SUCCESS"}):(yield i1(this,tT,"m",tP).call(this))||(yield i1(this,tT,"m",tR).call(this))})}cacheCredentials(){var e;return iX(this,void 0,void 0,function*(){let t=new TextEncoder().encode(JSON.stringify(i1(this,tE,"f")));yield null===(e=i1(this,tk,"f").cache)||void 0===e?void 0:e.set("youtubei_oauth_credentials",t.buffer)})}removeCache(){var e;return iX(this,void 0,void 0,function*(){yield null===(e=i1(this,tk,"f").cache)||void 0===e?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return iX(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield i1(this,tT,"m",tL).call(this))})}revokeCredentials(){return iX(this,void 0,void 0,function*(){if(i1(this,tE,"f"))return yield this.removeCache(),i1(this,tk,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(i1(this,tE,"f").access_token)}`,ne.YT_BASE),{method:"post"})})}get credentials(){return i1(this,tE,"f")}get has_access_token_expired(){let e=i1(this,tE,"f")?new Date(i1(this,tE,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return i1(this,tE,"f")&&Reflect.has(i1(this,tE,"f"),"access_token")&&Reflect.has(i1(this,tE,"f"),"refresh_token")&&Reflect.has(i1(this,tE,"f"),"expires")||!1}};iK(S6,"OAuth"),tI=new WeakMap,tk=new WeakMap,tE=new WeakMap,tA=new WeakMap,tT=new WeakSet,tP=iK(function(){var e;return iX(this,void 0,void 0,function*(){let t=yield null===(e=i1(this,tk,"f").cache)||void 0===e?void 0:e.get("youtubei_oauth_credentials");if(!t)return!1;let i=JSON.parse(new TextDecoder().decode(t));return i2(this,tE,{access_token:i.access_token,refresh_token:i.refresh_token,expires:new Date(i.expires)},"f"),i1(this,tk,"f").emit("auth",{credentials:i1(this,tE,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),tR=iK(function(){return iX(this,void 0,void 0,function*(){i2(this,tI,(yield i1(this,tT,"m",tD).call(this)),"f");let e={client_id:i1(this,tI,"f").client_id,scope:nt.SCOPE,device_id:wh.shim.uuidv4(),device_model:nt.MODEL_NAME},t=yield i1(this,tk,"f").http.fetch_function(new URL("/o/oauth2/device/code",ne.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield t.json();i1(this,tk,"f").emit("auth-pending",i),i2(this,tA,i.interval,"f"),i1(this,tT,"m",tM).call(this,i.device_code)})},"_OAuth_getUserCode"),tM=iK(function(e){let t=setInterval(()=>iX(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},i1(this,tI,"f")),{code:e,grant_type:nt.GRANT_TYPE});try{let e=yield i1(this,tk,"f").http.fetch_function(new URL("/o/oauth2/token",ne.YT_BASE),{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}}),n=yield e.json();if(n.error){switch(n.error){case"access_denied":i1(this,tk,"f").emit("auth-error",new wf("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":i1(this,tk,"f").emit("auth-error",new wf("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(t),i1(this,tT,"m",tR).call(this)}return}let s=new Date(new Date().getTime()+1e3*n.expires_in);i2(this,tE,{access_token:n.access_token,refresh_token:n.refresh_token,expires:s},"f"),i1(this,tk,"f").emit("auth",{credentials:i1(this,tE,"f"),status:"SUCCESS"}),clearInterval(t)}catch(e){return clearInterval(t),i1(this,tk,"f").emit("auth-error",new wf("Could not obtain user code.",{status:"FAILED",error:e}))}}),1e3*i1(this,tA,"f"))},"_OAuth_startPolling"),tL=iK(function(){return iX(this,void 0,void 0,function*(){if(!i1(this,tE,"f"))return;i2(this,tI,(yield i1(this,tT,"m",tD).call(this)),"f");let e=Object.assign(Object.assign({},i1(this,tI,"f")),{refresh_token:i1(this,tE,"f").refresh_token,grant_type:"refresh_token"}),t=yield i1(this,tk,"f").http.fetch_function(new URL("/o/oauth2/token",ne.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield t.json(),n=new Date(new Date().getTime()+1e3*i.expires_in);i2(this,tE,{access_token:i.access_token,refresh_token:i.refresh_token||i1(this,tE,"f").refresh_token,expires:n},"f"),i1(this,tk,"f").emit("update-credentials",{credentials:i1(this,tE,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),tD=iK(function(){var e;return iX(this,void 0,void 0,function*(){let t=yield i1(this,tk,"f").http.fetch_function(new URL("/tv",ne.YT_BASE),{headers:nt.HEADERS}),i=yield t.text(),n=null===(e=nt.REGEX.AUTH_SCRIPT.exec(i))||void 0===e?void 0:e[1];if(!n)throw new wf("Could not obtain script url.",{status:"FAILED"});let s=yield i1(this,tk,"f").http.fetch(n,{baseURL:ne.YT_BASE}),a=(yield s.text()).replace(/\n/g,"").match(nt.REGEX.CLIENT_IDENTITY),o=null==a?void 0:a.groups;if(!o)throw new wf("Could not obtain client identity.",{status:"FAILED"});return o})},"_OAuth_getClientIdentity"),(s=tW||(tW={})).WEB="WEB",s.KIDS="WEB_KIDS",s.MUSIC="WEB_REMIX",s.IOS="iOS",s.ANDROID="ANDROID",s.ANDROID_MUSIC="ANDROID_MUSIC",s.ANDROID_CREATOR="ANDROID_CREATOR",s.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER";var S4=class extends yx{constructor(e,t,i,n,s,a,o,r){super(),tO.set(this,void 0),tB.set(this,void 0),tV.set(this,void 0),tU.set(this,void 0),tH.set(this,void 0),i2(this,tV,e,"f"),i2(this,tU,n,"f"),i2(this,tB,t,"f"),i2(this,tO,i,"f"),i2(this,tH,s,"f"),this.http=new yK(this,a,o),this.actions=new S3(this),this.oauth=new S6(this),this.logged_in=!!a,this.cache=r}on(e,t){super.on(e,t)}once(e,t){super.once(e,t)}static create(e={}){return iX(this,void 0,void 0,function*(){let{context:t,api_key:i,api_version:n,account_index:s}=yield S4.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new S4(t,i,n,s,!1===e.retrieve_player?void 0:yield S5.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",t="",i=0,n="",s=!1,a=!1,o="desktop",r=tW.WEB,l=Intl.DateTimeFormat().resolvedOptions().timeZone,c=wh.shim.fetch,d){return iX(this,void 0,void 0,function*(){let h;let u={lang:e,location:t,time_zone:l,device_category:o,client_name:r,enable_safety_mode:s,visitor_data:n,on_behalf_of_user:d};if(a)h=i1(this,tN,"m",tj).call(this,u);else try{h=yield i1(this,tN,"m",tF).call(this,u,c)}catch(e){h=i1(this,tN,"m",tj).call(this,u)}return Object.assign(Object.assign({},h),{account_index:i})})}signIn(e){return iX(this,void 0,void 0,function*(){return new Promise((t,i)=>iX(this,void 0,void 0,function*(){let n=iK(e=>i(e),"error_handler");this.once("auth",e=>{this.off("auth-error",n),"SUCCESS"===e.status&&(this.logged_in=!0,t()),i(e)}),this.once("auth-error",n);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,t())}catch(e){i(e)}}))})}signOut(){return iX(this,void 0,void 0,function*(){if(!this.logged_in)throw new wu("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return i1(this,tB,"f")}get api_version(){return i1(this,tO,"f")}get client_version(){return i1(this,tV,"f").client.clientVersion}get client_name(){return i1(this,tV,"f").client.clientName}get account_index(){return i1(this,tU,"f")}get context(){return i1(this,tV,"f")}get player(){return i1(this,tH,"f")}get lang(){return i1(this,tV,"f").client.hl}};iK(S4,"Session"),tN=S4,tO=new WeakMap,tB=new WeakMap,tV=new WeakMap,tU=new WeakMap,tH=new WeakMap,tF=iK(function(e,t=wh.shim.fetch){return iX(this,void 0,void 0,function*(){let i=new URL("/sw.js_data",ne.YT_BASE),n=wC(11);e.visitor_data&&(n=rM(e.visitor_data).id);let s=yield t(i,{headers:{"accept-language":e.lang||"en-US","user-agent":wx("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!s.ok)throw new wg(`Failed to retrieve session data: ${s.status}`);let a=JSON.parse((yield s.text()).replace(/^\)\]\}'/,""))[0][2],o=`v${a[0][0][6]}`,[[r],l]=a;return{context:{client:{hl:r[0],gl:e.location||r[2],remoteHost:r[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:r[13],clientName:e.client_name,clientVersion:r[16],osName:r[17],osVersion:r[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:r[79]||e.time_zone,browserName:r[86],browserVersion:r[87],originalUrl:ne.YT_BASE,deviceMake:r[11],deviceModel:r[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:l,api_version:o}})},"_Session_retrieveSessionData"),tj=iK(function(e){let t=wC(11);return e.visitor_data&&(t=rM(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:rR(t,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:ni.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:ne.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:ni.WEB.API_KEY,api_version:ni.WEB.API_VERSION}},"_Session_generateSessionData"),iY({},{Kids:()=>S8,Music:()=>Ce,Studio:()=>Ci});var S9=class{constructor(e){t$.set(this,void 0),i2(this,t$,e,"f")}search(e){return iX(this,void 0,void 0,function*(){let t=yield i1(this,t$,"f").actions.execute(_9.PATH,_9.build({client:"YTKIDS",query:e}));return new _H(i1(this,t$,"f").actions,t)})}getInfo(e){var t;return iX(this,void 0,void 0,function*(){let i=_1.build({sts:null===(t=i1(this,t$,"f").player)||void 0===t?void 0:t.sts,client:"YTKIDS",video_id:e}),n=_Q.build({video_id:e,client:"YTKIDS"}),s=i1(this,t$,"f").actions.execute(_1.PATH,i),a=i1(this,t$,"f").actions.execute(_Q.PATH,n),o=yield Promise.all([s,a]),r=wC(16);return new _j(o,i1(this,t$,"f").actions,r)})}getChannel(e){return iX(this,void 0,void 0,function*(){let t=yield i1(this,t$,"f").actions.execute(_$.PATH,_$.build({browse_id:e,client:"YTKIDS"}));return new _O(i1(this,t$,"f").actions,t)})}getHomeFeed(){return iX(this,void 0,void 0,function*(){let e=yield i1(this,t$,"f").actions.execute(_$.PATH,_$.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new _V(i1(this,t$,"f").actions,e)})}blockChannel(e){var t,i;return iX(this,void 0,void 0,function*(){if(!i1(this,t$,"f").logged_in)throw new wu("You must be signed in to perform this operation.");let n=ws.build({channel_id:e}),s={contents:(yield i1(this,t$,"f").actions.execute(ws.PATH,n)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},a=null===(t=na.parseResponse(s).contents_memo)||void 0===t?void 0:t.getType(v0);if(!a)throw new wu("Could not find any kids profiles or supervised accounts.");let o=[];for(let e of a)(null===(i=e.block_button)||void 0===i?void 0:i.is_toggled)||(e.setActions(i1(this,t$,"f").actions),o.push((yield e.blockChannel())));return o})}};iK(S9,"Kids"),t$=new WeakMap;var S8=S9,S7=class{constructor(e){tG.add(this),tK.set(this,void 0),tY.set(this,void 0),i2(this,tK,e,"f"),i2(this,tY,e.actions,"f")}getInfo(e){if(e instanceof uK)return i1(this,tG,"m",tz).call(this,e);if("string"==typeof e)return i1(this,tG,"m",tq).call(this,e);throw new wu("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,t={}){return iX(this,void 0,void 0,function*(){return wk({query:e}),new _R((yield i1(this,tY,"f").execute(_9.PATH,_9.build({query:e,client:"YTMUSIC",params:t.type&&"all"!==t.type?rN(t):void 0}))),i1(this,tY,"f"),Reflect.has(t,"type")&&"all"!==t.type)})}getHomeFeed(){return iX(this,void 0,void 0,function*(){return new _x((yield i1(this,tY,"f").execute(_$.PATH,_$.build({browse_id:"FEmusic_home",client:"YTMUSIC"}))),i1(this,tY,"f"))})}getExplore(){return iX(this,void 0,void 0,function*(){return new _b((yield i1(this,tY,"f").execute(_$.PATH,_$.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}))))})}getLibrary(){return iX(this,void 0,void 0,function*(){return new _T((yield i1(this,tY,"f").execute(_$.PATH,_$.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}))),i1(this,tY,"f"))})}getArtist(e){return iX(this,void 0,void 0,function*(){if(wk({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new wu("Invalid artist id",e);return new _y((yield i1(this,tY,"f").execute(_$.PATH,_$.build({client:"YTMUSIC",browse_id:e}))),i1(this,tY,"f"))})}getAlbum(e){return iX(this,void 0,void 0,function*(){if(wk({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new wu("Invalid album id",e);return new _v((yield i1(this,tY,"f").execute(_$.PATH,_$.build({client:"YTMUSIC",browse_id:e}))))})}getPlaylist(e){return iX(this,void 0,void 0,function*(){return wk({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`),new _k((yield i1(this,tY,"f").execute(_$.PATH,_$.build({client:"YTMUSIC",browse_id:e}))),i1(this,tY,"f"))})}getUpNext(e,t=!0){var i,n,s;return iX(this,void 0,void 0,function*(){wk({video_id:e});let a=null===(i=(yield i1(this,tY,"f").execute(_Q.PATH,Object.assign(Object.assign({},_Q.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)||void 0===i?void 0:i.getType(fP),o=null==a?void 0:a.first();if(!o)throw new wu("Could not find target tab.");let r=null===(n=o.content)||void 0===n?void 0:n.as(pu);if(!r||!r.content)throw new wu("Music queue was empty, the given id is probably invalid.",r);let l=r.content.as(pd);if(!l.playlist_id&&t){let t=l.contents.firstOfType(ae);if(!t)throw new wu("Automix item not found");let i=yield null===(s=t.playlist_video)||void 0===s?void 0:s.endpoint.call(i1(this,tY,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!i||!i.contents_memo)throw new wu("Could not fetch automix");return i.contents_memo.getType(pd).first()}return l})}getRelated(e){var t;return iX(this,void 0,void 0,function*(){wk({video_id:e});let i=null===(t=(yield i1(this,tY,"f").execute(_Q.PATH,Object.assign(Object.assign({},_Q.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)||void 0===t?void 0:t.getType(fP),n=null==i?void 0:i.matchCondition(e=>{var t,i;return(null===(i=null===(t=e.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===t?void 0:t.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!n)throw new wu("Could not find target tab.");let s=yield n.endpoint.call(i1(this,tY,"f"),{client:"YTMUSIC",parse:!0});if(!s.contents)throw new wu("Unexpected response",s);return s.contents.item().as(nH).contents.as(uq,uX)})}getLyrics(e){var t;return iX(this,void 0,void 0,function*(){wk({video_id:e});let i=null===(t=(yield i1(this,tY,"f").execute(_Q.PATH,Object.assign(Object.assign({},_Q.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)||void 0===t?void 0:t.getType(fP),n=null==i?void 0:i.matchCondition(e=>{var t,i;return(null===(i=null===(t=e.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===t?void 0:t.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!n)throw new wu("Could not find target tab.");let s=yield n.endpoint.call(i1(this,tY,"f"),{client:"YTMUSIC",parse:!0});if(!s.contents)throw new wu("Unexpected response",s);if("Message"===s.contents.item().type)throw new wu(s.contents.item().as(lC).text.toString(),e);return s.contents.item().as(nH).contents.firstOfType(uX)})}getRecap(){return iX(this,void 0,void 0,function*(){return new _A((yield i1(this,tY,"f").execute(_$.PATH,_$.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}))),i1(this,tY,"f"))})}getSearchSuggestions(e){return iX(this,void 0,void 0,function*(){let t=yield i1(this,tY,"f").execute(bL.PATH,Object.assign(Object.assign({},bL.build({input:e})),{parse:!0}));return t.contents_memo?t.contents_memo.getType(fe):[]})}};iK(S7,"Music"),tK=new WeakMap,tY=new WeakMap,tG=new WeakSet,tq=iK(function(e){var t;return iX(this,void 0,void 0,function*(){let i=_1.build({video_id:e,sts:null===(t=i1(this,tK,"f").player)||void 0===t?void 0:t.sts,client:"YTMUSIC"}),n=_Q.build({video_id:e,client:"YTMUSIC"}),s=i1(this,tY,"f").execute(_1.PATH,i),a=i1(this,tY,"f").execute(_Q.PATH,n),o=yield Promise.all([s,a]),r=wC(16);return new _D(o,i1(this,tY,"f"),r)})},"_Music_fetchInfoFromVideoId"),tz=iK(function(e){var t;return iX(this,void 0,void 0,function*(){if(!e)throw new wu("List item cannot be undefined");if(!e.endpoint)throw Error("This item does not have an endpoint.");let i=e.endpoint.call(i1(this,tY,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:null===(t=i1(this,tK,"f").player)||void 0===t?void 0:t.sts})}}),n=e.endpoint.call(i1(this,tY,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=wC(16);return new _D((yield Promise.all([i,n])),i1(this,tY,"f"),s)})},"_Music_fetchInfoFromListItem");var Ce=S7,Ct=class{constructor(e){tX.add(this),tJ.set(this,void 0),i2(this,tJ,e,"f")}setThumbnail(e,t){return iX(this,void 0,void 0,function*(){if(!i1(this,tJ,"f").logged_in)throw new wu("You must be signed in to perform this operation.");if(!e||!t)throw new wm("One or more parameters are missing.");let i=rj(e,t);return yield i1(this,tJ,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})})}updateVideoMetadata(e,t){return iX(this,void 0,void 0,function*(){if(!i1(this,tJ,"f").logged_in)throw new wu("You must be signed in to perform this operation.");let i=rF(e,t);return yield i1(this,tJ,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})})}upload(e,t={}){return iX(this,void 0,void 0,function*(){if(!i1(this,tJ,"f").logged_in)throw new wu("You must be signed in to perform this operation.");let i=yield i1(this,tX,"m",tQ).call(this),n=yield i1(this,tX,"m",tZ).call(this,i.upload_url,e);if("STATUS_SUCCESS"!==n.status)throw new wu("Could not process video.");return yield i1(this,tX,"m",t0).call(this,i,n,t)})}};iK(Ct,"Studio"),tJ=new WeakMap,tX=new WeakSet,tQ=iK(function(){return iX(this,void 0,void 0,function*(){let e=`innertube_android:${wh.shim.uuidv4()}:0:v=3,api=1,cf=3`,t={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${wh.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},i=yield i1(this,tJ,"f").http.fetch("/upload/youtubei",{baseURL:ne.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(t)});if(!i.ok)throw new wu("Could not get initial upload data");return{frontend_upload_id:e,upload_id:i.headers.get("x-guploader-uploadid"),upload_url:i.headers.get("x-goog-upload-url"),scotty_resource_id:i.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:i.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),tZ=iK(function(e,t){return iX(this,void 0,void 0,function*(){let i=yield i1(this,tJ,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:t});if(!i.ok)throw new wu("Could not upload video");return yield i.json()})},"_Studio_uploadVideo"),t0=iK(function(e,t,i){return iX(this,void 0,void 0,function*(){return yield i1(this,tJ,"f").actions.execute(we.PATH,we.build({resource_id:{scotty_resource_id:{id:t.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:i.title||new Date().toDateString()},description:{new_description:i.description||"",should_segment:!0},privacy:{new_privacy:i.privacy||"PRIVATE"},draft_state:{is_draft:i.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Ci=Ct;iY({},{AccountManager:()=>Cs,InteractionManager:()=>Cl,PlaylistManager:()=>Co});var Cn=class{constructor(e){t1.set(this,void 0),i2(this,t1,e,"f"),this.channel={editName:e=>{if(!i1(this,t1,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");return i1(this,t1,"f").execute(bl.EditNameEndpoint.PATH,bl.EditNameEndpoint.build({given_name:e}))},editDescription:e=>{if(!i1(this,t1,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");return i1(this,t1,"f").execute(bl.EditDescriptionEndpoint.PATH,bl.EditDescriptionEndpoint.build({given_description:e}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return iX(this,void 0,void 0,function*(){if(!i1(this,t1,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");return new g6((yield i1(this,t1,"f").execute(be.AccountListEndpoint.PATH,be.AccountListEndpoint.build())))})}getTimeWatched(){return iX(this,void 0,void 0,function*(){return new yO((yield i1(this,t1,"f").execute(_$.PATH,_$.build({browse_id:"SPtime_watched",client:"ANDROID"}))))})}getSettings(){return iX(this,void 0,void 0,function*(){let e=yield i1(this,t1,"f").execute(_$.PATH,_$.build({browse_id:"SPaccount_overview"}));return new yD(i1(this,t1,"f"),e)})}getAnalytics(){var e;return iX(this,void 0,void 0,function*(){let t=yield this.getInfo();return new g9((yield i1(this,t1,"f").execute(_$.PATH,_$.build({browse_id:"FEanalytics_screen",params:rL(null===(e=t.footers)||void 0===e?void 0:e.endpoint.payload.browseId),client:"ANDROID"}))))})}};iK(Cn,"AccountManager"),t1=new WeakMap;var Cs=Cn,Ca=class{constructor(e){t2.set(this,void 0),i2(this,t2,e,"f")}create(e,t){return iX(this,void 0,void 0,function*(){if(wk({title:e,video_ids:t}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let i=yield i1(this,t2,"f").execute(bW.PATH,bW.build({ids:t,title:e}));return{success:i.success,status_code:i.status_code,playlist_id:i.data.playlistId,data:i.data}})}delete(e){return iX(this,void 0,void 0,function*(){if(wk({playlist_id:e}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let t=yield i1(this,t2,"f").execute(bK.PATH,bK.build({playlist_id:e}));return{playlist_id:e,success:t.success,status_code:t.status_code,data:t.data}})}addVideos(e,t){return iX(this,void 0,void 0,function*(){if(wk({playlist_id:e,video_ids:t}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let i=yield i1(this,t2,"f").execute(ba.PATH,ba.build({actions:t.map(e=>({action:"ACTION_ADD_VIDEO",added_video_id:e})),playlist_id:e}));return{playlist_id:e,action_result:i.data.actions}})}removeVideos(e,t){return iX(this,void 0,void 0,function*(){if(wk({playlist_id:e,video_ids:t}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let i=yield i1(this,t2,"f").execute(_$.PATH,Object.assign(Object.assign({},_$.build({browse_id:`VL${e}`})),{parse:!0})),n=new yy(i1(this,t2,"f"),i,!0);if(!n.info.is_editable)throw new wu("This playlist cannot be edited.",e);let s={playlist_id:e,actions:[]},a=iK(e=>iX(this,void 0,void 0,function*(){if(e.videos.filter(e=>t.includes(e.key("id").string())).forEach(e=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:e.key("set_video_id").string()})),s.actions.length<t.length)return a((yield e.getContinuation()))}),"getSetVideoIds");if(yield a(n),!s.actions.length)throw new wu("Given video ids were not found in this playlist.",t);return{playlist_id:e,action_result:(yield i1(this,t2,"f").execute(ba.PATH,ba.build(s))).data.actions}})}moveVideo(e,t,i){return iX(this,void 0,void 0,function*(){let n,s;if(wk({playlist_id:e,moved_video_id:t,predecessor_video_id:i}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let a=yield i1(this,t2,"f").execute(_$.PATH,Object.assign(Object.assign({},_$.build({browse_id:`VL${e}`})),{parse:!0})),o=new yy(i1(this,t2,"f"),a,!0);if(!o.info.is_editable)throw new wu("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},l=iK(e=>iX(this,void 0,void 0,function*(){let a=e.videos.find(e=>t===e.key("id").string()),o=e.videos.find(e=>i===e.key("id").string());if(n=n||(null==a?void 0:a.key("set_video_id").string()),s=s||(null==o?void 0:o.key("set_video_id").string()),!n||!s)return l((yield e.getContinuation()))}),"getSetVideoIds");return yield l(o),r.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:n,moved_set_video_id_predecessor:s}),{playlist_id:e,action_result:(yield i1(this,t2,"f").execute(ba.PATH,ba.build(r))).data.actions}})}setName(e,t){return iX(this,void 0,void 0,function*(){if(wk({playlist_id:e,name:t}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let i={playlist_id:e,actions:[]};return i.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:t}),{playlist_id:e,action_result:(yield i1(this,t2,"f").execute(ba.PATH,ba.build(i))).data.actions}})}setDescription(e,t){return iX(this,void 0,void 0,function*(){if(wk({playlist_id:e,description:t}),!i1(this,t2,"f").session.logged_in)throw new wu("You must be signed in to perform this operation.");let i={playlist_id:e,actions:[]};return i.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:t}),{playlist_id:e,action_result:(yield i1(this,t2,"f").execute(ba.PATH,ba.build(i))).data.actions}})}};iK(Ca,"PlaylistManager"),t2=new WeakMap;var Co=Ca,Cr=class{constructor(e){t3.set(this,void 0),i2(this,t3,e,"f")}like(e){return iX(this,void 0,void 0,function*(){if(wk({video_id:e}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield i1(this,t3,"f").execute(bS.PATH,bS.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return iX(this,void 0,void 0,function*(){if(wk({video_id:e}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield i1(this,t3,"f").execute(bI.PATH,bI.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return iX(this,void 0,void 0,function*(){if(wk({video_id:e}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield i1(this,t3,"f").execute(bA.PATH,bA.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return iX(this,void 0,void 0,function*(){if(wk({channel_id:e}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield i1(this,t3,"f").execute(bX.PATH,bX.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return iX(this,void 0,void 0,function*(){if(wk({channel_id:e}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield i1(this,t3,"f").execute(bZ.PATH,bZ.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,t){return iX(this,void 0,void 0,function*(){if(wk({video_id:e,text:t}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield i1(this,t3,"f").execute(b_.PATH,b_.build({comment_text:t,create_comment_params:rV(e),client:"ANDROID"}))})}translate(e,t,i={}){return iX(this,void 0,void 0,function*(){wk({text:e,target_language:t});let n=rU(22,Object.assign({text:e,target_language:t},i)),s=yield i1(this,t3,"f").execute(bv.PATH,bv.build({client:"ANDROID",actions:[n]})),a=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:a.translatedContent.content,data:s.data}})}setNotificationPreferences(e,t){return iX(this,void 0,void 0,function*(){if(wk({channel_id:e,type:t}),!i1(this,t3,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");let i={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(i).includes(t.toUpperCase()))throw Error(`Invalid notification preference type: ${t}`);return yield i1(this,t3,"f").execute(bU.PATH,bU.build({client:"WEB",params:rH(e,i[t.toUpperCase()])}))})}};iK(Cr,"InteractionManager"),t3=new WeakMap;var Cl=Cr,Cc=class{constructor(e){t5.set(this,void 0),i2(this,t5,e,"f")}static create(e={}){return iX(this,void 0,void 0,function*(){return new Cc((yield S4.create(e)))})}getInfo(e,t){var i,n,s,a,o;return iX(this,void 0,void 0,function*(){let r;if(wk({target:e}),e instanceof nm)r=_Q.build({video_id:null===(i=e.payload)||void 0===i?void 0:i.videoId,playlist_id:null===(n=e.payload)||void 0===n?void 0:n.playlistId,params:null===(s=e.payload)||void 0===s?void 0:s.params,playlist_index:null===(a=e.payload)||void 0===a?void 0:a.index});else if("string"==typeof e)r=_Q.build({video_id:e});else throw new wu("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!r.videoId)throw new wu("Video id cannot be empty",r);let l=_1.build({video_id:r.videoId,playlist_id:null==r?void 0:r.playlistId,client:t,sts:null===(o=i1(this,t5,"f").player)||void 0===o?void 0:o.sts}),c=this.actions.execute(_1.PATH,l),d=this.actions.execute(_Q.PATH,r),h=yield Promise.all([c,d]),u=wC(16);return new _m(h,this.actions,u)})}getBasicInfo(e,t){var i;return iX(this,void 0,void 0,function*(){wk({video_id:e});let n=yield this.actions.execute(_1.PATH,_1.build({video_id:e,client:t,sts:null===(i=i1(this,t5,"f").player)||void 0===i?void 0:i.sts})),s=wC(16);return new _m([n],this.actions,s)})}getShortsWatchItem(e,t){return iX(this,void 0,void 0,function*(){wk({short_id:e});let i=this.actions.execute(b2.WatchEndpoint.PATH,b2.WatchEndpoint.build({short_id:e,client:t})),n=this.actions.execute(b2.WatchSequenceEndpoint.PATH,b2.WatchSequenceEndpoint.build({sequenceParams:r$(e)}));return new wl((yield Promise.all([i,n])),this.actions)})}search(e,t={}){return iX(this,void 0,void 0,function*(){wk({query:e});let i=yield this.actions.execute(_9.PATH,_9.build({query:e,params:t?rD(t):void 0}));return new yM(this.actions,i)})}getSearchSuggestions(e){return iX(this,void 0,void 0,function*(){wk({query:e});let t=new URL(`${ne.YT_SUGGESTIONS}search`);t.searchParams.set("q",e),t.searchParams.set("hl",i1(this,t5,"f").context.client.hl),t.searchParams.set("gl",i1(this,t5,"f").context.client.gl),t.searchParams.set("ds","yt"),t.searchParams.set("client","youtube"),t.searchParams.set("xssi","t"),t.searchParams.set("oe","UTF");let i=yield i1(this,t5,"f").http.fetch(t);return JSON.parse((yield i.text()).replace(")]}'",""))[1].map(e=>e[0])})}getComments(e,t){return iX(this,void 0,void 0,function*(){wk({video_id:e});let i=yield this.actions.execute(_Q.PATH,_Q.build({continuation:rB(e,{sort_by:t||"TOP_COMMENTS"})}));return new yl(this.actions,i.data)})}getHomeFeed(){return iX(this,void 0,void 0,function*(){let e=yield this.actions.execute(_$.PATH,_$.build({browse_id:"FEwhat_to_watch"}));return new yp(this.actions,e)})}getGuide(){return iX(this,void 0,void 0,function*(){return new yd((yield this.actions.execute(_X.PATH)).data)})}getLibrary(){return iX(this,void 0,void 0,function*(){let e=yield this.actions.execute(_$.PATH,_$.build({browse_id:"FElibrary"}));return new yb(this.actions,e)})}getHistory(){return iX(this,void 0,void 0,function*(){let e=yield this.actions.execute(_$.PATH,_$.build({browse_id:"FEhistory"}));return new yu(this.actions,e)})}getTrending(){return iX(this,void 0,void 0,function*(){let e=yield this.actions.execute(_$.PATH,Object.assign(Object.assign({},_$.build({browse_id:"FEtrending"})),{parse:!0}));return new yt(this.actions,e)})}getSubscriptionsFeed(){return iX(this,void 0,void 0,function*(){let e=yield this.actions.execute(_$.PATH,Object.assign(Object.assign({},_$.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new g7(this.actions,e)})}getChannel(e){return iX(this,void 0,void 0,function*(){wk({id:e});let t=yield this.actions.execute(_$.PATH,_$.build({browse_id:e}));return new ys(this.actions,t)})}getNotifications(){return iX(this,void 0,void 0,function*(){let e=yield this.actions.execute(_Y.PATH,_Y.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new yP(this.actions,e)})}getUnseenNotificationsCount(){var e,t,i,n;return iX(this,void 0,void 0,function*(){let s=yield this.actions.execute(bB.PATH);return(null===(e=s.data)||void 0===e?void 0:e.unseenCount)||(null===(n=null===(i=null===(t=s.data)||void 0===t?void 0:t.actions)||void 0===i?void 0:i[0].updateNotificationsUnseenCountAction)||void 0===n?void 0:n.unseenCount)||0})}getPlaylist(e){return iX(this,void 0,void 0,function*(){wk({id:e}),e.startsWith("VL")||(e=`VL${e}`);let t=yield this.actions.execute(_$.PATH,_$.build({browse_id:e}));return new yy(this.actions,t)})}getHashtag(e){return iX(this,void 0,void 0,function*(){wk({hashtag:e});let t=yield this.actions.execute(_$.PATH,_$.build({browse_id:"FEhashtag",params:rW(e)}));return new ym(this.actions,t)})}getStreamingData(e,t={}){return iX(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(t)})}download(e,t){return iX(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,null==t?void 0:t.client)).download(t)})}resolveURL(e){return iX(this,void 0,void 0,function*(){return(yield this.actions.execute(_5.PATH,Object.assign(Object.assign({},_5.build({url:e})),{parse:!0}))).endpoint})}call(e,t){return e.call(this.actions,t)}get music(){return new Ce(i1(this,t5,"f"))}get studio(){return new Ci(i1(this,t5,"f"))}get kids(){return new S8(i1(this,t5,"f"))}get account(){return new Cs(i1(this,t5,"f").actions)}get playlist(){return new Co(i1(this,t5,"f").actions)}get interact(){return new Cl(i1(this,t5,"f").actions)}get actions(){return i1(this,t5,"f").actions}get session(){return i1(this,t5,"f")}};iK(Cc,"Innertube"),t5=new WeakMap;var Cd=class{constructor(e=!1,t){t6.add(this),t4.set(this,void 0),t9.set(this,void 0),i2(this,t4,t||"","f"),i2(this,t9,e,"f")}get cache_dir(){return i1(this,t9,"f")?i1(this,t4,"f"):""}get(e){return iX(this,void 0,void 0,function*(){let t=yield i1(this,t6,"m",t8).call(this);if(t)return new Promise((i,n)=>{let s=t.transaction("kv-store","readonly").objectStore("kv-store").get(e);s.onerror=n,s.onsuccess=function(){var e;let t=null===(e=this.result)||void 0===e?void 0:e.v;i(t?t.buffer:void 0)}})})}set(e,t){return iX(this,void 0,void 0,function*(){let i=yield i1(this,t6,"m",t8).call(this);if(i)return new Promise((n,s)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:t});a.onerror=s,a.onsuccess=()=>n()})})}remove(e){return iX(this,void 0,void 0,function*(){let t=yield i1(this,t6,"m",t8).call(this);if(t)return new Promise((i,n)=>{let s=t.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);s.onerror=n,s.onsuccess=()=>i()})})}};iK(Cd,"Cache"),t4=new WeakMap,t9=new WeakMap,t6=new WeakSet,t8=iK(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((t,i)=>{let n=e.open("youtubei.js",1);n.onsuccess=function(){t(this.result)},n.onerror=function(e){i("indexedDB request error"),console.error(e)},n.onupgradeneeded=function(){this.result.createObjectStore("kv-store",{keyPath:"k"}).transaction.oncomplete=function(){t(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB"),wh.load({runtime:"browser",server:!1,info:{version:wN.version,bugs_url:wN.bugs.url,repo_url:wN.homepage.split("#")[0]},Cache:Cd,sha1Hash:wD,uuidv4(){var e;return(null===(e=globalThis.crypto)||void 0===e?void 0:e.randomUUID())?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let t=parseInt(e);return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},eval:S2,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});let Ch=async()=>(e||(e=await Cc.create({fetch:application.networkRequest,cookie:"CONSENT=YES+"})),e),Cu=async()=>{let e=await Ch();return{videos:{items:(await e.getHomeFeed()).videos.filter(e=>"thumbnails"in e&&"author"in e).map(e=>({apiId:e.id,title:e.title.toString(),duration:e.duration.seconds,channelName:e.author.name,channelApiId:e.id,images:e.thumbnails}))}}},Cp=async e=>{let t=await Ch(),i=await t.actions.execute(_W.BrowseEndpoint.PATH,{..._W.BrowseEndpoint.build({browse_id:"FEchannels"}),parse:!0});return console.log(new yB.Feed(t.actions,i).channels),{items:[]}},Cm=async e=>{let t=await Ch(),i=await t.account.getInfo(),n=i.footers?.endpoint.payload.browseId,s=await t.getChannel(n);return s.has_playlists?{items:(await s.getPlaylists()).playlists.map(e=>({name:e.title.toString(),apiId:e.id,images:e.thumbnails}))}:{items:[]}},Cf=e=>{application.postUiMessage(e)},Cv=async()=>{let e=io.getItem("usePlayer");return!e||"true"===e},Cg=async()=>{let e=document.location.host.split(".");e.shift();let t=e.join("."),i=`${document.location.protocol}//${t}`,n=await application.getPluginId(),s=await application.getLocale(),a=await application.getPlaylistsInfo(),o=io.getItem("apiKey")??"",r=io.getItem("clientId")??"";Cf({type:"info",origin:i,pluginId:n,apiKey:o,clientId:r,clientSecret:io.getItem("clientSecret")??"",usePlayer:await Cv(),instance:await iu(),locale:s,playlists:a})},Cy=async e=>{let t=new URL(e).searchParams.get("list");if(t){let e=await CC({apiId:t,isUserPlaylist:!1});return{...e.playlist,videos:e.items}}throw Error("Couldn't retreive playlist")},C_=async e=>{let t=[];e.forEach(e=>{try{let i=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu.be)\/(?:watch\?v=|embed\/|v\/)?([a-zA-Z0-9_-]+)(?:\S+)?$/);i&&t.push(i[1])}catch{}});let i=t.length,n=0,s=50,a=[];for(;n<i;){let e=t.slice(n,s),i=await ij(e);a.push(...i),n+=50,s+=50}return a};async function Cb(e){return iy(e)}async function Cw(e){return ib(e)}async function Cx(e){return iw(e)}async function CS(e){return i_(e)}async function CC(e){return e.isUserPlaylist?iW(e):iS(e)}async function CT(){let e=await application.isNetworkRequestCorsDisabled();console.log("disabled:",e);try{if(e)return await Cu();return await iF()}catch(e){return console.log(e),await ig()}}async function CI(e){return await Cv()?im(e.apiId):iI(e.apiId)}async function Ck(e){return iC(e)}async function CE(e){return iC({apiId:e.videoApiId,pageInfo:e.pageInfo})}async function CA(e){let t=Cb(e),i=CS(e),n=Cw(e),[s,a,o]=await Promise.all([t,i,n]);return{videos:s,playlists:a,channels:o}}async function CP(e,t){if(!/^.*(youtu.be\/|list=)([^#\&\?]*).*/.test(e)&&!/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu.be)\/(?:watch\?v=|embed\/|v\/)?([a-zA-Z0-9_-]+)(?:\S+)?$/.test(e))return!1;switch(t){case"playlist":return new URL(e).searchParams.has("list");case"video":return!0;default:return!1}}async function CR(e){return ix(e)}application.onUiMessage=async e=>{switch(e.type){case"check-login":let t=io.getItem("access_token");t&&Cf({type:"login",accessToken:t}),await Cg();break;case"login":iB(e.accessToken,e.refreshToken),application.onGetUserPlaylists=i$;break;case"logout":io.removeItem("access_token"),io.removeItem("refresh_token"),application.onGetUserPlaylists=void 0;break;case"set-keys":io.setItem("apiKey",e.apiKey),io.setItem("clientId",e.clientId),io.setItem("clientSecret",e.clientSecret),application.createNotification({message:"Api Keys saved!"});break;case"useplayer":io.setItem("usePlayer",String(e.usePlayer));break;case"endvideo":application.endVideo();break;case"getinstnace":Cf({type:"sendinstance",instance:await ih()});break;case"resolve-urls":let i=await C_(e.videoUrls.split("\n"));await application.addVideosToPlaylist(e.playlistId,i),application.createNotification({message:"Success!"})}};let CM=async()=>{application.onGetUserChannels=Cp,application.onGetUserPlaylists=Cm},CL=async()=>{application.onGetUserChannels=void 0,application.onGetUserPlaylists=void 0};application.onSearchAll=CA,application.onSearchVideos=Cb,application.onSearchPlaylists=CS,application.onSearchChannels=Cw,application.onGetChannelVideos=Cx,application.onGetPlaylistVideos=CC,application.onGetVideoComments=Ck,application.onGetCommentReplies=CE,application.onGetTopItems=CT,application.onUsePlayer=Cv,application.onGetVideo=CI,application.onLookupPlaylistUrl=Cy,application.onLookupVideoUrls=C_,application.onCanParseUrl=CP,application.onGetSearchSuggestions=CR,application.onPostLogin=CM,application.onPostLogout=CL,(async()=>{io.getItem("access_token")&&(application.onGetUserPlaylists=i$),await id(),await application.isLoggedIn()&&CM()})()})();