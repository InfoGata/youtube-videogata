class Bi extends Error{response;request;options;constructor(e,n,i){const s=e.status||e.status===0?e.status:"",o=e.statusText??"",r=`${s} ${o}`.trim(),a=r?`status code ${r}`:"an unknown error";super(`Request failed with ${a}: ${n.method} ${n.url}`),this.name="HTTPError",this.response=e,this.request=n,this.options=i}}class nc extends Error{name="NonError";value;constructor(e){let n="Non-error value was thrown";try{typeof e=="string"?n=e:e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"&&(n=e.message)}catch{}super(n),this.value=e}}class vi extends Error{name="ForceRetryError";customDelay;code;customRequest;constructor(e){const n=e?.cause?e.cause instanceof Error?e.cause:new nc(e.cause):void 0;super(e?.code?`Forced retry: ${e.code}`:"Forced retry",n?{cause:n}:void 0),this.customDelay=e?.delay,this.code=e?.code,this.customRequest=e?.request}}const nr=(()=>{let t=!1,e=!1;const n=typeof globalThis.ReadableStream=="function",i=typeof globalThis.Request=="function";if(n&&i)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")}catch(s){if(s instanceof Error&&s.message==="unsupported BodyInit type")return!1;throw s}return t&&!e})(),Nf=typeof globalThis.AbortController=="function",ic=typeof globalThis.AbortSignal=="function"&&typeof globalThis.AbortSignal.any=="function",Of=typeof globalThis.ReadableStream=="function",Vf=typeof globalThis.FormData=="function",sc=["get","post","put","patch","head","delete"],Uf={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*",bytes:"*/*"},xi=2147483647,Ff=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,oc=Symbol("stop");class rc{options;constructor(e){this.options=e}}const qf=t=>new rc(t),Hf={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0,context:!0},jf={next:!0},$f={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,duplex:!0},Wf=t=>{if(!t)return 0;if(t instanceof FormData){let e=0;for(const[n,i]of t)e+=Ff,e+=new TextEncoder().encode(`Content-Disposition: form-data; name="${n}"`).length,e+=typeof i=="string"?new TextEncoder().encode(i).length:i.size;return e}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength;if(typeof t=="string")return new TextEncoder().encode(t).length;if(t instanceof URLSearchParams)return new TextEncoder().encode(t.toString()).length;if("byteLength"in t)return t.byteLength;if(typeof t=="object"&&t!==null)try{const e=JSON.stringify(t);return new TextEncoder().encode(e).length}catch{return 0}return 0},ac=(t,e,n)=>{let i,s=0;return t.pipeThrough(new TransformStream({transform(o,r){if(r.enqueue(o),i){s+=i.byteLength;let a=e===0?0:s/e;a>=1&&(a=1-Number.EPSILON),n?.({percent:a,totalBytes:Math.max(e,s),transferredBytes:s},i)}i=o},flush(){i&&(s+=i.byteLength,n?.({percent:1,totalBytes:Math.max(e,s),transferredBytes:s},i))}}))},Yf=(t,e)=>{if(!t.body)return t;if(t.status===204)return new Response(null,{status:t.status,statusText:t.statusText,headers:t.headers});const n=Math.max(0,Number(t.headers.get("content-length"))||0);return new Response(ac(t.body,n,e),{status:t.status,statusText:t.statusText,headers:t.headers})},Kf=(t,e,n)=>{if(!t.body)return t;const i=Wf(n??t.body);return new Request(t,{duplex:"half",body:ac(t.body,i,e)})},at=t=>t!==null&&typeof t=="object",_n=(...t)=>{for(const e of t)if((!at(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return os({},...t)},cc=(t={},e={})=>{const n=new globalThis.Headers(t),i=e instanceof globalThis.Headers,s=new globalThis.Headers(e);for(const[o,r]of s.entries())i&&r==="undefined"||r===void 0?n.delete(o):n.set(o,r);return n};function bn(t,e,n){return Object.hasOwn(e,n)&&e[n]===void 0?[]:os(t[n]??[],e[n]??[])}const uc=(t={},e={})=>({beforeRequest:bn(t,e,"beforeRequest"),beforeRetry:bn(t,e,"beforeRetry"),afterResponse:bn(t,e,"afterResponse"),beforeError:bn(t,e,"beforeError")}),zf=(t,e)=>{const n=new URLSearchParams;for(const i of[t,e])if(i!==void 0)if(i instanceof URLSearchParams)for(const[s,o]of i.entries())n.append(s,o);else if(Array.isArray(i))for(const s of i){if(!Array.isArray(s)||s.length!==2)throw new TypeError("Array search parameters must be provided in [[key, value], ...] format");n.append(String(s[0]),String(s[1]))}else if(at(i))for(const[s,o]of Object.entries(i))o!==void 0&&n.append(s,String(o));else{const s=new URLSearchParams(i);for(const[o,r]of s.entries())n.append(o,r)}return n},os=(...t)=>{let e={},n={},i={},s;const o=[];for(const r of t)if(Array.isArray(r))Array.isArray(e)||(e=[]),e=[...e,...r];else if(at(r)){for(let[a,l]of Object.entries(r)){if(a==="signal"&&l instanceof globalThis.AbortSignal){o.push(l);continue}if(a==="context"){if(l!=null&&(!at(l)||Array.isArray(l)))throw new TypeError("The `context` option must be an object");e={...e,context:l==null?{}:{...e.context,...l}};continue}if(a==="searchParams"){l==null?s=void 0:s=s===void 0?l:zf(s,l);continue}at(l)&&a in e&&(l=os(e[a],l)),e={...e,[a]:l}}at(r.hooks)&&(i=uc(i,r.hooks),e.hooks=i),at(r.headers)&&(n=cc(n,r.headers),e.headers=n)}return s!==void 0&&(e.searchParams=s),o.length>0&&(o.length===1?e.signal=o[0]:ic?e.signal=AbortSignal.any(o):e.signal=o.at(-1)),e.context===void 0&&(e.context={}),e},Gf=t=>sc.includes(t)?t.toUpperCase():t,Jf=["get","put","head","delete","options","trace"],Xf=[408,413,429,500,502,503,504],Qf=[413,429,503],ir={limit:2,methods:Jf,statusCodes:Xf,afterStatusCodes:Qf,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:t=>.3*2**(t-1)*1e3,jitter:void 0,retryOnTimeout:!1},Zf=(t={})=>{if(typeof t=="number")return{...ir,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...ir,...t}};class Li extends Error{request;constructor(e){super(`Request timed out: ${e.method} ${e.url}`),this.name="TimeoutError",this.request=e}}async function ep(t,e,n,i){return new Promise((s,o)=>{const r=setTimeout(()=>{n&&n.abort(),o(new Li(t))},i.timeout);i.fetch(t,e).then(s).catch(o).then(()=>{clearTimeout(r)})})}async function tp(t,{signal:e}){return new Promise((n,i)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",s,{once:!0}));function s(){clearTimeout(o),i(e.reason)}const o=setTimeout(()=>{e?.removeEventListener("abort",s),n()},t)})}const np=(t,e)=>{const n={};for(const i in e)Object.hasOwn(e,i)&&!(i in $f)&&!(i in Hf)&&(!(i in t)||i in jf)&&(n[i]=e[i]);return n},ip=t=>t===void 0?!1:Array.isArray(t)?t.length>0:t instanceof URLSearchParams?t.size>0:typeof t=="object"?Object.keys(t).length>0:typeof t=="string"?t.trim().length>0:!!t;function sp(t){return t instanceof Bi||t?.name===Bi.name}function op(t){return t instanceof Li||t?.name===Li.name}class Yt{static create(e,n){const i=new Yt(e,n),s=async()=>{if(typeof i.#i.timeout=="number"&&i.#i.timeout>xi)throw new RangeError(`The \`timeout\` option cannot be greater than ${xi}`);await Promise.resolve();let r=await i.#m();for(const a of i.#i.hooks.afterResponse){const l=i.#h(r.clone()),f=await a(i.request,i.#l(),l,{retryCount:i.#n});if(f instanceof globalThis.Response&&(r=f),f instanceof rc)throw await Promise.all([l.body?.cancel(),r.body?.cancel()]),new vi(f.options)}if(i.#h(r),!r.ok&&(typeof i.#i.throwHttpErrors=="function"?i.#i.throwHttpErrors(r.status):i.#i.throwHttpErrors)){let a=new Bi(r,i.request,i.#l());for(const l of i.#i.hooks.beforeError)a=await l(a,{retryCount:i.#n});throw a}if(i.#i.onDownloadProgress){if(typeof i.#i.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Of)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return Yf(r.clone(),i.#i.onDownloadProgress)}return r},o=i.#f(s).finally(async()=>{const r=i.#o,a=[];r&&!r.bodyUsed&&a.push(r.body?.cancel()),i.request.bodyUsed||a.push(i.request.body?.cancel()),await Promise.all(a)});for(const[r,a]of Object.entries(Uf))r==="bytes"&&typeof globalThis.Response?.prototype?.bytes!="function"||(o[r]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||a);const l=await o;if(r==="json"){if(l.status===204)return"";const f=await l.text();return f===""?"":n.parseJson?n.parseJson(f):JSON.parse(f)}return l[r]()});return o}static#e(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof URLSearchParams)?Object.fromEntries(Object.entries(e).filter(([,n])=>n!==void 0)):e}request;#t;#n=0;#s;#i;#o;#r;#a;constructor(e,n={}){if(this.#s=e,this.#i={...n,headers:cc(this.#s.headers,n.headers),hooks:uc({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},n.hooks),method:Gf(n.method??this.#s.method??"GET"),prefixUrl:String(n.prefixUrl||""),retry:Zf(n.retry),throwHttpErrors:n.throwHttpErrors??!0,timeout:n.timeout??1e4,fetch:n.fetch??globalThis.fetch.bind(globalThis),context:n.context??{}},typeof this.#s!="string"&&!(this.#s instanceof URL||this.#s instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this.#i.prefixUrl&&typeof this.#s=="string"){if(this.#s.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this.#i.prefixUrl.endsWith("/")||(this.#i.prefixUrl+="/"),this.#s=this.#i.prefixUrl+this.#s}Nf&&ic&&(this.#r=this.#i.signal??this.#s.signal,this.#t=new globalThis.AbortController,this.#i.signal=this.#r?AbortSignal.any([this.#r,this.#t.signal]):this.#t.signal),nr&&(this.#i.duplex="half"),this.#i.json!==void 0&&(this.#i.body=this.#i.stringifyJson?.(this.#i.json)??JSON.stringify(this.#i.json),this.#i.headers.set("content-type",this.#i.headers.get("content-type")??"application/json"));const i=n.headers&&new globalThis.Headers(n.headers).has("content-type");if(this.#s instanceof globalThis.Request&&(Vf&&this.#i.body instanceof globalThis.FormData||this.#i.body instanceof URLSearchParams)&&!i&&this.#i.headers.delete("content-type"),this.request=new globalThis.Request(this.#s,this.#i),ip(this.#i.searchParams)){const o="?"+(typeof this.#i.searchParams=="string"?this.#i.searchParams.replace(/^\?/,""):new URLSearchParams(Yt.#e(this.#i.searchParams)).toString()),r=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,o);this.request=new globalThis.Request(r,this.#i)}if(this.#i.onUploadProgress){if(typeof this.#i.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!nr)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request=this.#p(this.request,this.#i.body??void 0)}}#u(){const e=this.#i.retry.delay(this.#n);let n=e;return this.#i.retry.jitter===!0?n=Math.random()*e:typeof this.#i.retry.jitter=="function"&&(n=this.#i.retry.jitter(e),(!Number.isFinite(n)||n<0)&&(n=e)),Math.min(this.#i.retry.backoffLimit,n)}async#c(e){if(this.#n++,this.#n>this.#i.retry.limit)throw e;const n=e instanceof Error?e:new nc(e);if(n instanceof vi)return n.customDelay??this.#u();if(!this.#i.retry.methods.includes(this.request.method.toLowerCase()))throw e;if(this.#i.retry.shouldRetry!==void 0){const i=await this.#i.retry.shouldRetry({error:n,retryCount:this.#n});if(i===!1)throw e;if(i===!0)return this.#u()}if(op(e)&&!this.#i.retry.retryOnTimeout)throw e;if(sp(e)){if(!this.#i.retry.statusCodes.includes(e.response.status))throw e;const i=e.response.headers.get("Retry-After")??e.response.headers.get("RateLimit-Reset")??e.response.headers.get("X-RateLimit-Retry-After")??e.response.headers.get("X-RateLimit-Reset")??e.response.headers.get("X-Rate-Limit-Reset");if(i&&this.#i.retry.afterStatusCodes.includes(e.response.status)){let s=Number(i)*1e3;Number.isNaN(s)?s=Date.parse(i)-Date.now():s>=Date.parse("2024-01-01")&&(s-=Date.now());const o=this.#i.retry.maxRetryAfter??s;return s<o?s:o}if(e.response.status===413)throw e}return this.#u()}#h(e){return this.#i.parseJson&&(e.json=async()=>this.#i.parseJson(await e.text())),e}async#f(e){try{return await e()}catch(n){const i=Math.min(await this.#c(n),xi);if(this.#n<1)throw n;if(await tp(i,this.#r?{signal:this.#r}:{}),n instanceof vi&&n.customRequest){const s=this.#i.signal?new globalThis.Request(n.customRequest,{signal:this.#i.signal}):new globalThis.Request(n.customRequest);this.#d(s)}for(const s of this.#i.hooks.beforeRetry){const o=await s({request:this.request,options:this.#l(),error:n,retryCount:this.#n});if(o instanceof globalThis.Request){this.#d(o);break}if(o instanceof globalThis.Response)return o;if(o===oc)return}return this.#f(e)}}async#m(){this.#t?.signal.aborted&&(this.#t=new globalThis.AbortController,this.#i.signal=this.#r?AbortSignal.any([this.#r,this.#t.signal]):this.#t.signal,this.request=new globalThis.Request(this.request,{signal:this.#i.signal}));for(const n of this.#i.hooks.beforeRequest){const i=await n(this.request,this.#l(),{retryCount:this.#n});if(i instanceof Response)return i;if(i instanceof globalThis.Request){this.#d(i);break}}const e=np(this.request,this.#i);return this.#o=this.request,this.request=this.#o.clone(),this.#i.timeout===!1?this.#i.fetch(this.#o,e):ep(this.#o,e,this.#t,this.#i)}#l(){if(!this.#a){const{hooks:e,...n}=this.#i;this.#a=Object.freeze(n)}return this.#a}#d(e){this.#a=void 0,this.request=this.#p(e)}#p(e,n){return!this.#i.onUploadProgress||!e.body?e:Kf(e,this.#i.onUploadProgress,n??this.#i.body??void 0)}}/*! MIT License Â© Sindre Sorhus */const Ni=t=>{const e=(n,i)=>Yt.create(n,_n(t,i));for(const n of sc)e[n]=(i,s)=>Yt.create(i,_n(t,s,{method:n}));return e.create=n=>Ni(_n(n)),e.extend=n=>(typeof n=="function"&&(n=n(t??{})),Ni(_n(t,n))),e.stop=oc,e.retry=qf,e},Qt=Ni(),rp="https://oauth2.googleapis.com/token",se={get length(){try{return localStorage.length}catch{return 0}},clear:function(){try{localStorage.clear()}catch{}},getItem:function(t){try{return localStorage.getItem(t)}catch{return null}},removeItem:function(t){try{localStorage.removeItem(t)}catch{}},setItem:function(t,e){try{localStorage.setItem(t,e)}catch{}},key:function(t){try{return localStorage.key(t)}catch{return null}}},ap=t=>`https://www.youtube.com/watch?v=${t}`,cp=t=>`https://www.youtube.com/playlist?list=${t}`;function up(t){const e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n)}function lp(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer}const dp="sabrData",ut="\\d+(?:[\\.,]\\d+)?",hp=`(${ut}W)`,fp=`(${ut}Y)?(${ut}M)?(${ut}D)?`,pp=`T(${ut}H)?(${ut}M)?(${ut}S)?`,mp=`P(?:${hp}|${fp}(?:${pp})?)`,_p=["weeks","years","months","days","hours","minutes","seconds"],lc=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0}),bp=new RegExp(mp),gp=t=>t.match(bp).slice(1).reduce((e,n,i)=>(e[_p[i]]=parseFloat(n)||0,e),{}),yp=(t,e)=>{t=Object.assign({},lc,t);const n=e?e.getTime():Date.now(),i=new Date(n);return i.setFullYear(i.getFullYear()+t.years),i.setMonth(i.getMonth()+t.months),i.setDate(i.getDate()+t.days),i.setHours(i.getHours()+t.hours),i.setMinutes(i.getMinutes()+t.minutes),i.setMilliseconds(i.getMilliseconds()+t.seconds*1e3),i.setDate(i.getDate()+t.weeks*7),i},wp=(t,e)=>{t=Object.assign({},lc,t);const n=e?e.getTime():Date.now(),i=new Date(n);return(yp(t,i).getTime()-i.getTime())/1e3},dc="AIzaSyCCwk2lWH7eyv_48Jimp3hBFhR7CFZkWhM",rs=Qt.create({hooks:{beforeRequest:[t=>{const e=se.getItem("access_token");e&&t.headers.set("Authorization",`Bearer ${e}`)}],afterResponse:[async(t,e,n)=>{if(n.status===401){const i=await kp();return t.headers.set("Authorization",`Bearer ${i}`),rs(t,e)}}]}}),hc=(t,e)=>{se.setItem("access_token",t),e&&se.setItem("refresh_token",e)},kp=async()=>{const t=se.getItem("refresh_token");if(!t)return;const e=se.getItem("clientId"),n=se.getItem("clientSecret"),i=rp,s=new URLSearchParams;s.append("refresh_token",t),s.append("grant_type","refresh_token"),e&&n&&(s.append("client_id",e),s.append("client_secret",n));const o=await Qt.post(i,{body:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).json();if(o.access_token)return hc(o.access_token),o.access_token},Jn=()=>se.getItem("apiKey");function Tp(t){return(t.items||[]).map(n=>({apiId:n.id,name:n.snippet?.title||"",images:[{width:n.snippet?.thumbnails?.default?.width||0,url:n.snippet?.thumbnails?.default?.url||"",height:n.snippet?.thumbnails?.default?.height||0}],isUserPlaylist:!0,originalUrl:cp(n.id||"")}))}function fc(t){return(t.items||[]).map(n=>({apiId:n.id,duration:wp(gp(n.contentDetails?.duration||"0")),images:n.snippet?.thumbnails&&Object.values(n.snippet?.thumbnails).map(i=>({url:i.url||"",height:i.height||0,width:i.width||0})),title:n.snippet?.title||"",originalUrl:ap(n.id||"")}))}async function Cp(){const t="https://www.googleapis.com/youtube/v3/videos",e=Jn()||dc,n=`${t}?key=${e}&chart=mostPopular&part=snippet,contentDetails`,i=await Qt.get(n).json();return{videos:{items:fc(i)}}}async function pc(t){const e=t.join(","),n="https://www.googleapis.com/youtube/v3/videos",i=Jn()||dc,s=`${n}?key=${i}&part=snippet,contentDetails&id=${e}`,o=await Qt.get(s).json();return fc(o)}async function Ip(t){let n=`https://www.googleapis.com/youtube/v3/playlistItems?part=contentDetails&maxResults=50&key=${Jn()}&playlistId=${t.apiId}`;t.isUserPlaylist&&(n+="&mine=true"),t.pageInfo&&(t.pageInfo.nextPage?n+=`&pageToken=${t.pageInfo.nextPage}`:t.pageInfo.prevPage&&(n+=`&pageToken=${t.pageInfo.prevPage}`));const s=await(t.isUserPlaylist?rs:Qt).get(n).json(),o=s.items?.map(l=>l.contentDetails?.videoId).filter(l=>!!l)||[];return{items:await pc(o),pageInfo:{totalResults:s.pageInfo?.totalResults||0,resultsPerPage:s.pageInfo?.resultsPerPage||0,offset:t.pageInfo?t.pageInfo.offset:0,nextPage:s.nextPageToken,prevPage:s.prevPageToken}}}async function mc(t){const n=`https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&mine=true&key=${Jn()}`,i=await rs.get(n).json();return{items:Tp(i),pageInfo:{totalResults:i.pageInfo?.totalResults||0,resultsPerPage:i.pageInfo?.resultsPerPage||0,offset:t.pageInfo?t.pageInfo.offset:0,nextPage:i.nextPageToken,prevPage:i.prevPageToken}}}const vp="YOUTUBEJS",We={ERROR:1,WARNING:2,INFO:3,DEBUG:4},sr={[We.ERROR]:(...t)=>console.error(...t),[We.WARNING]:(...t)=>console.warn(...t),[We.INFO]:(...t)=>console.info(...t),[We.DEBUG]:(...t)=>console.debug(...t)};let xp=[We.WARNING];function Xn(t,e,n){if(!sr[t]||!xp.includes(t))return;const i=[`[${vp}]`];e&&i.push(`[${e}]`),sr[t](`${i.join("")}:`,...n||[])}const oe=(t,...e)=>Xn(We.WARNING,t,e),Cn=(t,...e)=>Xn(We.ERROR,t,e),fe=(t,...e)=>Xn(We.INFO,t,e),Oi=(t,...e)=>Xn(We.DEBUG,t,e),_c=Symbol("ObservedArray.isObserved");class u{static type="YTNode";type;constructor(){this.type=this.constructor.type}is(...e){return e.some(n=>this.type===n.type)}as(...e){if(!this.is(...e))throw new bt(`Cannot cast ${this.type} to one of ${e.map(n=>n.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new bt(`Missing key ${e}`);return new as(this[e])}}const Sp="Maybe";class as{#e;constructor(e){this.#e=e}#t(e){return typeof this.#e===e}#n(e){if(!this.#t(e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return this.#e}get typeof(){return typeof this.#e}string(){return this.#n("string")}isString(){return this.#t("string")}number(){return this.#n("number")}isNumber(){return this.#t("number")}bigint(){return this.#n("bigint")}isBigint(){return this.#t("bigint")}boolean(){return this.#n("boolean")}isBoolean(){return this.#t("boolean")}symbol(){return this.#n("symbol")}isSymbol(){return this.#t("symbol")}undefined(){return this.#n("undefined")}isUndefined(){return this.#t("undefined")}null(){if(this.#e!==null)throw new TypeError(`Expected null, got ${typeof this.#e}`);return this.#e}isNull(){return this.#e===null}object(){return this.#n("object")}isObject(){return this.#t("object")}function(){return this.#n("function")}isFunction(){return this.#t("function")}array(){if(!Array.isArray(this.#e))throw new TypeError(`Expected array, got ${typeof this.#e}`);return this.#e}arrayOfMaybe(){const e=[];return new Proxy(this.array(),{get(n,i){return Reflect.has(e,i)?Reflect.get(n,i):new as(Reflect.get(n,i))}})}isArray(){return Array.isArray(this.#e)}node(){if(!(this.#e instanceof u))throw new TypeError(`Expected YTNode, got ${this.#e.constructor.name}`);return this.#e}isNode(){return this.#e instanceof u}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof this.#e}`);return this.#e}isObserved(){return this.#e?.[_c]}parsed(){if(!(this.#e instanceof Kt))throw new TypeError(`Expected SuperParsedResult, got ${typeof this.#e}`);return this.#e}isParsed(){return this.#e instanceof Kt}any(){return oe(Sp,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),this.#e}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${this.#e.constructor.name}`);return this.#e}isInstanceof(e){return this.#e instanceof e}}class Kt{#e;constructor(e){this.#e=e}get is_null(){return this.#e===null}get is_array(){return!this.is_null&&Array.isArray(this.#e)}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return this.#e}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return this.#e}}function q(t){return new Proxy(t,{get(e,n){return n=="get"?(i,s)=>e.find((o,r)=>{const a=sa(i,o);return a&&s&&e.splice(r,1),a}):n==_c?!0:n=="getAll"?(i,s)=>e.filter((o,r)=>{const a=sa(i,o);return a&&s&&e.splice(r,1),a}):n=="matchCondition"?i=>e.find(s=>i(s)):n=="filterType"?(...i)=>q(e.filter(s=>!!s.is(...i))):n=="firstOfType"?(...i)=>e.find(s=>!!s.is(...i)):n=="first"?()=>e[0]:n=="as"?(...i)=>q(e.map(s=>{if(s.is(...i))return s;throw new bt(`Expected node of any type ${i.map(o=>o.type).join(", ")}, got ${s.type}`)})):n=="remove"?i=>e.splice(i,1):Reflect.get(e,n)}})}class bc extends Map{getType(...e){return e=e.flat(),q(e.flatMap(n=>this.get(n.type)||[]))}}class Ep{label;constructor(e){this.label=e.label}}class qe{accessibility_identifier;identifier;label;constructor(e){"accessibilityIdentifier"in e&&(this.accessibility_identifier=e.accessibilityIdentifier),"identifier"in e&&(this.identifier={accessibility_id_type:e.identifier.accessibilityIdType}),"label"in e&&(this.label=e.label)}}const X={YT_BASE:"https://www.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",API:{PRODUCTION_1:"https://www.youtube.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},or={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},M={IOS:{NAME:"iOS",VERSION:"20.11.6",USER_AGENT:"com.google.ios.youtube/20.11.6 (iPhone10,4; U; CPU iOS 16_7_7 like Mac OS X)",DEVICE_MODEL:"iPhone10,4",OS_NAME:"iOS",OS_VERSION:"16.7.7.20H330"},WEB:{NAME:"WEB",VERSION:"2.20250222.10.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20250224.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20250221.11.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20250219.14.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_SIMPLY:{NAME:"TVHTML5_SIMPLY",VERSION:"1.0"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"1.20250219.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}},Rn={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY:"74",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},Rt={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},rr=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_SIMPLY","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];class gc extends EventTarget{#e=new Map;constructor(){super()}emit(e,...n){const i=new K.shim.CustomEvent(e,{detail:n});this.dispatchEvent(i)}on(e,n){const i=s=>{s instanceof K.shim.CustomEvent?n(...s.detail):n(s)};this.#e.set(n,i),this.addEventListener(e,i)}once(e,n){const i=s=>{s instanceof K.shim.CustomEvent?n(...s.detail):n(s),this.off(e,n)};this.#e.set(n,i),this.addEventListener(e,i)}off(e,n){const i=this.#e.get(n);i&&(this.removeEventListener(e,i),this.#e.delete(n))}}const Ap={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function ar(t){return t.replace(/([&"<>'])/g,(e,n)=>Ap[n])}function Dp(t){return t.charAt(0).toUpperCase()+t.slice(1)}function U(t,e,...n){const i=n.flat();return typeof t=="function"?t({...e,children:i}):{type:Dp(t),props:{...e,children:i}}}async function yc(t){if(typeof t=="string")return ar(t);let e=`<${t.type}`;if(t.props)for(const n of Object.keys(t.props))n!=="children"&&t.props[n]!==void 0&&(e+=` ${n}="${ar(`${t.props[n]}`)}"`);if(t.props.children){const n=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(i=>!!i).map(i=>yc(i)));if(n.length>0)return e+=`>${n.join("")}</${t.type}>`,e}return`${e}/>`}async function Rp(t){return`<?xml version="1.0" encoding="utf-8"?>${await yc(await t)}`}function Pp(t){return t.children}class Qn extends u{static type="PlayerStoryboardSpec";boards;constructor(e){super();const n=e.spec.split("|"),i=new URL(n.shift());this.boards=n.map((s,o)=>{const[r,a,l,f,d,p,b,w]=s.split("#");i.searchParams.set("sigh",w);const g=Math.ceil(parseInt(l,10)/(parseInt(f,10)*parseInt(d,10)));return{type:"vod",template_url:i.toString().replace("$L",o).replace("$N",b),thumbnail_width:parseInt(r,10),thumbnail_height:parseInt(a,10),thumbnail_count:parseInt(l,10),interval:parseInt(p,10),columns:parseInt(f,10),rows:parseInt(d,10),storyboard_count:g}})}}const Mp="youtubei.js",Bp="16.0.1",Lp="A JavaScript client for YouTube's private API, known as InnerTube.",Np="module",Op="./dist/src/platform/lib.d.ts",Vp={"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},Up={".":{deno:"./dist/src/platform/deno.js",node:{import:"./dist/src/platform/node.js",default:"./dist/src/platform/node.js"},types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./package.json":"./package.json","./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},Fp="LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",qp=["https://github.com/sponsors/LuanRT"],Hp=["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],jp={test:"vitest run --reporter verbose",lint:"eslint ./src","lint:fix":"eslint --fix ./src","clean:source-maps":"rimraf ./bundle/browser.js.map ./bundle/cf-worker.js.map ./bundle/react-native.js.map","clean:build-output":"rimraf ./dist ./bundle/browser.js ./bundle/cf-worker.js ./bundle/react-native.js ./deno",build:"npm run clean:build-output && npm run clean:source-maps && npm run build:parser-map && npm run build:esm && npm run bundle:browser && npm run bundle:cf-worker && npm run bundle:react-native","build:esm":"tspc","build:deno":`cpy ./src ./deno && cpy ./protos ./deno && esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && cpy ./package.json ./deno && replace ".js';" ".ts';" ./deno -r && replace '.js";' '.ts";' ./deno -r && replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && replace "'jintr';" "'jsr:@luanrt/jintr';" ./deno -r && replace "@bufbuild/protobuf/wire" "https://esm.sh/@bufbuild/protobuf@2.0.0/wire" ./deno -r`,"build:proto":"rimraf ./protos/generated && node ./dev-scripts/generate-proto.mjs","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","bundle:browser":'esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --sourcemap --target=chrome70 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"esbuild ./dist/src/platform/react-native.js --bundle --sourcemap --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:cf-worker":'esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --sourcemap --target=es2020 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',"build:docs":"typedoc",prepare:"npm run build",watch:"tspc --watch"},$p={type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},Wp=["dist/","bundle/","package.json","README.md","LICENSE"],Yp="MIT",Kp={"@bufbuild/protobuf":"^2.0.0",meriyah:"^6.1.4"},zp={"@eslint/js":"^9.37.0","@types/estree":"^1.0.6","@types/glob":"^8.1.0","@types/node":"^24.0.14","@typescript-eslint/eslint-plugin":"^8.46.0","@typescript-eslint/parser":"^8.46.0","cpy-cli":"^6.0.0",esbuild:"^0.25.6",eslint:"^9.37.0",globals:"^16.4.0",replace:"^1.2.2",rimraf:"^6.0.1","ts-patch":"^3.0.2","ts-proto":"^2.2.0",typedoc:"^0.28.14","typedoc-plugin-markdown":"^4.9.0",typescript:"^5.9.3","typescript-eslint":"^8.46.0",vitest:"^3.2.4"},Gp={url:"https://github.com/LuanRT/YouTube.js/issues"},Jp="https://github.com/LuanRT/YouTube.js#readme",Xp=["api","youtube","innertube","livechat","youtube-music","ytdl","youtube-studio","downloader","ytmusic"],De={name:Mp,version:Bp,description:Lp,type:Np,types:Op,typesVersions:Vp,exports:Up,author:Fp,funding:qp,contributors:Hp,scripts:jp,repository:$p,files:Wp,license:Yp,dependencies:Kp,devDependencies:zp,bugs:Gp,homepage:Jp,keywords:Xp},Qp="StreamingInfo";function Zp(t,e){const n=new Map,i=t.some(s=>!!s.audio_track);for(const s of t){if((!s.index_range||!s.init_range)&&!s.is_type_otf&&!e)continue;const o=s.mime_type.split(";")[0],r=ze(s.mime_type,'codecs="','"')?.split(".")[0],a=s.color_info?Object.values(s.color_info).join("-"):"",l=s.audio_track?.id||"",f=s.is_drc?"drc":"",d=`${o}-${r}-${a}-${l}-${f}`;n.has(d)||n.set(d,[]),n.get(d)?.push(s)}return{groups:Array.from(n.values()),has_multiple_audio_tracks:i}}function wc(t,e){if(t.length>1&&new Set(t.map(n=>ze(n.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),ze(t[0].mime_type,'codecs="','"')}function kc(t,e,n){if(t.length>1&&new Set(t.map(i=>i.fps)).size===1)return n.push(e),Number(t[0][e])}function em(t,e){if(t.length>1&&new Set(t.map(n=>n.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}async function tm(t,e){const n=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Rt,redirect:"follow"}),i=n.url.replace("&rn=0","").replace("&sq=0",""),s=await n.text(),o=ze(s,"Segment-Durations-Ms:",`\r
`)?.split(",");if(!o)throw new _("Failed to extract the segment durations from this OTF stream",{url:t});const r=[];for(const a of o){const l=a.trim();if(l.length===0)continue;let f;const d=ze(l,"(r=",")");d&&(f=parseInt(d)),r.push({duration:parseInt(l),repeat_count:f})}return{init_url:`${i}&sq=0`,media_url:`${i}&sq=$Number$`,timeline:r}}async function Tc(t,e){const n=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Rt,redirect:"follow"}),i=parseInt(n.headers.get("X-Head-Time-Millis")||""),s=parseInt(n.headers.get("X-Head-Seqnum")||"");if(isNaN(i)||isNaN(s))throw new _("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:i/1e3,segment_count:s}}async function nm(t,e,n,i,s,o){if(!t.item){const r=new URL(await e.decipher(s));r.searchParams.set("cpn",o||"");const a=n(r).toString();t.item=await Tc(a,i)}return t.item.duration}async function Cc(t,e,n,i,s,o,r){let a="";if(r){const f=`${t.itag||""}:${t.xtags||""}`;a=`sabr://${t.has_video?"video":"audio"}?key=${f}`}else{const f=new URL(await t.decipher(i));f.searchParams.set("cpn",s||""),a=e(f).toString()}if(t.is_type_otf){if(!n)throw new _("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return tm(a,n)}}}if(o){if(!n)throw new _("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});const f=t.target_duration_dec;if(typeof f!="number")throw new _("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return o.item||(o.item=await Tc(a,n)),{media_url:`${a}&sq=$Number$`,timeline:[{duration:f*1e3,repeat_count:o.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new _("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:a,index_range:t.index_range,init_range:t.init_range}}async function im(t,e,n,i,s,o,r,a){const l=[t.itag.toString()];return t.audio_track&&l.push(t.audio_track.id),t.is_drc&&l.push("drc"),{uid:l.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:ze(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:await Cc(t,n,i,s,o,r,a)}}function sm(t,e){if(!t.audio_track&&!e)return;const n=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&n.push("dub"),t.is_descriptive&&n.push("description"),t.is_drc&&n.push("enhanced-audio-intelligibility"),n}async function om(t,e,n,i,s,o,r,a){const l=t[0],{audio_track:f}=l,d=[],p=!!r;let b;return f?p&&l.is_drc?b=r.label_drc_multiple(f.display_name):b=f.display_name:p&&(b=l.is_drc?r.label_drc:r.label_original),{mime_type:l.mime_type.split(";")[0],language:l.language??void 0,codecs:wc(t,d),audio_sample_rate:kc(t,"audio_sample_rate",d),track_name:b,track_roles:sm(l,p),channels:em(t,d),drm_families:l.drm_families,drm_track_type:l.drm_track_type,representations:await Promise.all(t.map(g=>im(g,d,e,n,i,s,o,a)))}}const rm={BT709:"1",BT2020:"9"},cr={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},am={BT709:"1",BT2020_NCL:"14"};function cm(t){const e=t.color_info;let n,i,s;if(e){if(e.primaries&&(n=rm[e.primaries]),e.transfer_characteristics&&(i=cr[e.transfer_characteristics]),e.matrix_coefficients&&(s=am[e.matrix_coefficients],!s)){const r=new URL(t.url),a=JSON.parse(JSON.stringify(t));a.url="REDACTED",a.signature_cipher="REDACTED",a.cipher="REDACTED",oe(Qp,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${De.bugs.url} so we can add support for it.
InnerTube client: ${r.searchParams.get("c")}
format:`,a)}}else ze(t.mime_type,'codecs="','"')?.startsWith("avc1")&&(i=cr.BT709);return{primaries:n,transfer_characteristics:i,matrix_coefficients:s}}async function um(t,e,n,i,s,o,r,a){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:n.includes("codecs")?void 0:ze(t.mime_type,'codecs="','"'),fps:n.includes("fps")?void 0:t.fps,segment_info:await Cc(t,e,s,i,o,r,a)}}async function lm(t,e,n,i,s,o,r){const a=t[0],l=cm(a),f=[];return{mime_type:a.mime_type.split(";")[0],color_info:l,codecs:wc(t,f),fps:kc(t,"fps",f),drm_families:a.drm_families,drm_track_type:a.drm_track_type,representations:await Promise.all(t.map(p=>um(p,e,f,n,i,s,o,r)))}}function dm(t){const e=new Map,n=t.is(Qn)?t.boards:[t.board];for(const i of n){const s=new URL(i.template_url).pathname.split(".").pop(),o=`image/${s==="jpg"?"jpeg":s}`;e.has(o)||e.set(o,[]),e.get(o)?.push(i)}return e}async function hm(t,e,n,i,s){const o=e.template_url,r=n(new URL(o.replace("$M","0"))),a=s.response?s.response:t.session.http.fetch_function(r,{method:"HEAD",headers:Rt});return s.response=a,(await a).headers.get("Content-Type")||i}async function fm(t,e,n){const i=e.template_url,s=[],o=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let l=0;l<o;l++){const f=new URL(i.replace("$M",l.toString())),d=l===0&&n.response?n.response:t.session.http.fetch_function(f,{method:"HEAD",headers:Rt});l===0&&(n.response=d),s.push(d)}const r=await Promise.all(s),a=[];for(const l of r)a.push(parseInt(l.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...a)/(e.rows*e.columns)*8)}function pm(t,e,n,i,s){const o=n.template_url,r=new URL(o.replace("$M","$Number$"));let a;return n.type==="vod"?a=t/n.storyboard_count:a=t*n.columns*n.rows,{uid:`thumbnails_${n.thumbnail_width}x${n.thumbnail_height}`,getBitrate(){return fm(e,n,s)},sheet_width:n.thumbnail_width*n.columns,sheet_height:n.thumbnail_height*n.rows,thumbnail_height:n.thumbnail_height,thumbnail_width:n.thumbnail_width,rows:n.rows,columns:n.columns,template_duration:Math.round(a),template_url:i(r).toString(),getURL(f){return r.toString().replace("$Number$",f.toString())}}}function mm(t,e,n,i){const s=dm(n),o={};return Array.from(s.entries()).map(([r,a])=>({probable_mime_type:r,getMimeType(){return hm(e,a[0],i,r,o)},representations:a.map(l=>pm(t,e,l,i,o))}))}function _m(t,e,n){const i=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(s=>{const o=new URL(s.base_url);o.searchParams.set("fmt",e);const r=["caption"];return o.searchParams.has("tlang")&&r.push("dub"),{mime_type:i,language:s.language_code,track_name:s.name.toString(),track_roles:r,representation:{uid:`text-${s.vss_id}`,base_url:n(o).toString()}}})}async function Ic(t,e=!1,n=d=>d,i,s,o,r,a,l,f){if(!t)throw new _("Streaming data not available");const d=i?t.adaptive_formats.filter(L=>!i(L)):t.adaptive_formats;let p,b;if(e){if(b={},!r)throw new _("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");p=()=>b?nm(b,d[0],n,r,o,s):Promise.resolve(0)}else{const L=d[0].approx_duration_ms/1e3;p=()=>Promise.resolve(L)}const{groups:w,has_multiple_audio_tracks:g}=Zp(d,e),{video_groups:I,audio_groups:v}=w.reduce((L,Ee)=>Ee[0].has_audio?(g&&!Ee[0].audio_track||L.audio_groups.push(Ee),L):(L.video_groups.push(Ee),L),{video_groups:[],audio_groups:[]});let T;v.flat().some(L=>L.is_drc)&&(T={label_original:f?.label_original||"Original",label_drc:f?.label_drc||"Stable Volume",label_drc_multiple:f?.label_drc_multiple||(L=>`${L} (Stable Volume)`)});const B=await Promise.all(v.map(L=>om(L,n,r,o,s,b,T,f?.is_sabr))),x=await Promise.all(I.map(L=>lm(L,n,o,r,s,b,f?.is_sabr)));let P=[];if(a&&r){let L;if(a.is(Qn))L=d[0].approx_duration_ms/1e3;else{const Ee=d[0].target_duration_dec;if(Ee===void 0)throw new _("Format is missing target_duration_dec",{format:d[0]});L=Ee}P=mm(L,r,a,n)}let ce=[];if(l&&f?.captions_format){if(f.captions_format!=="vtt"&&f.captions_format!=="ttml")throw new _("Invalid captions format",f.captions_format);ce=_m(l,f.captions_format,n)}return{getDuration:p,audio_sets:B,video_sets:x,image_sets:P,text_sets:ce}}async function bm({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;const e=await t.getSegmentTemplate();return U("segmentTemplate",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},U("segmentTimeline",null,e.timeline.map(n=>U("s",{d:n.duration,r:n.repeat_count}))))}function ur({info:t}){return t.is_oft||t.is_post_live_dvr?U(bm,{info:t}):U(Pp,null,U("baseURL",null,t.base_url),U("segmentBase",{indexRange:`${t.index_range.start}-${t.index_range.end}`},U("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}function lr(t){switch(t){case"WIDEVINE":return"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";case"PLAYREADY":return"9a04f079-9840-4286-ab92-e65be0885f95";default:return null}}async function gm({streamingData:t,isPostLiveDvr:e,transformURL:n,rejectFormat:i,cpn:s,player:o,actions:r,storyboards:a,captionTracks:l,options:f}){const{getDuration:d,audio_sets:p,video_sets:b,image_sets:w,text_sets:g}=await Ic(t,e,n,i,s,o,r,a,l,f);return U("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await d()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},U("period",null,p.map((I,v)=>U("adaptationSet",{id:v,mimeType:I.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:I.language,codecs:I.codecs,audioSamplingRate:I.audio_sample_rate,contentType:"audio"},I.drm_families&&I.drm_families.map(T=>U("contentProtection",{schemeIdUri:`urn:uuid:${lr(T)}`})),I.track_roles&&I.track_roles.map(T=>U("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:T})),I.track_name&&U("label",{id:v},I.track_name),I.channels&&U("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:I.channels}),I.representations.map(T=>U("representation",{id:T.uid,bandwidth:T.bitrate,codecs:T.codecs,audioSamplingRate:T.audio_sample_rate},T.channels&&U("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:T.channels}),U(ur,{info:T.segment_info}))))),b.map((I,v)=>U("adaptationSet",{id:v+p.length,mimeType:I.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:I.codecs,maxPlayoutRate:"1",frameRate:I.fps,contentType:"video"},I.drm_families&&I.drm_families.map(T=>U("contentProtection",{schemeIdUri:`urn:uuid:${lr(T)}`})),I.color_info.primaries&&U("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:I.color_info.primaries}),I.color_info.transfer_characteristics&&U("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:I.color_info.transfer_characteristics}),I.color_info.matrix_coefficients&&U("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:I.color_info.matrix_coefficients}),I.representations.map(T=>U("representation",{id:T.uid,bandwidth:T.bitrate,width:T.width,height:T.height,codecs:T.codecs,frameRate:T.fps},U(ur,{info:T.segment_info}))))),w.map(async(I,v)=>U("adaptationSet",{id:v+p.length+b.length,mimeType:await I.getMimeType(),contentType:"image"},I.representations.map(async T=>U("representation",{id:`thumbnails_${T.thumbnail_width}x${T.thumbnail_height}`,bandwidth:await T.getBitrate(),width:T.sheet_width,height:T.sheet_height},U("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${T.columns}x${T.rows}`}),U("segmentTemplate",{media:T.template_url,duration:T.template_duration,startNumber:"0"}))))),g.map((I,v)=>U("adaptationSet",{id:v+p.length+b.length+w.length,mimeType:I.mime_type,lang:I.language,contentType:"text"},I.track_roles.map(T=>U("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:T})),U("label",{id:v+p.length},I.track_name),U("representation",{id:I.representation.uid,bandwidth:"0"},U("baseURL",null,I.representation.base_url))))))}function ym(t,e=!1,n=d=>d,i,s,o,r,a,l,f){if(!t)throw new _("Streaming data not available");return Rp(U(gm,{streamingData:t,isPostLiveDvr:e,transformURL:n,options:f,rejectFormat:i,cpn:s,player:o,actions:r,storyboards:a,captionTracks:l}))}async function wm(t,e,n,i,s,o){if(n?.status==="UNPLAYABLE")throw new _("Video is unplayable",{error_type:"UNPLAYABLE"});if(n?.status==="LOGIN_REQUIRED")throw new _("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!i)throw new _("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});const r={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},a=vc(r,i),l=await a.decipher(s);if(r.type==="video+audio"&&!t.range){const g=await e.session.http.fetch_function(`${l}&cpn=${o}`,{method:"GET",headers:Rt,redirect:"follow"});if(!g.ok)throw new _("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:g});const I=g.body;if(!I)throw new _("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:g});return I}const f=1048576*10;let d=t.range?t.range.start:0,p=t.range?t.range.end:f,b=!1,w;return new K.shim.ReadableStream({start(){},pull:async g=>{if(b){g.close();return}return(p>=(a.content_length?a.content_length:0)||t.range)&&(b=!0),new Promise(async(I,v)=>{try{w=new AbortController;const T=await e.session.http.fetch_function(`${l}&cpn=${o}&range=${d}-${p||""}`,{method:"GET",headers:{...Rt},signal:w.signal});if(!T.ok)throw new _("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:T});const B=T.body;if(!B)throw new _("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:T});for await(const x of Hw(B))g.enqueue(x);d=p+1,p+=f,I()}catch(T){v(T)}})},async cancel(g){w.abort(g)}},{highWaterMark:1,size(g){return g.byteLength}})}function vc(t,e){if(!e)throw new _("Streaming data not available");const n=[...e.formats||[],...e.adaptive_formats||[]];if(t.itag){const p=n.filter(b=>b.itag===t.itag);if(!p.length)throw new _("No matching formats found",{options:t});return p[0]}const i=t.type?t.type.includes("audio"):!0,s=t.type?t.type.includes("video"):!0,o=t.language||"original",r=t.quality||"best";let a=-1;const l=["best","bestefficiency"].includes(r),f=r!=="best";let d=n.filter(p=>i&&!p.has_audio||s&&!p.has_video||t.codec&&!p.mime_type.includes(t.codec)||t.format!=="any"&&!p.mime_type.includes(t.format||"mp4")||!l&&p.quality_label!==r?!1:(p.width&&a<p.width&&(a=p.width),!0));if(!d.length)throw new _("No matching formats found",{options:t});if(l&&s&&(d=d.filter(p=>p.width===a)),i&&!s){const p=d.filter(b=>o!=="original"?!b.has_video&&!b.has_text&&b.language===o:!b.has_video&&!b.has_text&&b.is_original);p.length>0&&(d=p)}return f?d.sort((p,b)=>p.bitrate-b.bitrate):d.sort((p,b)=>b.bitrate-p.bitrate),d[0]}class km{#e;#t;#n;constructor(e,n,i){this.#e=e,this.#t=n,this.#n=i||K.shim.fetch}get fetch_function(){return this.#n}async fetch(e,n){const i=this.#e,s=X.API.PRODUCTION_1+i.api_version,o=n?.baseURL||s,r=typeof e=="string"?new URL(`${o}${o.endsWith("/")||e.startsWith("/")?"":"/"}${e}`):e instanceof URL?e:new URL(e.url,o),a=n?.headers||(e instanceof K.shim.Request?e.headers:new K.shim.Headers)||new K.shim.Headers,l=n?.body||(e instanceof K.shim.Request?e.body:void 0),f=new K.shim.Headers(a);this.#i(f,i,r),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");const d=f.get("Content-Type");let p=l,b=!1;const w=o===s||o===X.YT_UPLOAD;if(d==="application/json"&&w&&typeof l=="string"){const{newBody:v,isWebKids:T,clientVersion:B,clientNameId:x,adjustedClientName:P}=this.#s(l,i);p=v,b=T,B&&f.set("X-Youtube-Client-Version",B),x&&f.set("X-Youtube-Client-Name",x),P===M.ANDROID.NAME||P===M.YTMUSIC_ANDROID.NAME?(f.set("User-Agent",M.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2")):P===M.IOS.NAME&&f.set("User-Agent",M.IOS.USER_AGENT)}else d==="application/x-protobuf"&&K.shim.server&&(f.set("User-Agent",M.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2"),f.delete("X-Youtube-Client-Version"));if(i.logged_in&&w&&!b){const v=i.oauth;v.oauth2_tokens&&(v.shouldRefreshToken()&&await v.refreshAccessToken(),f.set("Authorization",`Bearer ${v.oauth2_tokens.access_token}`));const T=this.#t;if(T){const B=jw(T,"SAPISID");B&&(f.set("Authorization",await Fw(B)),f.set("X-Goog-Authuser",i.account_index.toString()),i.context.user.onBehalfOfUser&&f.set("X-Goog-PageId",i.context.user.onBehalfOfUser)),f.set("Cookie",T)}}const g=new K.shim.Request(r,e instanceof K.shim.Request?e:n),I=await this.#n(g,{body:p,headers:f,redirect:e instanceof K.shim.Request?e.redirect:n?.redirect||"follow",...K.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(I.ok)return I;throw new _(`Request to ${I.url} failed with status code ${I.status}`,await I.text())}#s(e,n){const i=JSON.parse(e),s=JSON.parse(JSON.stringify(n.context));this.#o(s,i.client);const o={...i,context:s},r=o.context.client.clientVersion,a=o.context.client.clientName,l=Rn[a];delete o.client;const f=o.context.client.clientName===M.WEB_KIDS.NAME;return{newBody:JSON.stringify(o),isWebKids:f,clientVersion:r,clientNameId:l,adjustedClientName:o.context.client.clientName}}#i(e,n,i){e.set("Accept","*/*"),e.set("Accept-Language","*"),e.set("X-Goog-Visitor-Id",n.context.client.visitorData||""),e.set("X-Youtube-Client-Version",n.context.client.clientVersion||"");const s=Rn[n.context.client.clientName];s&&e.set("X-Youtube-Client-Name",s),K.shim.server&&(e.set("User-Agent",n.user_agent||""),e.set("Origin",i.origin))}#o(e,n){if(!n)return;const i=n.toUpperCase();if(!rr.includes(i))throw new _(`Invalid client: ${n}`,{available_innertube_clients:rr});switch(i!=="WEB"&&delete e.client.configInfo,(i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=M.ANDROID.SDK_VERSION,e.client.userAgent=M.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"MWEB":e.client.clientVersion=M.MWEB.VERSION,e.client.clientName=M.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=M.IOS.DEVICE_MODEL,e.client.clientVersion=M.IOS.VERSION,e.client.clientName=M.IOS.NAME,e.client.platform="MOBILE",e.client.osName=M.IOS.OS_NAME,e.client.osVersion=M.IOS.OS_VERSION,delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=M.YTMUSIC.VERSION,e.client.clientName=M.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=M.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=M.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=M.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=M.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=M.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=M.YTSTUDIO_ANDROID.NAME;break;case"TV":e.client.clientVersion=M.TV.VERSION,e.client.clientName=M.TV.NAME,e.client.userAgent=M.TV.USER_AGENT;break;case"TV_SIMPLY":e.client.clientVersion=M.TV_SIMPLY.VERSION,e.client.clientName=M.TV_SIMPLY.NAME;break;case"TV_EMBEDDED":e.client.clientName=M.TV_EMBEDDED.NAME,e.client.clientVersion=M.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:X.YT_BASE};break;case"YTKIDS":e.client.clientVersion=M.WEB_KIDS.VERSION,e.client.clientName=M.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=M.WEB_EMBEDDED.NAME,e.client.clientVersion=M.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:X.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=M.WEB_CREATOR.NAME,e.client.clientVersion=M.WEB_CREATOR.VERSION;break}}}function Tm(t){const e=[],n={};for(let o=0;o<256;o++)n[String.fromCharCode(o)]=o;let i="",s=256;for(let o=0;o<t.length;o++){const r=t[o],a=i+r;n.hasOwnProperty(a)?i=a:(e.push(n[i]),n[a]=s++,i=r)}return i!==""&&e.push(n[i]),e.map(o=>String.fromCharCode(o)).join("")}function Cm(t){const e={},n=t.split(""),i=[n.shift()],s=n.length>>>0;let o=256,r=i[0],a=r;for(let l=0;l<s;++l){const f=n[l].charCodeAt(0),d=f<256?n[l]:e[f]?e[f]:a+r;i.push(d),r=d.charAt(0),e[o++]=a+r,a=d}return i.join("")}const xc=5849684,Sc=1;function Ec(t){const e=JSON.stringify(t),n=Tm(e),i=new TextEncoder().encode(n),s=new ArrayBuffer(12+i.byteLength),o=new DataView(s);return o.setUint32(0,xc,!0),o.setUint32(4,Sc,!0),o.setUint32(8,i.byteLength,!0),new Uint8Array(s).set(i,12),s}function Ac(t){if(t.byteLength<12)throw new Error("Invalid binary format: buffer too short");const e=new DataView(t.buffer,t.byteOffset);if(e.getUint32(0,!0)!==xc)throw new Error("Invalid binary format: magic header mismatch");const i=e.getUint32(4,!0);if(i!==Sc)throw new Error(`Unsupported binary format version: ${i}`);const s=e.getUint32(8,!0),o=t.slice(12,12+s),r=new TextDecoder().decode(o),a=Cm(r);return JSON.parse(a)}function Im(){let t=0,e=0;for(let i=0;i<28;i+=7){let s=this.buf[this.pos++];if(t|=(s&127)<<i,(s&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<i,(s&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Si(t,e,n){for(let o=0;o<28;o=o+7){const r=t>>>o,a=!(!(r>>>7)&&e==0),l=(a?r|128:r)&255;if(n.push(l),!a)return}const i=t>>>28&15|(e&7)<<4,s=e>>3!=0;if(n.push((s?i|128:i)&255),!!s){for(let o=3;o<31;o=o+7){const r=e>>>o,a=!!(r>>>7),l=(a?r|128:r)&255;if(n.push(l),!a)return}n.push(e>>>31&1)}}const In=4294967296;function dr(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,s=0;function o(r,a){const l=Number(t.slice(r,a));s*=n,i=i*n+l,i>=In&&(s=s+(i/In|0),i=i%In)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?Rc(i,s):cs(i,s)}function vm(t,e){let n=cs(t,e);const i=n.hi&2147483648;i&&(n=Rc(n.lo,n.hi));const s=Dc(n.lo,n.hi);return i?"-"+s:s}function Dc(t,e){if({lo:t,hi:e}=xm(t,e),e<=2097151)return String(In*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,s=e>>16&65535;let o=n+i*6777216+s*6710656,r=i+s*8147497,a=s*2;const l=1e7;return o>=l&&(r+=Math.floor(o/l),o%=l),r>=l&&(a+=Math.floor(r/l),r%=l),a.toString()+hr(r)+hr(o)}function xm(t,e){return{lo:t>>>0,hi:e>>>0}}function cs(t,e){return{lo:t|0,hi:e|0}}function Rc(t,e){return e=~e,t?t=~t+1:e+=1,cs(t,e)}const hr=t=>{const e=String(t);return"0000000".slice(e.length)+e};function fr(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function Sm(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var pr={};const Ue=Em();function Em(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof pr!="object"||pr.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(r){const a=typeof r=="bigint"?r:BigInt(r);if(a>i||a<n)throw new Error(`invalid int64: ${r}`);return a},uParse(r){const a=typeof r=="bigint"?r:BigInt(r);if(a>o||a<s)throw new Error(`invalid uint64: ${r}`);return a},enc(r){return t.setBigInt64(0,this.parse(r),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(r){return t.setBigInt64(0,this.uParse(r),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(r,a){return t.setInt32(0,r,!0),t.setInt32(4,a,!0),t.getBigInt64(0,!0)},uDec(r,a){return t.setInt32(0,r,!0),t.setInt32(4,a,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),mr(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),_r(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),mr(n),dr(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),_r(n),dr(n)},dec(n,i){return vm(n,i)},uDec(n,i){return Dc(n,i)}}}function mr(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function _r(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const Ei=Symbol.for("@bufbuild/protobuf/text-encoding");function Pc(){if(globalThis[Ei]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Ei]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[Ei]}var Je;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Je||(Je={}));const Am=34028234663852886e22,Dm=-34028234663852886e22,Rm=4294967295,Pm=2147483647,Mm=-2147483648;class D{constructor(e=Pc().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let n=new Uint8Array(e),i=0;for(let s=0;s<this.chunks.length;s++)n.set(this.chunks[s],i),i+=this.chunks[s].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(br(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Ai(e),fr(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){Bm(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){br(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){Ai(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return Ai(e),e=(e<<1^e>>31)>>>0,fr(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),s=Ue.enc(e);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),s=Ue.uEnc(e);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(n)}int64(e){let n=Ue.enc(e);return Si(n.lo,n.hi,this.buf),this}sint64(e){const n=Ue.enc(e),i=n.hi>>31,s=n.lo<<1^i,o=(n.hi<<1|n.lo>>>31)^i;return Si(s,o,this.buf),this}uint64(e){const n=Ue.uEnc(e);return Si(n.lo,n.hi,this.buf),this}}class y{constructor(e,n=Pc().decodeUtf8){this.decodeUtf8=n,this.varint64=Im,this.uint32=Sm,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case Je.Varint:for(;this.buf[this.pos++]&128;);break;case Je.Bit64:this.pos+=4;case Je.Bit32:this.pos+=4;break;case Je.LengthDelimited:let s=this.uint32();this.pos+=s;break;case Je.StartGroup:for(;;){const[o,r]=this.tag();if(r===Je.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(r,o)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Ue.dec(...this.varint64())}uint64(){return Ue.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,Ue.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ue.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ue.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function Ai(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>Pm||t<Mm)throw new Error("invalid int32: "+t)}function br(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>Rm||t<0)throw new Error("invalid uint32: "+t)}function Bm(t){if(typeof t=="string"){const e=t;if(t=Number(t),Number.isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>Am||t<Dm))throw new Error("invalid float32: "+t)}const Lm={RELEVANCE:0,0:"RELEVANCE",RATING:1,1:"RATING",UPLOAD_DATE:2,2:"UPLOAD_DATE",VIEW_COUNT:3,3:"VIEW_COUNT",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"},Nm={ANY_DATE:0,0:"ANY_DATE",HOUR:1,1:"HOUR",TODAY:2,2:"TODAY",WEEK:3,3:"WEEK",MONTH:4,4:"MONTH",YEAR:5,5:"YEAR",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"},Om={ANY_TYPE:0,0:"ANY_TYPE",VIDEO:1,1:"VIDEO",CHANNEL:2,2:"CHANNEL",PLAYLIST:3,3:"PLAYLIST",MOVIE:4,4:"MOVIE",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"},Vm={ANY_DURATION:0,0:"ANY_DURATION",SHORT:1,1:"SHORT",LONG:2,2:"LONG",MEDIUM:3,3:"MEDIUM",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"};function Um(){return{id:"",timestamp:0}}const Mc={encode(t,e=new D){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Um();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.id=n.string();continue;case 5:if(o!==40)break;s.timestamp=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Fm(){return{sortBy:void 0,filters:void 0}}const Bc={encode(t,e=new D){return t.sortBy!==void 0&&e.uint32(8).int32(t.sortBy),t.filters!==void 0&&gr.encode(t.filters,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Fm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.sortBy=n.int32();continue;case 2:if(o!==18)break;s.filters=gr.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function qm(){return{uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0}}const gr={encode(t,e=new D){return t.uploadDate!==void 0&&e.uint32(8).int32(t.uploadDate),t.type!==void 0&&e.uint32(16).int32(t.type),t.duration!==void 0&&e.uint32(24).int32(t.duration),t.musicSearchType!==void 0&&yr.encode(t.musicSearchType,e.uint32(138).fork()).join(),t.featuresHd!==void 0&&e.uint32(32).bool(t.featuresHd),t.featuresSubtitles!==void 0&&e.uint32(40).bool(t.featuresSubtitles),t.featuresCreativeCommons!==void 0&&e.uint32(48).bool(t.featuresCreativeCommons),t.features3d!==void 0&&e.uint32(56).bool(t.features3d),t.featuresLive!==void 0&&e.uint32(64).bool(t.featuresLive),t.featuresPurchased!==void 0&&e.uint32(72).bool(t.featuresPurchased),t.features4k!==void 0&&e.uint32(112).bool(t.features4k),t.features360!==void 0&&e.uint32(120).bool(t.features360),t.featuresLocation!==void 0&&e.uint32(184).bool(t.featuresLocation),t.featuresHdr!==void 0&&e.uint32(200).bool(t.featuresHdr),t.featuresVr180!==void 0&&e.uint32(208).bool(t.featuresVr180),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=qm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.uploadDate=n.int32();continue;case 2:if(o!==16)break;s.type=n.int32();continue;case 3:if(o!==24)break;s.duration=n.int32();continue;case 17:if(o!==138)break;s.musicSearchType=yr.decode(n,n.uint32());continue;case 4:if(o!==32)break;s.featuresHd=n.bool();continue;case 5:if(o!==40)break;s.featuresSubtitles=n.bool();continue;case 6:if(o!==48)break;s.featuresCreativeCommons=n.bool();continue;case 7:if(o!==56)break;s.features3d=n.bool();continue;case 8:if(o!==64)break;s.featuresLive=n.bool();continue;case 9:if(o!==72)break;s.featuresPurchased=n.bool();continue;case 14:if(o!==112)break;s.features4k=n.bool();continue;case 15:if(o!==120)break;s.features360=n.bool();continue;case 23:if(o!==184)break;s.featuresLocation=n.bool();continue;case 25:if(o!==200)break;s.featuresHdr=n.bool();continue;case 26:if(o!==208)break;s.featuresVr180=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Hm(){return{song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0}}const yr={encode(t,e=new D){return t.song!==void 0&&e.uint32(8).bool(t.song),t.video!==void 0&&e.uint32(16).bool(t.video),t.album!==void 0&&e.uint32(24).bool(t.album),t.artist!==void 0&&e.uint32(32).bool(t.artist),t.playlist!==void 0&&e.uint32(40).bool(t.playlist),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Hm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.song=n.bool();continue;case 2:if(o!==16)break;s.video=n.bool();continue;case 3:if(o!==24)break;s.album=n.bool();continue;case 4:if(o!==32)break;s.artist=n.bool();continue;case 5:if(o!==40)break;s.playlist=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function jm(){return{channelId:"",prefId:void 0,number0:void 0,number1:void 0}}const $m={encode(t,e=new D){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.prefId!==void 0&&wr.encode(t.prefId,e.uint32(18).fork()).join(),t.number0!==void 0&&e.uint32(24).int32(t.number0),t.number1!==void 0&&e.uint32(32).int32(t.number1),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=jm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.channelId=n.string();continue;case 2:if(o!==18)break;s.prefId=wr.decode(n,n.uint32());continue;case 3:if(o!==24)break;s.number0=n.int32();continue;case 4:if(o!==32)break;s.number1=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Wm(){return{index:0}}const wr={encode(t,e=new D){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Wm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.index=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Ym(){return{params:void 0,number0:void 0,number1:void 0}}const Km={encode(t,e=new D){return t.params!==void 0&&kr.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Ym();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.params=kr.decode(n,n.uint32());continue;case 2:if(o!==16)break;s.number0=n.int32();continue;case 3:if(o!==24)break;s.number1=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function zm(){return{ids:void 0}}const kr={encode(t,e=new D){return t.ids!==void 0&&Tr.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=zm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 5:if(o!==42)break;s.ids=Tr.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Gm(){return{channelId:"",videoId:""}}const Tr={encode(t,e=new D){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Gm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.channelId=n.string();continue;case 2:if(o!==18)break;s.videoId=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Jm(){return{ctx:void 0,unkParam:0,params:void 0}}const Xm={encode(t,e=new D){return t.ctx!==void 0&&Cr.encode(t.ctx,e.uint32(18).fork()).join(),t.unkParam!==0&&e.uint32(24).int32(t.unkParam),t.params!==void 0&&Ir.encode(t.params,e.uint32(50).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Jm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.ctx=Cr.decode(n,n.uint32());continue;case 3:if(o!==24)break;s.unkParam=n.int32();continue;case 6:if(o!==50)break;s.params=Ir.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Qm(){return{videoId:""}}const Cr={encode(t,e=new D){return t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Qm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.videoId=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Zm(){return{unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""}}const Ir={encode(t,e=new D){return t.unkToken!==void 0&&e.uint32(10).string(t.unkToken),t.opts!==void 0&&vr.encode(t.opts,e.uint32(34).fork()).join(),t.repliesOpts!==void 0&&xr.encode(t.repliesOpts,e.uint32(26).fork()).join(),t.page!==void 0&&e.uint32(40).int32(t.page),t.target!==""&&e.uint32(66).string(t.target),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Zm();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.unkToken=n.string();continue;case 4:if(o!==34)break;s.opts=vr.decode(n,n.uint32());continue;case 3:if(o!==26)break;s.repliesOpts=xr.decode(n,n.uint32());continue;case 5:if(o!==40)break;s.page=n.int32();continue;case 8:if(o!==66)break;s.target=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function e_(){return{videoId:"",sortBy:0,type:0,commentId:void 0}}const vr={encode(t,e=new D){return t.videoId!==""&&e.uint32(34).string(t.videoId),t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.type!==0&&e.uint32(120).int32(t.type),t.commentId!==void 0&&e.uint32(130).string(t.commentId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=e_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 4:if(o!==34)break;s.videoId=n.string();continue;case 6:if(o!==48)break;s.sortBy=n.int32();continue;case 15:if(o!==120)break;s.type=n.int32();continue;case 16:if(o!==130)break;s.commentId=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function t_(){return{commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0}}const xr={encode(t,e=new D){return t.commentId!==""&&e.uint32(18).string(t.commentId),t.unkopts!==void 0&&Sr.encode(t.unkopts,e.uint32(34).fork()).join(),t.channelId!==void 0&&e.uint32(42).string(t.channelId),t.videoId!==""&&e.uint32(50).string(t.videoId),t.unkParam1!==0&&e.uint32(64).int32(t.unkParam1),t.unkParam2!==0&&e.uint32(72).int32(t.unkParam2),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=t_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.commentId=n.string();continue;case 4:if(o!==34)break;s.unkopts=Sr.decode(n,n.uint32());continue;case 5:if(o!==42)break;s.channelId=n.string();continue;case 6:if(o!==50)break;s.videoId=n.string();continue;case 8:if(o!==64)break;s.unkParam1=n.int32();continue;case 9:if(o!==72)break;s.unkParam2=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function n_(){return{unkParam:0}}const Sr={encode(t,e=new D){return t.unkParam!==0&&e.uint32(8).int32(t.unkParam),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=n_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.unkParam=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function i_(){return{videoId:"",params:void 0,number:0}}const s_={encode(t,e=new D){return t.videoId!==""&&e.uint32(18).string(t.videoId),t.params!==void 0&&Er.encode(t.params,e.uint32(42).fork()).join(),t.number!==0&&e.uint32(80).int32(t.number),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=i_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.videoId=n.string();continue;case 5:if(o!==42)break;s.params=Er.decode(n,n.uint32());continue;case 10:if(o!==80)break;s.number=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function o_(){return{index:0}}const Er={encode(t,e=new D){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=o_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.index=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function r_(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}const a_={encode(t,e=new D){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&Ar.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=r_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.type=n.int32();continue;case 3:if(o!==26)break;s.commentId=n.string();continue;case 5:if(o!==42)break;s.videoId=n.string();continue;case 2:if(o!==16)break;s.unkNum=n.int32();continue;case 23:if(o!==186)break;s.channelId=n.string();continue;case 31:if(o!==250)break;s.translateCommentParams=Ar.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function c_(){return{params:void 0,commentId:"",targetLanguage:""}}const Ar={encode(t,e=new D){return t.params!==void 0&&Dr.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=c_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 3:if(o!==26)break;s.params=Dr.decode(n,n.uint32());continue;case 2:if(o!==18)break;s.commentId=n.string();continue;case 4:if(o!==34)break;s.targetLanguage=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function u_(){return{comment:void 0}}const Dr={encode(t,e=new D){return t.comment!==void 0&&Rr.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=u_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.comment=Rr.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function l_(){return{text:""}}const Rr={encode(t,e=new D){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=l_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.text=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function d_(){return{params:void 0}}const h_={encode(t,e=new D){return t.params!==void 0&&Pr.encode(t.params,e.uint32(746).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=d_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 93:if(o!==746)break;s.params=Pr.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function f_(){return{hashtag:"",type:0}}const Pr={encode(t,e=new D){return t.hashtag!==""&&e.uint32(10).string(t.hashtag),t.type!==0&&e.uint32(24).int32(t.type),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=f_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.hashtag=n.string();continue;case 3:if(o!==24)break;s.type=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function p_(){return{shortId:"",params:void 0,feature2:0,feature3:0}}const m_={encode(t,e=new D){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&Mr.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=p_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.shortId=n.string();continue;case 5:if(o!==42)break;s.params=Mr.decode(n,n.uint32());continue;case 10:if(o!==80)break;s.feature2=n.int32();continue;case 13:if(o!==104)break;s.feature3=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function __(){return{number:0}}const Mr={encode(t,e=new D){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=__();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 3:if(o!==24)break;s.number=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function b_(){return{f1:void 0}}const g_={encode(t,e=new D){return t.f1!==void 0&&Br.encode(t.f1,e.uint32(450).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=b_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 56:if(o!==450)break;s.f1=Br.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function y_(){return{ucid1:"",postId:"",ucid2:""}}const Br={encode(t,e=new D){return t.ucid1!==""&&e.uint32(18).string(t.ucid1),t.postId!==""&&e.uint32(26).string(t.postId),t.ucid2!==""&&e.uint32(90).string(t.ucid2),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=y_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.ucid1=n.string();continue;case 3:if(o!==26)break;s.postId=n.string();continue;case 11:if(o!==90)break;s.ucid2=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function w_(){return{f0:void 0}}const k_={encode(t,e=new D){return t.f0!==void 0&&Lr.encode(t.f0,e.uint32(641815778).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=w_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 80226972:if(o!==641815778)break;s.f0=Lr.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function T_(){return{location:"",protoData:""}}const Lr={encode(t,e=new D){return t.location!==""&&e.uint32(18).string(t.location),t.protoData!==""&&e.uint32(26).string(t.protoData),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=T_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.location=n.string();continue;case 3:if(o!==26)break;s.protoData=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function C_(){return{title:"",commentDataContainer:void 0}}const I_={encode(t,e=new D){return t.title!==""&&e.uint32(18).string(t.title),t.commentDataContainer!==void 0&&Nr.encode(t.commentDataContainer,e.uint32(426).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=C_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.title=n.string();continue;case 53:if(o!==426)break;s.commentDataContainer=Nr.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function v_(){return{commentData:void 0,f0:0,title:""}}const Nr={encode(t,e=new D){return t.commentData!==void 0&&Or.encode(t.commentData,e.uint32(34).fork()).join(),t.f0!==0&&e.uint32(56).int32(t.f0),t.title!==""&&e.uint32(66).string(t.title),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=v_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 4:if(o!==34)break;s.commentData=Or.decode(n,n.uint32());continue;case 7:if(o!==56)break;s.f0=n.int32();continue;case 8:if(o!==66)break;s.title=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function x_(){return{sortBy:0,f0:0,f1:0,postId:"",channelId:""}}const Or={encode(t,e=new D){return t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.f0!==0&&e.uint32(120).int32(t.f0),t.f1!==0&&e.uint32(200).int32(t.f1),t.postId!==""&&e.uint32(234).string(t.postId),t.channelId!==""&&e.uint32(242).string(t.channelId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=x_();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 6:if(o!==48)break;s.sortBy=n.int32();continue;case 15:if(o!==120)break;s.f0=n.int32();continue;case 25:if(o!==200)break;s.f1=n.int32();continue;case 29:if(o!==234)break;s.postId=n.string();continue;case 30:if(o!==242)break;s.channelId=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function S_(t,e){const n=Mc.encode({id:t,timestamp:e});return encodeURIComponent(we(n.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}function E_(t){return Mc.decode(Ef(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}function Lc(t,e={}){const n={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete n.unkNum,n.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}const i=a_.encode(n);return encodeURIComponent(we(i.finish()))}const Vi=Symbol("WALK_STOP"),vt=new Set(["AbortController","AbortSignal","Array","ArrayBuffer","AsyncContext","Atomics","AudioContext","BigInt","BigInt64Array","BigUint64Array","Blob","Boolean","BroadcastChannel","Buffer","CanvasRenderingContext2D","clearImmediate","clearInterval","clearTimeout","confirm","console","Crypto","CustomEvent","DataView","Date","decodeURI","decodeURIComponent","document","Element","encodeURI","encodeURIComponent","Error","escape","eval","Event","EventTarget","fetch","File","FileReader","Float32Array","Float64Array","FormData","function","global","globalThis","hasOwnProperty","Headers","History","HTMLElement","HTMLCollection","IDBKeyRange","Infinity","Int16Array","Int32Array","Int8Array","Intl","IntersectionObserver","isFinite","isNaN","isPrototypeOf","JSON","location","log","Map","Math","MediaRecorder","MediaSource","MediaStream","MemberExpression","MutationObserver","NaN","navigator","Node","NodeList","Number","Object","OfflineAudioContext","parse","parseFloat","parseInt","Performance","process","Promise","prompt","prototype","Proxy","ReadableStream","Reflect","RegExp","requestAnimationFrame","requestIdleCallback","Request","Response","ResizeObserver","Screen","setImmediate","setInterval","setTimeout","SharedArrayBuffer","SharedWorker","SourceBuffer","split","String","stringify","structuredClone","SubtleCrypto","Symbol","TextDecoder","TextEncoder","this","toString","TransformStream","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","undefined","unescape","URL","URLSearchParams","valueOf","WeakMap","WeakSet","WebAssembly","WebGLRenderingContext","window","Worker","WritableStream","XMLHttpRequest","alert","arguments","atob","btoa","cancelAnimationFrame","cancelIdleCallback","queueMicrotask"]),me="  ";function Nc(t,e){if(!t||typeof t!="object")return;const n=[{node:t,parent:null,exit:!1}],i=[],s=typeof e=="function"?e:e.enter??null,o=typeof e=="function"?null:e.leave??null;let r=!1;for(;!r&&n.length>0;){const a=n.pop(),{node:l,parent:f,exit:d}=a;if(d){i.pop(),o&&o(l,f,i)===Vi&&(r=!0);continue}if(!l||typeof l.type!="string")continue;const p=s?s(l,f,i):void 0;if(p===Vi){r=!0;continue}if(p!==!0){n.push({node:l,parent:f,exit:!0}),i.push(l);for(const b in l){if(b==="loc"||b==="range"||b==="start"||b==="end"||!Object.prototype.hasOwnProperty.call(l,b))continue;const w=l[b];if(w)if(Array.isArray(w))for(let g=w.length-1;g>=0;g--){const I=w[g];I&&typeof I.type=="string"&&n.push({node:I,parent:l,exit:!1})}else typeof w=="object"&&typeof w.type=="string"&&n.push({node:w,parent:l,exit:!1})}}}}function A_(t){return t?Array.isArray(t.range)?t.range:typeof t.start=="number"&&typeof t.end=="number"?[t.start,t.end]:null:null}function vn(t,e){const n=A_(t);return n?e.slice(n[0],n[1]):null}function zt(t,e){if(t.type!=="MemberExpression")return null;const n=[];let i=t;for(;i&&i.type==="MemberExpression";){const o=i,r=o.property;if(!r)return null;if(o.computed){const a=vn(r,e);if(!a)return null;n.unshift(`[${a.trim()}]`)}else{if(r.type!=="Identifier")return null;n.unshift(`.${r.name}`)}i=o.object}let s=null;return i?.type==="Identifier"?s=i.name:i?.type==="ThisExpression"&&(s="this"),s?s+n.join(""):null}function D_(t,e){let n=t.object;for(;n&&n.type==="MemberExpression";){const i=zt(n,e);if(i)return i;n=n.object}return n?.type==="Identifier"?n.name:n?.type==="ThisExpression"?"this":null}function R_(t,e,n){if(n.type==="CallExpression"&&n.callee.type==="Identifier"&&t.declaredVariables.has(n.callee.name))return Vr(e,n.callee.name,Ur(t,n.arguments));if(n.type==="VariableDeclarator"&&n.init?.type==="FunctionExpression"&&n.id.type==="Identifier")return Vr(e,n.id.name,Ur(t,n.init.params))}function Vr(t,e,n){return[`${me}function ${t}(input) {`,`${me}${me}return ${e}(${n});`,`${me}}`].join(`
`)}function Ur(t,e){const n=[];for(const i of e)i.type==="Identifier"&&t.declaredVariables.has(i.name)?n.push(i.name):i.type==="Literal"&&(typeof i.value=="string"||typeof i.value=="number")?n.push(JSON.stringify(i.value)):n.includes("input")||n.push("input");return n.join(", ")}function P_(t){if(t.type==="VariableDeclarator"&&t.id?.type==="Identifier"){const e=t.id,n=t.init;if(e.type==="Identifier"&&n?.type==="FunctionExpression"&&n.params.length===3){const i=n.body;if(!i||i.type!=="BlockStatement")return!1;for(const s of i.body)if(s?.type==="ExpressionStatement"){const o=s.expression;if(o.type==="LogicalExpression"&&o.operator==="&&"&&o.left.type==="Identifier"&&o.right.type==="SequenceExpression"){const r=o.right.expressions[0];if(r.type==="AssignmentExpression"&&r.operator==="="&&r.left.type==="Identifier"&&r.right.type==="CallExpression"&&r.right.callee.type==="Identifier"){const a=r.right.arguments;if(a.length>=1){const l=a.find(f=>f.type==="CallExpression");if(l?.type==="CallExpression"&&l?.callee.type==="Identifier"&&l.callee.name==="decodeURIComponent"&&l.arguments[0].type==="Identifier")return r.right}}}}}}return!1}function M_(t){return t.type!=="VariableDeclarator"?!1:t.id.type==="Identifier"&&t.init?.type==="ArrayExpression"&&t.init.elements[0]?.type==="Identifier"?t.init.elements[0]:!1}function B_(t){if(t.type!=="VariableDeclarator"||t.init?.type!=="FunctionExpression")return!1;const e=t.init.body;if(!e)return!1;let n=null;return Nc(e,i=>{if(i.type==="ObjectExpression"){for(const s of i.properties)if(s.type==="Property"&&s.key.type==="Identifier"&&s.key.name==="signatureTimestamp")return n=s,Vi}}),n||!1}const Oc=((t,e)=>{const n=new Uint32Array(69632);let i=0,s=0;for(;i<2571;){const o=t[i++];if(o<0)s-=o;else{let r=t[i++];o&2&&(r=e[r]),o&1?n.fill(r,s,s+=t[i++]):n[s++]=r}}return n})([-1,2,26,2,27,2,5,-1,0,77595648,3,44,2,3,0,14,2,63,2,64,3,0,3,0,3168796671,0,4294956992,2,1,2,0,2,41,3,0,4,0,4294966523,3,0,4,2,16,2,65,2,0,0,4294836735,0,3221225471,0,4294901942,2,66,0,134152192,3,0,2,0,4294951935,3,0,2,0,2683305983,0,2684354047,2,18,2,0,0,4294961151,3,0,2,2,19,2,0,0,608174079,2,0,2,60,2,7,2,6,0,4286611199,3,0,2,2,1,3,0,3,0,4294901711,2,40,0,4089839103,0,2961209759,0,1342439375,0,4294543342,0,3547201023,0,1577204103,0,4194240,0,4294688750,2,2,0,80831,0,4261478351,0,4294549486,2,2,0,2967484831,0,196559,0,3594373100,0,3288319768,0,8469959,0,65472,2,3,0,4093640191,0,660618719,0,65487,0,4294828015,0,4092591615,0,1616920031,0,982991,2,3,2,0,0,2163244511,0,4227923919,0,4236247022,2,71,0,4284449919,0,851904,2,4,2,12,0,67076095,-1,2,72,0,1073741743,0,4093607775,-1,0,50331649,0,3265266687,2,33,0,4294844415,0,4278190047,2,20,2,137,-1,3,0,2,2,23,2,0,2,10,2,0,2,15,2,22,3,0,10,2,74,2,0,2,75,2,76,2,77,2,0,2,78,2,0,2,11,0,261632,2,25,3,0,2,2,13,2,4,3,0,18,2,79,2,5,3,0,2,2,80,0,2151677951,2,29,2,9,0,909311,3,0,2,0,814743551,2,49,0,67090432,3,0,2,2,42,2,0,2,6,2,0,2,30,2,8,0,268374015,2,110,2,51,2,0,2,81,0,134153215,-1,2,7,2,0,2,8,0,2684354559,0,67044351,0,3221160064,2,17,-1,3,0,2,2,53,0,1046528,3,0,3,2,9,2,0,2,54,0,4294960127,2,10,2,6,2,11,0,4294377472,2,12,3,0,16,2,13,2,0,2,82,2,10,2,0,2,83,2,84,2,85,0,12288,2,55,0,1048577,2,86,2,14,-1,2,14,0,131042,2,87,2,88,2,89,2,0,2,34,-83,3,0,7,0,1046559,2,0,2,15,2,0,0,2147516671,2,21,3,90,2,2,0,-16,2,91,0,524222462,2,4,2,0,0,4269801471,2,4,3,0,2,2,28,2,16,3,0,2,2,17,2,0,-1,2,18,-16,3,0,206,-2,3,0,692,2,73,-1,2,18,2,10,3,0,8,2,93,2,133,2,0,0,3220242431,3,0,3,2,19,2,94,2,95,3,0,2,2,96,2,0,2,97,2,46,2,0,0,4351,2,0,2,9,3,0,2,0,67043391,0,3909091327,2,0,2,24,2,9,2,20,3,0,2,0,67076097,2,8,2,0,2,21,0,67059711,0,4236247039,3,0,2,0,939524103,0,8191999,2,101,2,102,2,22,2,23,3,0,3,0,67057663,3,0,349,2,103,2,104,2,7,-264,3,0,11,2,24,3,0,2,2,32,-1,0,3774349439,2,105,2,106,3,0,2,2,19,2,107,3,0,10,2,10,2,18,2,0,2,47,2,0,2,31,2,108,2,25,0,1638399,0,57344,2,109,3,0,3,2,20,2,26,2,27,2,5,2,28,2,0,2,8,2,111,-1,2,112,2,113,2,114,-1,3,0,3,2,12,-2,2,0,2,29,-3,0,536870912,-4,2,20,2,0,2,36,0,1,2,0,2,67,2,6,2,12,2,10,2,0,2,115,-1,3,0,4,2,10,2,23,2,116,2,7,2,0,2,117,2,0,2,118,2,119,2,120,2,0,2,9,3,0,9,2,21,2,30,2,31,2,121,2,122,-2,2,123,2,124,2,30,2,21,2,8,-2,2,125,2,30,2,32,-2,2,0,2,39,-2,0,4277137519,0,2269118463,-1,3,20,2,-1,2,33,2,38,2,0,3,30,2,2,35,2,19,-3,3,0,2,2,34,-1,2,0,2,35,2,0,2,35,2,0,2,48,2,0,0,4294950463,2,37,-7,2,0,0,203775,2,57,0,4026531840,2,20,2,43,2,36,2,18,2,37,2,18,2,126,2,21,3,0,2,2,38,0,2151677888,2,0,2,12,0,4294901764,2,144,2,0,2,58,2,56,0,5242879,3,0,2,0,402644511,-1,2,128,2,39,0,3,-1,2,129,2,130,2,0,0,67045375,2,40,0,4226678271,0,3766565279,0,2039759,2,132,2,41,0,1046437,0,6,3,0,2,0,3288270847,0,3,3,0,2,0,67043519,-5,2,0,0,4282384383,0,1056964609,-1,3,0,2,0,67043345,-1,2,0,2,42,2,23,2,50,2,11,2,61,2,38,-5,2,0,2,12,-3,3,0,2,0,2147484671,2,134,0,4190109695,2,52,-2,2,135,0,4244635647,0,27,2,0,2,8,2,43,2,0,2,68,2,18,2,0,2,42,-6,2,0,2,45,2,59,2,44,2,45,2,46,2,47,0,8388351,-2,2,136,0,3028287487,2,48,2,138,0,33259519,2,49,-9,2,21,0,4294836223,0,3355443199,0,134152199,-2,2,69,-2,3,0,28,2,32,-3,3,0,3,2,17,3,0,6,2,50,-81,2,18,3,0,2,2,36,3,0,33,2,25,2,30,3,0,124,2,12,3,0,18,2,38,-213,2,0,2,32,-54,3,0,17,2,42,2,8,2,23,2,0,2,8,2,23,2,51,2,0,2,21,2,52,2,139,2,25,-13,2,0,2,53,-6,3,0,2,-4,3,0,2,0,4294936575,2,0,0,4294934783,-2,0,196635,3,0,191,2,54,3,0,38,2,30,2,55,2,34,-278,2,140,3,0,9,2,141,2,142,2,56,3,0,11,2,7,-72,3,0,3,2,143,0,1677656575,-130,2,26,-16,2,0,2,24,2,38,-16,0,4161266656,0,4071,0,15360,-4,2,57,-13,3,0,2,2,58,2,0,2,145,2,146,2,62,2,0,2,147,2,148,2,149,3,0,10,2,150,2,151,2,22,3,58,2,3,152,2,3,59,2,0,4294954999,2,0,-16,2,0,2,92,2,0,0,2105343,0,4160749584,0,65534,-34,2,8,2,154,-6,0,4194303871,0,4294903771,2,0,2,60,2,100,-3,2,0,0,1073684479,0,17407,-9,2,18,2,17,2,0,2,32,-14,2,18,2,32,-6,2,18,2,12,-15,2,155,3,0,6,0,8323103,-1,3,0,2,2,61,-37,2,62,2,156,2,157,2,158,2,159,2,160,-105,2,26,-32,3,0,1335,-1,3,0,129,2,32,3,0,6,2,10,3,0,180,2,161,3,0,233,2,162,3,0,18,2,10,-77,3,0,16,2,10,-47,3,0,154,2,6,3,0,130,2,25,-22250,3,0,7,2,25,-6130,3,5,2,-1,0,69207040,3,44,2,3,0,14,2,63,2,64,-3,0,3168731136,0,4294956864,2,1,2,0,2,41,3,0,4,0,4294966275,3,0,4,2,16,2,65,2,0,2,34,-1,2,18,2,66,-1,2,0,0,2047,0,4294885376,3,0,2,0,3145727,0,2617294944,0,4294770688,2,25,2,67,3,0,2,0,131135,2,98,0,70256639,0,71303167,0,272,2,42,2,6,0,32511,2,0,2,49,-1,2,99,2,68,0,4278255616,0,4294836227,0,4294549473,0,600178175,0,2952806400,0,268632067,0,4294543328,0,57540095,0,1577058304,0,1835008,0,4294688736,2,70,2,69,0,33554435,2,131,2,70,0,2952790016,0,131075,0,3594373096,0,67094296,2,69,-1,0,4294828e3,0,603979263,0,654311424,0,3,0,4294828001,0,602930687,0,1610612736,0,393219,0,4294828016,0,671088639,0,2154840064,0,4227858435,0,4236247008,2,71,2,38,-1,2,4,0,917503,2,38,-1,2,72,0,537788335,0,4026531935,-1,0,1,-1,2,33,2,73,0,7936,-3,2,0,0,2147485695,0,1010761728,0,4292984930,0,16387,2,0,2,15,2,22,3,0,10,2,74,2,0,2,75,2,76,2,77,2,0,2,78,2,0,2,12,-1,2,25,3,0,2,2,13,2,4,3,0,18,2,79,2,5,3,0,2,2,80,0,2147745791,3,19,2,0,122879,2,0,2,9,0,276824064,-2,3,0,2,2,42,2,0,0,4294903295,2,0,2,30,2,8,-1,2,18,2,51,2,0,2,81,2,49,-1,2,21,2,0,2,29,-2,0,128,-2,2,28,2,9,0,8160,-1,2,127,0,4227907585,2,0,2,37,2,0,2,50,0,4227915776,2,10,2,6,2,11,-1,0,74440192,3,0,6,-2,3,0,8,2,13,2,0,2,82,2,10,2,0,2,83,2,84,2,85,-3,2,86,2,14,-3,2,87,2,88,2,89,2,0,2,34,-83,3,0,7,0,817183,2,0,2,15,2,0,0,33023,2,21,3,90,2,-17,2,91,0,524157950,2,4,2,0,2,92,2,4,2,0,2,22,2,28,2,16,3,0,2,2,17,2,0,-1,2,18,-16,3,0,206,-2,3,0,692,2,73,-1,2,18,2,10,3,0,8,2,93,0,3072,2,0,0,2147516415,2,10,3,0,2,2,25,2,94,2,95,3,0,2,2,96,2,0,2,97,2,46,0,4294965179,0,7,2,0,2,9,2,95,2,9,-1,0,1761345536,2,98,0,4294901823,2,38,2,20,2,99,2,35,2,100,0,2080440287,2,0,2,34,2,153,0,3296722943,2,0,0,1046675455,0,939524101,0,1837055,2,101,2,102,2,22,2,23,3,0,3,0,7,3,0,349,2,103,2,104,2,7,-264,3,0,11,2,24,3,0,2,2,32,-1,0,2700607615,2,105,2,106,3,0,2,2,19,2,107,3,0,10,2,10,2,18,2,0,2,47,2,0,2,31,2,108,-3,2,109,3,0,3,2,20,-1,3,5,2,2,110,2,0,2,8,2,111,-1,2,112,2,113,2,114,-1,3,0,3,2,12,-2,2,0,2,29,-8,2,20,2,0,2,36,-1,2,0,2,67,2,6,2,30,2,10,2,0,2,115,-1,3,0,4,2,10,2,18,2,116,2,7,2,0,2,117,2,0,2,118,2,119,2,120,2,0,2,9,3,0,9,2,21,2,30,2,31,2,121,2,122,-2,2,123,2,124,2,30,2,21,2,8,-2,2,125,2,30,2,32,-2,2,0,2,39,-2,0,4277075969,2,30,-1,3,20,2,-1,2,33,2,126,2,0,3,30,2,2,35,2,19,-3,3,0,2,2,34,-1,2,0,2,35,2,0,2,35,2,0,2,50,2,98,0,4294934591,2,37,-7,2,0,0,197631,2,57,-1,2,20,2,43,2,37,2,18,0,3,2,18,2,126,2,21,2,127,2,54,-1,0,2490368,2,127,2,25,2,18,2,34,2,127,2,38,0,4294901904,0,4718591,2,127,2,35,0,335544350,-1,2,128,0,2147487743,0,1,-1,2,129,2,130,2,8,-1,2,131,2,70,0,3758161920,0,3,2,132,0,12582911,0,655360,-1,2,0,2,29,0,2147485568,0,3,2,0,2,25,0,176,-5,2,0,2,17,0,251658240,-1,2,0,2,25,0,16,-1,2,0,0,16779263,-2,2,12,-1,2,38,-5,2,0,2,133,-3,3,0,2,2,55,2,134,0,2147549183,0,2,-2,2,135,2,36,0,10,0,4294965249,0,67633151,0,4026597376,2,0,0,536871935,2,18,2,0,2,42,-6,2,0,0,1,2,59,2,17,0,1,2,46,2,25,-3,2,136,2,36,2,137,2,138,0,16778239,-10,2,35,0,4294836212,2,9,-3,2,69,-2,3,0,28,2,32,-3,3,0,3,2,17,3,0,6,2,50,-81,2,18,3,0,2,2,36,3,0,33,2,25,0,126,3,0,124,2,12,3,0,18,2,38,-213,2,10,-55,3,0,17,2,42,2,8,2,18,2,0,2,8,2,18,2,60,2,0,2,25,2,50,2,139,2,25,-13,2,0,2,73,-6,3,0,2,-4,3,0,2,0,67583,-1,2,107,-2,0,11,3,0,191,2,54,3,0,38,2,30,2,55,2,34,-278,2,140,3,0,9,2,141,2,142,2,56,3,0,11,2,7,-72,3,0,3,2,143,2,144,-187,3,0,2,2,58,2,0,2,145,2,146,2,62,2,0,2,147,2,148,2,149,3,0,10,2,150,2,151,2,22,3,58,2,3,152,2,3,59,2,2,153,-57,2,8,2,154,-7,2,18,2,0,2,60,-4,2,0,0,1065361407,0,16384,-9,2,18,2,60,2,0,2,133,-14,2,18,2,133,-6,2,18,0,81919,-15,2,155,3,0,6,2,126,-1,3,0,2,0,2063,-37,2,62,2,156,2,157,2,158,2,159,2,160,-138,3,0,1335,-1,3,0,129,2,32,3,0,6,2,10,3,0,180,2,161,3,0,233,2,162,3,0,18,2,10,-77,3,0,16,2,10,-47,3,0,154,2,6,3,0,130,2,25,-28386],[4294967295,4294967291,4092460543,4294828031,4294967294,134217726,4294903807,268435455,2147483647,1048575,1073741823,3892314111,134217727,1061158911,536805376,4294910143,4294901759,32767,4294901760,262143,536870911,8388607,4160749567,4294902783,4294918143,65535,67043328,2281701374,4294967264,2097151,4194303,255,67108863,4294967039,511,524287,131071,63,127,3238002687,4294549487,4290772991,33554431,4294901888,4286578687,67043329,4294705152,4294770687,67043583,1023,15,2047999,67043343,67051519,16777215,2147483648,4294902e3,28,4292870143,4294966783,16383,67047423,4294967279,262083,20511,41943039,493567,4294959104,603979775,65536,602799615,805044223,4294965206,8191,1031749119,4294917631,2134769663,4286578493,4282253311,4294942719,33540095,4294905855,2868854591,1608515583,265232348,534519807,2147614720,1060109444,4093640016,17376,2139062143,224,4169138175,4294909951,4286578688,4294967292,4294965759,535511039,4294966272,4294967280,32768,8289918,4294934399,4294901775,4294965375,1602223615,4294967259,4294443008,268369920,4292804608,4294967232,486341884,4294963199,3087007615,1073692671,4128527,4279238655,4294902015,4160684047,4290246655,469499899,4294967231,134086655,4294966591,2445279231,3670015,31,4294967288,4294705151,3221208447,4294902271,4294549472,4294921215,4095,4285526655,4294966527,4294966143,64,4294966719,3774873592,1877934080,262151,2555904,536807423,67043839,3758096383,3959414372,3755993023,2080374783,4294835295,4294967103,4160749565,4294934527,4087,2016,2147446655,184024726,2862017156,1593309078,268434431,268434414,4294901763,4294901761]),L_=t=>(Oc[(t>>>5)+0]>>>t&31&1)!==0,Vc=t=>(Oc[(t>>>5)+34816]>>>t&31&1)!==0;function S(t){return t.column++,t.currentChar=t.source.charCodeAt(++t.index)}function us(t){const e=t.currentChar;if((e&64512)!==55296)return 0;const n=t.source.charCodeAt(t.index+1);return(n&64512)!==56320?0:65536+((e&1023)<<10)+(n&1023)}function ls(t,e){t.currentChar=t.source.charCodeAt(++t.index),t.flags|=1,(e&4)===0&&(t.column=0,t.line++)}function ht(t){t.flags|=1,t.currentChar=t.source.charCodeAt(++t.index),t.column=0,t.line++}function N_(t){return t===160||t===65279||t===133||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===8201||t===65519}function ye(t){return t<65?t-48:t-65+10&15}function O_(t){switch(t){case 134283266:return"NumericLiteral";case 134283267:return"StringLiteral";case 86021:case 86022:return"BooleanLiteral";case 86023:return"NullLiteral";case 65540:return"RegularExpression";case 67174408:case 67174409:case 131:return"TemplateLiteral";default:return(t&143360)===143360?"Identifier":(t&4096)===4096?"Keyword":"Punctuator"}}const O=[0,0,0,0,0,0,0,0,0,0,1032,0,0,2056,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8192,0,3,0,0,8192,0,0,0,256,0,33024,0,0,242,242,114,114,114,114,114,114,594,594,0,0,16384,0,0,0,0,67,67,67,67,67,67,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,1,0,0,4099,0,71,71,71,71,71,71,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,16384,0,0,0,0],V_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Uc=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0];function Pn(t){return t<=127?V_[t]>0:Vc(t)}function xn(t){return t<=127?Uc[t]>0:L_(t)||t===8204||t===8205}const Fc=["SingleLine","MultiLine","HTMLOpen","HTMLClose","HashbangComment"];function U_(t){const{source:e}=t;t.currentChar===35&&e.charCodeAt(t.index+1)===33&&(S(t),S(t),ds(t,e,0,4,t.tokenStart))}function Fr(t,e,n,i,s,o){return i&2&&t.report(0),ds(t,e,n,s,o)}function ds(t,e,n,i,s){const{index:o}=t;for(t.tokenIndex=t.index,t.tokenLine=t.line,t.tokenColumn=t.column;t.index<t.end;){if(O[t.currentChar]&8){const r=t.currentChar===13;ht(t),r&&t.index<t.end&&t.currentChar===10&&(t.currentChar=e.charCodeAt(++t.index));break}else if((t.currentChar^8232)<=1){ht(t);break}S(t),t.tokenIndex=t.index,t.tokenLine=t.line,t.tokenColumn=t.column}if(t.options.onComment){const r={start:{line:s.line,column:s.column},end:{line:t.tokenLine,column:t.tokenColumn}};t.options.onComment(Fc[i&255],e.slice(o,t.tokenIndex),s.index,t.tokenIndex,r)}return n|1}function F_(t,e,n){const{index:i}=t;for(;t.index<t.end;)if(t.currentChar<43){let s=!1;for(;t.currentChar===42;)if(s||(n&=-5,s=!0),S(t)===47){if(S(t),t.options.onComment){const o={start:{line:t.tokenLine,column:t.tokenColumn},end:{line:t.line,column:t.column}};t.options.onComment(Fc[1],e.slice(i,t.index-2),i-2,t.index,o)}return t.tokenIndex=t.index,t.tokenLine=t.line,t.tokenColumn=t.column,n}if(s)continue;O[t.currentChar]&8?t.currentChar===13?(n|=5,ht(t)):(ls(t,n),n=n&-5|1):S(t)}else(t.currentChar^8232)<=1?(n=n&-5|1,ht(t)):(n&=-5,S(t));t.report(18)}var Xe;(function(t){t[t.Empty=0]="Empty",t[t.Escape=1]="Escape",t[t.Class=2]="Class"})(Xe||(Xe={}));var ne;(function(t){t[t.Empty=0]="Empty",t[t.IgnoreCase=1]="IgnoreCase",t[t.Global=2]="Global",t[t.Multiline=4]="Multiline",t[t.Unicode=16]="Unicode",t[t.Sticky=8]="Sticky",t[t.DotAll=32]="DotAll",t[t.Indices=64]="Indices",t[t.UnicodeSets=128]="UnicodeSets"})(ne||(ne={}));function q_(t){const e=t.index;let n=Xe.Empty;e:for(;;){const f=t.currentChar;if(S(t),n&Xe.Escape)n&=~Xe.Escape;else switch(f){case 47:if(n)break;break e;case 92:n|=Xe.Escape;break;case 91:n|=Xe.Class;break;case 93:n&=Xe.Escape;break}if((f===13||f===10||f===8232||f===8233)&&t.report(34),t.index>=t.source.length)return t.report(34)}const i=t.index-1;let s=ne.Empty,o=t.currentChar;const{index:r}=t;for(;xn(o);){switch(o){case 103:s&ne.Global&&t.report(36,"g"),s|=ne.Global;break;case 105:s&ne.IgnoreCase&&t.report(36,"i"),s|=ne.IgnoreCase;break;case 109:s&ne.Multiline&&t.report(36,"m"),s|=ne.Multiline;break;case 117:s&ne.Unicode&&t.report(36,"u"),s&ne.UnicodeSets&&t.report(36,"vu"),s|=ne.Unicode;break;case 118:s&ne.Unicode&&t.report(36,"uv"),s&ne.UnicodeSets&&t.report(36,"v"),s|=ne.UnicodeSets;break;case 121:s&ne.Sticky&&t.report(36,"y"),s|=ne.Sticky;break;case 115:s&ne.DotAll&&t.report(36,"s"),s|=ne.DotAll;break;case 100:s&ne.Indices&&t.report(36,"d"),s|=ne.Indices;break;default:t.report(35)}o=S(t)}const a=t.source.slice(r,t.index),l=t.source.slice(e,i);return t.tokenRegExp={pattern:l,flags:a},t.options.raw&&(t.tokenRaw=t.source.slice(t.tokenIndex,t.index)),t.tokenValue=H_(t,l,a),65540}function H_(t,e,n){try{return new RegExp(e,n)}catch{try{return new RegExp(e,n),null}catch{t.report(34)}}}function j_(t,e,n){const{index:i}=t;let s="",o=S(t),r=t.index;for(;(O[o]&8)===0;){if(o===n)return s+=t.source.slice(r,t.index),S(t),t.options.raw&&(t.tokenRaw=t.source.slice(i,t.index)),t.tokenValue=s,134283267;if((o&8)===8&&o===92){if(s+=t.source.slice(r,t.index),o=S(t),o<127||o===8232||o===8233){const a=qc(t,e,o);a>=0?s+=String.fromCodePoint(a):Hc(t,a,0)}else s+=String.fromCodePoint(o);r=t.index+1}else(o===8232||o===8233)&&(t.column=-1,t.line++);t.index>=t.end&&t.report(16),o=S(t)}t.report(16)}function qc(t,e,n,i=0){switch(n){case 98:return 8;case 102:return 12;case 114:return 13;case 110:return 10;case 116:return 9;case 118:return 11;case 13:if(t.index<t.end){const s=t.source.charCodeAt(t.index+1);s===10&&(t.index=t.index+1,t.currentChar=s)}case 10:case 8232:case 8233:return t.column=-1,t.line++,-1;case 48:case 49:case 50:case 51:{let s=n-48,o=t.index+1,r=t.column+1;if(o<t.end){const a=t.source.charCodeAt(o);if((O[a]&32)===0){if(s!==0||O[a]&512){if(e&1||i)return-2;t.flags|=64}}else{if(e&1||i)return-2;if(t.currentChar=a,s=s<<3|a-48,o++,r++,o<t.end){const l=t.source.charCodeAt(o);O[l]&32&&(t.currentChar=l,s=s<<3|l-48,o++,r++)}t.flags|=64}t.index=o-1,t.column=r-1}return s}case 52:case 53:case 54:case 55:{if(i||e&1)return-2;let s=n-48;const o=t.index+1,r=t.column+1;if(o<t.end){const a=t.source.charCodeAt(o);O[a]&32&&(s=s<<3|a-48,t.currentChar=a,t.index=o,t.column=r)}return t.flags|=64,s}case 120:{const s=S(t);if((O[s]&64)===0)return-4;const o=ye(s),r=S(t);if((O[r]&64)===0)return-4;const a=ye(r);return o<<4|a}case 117:{const s=S(t);if(t.currentChar===123){let o=0;for(;(O[S(t)]&64)!==0;)if(o=o<<4|ye(t.currentChar),o>1114111)return-5;return t.currentChar<1||t.currentChar!==125?-4:o}else{if((O[s]&64)===0)return-4;const o=t.source.charCodeAt(t.index+1);if((O[o]&64)===0)return-4;const r=t.source.charCodeAt(t.index+2);if((O[r]&64)===0)return-4;const a=t.source.charCodeAt(t.index+3);return(O[a]&64)===0?-4:(t.index+=3,t.column+=3,t.currentChar=t.source.charCodeAt(t.index),ye(s)<<12|ye(o)<<8|ye(r)<<4|ye(a))}}case 56:case 57:if(i||!t.options.webcompat||e&1)return-3;t.flags|=4096;default:return n}}function Hc(t,e,n){switch(e){case-1:return;case-2:t.report(n?2:1);case-3:t.report(n?3:14);case-4:t.report(7);case-5:t.report(104)}}function jc(t,e){const{index:n}=t;let i=67174409,s="",o=S(t);for(;o!==96;){if(o===36&&t.source.charCodeAt(t.index+1)===123){S(t),i=67174408;break}else if(o===92)if(o=S(t),o>126)s+=String.fromCodePoint(o);else{const{index:r,line:a,column:l}=t,f=qc(t,e|1,o,1);if(f>=0)s+=String.fromCodePoint(f);else if(f!==-1&&e&64){t.index=r,t.line=a,t.column=l,s=null,o=$_(t,o),o<0&&(i=67174408);break}else Hc(t,f,1)}else t.index<t.end&&(o===13&&t.source.charCodeAt(t.index)===10&&(s+=String.fromCodePoint(o),t.currentChar=t.source.charCodeAt(++t.index)),((o&83)<3&&o===10||(o^8232)<=1)&&(t.column=-1,t.line++),s+=String.fromCodePoint(o));t.index>=t.end&&t.report(17),o=S(t)}return S(t),t.tokenValue=s,t.tokenRaw=t.source.slice(n+1,t.index-(i===67174409?1:2)),i}function $_(t,e){for(;e!==96;){switch(e){case 36:{const n=t.index+1;if(n<t.end&&t.source.charCodeAt(n)===123)return t.index=n,t.column++,-e;break}case 10:case 8232:case 8233:t.column=-1,t.line++}t.index>=t.end&&t.report(17),e=S(t)}return e}function W_(t,e){return t.index>=t.end&&t.report(0),t.index--,t.column--,jc(t,e)}const Y_={0:"Unexpected token",30:"Unexpected token: '%0'",1:"Octal escape sequences are not allowed in strict mode",2:"Octal escape sequences are not allowed in template strings",3:"\\8 and \\9 are not allowed in template strings",4:"Private identifier #%0 is not defined",5:"Illegal Unicode escape sequence",6:"Invalid code point %0",7:"Invalid hexadecimal escape sequence",9:"Octal literals are not allowed in strict mode",8:"Decimal integer literals with a leading zero are forbidden in strict mode",10:"Expected number in radix %0",151:"Invalid left-hand side assignment to a destructible right-hand side",11:"Non-number found after exponent indicator",12:"Invalid BigIntLiteral",13:"No identifiers allowed directly after numeric literal",14:"Escapes \\8 or \\9 are not syntactically valid escapes",15:"Escapes \\8 or \\9 are not allowed in strict mode",16:"Unterminated string literal",17:"Unterminated template literal",18:"Multiline comment was not closed properly",19:"The identifier contained dynamic unicode escape that was not closed",20:"Illegal character '%0'",21:"Missing hexadecimal digits",22:"Invalid implicit octal",23:"Invalid line break in string literal",24:"Only unicode escapes are legal in identifier names",25:"Expected '%0'",26:"Invalid left-hand side in assignment",27:"Invalid left-hand side in async arrow",28:'Calls to super must be in the "constructor" method of a class expression or class declaration that has a superclass',29:"Member access on super must be in a method",31:"Await expression not allowed in formal parameter",32:"Yield expression not allowed in formal parameter",95:"Unexpected token: 'escaped keyword'",33:"Unary expressions as the left operand of an exponentiation expression must be disambiguated with parentheses",123:"Async functions can only be declared at the top level or inside a block",34:"Unterminated regular expression",35:"Unexpected regular expression flag",36:"Duplicate regular expression flag '%0'",37:"%0 functions must have exactly %1 argument%2",38:"Setter function argument must not be a rest parameter",39:"%0 declaration must have a name in this context",40:"Function name may not contain any reserved words or be eval or arguments in strict mode",41:"The rest operator is missing an argument",42:"A getter cannot be a generator",43:"A setter cannot be a generator",44:"A computed property name must be followed by a colon or paren",134:"Object literal keys that are strings or numbers must be a method or have a colon",46:"Found `* async x(){}` but this should be `async * x(){}`",45:"Getters and setters can not be generators",47:"'%0' can not be generator method",48:"No line break is allowed after '=>'",49:"The left-hand side of the arrow can only be destructed through assignment",50:"The binding declaration is not destructible",51:"Async arrow can not be followed by new expression",52:"Classes may not have a static property named 'prototype'",53:"Class constructor may not be a %0",54:"Duplicate constructor method in class",55:"Invalid increment/decrement operand",56:"Invalid use of `new` keyword on an increment/decrement expression",57:"`=>` is an invalid assignment target",58:"Rest element may not have a trailing comma",59:"Missing initializer in %0 declaration",60:"'for-%0' loop head declarations can not have an initializer",61:"Invalid left-hand side in for-%0 loop: Must have a single binding",62:"Invalid shorthand property initializer",63:"Property name __proto__ appears more than once in object literal",64:"Let is disallowed as a lexically bound name",65:"Invalid use of '%0' inside new expression",66:"Illegal 'use strict' directive in function with non-simple parameter list",67:'Identifier "let" disallowed as left-hand side expression in strict mode',68:"Illegal continue statement",69:"Illegal break statement",70:"Cannot have `let[...]` as a var name in strict mode",71:"Invalid destructuring assignment target",72:"Rest parameter may not have a default initializer",73:"The rest argument must the be last parameter",74:"Invalid rest argument",76:"In strict mode code, functions can only be declared at top level or inside a block",77:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement",78:"Without web compatibility enabled functions can not be declared at top level, inside a block, or as the body of an if statement",79:"Class declaration can't appear in single-statement context",80:"Invalid left-hand side in for-%0",81:"Invalid assignment in for-%0",82:"for await (... of ...) is only valid in async functions and async generators",83:"The first token after the template expression should be a continuation of the template",85:"`let` declaration not allowed here and `let` cannot be a regular var name in strict mode",84:"`let \n [` is a restricted production at the start of a statement",86:"Catch clause requires exactly one parameter, not more (and no trailing comma)",87:"Catch clause parameter does not support default values",88:"Missing catch or finally after try",89:"More than one default clause in switch statement",90:"Illegal newline after throw",91:"Strict mode code may not include a with statement",92:"Illegal return statement",93:"The left hand side of the for-header binding declaration is not destructible",94:"new.target only allowed within functions or static blocks",96:"'#' not followed by identifier",102:"Invalid keyword",101:"Can not use 'let' as a class name",100:"'A lexical declaration can't define a 'let' binding",99:"Can not use `let` as variable name in strict mode",97:"'%0' may not be used as an identifier in this context",98:"Await is only valid in async functions",103:"The %0 keyword can only be used with the module goal",104:"Unicode codepoint must not be greater than 0x10FFFF",105:"%0 source must be string",106:"Only a identifier or string can be used to indicate alias",107:"Only '*' or '{...}' can be imported after default",108:"Trailing decorator may be followed by method",109:"Decorators can't be used with a constructor",110:"Can not use `await` as identifier in module or async func",111:"Can not use `await` as identifier in module",112:"HTML comments are only allowed with web compatibility (Annex B)",113:"The identifier 'let' must not be in expression position in strict mode",114:"Cannot assign to `eval` and `arguments` in strict mode",115:"The left-hand side of a for-of loop may not start with 'let'",116:"Block body arrows can not be immediately invoked without a group",117:"Block body arrows can not be immediately accessed without a group",118:"Unexpected strict mode reserved word",119:"Unexpected eval or arguments in strict mode",120:"Decorators must not be followed by a semicolon",121:"Calling delete on expression not allowed in strict mode",122:"Pattern can not have a tail",124:"Can not have a `yield` expression on the left side of a ternary",125:"An arrow function can not have a postfix update operator",126:"Invalid object literal key character after generator star",127:"Private fields can not be deleted",129:"Classes may not have a field called constructor",128:"Classes may not have a private element named constructor",130:"A class field initializer or static block may not contain arguments",131:"Generators can only be declared at the top level or inside a block",132:"Async methods are a restricted production and cannot have a newline following it",133:"Unexpected character after object literal property name",135:"Invalid key token",136:"Label '%0' has already been declared",137:"continue statement must be nested within an iteration statement",138:"Undefined label '%0'",139:"Trailing comma is disallowed inside import(...) arguments",140:"Invalid binding in JSON import",141:"import() requires exactly one argument",142:"Cannot use new with import(...)",143:"... is not allowed in import()",144:"Expected '=>'",145:"Duplicate binding '%0'",146:"Duplicate private identifier #%0",147:"Cannot export a duplicate name '%0'",150:"Duplicate %0 for-binding",148:"Exported binding '%0' needs to refer to a top-level declared variable",149:"Unexpected private field",153:"Numeric separators are not allowed at the end of numeric literals",152:"Only one underscore is allowed as numeric separator",154:"JSX value should be either an expression or a quoted JSX text",155:"Expected corresponding JSX closing tag for %0",156:"Adjacent JSX elements must be wrapped in an enclosing tag",157:"JSX attributes must only be assigned a non-empty 'expression'",158:"'%0' has already been declared",159:"'%0' shadowed a catch clause binding",160:"Dot property must be an identifier",161:"Encountered invalid input after spread/rest argument",162:"Catch without try",163:"Finally without try",164:"Expected corresponding closing tag for JSX fragment",165:"Coalescing and logical operators used together in the same expression must be disambiguated with parentheses",166:"Invalid tagged template on optional chain",167:"Invalid optional chain from super property",168:"Invalid optional chain from new expression",169:'Cannot use "import.meta" outside a module',170:"Leading decorators must be attached to a class declaration",171:"An export name cannot include a lone surrogate, found %0",172:"A string literal cannot be used as an exported binding without `from`",173:"Private fields can't be accessed on super",174:"The only valid meta property for import is 'import.meta'",175:"'import.meta' must not contain escaped characters",176:'cannot use "await" as identifier inside an async function',177:'cannot use "await" in static blocks'};class ee extends SyntaxError{start;end;range;loc;description;constructor(e,n,i,...s){const o=Y_[i].replace(/%(\d+)/g,(a,l)=>s[l]),r="["+e.line+":"+e.column+"-"+n.line+":"+n.column+"]: "+o;super(r),this.start=e.index,this.end=n.index,this.range=[e.index,n.index],this.loc={start:{line:e.line,column:e.column},end:{line:n.line,column:n.column}},this.description=o}}function qr(t,e,n){let i=t.currentChar,s=0,o=9,r=n&64?0:1,a=0,l=0;if(n&64)s="."+gn(t,i),i=t.currentChar,i===110&&t.report(12);else{if(i===48)if(i=S(t),(i|32)===120){for(n=136,i=S(t);O[i]&4160;){if(i===95){l||t.report(152),l=0,i=S(t);continue}l=1,s=s*16+ye(i),a++,i=S(t)}(a===0||!l)&&t.report(a===0?21:153)}else if((i|32)===111){for(n=132,i=S(t);O[i]&4128;){if(i===95){l||t.report(152),l=0,i=S(t);continue}l=1,s=s*8+(i-48),a++,i=S(t)}(a===0||!l)&&t.report(a===0?0:153)}else if((i|32)===98){for(n=130,i=S(t);O[i]&4224;){if(i===95){l||t.report(152),l=0,i=S(t);continue}l=1,s=s*2+(i-48),a++,i=S(t)}(a===0||!l)&&t.report(a===0?0:153)}else if(O[i]&32)for(e&1&&t.report(1),n=1;O[i]&16;){if(O[i]&512){n=32,r=0;break}s=s*8+(i-48),i=S(t)}else O[i]&512?(e&1&&t.report(1),t.flags|=64,n=32):i===95&&t.report(0);if(n&48){if(r){for(;o>=0&&O[i]&4112;){if(i===95){if(i=S(t),i===95||n&32)throw new ee(t.currentLocation,{index:t.index+1,line:t.line,column:t.column},152);l=1;continue}l=0,s=10*s+(i-48),i=S(t),--o}if(l)throw new ee(t.currentLocation,{index:t.index+1,line:t.line,column:t.column},153);if(o>=0&&!Pn(i)&&i!==46)return t.tokenValue=s,t.options.raw&&(t.tokenRaw=t.source.slice(t.tokenIndex,t.index)),134283266}s+=gn(t,i),i=t.currentChar,i===46&&(S(t)===95&&t.report(0),n=64,s+="."+gn(t,t.currentChar),i=t.currentChar)}}const f=t.index;let d=0;if(i===110&&n&128)d=1,i=S(t);else if((i|32)===101){i=S(t),O[i]&256&&(i=S(t));const{index:p}=t;(O[i]&16)===0&&t.report(11),s+=t.source.substring(f,p)+gn(t,i),i=t.currentChar}return(t.index<t.end&&O[i]&16||Pn(i))&&t.report(13),d?(t.tokenRaw=t.source.slice(t.tokenIndex,t.index),t.tokenValue=BigInt(t.tokenRaw.slice(0,-1).replaceAll("_","")),134283388):(t.tokenValue=n&15?s:n&32?parseFloat(t.source.substring(t.tokenIndex,t.index)):+s,t.options.raw&&(t.tokenRaw=t.source.slice(t.tokenIndex,t.index)),134283266)}function gn(t,e){let n=0,i=t.index,s="";for(;O[e]&4112;){if(e===95){const{index:o}=t;if(e=S(t),e===95)throw new ee(t.currentLocation,{index:t.index+1,line:t.line,column:t.column},152);n=1,s+=t.source.substring(i,o),i=t.index;continue}n=0,e=S(t)}if(n)throw new ee(t.currentLocation,{index:t.index+1,line:t.line,column:t.column},153);return s+t.source.substring(i,t.index)}const V=["end of source","identifier","number","string","regular expression","false","true","null","template continuation","template tail","=>","(","{",".","...","}",")",";",",","[","]",":","?","'",'"',"++","--","=","<<=",">>=",">>>=","**=","+=","-=","*=","/=","%=","^=","|=","&=","||=","&&=","??=","typeof","delete","void","!","~","+","-","in","instanceof","*","%","/","**","&&","||","===","!==","==","!=","<=",">=","<",">","<<",">>",">>>","&","|","^","var","let","const","break","case","catch","class","continue","debugger","default","do","else","export","extends","finally","for","function","if","import","new","return","super","switch","this","throw","try","while","with","implements","interface","package","private","protected","public","static","yield","as","async","await","constructor","get","set","accessor","from","of","enum","eval","arguments","escaped keyword","escaped future reserved keyword","reserved if strict","#","BigIntLiteral","??","?.","WhiteSpace","Illegal","LineTerminator","PrivateField","Template","@","target","meta","LineFeed","Escaped","JSXText"],$c={this:86111,function:86104,if:20569,return:20572,var:86088,else:20563,for:20567,new:86107,in:8673330,typeof:16863275,while:20578,case:20556,break:20555,try:20577,catch:20557,delete:16863276,throw:86112,switch:86110,continue:20559,default:20561,instanceof:8411187,do:20562,void:16863277,finally:20566,async:209005,await:209006,class:86094,const:86090,constructor:12399,debugger:20560,export:20564,extends:20565,false:86021,from:209011,get:209008,implements:36964,import:86106,interface:36965,let:241737,null:86023,of:471156,package:36966,private:36967,protected:36968,public:36969,set:209009,static:36970,super:86109,true:86022,with:20579,yield:241771,enum:86133,eval:537079926,as:77932,arguments:537079927,target:209029,meta:209030,accessor:12402};function pe(t,e){(t.flags&1)===0&&(t.getToken()&1048576)!==1048576&&t.report(30,V[t.getToken()&255]),N(t,e,1074790417)||t.options.onInsertedSemicolon?.(t.startIndex)}function Wc(t,e,n,i){return e-n<13&&i==="use strict"&&((t.getToken()&1048576)===1048576||t.flags&1)?1:0}function hs(t,e,n){return t.getToken()!==n?0:(A(t,e),1)}function N(t,e,n){return t.getToken()!==n?!1:(A(t,e),!0)}function R(t,e,n){t.getToken()!==n&&t.report(25,V[n&255]),A(t,e)}function Re(t,e){switch(e.type){case"ArrayExpression":{e.type="ArrayPattern";const{elements:n}=e;for(let i=0,s=n.length;i<s;++i){const o=n[i];o&&Re(t,o)}return}case"ObjectExpression":{e.type="ObjectPattern";const{properties:n}=e;for(let i=0,s=n.length;i<s;++i)Re(t,n[i]);return}case"AssignmentExpression":e.type="AssignmentPattern",e.operator!=="="&&t.report(71),delete e.operator,Re(t,e.left);return;case"Property":Re(t,e.value);return;case"SpreadElement":e.type="RestElement",Re(t,e.argument)}}function Mn(t,e,n,i,s){e&1&&((i&36864)===36864&&t.report(118),!s&&(i&537079808)===537079808&&t.report(119)),((i&20480)===20480||i===-2147483528)&&t.report(102),n&24&&(i&255)===73&&t.report(100),e&2050&&i===209006&&t.report(110),e&1025&&i===241771&&t.report(97,"yield")}function Yc(t,e,n){e&1&&((n&36864)===36864&&t.report(118),(n&537079808)===537079808&&t.report(119),n===-2147483527&&t.report(95),n===-2147483528&&t.report(95)),(n&20480)===20480&&t.report(102),e&2050&&n===209006&&t.report(110),e&1025&&n===241771&&t.report(97,"yield")}function Kc(t,e,n){return n===209006&&(e&2050&&t.report(110),t.destructible|=128),n===241771&&e&1024&&t.report(97,"yield"),(n&20480)===20480||(n&36864)===36864||n==-2147483527}function K_(t){return t.property?t.property.type==="PrivateIdentifier":!1}function zc(t,e,n,i){for(;e;){if(e["$"+n])return i&&t.report(137),1;i&&e.loop&&(i=0),e=e.$}return 0}function z_(t,e,n){let i=e;for(;i;)i["$"+n]&&t.report(136,n),i=i.$;e["$"+n]=1}function Bn(t){switch(t.type){case"JSXIdentifier":return t.name;case"JSXNamespacedName":return t.namespace+":"+t.name;case"JSXMemberExpression":return Bn(t.object)+"."+Bn(t.property)}}function Zt(t,e){return t&1025?t&2&&e===209006||t&1024&&e===241771?!1:(e&12288)===12288:(e&12288)===12288||(e&36864)===36864}function Zn(t,e,n){(n&537079808)===537079808&&(e&1&&t.report(119),t.flags|=512),Zt(e,n)||t.report(0)}function ei(t,e){return Object.hasOwn(t,e)?t[e]:void 0}function Hr(t,e,n){for(;Uc[S(t)];);return t.tokenValue=t.source.slice(t.tokenIndex,t.index),t.currentChar!==92&&t.currentChar<=126?ei($c,t.tokenValue)??208897:fs(t,e,0,n)}function G_(t,e){const n=Gc(t);return Pn(n)||t.report(5),t.tokenValue=String.fromCodePoint(n),fs(t,e,1,O[n]&4)}function fs(t,e,n,i){let s=t.index;for(;t.index<t.end;)if(t.currentChar===92){t.tokenValue+=t.source.slice(s,t.index),n=1;const r=Gc(t);xn(r)||t.report(5),i=i&&O[r]&4,t.tokenValue+=String.fromCodePoint(r),s=t.index}else{const r=us(t);if(r>0)xn(r)||t.report(20,String.fromCodePoint(r)),t.currentChar=r,t.index++,t.column++;else if(!xn(t.currentChar))break;S(t)}t.index<=t.end&&(t.tokenValue+=t.source.slice(s,t.index));const{length:o}=t.tokenValue;if(i&&o>=2&&o<=11){const r=ei($c,t.tokenValue);return r===void 0?208897|(n?-2147483648:0):n?r===209006?(e&2050)===0?r|-2147483648:-2147483528:e&1?r===36970||(r&36864)===36864?-2147483527:(r&20480)===20480?e&262144&&(e&8)===0?r|-2147483648:-2147483528:-2147274630:e&262144&&(e&8)===0&&(r&20480)===20480?r|-2147483648:r===241771?e&262144?-2147274630:e&1024?-2147483528:r|-2147483648:r===209005?-2147274630:(r&36864)===36864?r|12288|-2147483648:-2147483528:r}return 208897|(n?-2147483648:0)}function J_(t){let e=S(t);if(e===92)return 130;const n=us(t);return n&&(e=n),Pn(e)||t.report(96),130}function Gc(t){return t.source.charCodeAt(t.index+1)!==117&&t.report(5),t.currentChar=t.source.charCodeAt(t.index+=2),t.column+=2,X_(t)}function X_(t){let e=0;const n=t.currentChar;if(n===123){const r=t.index-2;for(;O[S(t)]&64;)if(e=e<<4|ye(t.currentChar),e>1114111)throw new ee({index:r,line:t.line,column:t.column},t.currentLocation,104);if(t.currentChar!==125)throw new ee({index:r,line:t.line,column:t.column},t.currentLocation,7);return S(t),e}(O[n]&64)===0&&t.report(7);const i=t.source.charCodeAt(t.index+1);(O[i]&64)===0&&t.report(7);const s=t.source.charCodeAt(t.index+2);(O[s]&64)===0&&t.report(7);const o=t.source.charCodeAt(t.index+3);return(O[o]&64)===0&&t.report(7),e=ye(n)<<12|ye(i)<<8|ye(s)<<4|ye(o),t.currentChar=t.source.charCodeAt(t.index+=4),t.column+=4,e}const Q_=[128,128,128,128,128,128,128,128,128,127,135,127,127,129,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,127,16842798,134283267,130,208897,8391477,8390213,134283267,67174411,16,8391476,25233968,18,25233969,67108877,8457014,134283266,134283266,134283266,134283266,134283266,134283266,134283266,134283266,134283266,134283266,21,1074790417,8456256,1077936155,8390721,22,132,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,208897,69271571,136,20,8389959,208897,131,4096,4096,4096,4096,4096,4096,4096,208897,4096,208897,208897,4096,208897,4096,208897,4096,208897,4096,4096,4096,208897,4096,4096,208897,4096,4096,2162700,8389702,1074790415,16842799,128];function A(t,e){t.flags=(t.flags|1)^1,t.startIndex=t.index,t.startColumn=t.column,t.startLine=t.line,t.setToken(Jc(t,e,0))}function Jc(t,e,n){const i=t.index===0,{source:s}=t;let o=t.currentLocation;for(;t.index<t.end;){t.tokenIndex=t.index,t.tokenColumn=t.column,t.tokenLine=t.line;let r=t.currentChar;if(r<=126){const a=Q_[r];switch(a){case 67174411:case 16:case 2162700:case 1074790415:case 69271571:case 20:case 21:case 1074790417:case 18:case 16842799:case 132:case 128:return S(t),a;case 208897:return Hr(t,e,0);case 4096:return Hr(t,e,1);case 134283266:return qr(t,e,144);case 134283267:return j_(t,e,r);case 131:return jc(t,e);case 136:return G_(t,e);case 130:return J_(t);case 127:S(t);break;case 129:n|=5,ht(t);break;case 135:ls(t,n),n=n&-5|1;break;case 8456256:{const l=S(t);if(t.index<t.end){if(l===60)return t.index<t.end&&S(t)===61?(S(t),4194332):8390978;if(l===61)return S(t),8390718;if(l===33){const f=t.index+1;if(f+1<t.end&&s.charCodeAt(f)===45&&s.charCodeAt(f+1)==45){t.column+=3,t.currentChar=s.charCodeAt(t.index+=3),n=Fr(t,s,n,e,2,t.tokenStart),o=t.tokenStart;continue}return 8456256}}return 8456256}case 1077936155:{S(t);const l=t.currentChar;return l===61?S(t)===61?(S(t),8390458):8390460:l===62?(S(t),10):1077936155}case 16842798:return S(t)!==61?16842798:S(t)!==61?8390461:(S(t),8390459);case 8391477:return S(t)!==61?8391477:(S(t),4194340);case 8391476:{if(S(t),t.index>=t.end)return 8391476;const l=t.currentChar;return l===61?(S(t),4194338):l!==42?8391476:S(t)!==61?8391735:(S(t),4194335)}case 8389959:return S(t)!==61?8389959:(S(t),4194341);case 25233968:{S(t);const l=t.currentChar;return l===43?(S(t),33619993):l===61?(S(t),4194336):25233968}case 25233969:{S(t);const l=t.currentChar;if(l===45){if(S(t),(n&1||i)&&t.currentChar===62){t.options.webcompat||t.report(112),S(t),n=Fr(t,s,n,e,3,o),o=t.tokenStart;continue}return 33619994}return l===61?(S(t),4194337):25233969}case 8457014:{if(S(t),t.index<t.end){const l=t.currentChar;if(l===47){S(t),n=ds(t,s,n,0,t.tokenStart),o=t.tokenStart;continue}if(l===42){S(t),n=F_(t,s,n),o=t.tokenStart;continue}if(e&32)return q_(t);if(l===61)return S(t),4259875}return 8457014}case 67108877:{const l=S(t);if(l>=48&&l<=57)return qr(t,e,80);if(l===46){const f=t.index+1;if(f<t.end&&s.charCodeAt(f)===46)return t.column+=2,t.currentChar=s.charCodeAt(t.index+=2),14}return 67108877}case 8389702:{S(t);const l=t.currentChar;return l===124?(S(t),t.currentChar===61?(S(t),4194344):8913465):l===61?(S(t),4194342):8389702}case 8390721:{S(t);const l=t.currentChar;if(l===61)return S(t),8390719;if(l!==62)return 8390721;if(S(t),t.index<t.end){const f=t.currentChar;if(f===62)return S(t)===61?(S(t),4194334):8390980;if(f===61)return S(t),4194333}return 8390979}case 8390213:{S(t);const l=t.currentChar;return l===38?(S(t),t.currentChar===61?(S(t),4194345):8913720):l===61?(S(t),4194343):8390213}case 22:{let l=S(t);if(l===63)return S(t),t.currentChar===61?(S(t),4194346):276824445;if(l===46){const f=t.index+1;if(f<t.end&&(l=s.charCodeAt(f),!(l>=48&&l<=57)))return S(t),67108990}return 22}}}else{if((r^8232)<=1){n=n&-5|1,ht(t);continue}const a=us(t);if(a>0&&(r=a),Vc(r))return t.tokenValue="",fs(t,e,0,0);if(N_(r)){S(t);continue}t.report(20,String.fromCodePoint(r))}}return 1048576}const Z_={AElig:"Ã",AMP:"&",Aacute:"Ã",Abreve:"Ä",Acirc:"Ã",Acy:"Ð",Afr:"ð",Agrave:"Ã",Alpha:"Î",Amacr:"Ä",And:"â©",Aogon:"Ä",Aopf:"ð¸",ApplyFunction:"â¡",Aring:"Ã",Ascr:"ð",Assign:"â",Atilde:"Ã",Auml:"Ã",Backslash:"â",Barv:"â«§",Barwed:"â",Bcy:"Ð",Because:"âµ",Bernoullis:"â¬",Beta:"Î",Bfr:"ð",Bopf:"ð¹",Breve:"Ë",Bscr:"â¬",Bumpeq:"â",CHcy:"Ð§",COPY:"Â©",Cacute:"Ä",Cap:"â",CapitalDifferentialD:"â",Cayleys:"â­",Ccaron:"Ä",Ccedil:"Ã",Ccirc:"Ä",Cconint:"â°",Cdot:"Ä",Cedilla:"Â¸",CenterDot:"Â·",Cfr:"â­",Chi:"Î§",CircleDot:"â",CircleMinus:"â",CirclePlus:"â",CircleTimes:"â",ClockwiseContourIntegral:"â²",CloseCurlyDoubleQuote:"â",CloseCurlyQuote:"â",Colon:"â·",Colone:"â©´",Congruent:"â¡",Conint:"â¯",ContourIntegral:"â®",Copf:"â",Coproduct:"â",CounterClockwiseContourIntegral:"â³",Cross:"â¨¯",Cscr:"ð",Cup:"â",CupCap:"â",DD:"â",DDotrahd:"â¤",DJcy:"Ð",DScy:"Ð",DZcy:"Ð",Dagger:"â¡",Darr:"â¡",Dashv:"â«¤",Dcaron:"Ä",Dcy:"Ð",Del:"â",Delta:"Î",Dfr:"ð",DiacriticalAcute:"Â´",DiacriticalDot:"Ë",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ë",Diamond:"â",DifferentialD:"â",Dopf:"ð»",Dot:"Â¨",DotDot:"â",DotEqual:"â",DoubleContourIntegral:"â¯",DoubleDot:"Â¨",DoubleDownArrow:"â",DoubleLeftArrow:"â",DoubleLeftRightArrow:"â",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"â¸",DoubleLongLeftRightArrow:"âº",DoubleLongRightArrow:"â¹",DoubleRightArrow:"â",DoubleRightTee:"â¨",DoubleUpArrow:"â",DoubleUpDownArrow:"â",DoubleVerticalBar:"â¥",DownArrow:"â",DownArrowBar:"â¤",DownArrowUpArrow:"âµ",DownBreve:"Ì",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â½",DownLeftVectorBar:"â¥",DownRightTeeVector:"â¥",DownRightVector:"â",DownRightVectorBar:"â¥",DownTee:"â¤",DownTeeArrow:"â§",Downarrow:"â",Dscr:"ð",Dstrok:"Ä",ENG:"Å",ETH:"Ã",Eacute:"Ã",Ecaron:"Ä",Ecirc:"Ã",Ecy:"Ð­",Edot:"Ä",Efr:"ð",Egrave:"Ã",Element:"â",Emacr:"Ä",EmptySmallSquare:"â»",EmptyVerySmallSquare:"â«",Eogon:"Ä",Eopf:"ð¼",Epsilon:"Î",Equal:"â©µ",EqualTilde:"â",Equilibrium:"â",Escr:"â°",Esim:"â©³",Eta:"Î",Euml:"Ã",Exists:"â",ExponentialE:"â",Fcy:"Ð¤",Ffr:"ð",FilledSmallSquare:"â¼",FilledVerySmallSquare:"âª",Fopf:"ð½",ForAll:"â",Fouriertrf:"â±",Fscr:"â±",GJcy:"Ð",GT:">",Gamma:"Î",Gammad:"Ï",Gbreve:"Ä",Gcedil:"Ä¢",Gcirc:"Ä",Gcy:"Ð",Gdot:"Ä ",Gfr:"ð",Gg:"â",Gopf:"ð¾",GreaterEqual:"â¥",GreaterEqualLess:"â",GreaterFullEqual:"â§",GreaterGreater:"âª¢",GreaterLess:"â·",GreaterSlantEqual:"â©¾",GreaterTilde:"â³",Gscr:"ð¢",Gt:"â«",HARDcy:"Ðª",Hacek:"Ë",Hat:"^",Hcirc:"Ä¤",Hfr:"â",HilbertSpace:"â",Hopf:"â",HorizontalLine:"â",Hscr:"â",Hstrok:"Ä¦",HumpDownHump:"â",HumpEqual:"â",IEcy:"Ð",IJlig:"Ä²",IOcy:"Ð",Iacute:"Ã",Icirc:"Ã",Icy:"Ð",Idot:"Ä°",Ifr:"â",Igrave:"Ã",Im:"â",Imacr:"Äª",ImaginaryI:"â",Implies:"â",Int:"â¬",Integral:"â«",Intersection:"â",InvisibleComma:"â£",InvisibleTimes:"â¢",Iogon:"Ä®",Iopf:"ð",Iota:"Î",Iscr:"â",Itilde:"Ä¨",Iukcy:"Ð",Iuml:"Ã",Jcirc:"Ä´",Jcy:"Ð",Jfr:"ð",Jopf:"ð",Jscr:"ð¥",Jsercy:"Ð",Jukcy:"Ð",KHcy:"Ð¥",KJcy:"Ð",Kappa:"Î",Kcedil:"Ä¶",Kcy:"Ð",Kfr:"ð",Kopf:"ð",Kscr:"ð¦",LJcy:"Ð",LT:"<",Lacute:"Ä¹",Lambda:"Î",Lang:"âª",Laplacetrf:"â",Larr:"â",Lcaron:"Ä½",Lcedil:"Ä»",Lcy:"Ð",LeftAngleBracket:"â¨",LeftArrow:"â",LeftArrowBar:"â¤",LeftArrowRightArrow:"â",LeftCeiling:"â",LeftDoubleBracket:"â¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â",LeftDownVectorBar:"â¥",LeftFloor:"â",LeftRightArrow:"â",LeftRightVector:"â¥",LeftTee:"â£",LeftTeeArrow:"â¤",LeftTeeVector:"â¥",LeftTriangle:"â²",LeftTriangleBar:"â§",LeftTriangleEqual:"â´",LeftUpDownVector:"â¥",LeftUpTeeVector:"â¥ ",LeftUpVector:"â¿",LeftUpVectorBar:"â¥",LeftVector:"â¼",LeftVectorBar:"â¥",Leftarrow:"â",Leftrightarrow:"â",LessEqualGreater:"â",LessFullEqual:"â¦",LessGreater:"â¶",LessLess:"âª¡",LessSlantEqual:"â©½",LessTilde:"â²",Lfr:"ð",Ll:"â",Lleftarrow:"â",Lmidot:"Ä¿",LongLeftArrow:"âµ",LongLeftRightArrow:"â·",LongRightArrow:"â¶",Longleftarrow:"â¸",Longleftrightarrow:"âº",Longrightarrow:"â¹",Lopf:"ð",LowerLeftArrow:"â",LowerRightArrow:"â",Lscr:"â",Lsh:"â°",Lstrok:"Å",Lt:"âª",Map:"â¤",Mcy:"Ð",MediumSpace:"â",Mellintrf:"â³",Mfr:"ð",MinusPlus:"â",Mopf:"ð",Mscr:"â³",Mu:"Î",NJcy:"Ð",Nacute:"Å",Ncaron:"Å",Ncedil:"Å",Ncy:"Ð",NegativeMediumSpace:"â",NegativeThickSpace:"â",NegativeThinSpace:"â",NegativeVeryThinSpace:"â",NestedGreaterGreater:"â«",NestedLessLess:"âª",NewLine:`
`,Nfr:"ð",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â",Not:"â«¬",NotCongruent:"â¢",NotCupCap:"â­",NotDoubleVerticalBar:"â¦",NotElement:"â",NotEqual:"â ",NotEqualTilde:"âÌ¸",NotExists:"â",NotGreater:"â¯",NotGreaterEqual:"â±",NotGreaterFullEqual:"â§Ì¸",NotGreaterGreater:"â«Ì¸",NotGreaterLess:"â¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"âµ",NotHumpDownHump:"âÌ¸",NotHumpEqual:"âÌ¸",NotLeftTriangle:"âª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â¬",NotLess:"â®",NotLessEqual:"â°",NotLessGreater:"â¸",NotLessLess:"âªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",NotPrecedes:"â",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â ",NotReverseElement:"â",NotRightTriangle:"â«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â­",NotSquareSubset:"âÌ¸",NotSquareSubsetEqual:"â¢",NotSquareSuperset:"âÌ¸",NotSquareSupersetEqual:"â£",NotSubset:"ââ",NotSubsetEqual:"â",NotSucceeds:"â",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â¡",NotSucceedsTilde:"â¿Ì¸",NotSuperset:"ââ",NotSupersetEqual:"â",NotTilde:"â",NotTildeEqual:"â",NotTildeFullEqual:"â",NotTildeTilde:"â",NotVerticalBar:"â¤",Nscr:"ð©",Ntilde:"Ã",Nu:"Î",OElig:"Å",Oacute:"Ã",Ocirc:"Ã",Ocy:"Ð",Odblac:"Å",Ofr:"ð",Ograve:"Ã",Omacr:"Å",Omega:"Î©",Omicron:"Î",Oopf:"ð",OpenCurlyDoubleQuote:"â",OpenCurlyQuote:"â",Or:"â©",Oscr:"ðª",Oslash:"Ã",Otilde:"Ã",Otimes:"â¨·",Ouml:"Ã",OverBar:"â¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"â",PartialD:"â",Pcy:"Ð",Pfr:"ð",Phi:"Î¦",Pi:"Î ",PlusMinus:"Â±",Poincareplane:"â",Popf:"â",Pr:"âª»",Precedes:"âº",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â¼",PrecedesTilde:"â¾",Prime:"â³",Product:"â",Proportion:"â·",Proportional:"â",Pscr:"ð«",Psi:"Î¨",QUOT:'"',Qfr:"ð",Qopf:"â",Qscr:"ð¬",RBarr:"â¤",REG:"Â®",Racute:"Å",Rang:"â«",Rarr:"â ",Rarrtl:"â¤",Rcaron:"Å",Rcedil:"Å",Rcy:"Ð ",Re:"â",ReverseElement:"â",ReverseEquilibrium:"â",ReverseUpEquilibrium:"â¥¯",Rfr:"â",Rho:"Î¡",RightAngleBracket:"â©",RightArrow:"â",RightArrowBar:"â¥",RightArrowLeftArrow:"â",RightCeiling:"â",RightDoubleBracket:"â§",RightDownTeeVector:"â¥",RightDownVector:"â",RightDownVectorBar:"â¥",RightFloor:"â",RightTee:"â¢",RightTeeArrow:"â¦",RightTeeVector:"â¥",RightTriangle:"â³",RightTriangleBar:"â§",RightTriangleEqual:"âµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥",RightUpVector:"â¾",RightUpVectorBar:"â¥",RightVector:"â",RightVectorBar:"â¥",Rightarrow:"â",Ropf:"â",RoundImplies:"â¥°",Rrightarrow:"â",Rscr:"â",Rsh:"â±",RuleDelayed:"â§´",SHCHcy:"Ð©",SHcy:"Ð¨",SOFTcy:"Ð¬",Sacute:"Å",Sc:"âª¼",Scaron:"Å ",Scedil:"Å",Scirc:"Å",Scy:"Ð¡",Sfr:"ð",ShortDownArrow:"â",ShortLeftArrow:"â",ShortRightArrow:"â",ShortUpArrow:"â",Sigma:"Î£",SmallCircle:"â",Sopf:"ð",Sqrt:"â",Square:"â¡",SquareIntersection:"â",SquareSubset:"â",SquareSubsetEqual:"â",SquareSuperset:"â",SquareSupersetEqual:"â",SquareUnion:"â",Sscr:"ð®",Star:"â",Sub:"â",Subset:"â",SubsetEqual:"â",Succeeds:"â»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â½",SucceedsTilde:"â¿",SuchThat:"â",Sum:"â",Sup:"â",Superset:"â",SupersetEqual:"â",Supset:"â",THORN:"Ã",TRADE:"â¢",TSHcy:"Ð",TScy:"Ð¦",Tab:"	",Tau:"Î¤",Tcaron:"Å¤",Tcedil:"Å¢",Tcy:"Ð¢",Tfr:"ð",Therefore:"â´",Theta:"Î",ThickSpace:"ââ",ThinSpace:"â",Tilde:"â¼",TildeEqual:"â",TildeFullEqual:"â",TildeTilde:"â",Topf:"ð",TripleDot:"â",Tscr:"ð¯",Tstrok:"Å¦",Uacute:"Ã",Uarr:"â",Uarrocir:"â¥",Ubrcy:"Ð",Ubreve:"Å¬",Ucirc:"Ã",Ucy:"Ð£",Udblac:"Å°",Ufr:"ð",Ugrave:"Ã",Umacr:"Åª",UnderBar:"_",UnderBrace:"â",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â",UnionPlus:"â",Uogon:"Å²",Uopf:"ð",UpArrow:"â",UpArrowBar:"â¤",UpArrowDownArrow:"â",UpDownArrow:"â",UpEquilibrium:"â¥®",UpTee:"â¥",UpTeeArrow:"â¥",Uparrow:"â",Updownarrow:"â",UpperLeftArrow:"â",UpperRightArrow:"â",Upsi:"Ï",Upsilon:"Î¥",Uring:"Å®",Uscr:"ð°",Utilde:"Å¨",Uuml:"Ã",VDash:"â«",Vbar:"â««",Vcy:"Ð",Vdash:"â©",Vdashl:"â«¦",Vee:"â",Verbar:"â",Vert:"â",VerticalBar:"â£",VerticalLine:"|",VerticalSeparator:"â",VerticalTilde:"â",VeryThinSpace:"â",Vfr:"ð",Vopf:"ð",Vscr:"ð±",Vvdash:"âª",Wcirc:"Å´",Wedge:"â",Wfr:"ð",Wopf:"ð",Wscr:"ð²",Xfr:"ð",Xi:"Î",Xopf:"ð",Xscr:"ð³",YAcy:"Ð¯",YIcy:"Ð",YUcy:"Ð®",Yacute:"Ã",Ycirc:"Å¶",Ycy:"Ð«",Yfr:"ð",Yopf:"ð",Yscr:"ð´",Yuml:"Å¸",ZHcy:"Ð",Zacute:"Å¹",Zcaron:"Å½",Zcy:"Ð",Zdot:"Å»",ZeroWidthSpace:"â",Zeta:"Î",Zfr:"â¨",Zopf:"â¤",Zscr:"ðµ",aacute:"Ã¡",abreve:"Ä",ac:"â¾",acE:"â¾Ì³",acd:"â¿",acirc:"Ã¢",acute:"Â´",acy:"Ð°",aelig:"Ã¦",af:"â¡",afr:"ð",agrave:"Ã ",alefsym:"âµ",aleph:"âµ",alpha:"Î±",amacr:"Ä",amalg:"â¨¿",amp:"&",and:"â§",andand:"â©",andd:"â©",andslope:"â©",andv:"â©",ang:"â ",ange:"â¦¤",angle:"â ",angmsd:"â¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"â",angrtvb:"â¾",angrtvbd:"â¦",angsph:"â¢",angst:"Ã",angzarr:"â¼",aogon:"Ä",aopf:"ð",ap:"â",apE:"â©°",apacir:"â©¯",ape:"â",apid:"â",apos:"'",approx:"â",approxeq:"â",aring:"Ã¥",ascr:"ð¶",ast:"*",asymp:"â",asympeq:"â",atilde:"Ã£",auml:"Ã¤",awconint:"â³",awint:"â¨",bNot:"â«­",backcong:"â",backepsilon:"Ï¶",backprime:"âµ",backsim:"â½",backsimeq:"â",barvee:"â½",barwed:"â",barwedge:"â",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â",bcy:"Ð±",bdquo:"â",becaus:"âµ",because:"âµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â¬",beta:"Î²",beth:"â¶",between:"â¬",bfr:"ð",bigcap:"â",bigcirc:"â¯",bigcup:"â",bigodot:"â¨",bigoplus:"â¨",bigotimes:"â¨",bigsqcup:"â¨",bigstar:"â",bigtriangledown:"â½",bigtriangleup:"â³",biguplus:"â¨",bigvee:"â",bigwedge:"â",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"âª",blacktriangle:"â´",blacktriangledown:"â¾",blacktriangleleft:"â",blacktriangleright:"â¸",blank:"â£",blk12:"â",blk14:"â",blk34:"â",block:"â",bne:"=â¥",bnequiv:"â¡â¥",bnot:"â",bopf:"ð",bot:"â¥",bottom:"â¥",bowtie:"â",boxDL:"â",boxDR:"â",boxDl:"â",boxDr:"â",boxH:"â",boxHD:"â¦",boxHU:"â©",boxHd:"â¤",boxHu:"â§",boxUL:"â",boxUR:"â",boxUl:"â",boxUr:"â",boxV:"â",boxVH:"â¬",boxVL:"â£",boxVR:"â ",boxVh:"â«",boxVl:"â¢",boxVr:"â",boxbox:"â§",boxdL:"â",boxdR:"â",boxdl:"â",boxdr:"â",boxh:"â",boxhD:"â¥",boxhU:"â¨",boxhd:"â¬",boxhu:"â´",boxminus:"â",boxplus:"â",boxtimes:"â ",boxuL:"â",boxuR:"â",boxul:"â",boxur:"â",boxv:"â",boxvH:"âª",boxvL:"â¡",boxvR:"â",boxvh:"â¼",boxvl:"â¤",boxvr:"â",bprime:"âµ",breve:"Ë",brvbar:"Â¦",bscr:"ð·",bsemi:"â",bsim:"â½",bsime:"â",bsol:"\\",bsolb:"â§",bsolhsub:"â",bull:"â¢",bullet:"â¢",bump:"â",bumpE:"âª®",bumpe:"â",bumpeq:"â",cacute:"Ä",cap:"â©",capand:"â©",capbrcup:"â©",capcap:"â©",capcup:"â©",capdot:"â©",caps:"â©ï¸",caret:"â",caron:"Ë",ccaps:"â©",ccaron:"Ä",ccedil:"Ã§",ccirc:"Ä",ccups:"â©",ccupssm:"â©",cdot:"Ä",cedil:"Â¸",cemptyv:"â¦²",cent:"Â¢",centerdot:"Â·",cfr:"ð ",chcy:"Ñ",check:"â",checkmark:"â",chi:"Ï",cir:"â",cirE:"â§",circ:"Ë",circeq:"â",circlearrowleft:"âº",circlearrowright:"â»",circledR:"Â®",circledS:"â",circledast:"â",circledcirc:"â",circleddash:"â",cire:"â",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§",clubs:"â£",clubsuit:"â£",colon:":",colone:"â",coloneq:"â",comma:",",commat:"@",comp:"â",compfn:"â",complement:"â",complexes:"â",cong:"â",congdot:"â©­",conint:"â®",copf:"ð",coprod:"â",copy:"Â©",copysr:"â",crarr:"âµ",cross:"â",cscr:"ð¸",csub:"â«",csube:"â«",csup:"â«",csupe:"â«",ctdot:"â¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â",cuesc:"â",cularr:"â¶",cularrp:"â¤½",cup:"âª",cupbrcap:"â©",cupcap:"â©",cupcup:"â©",cupdot:"â",cupor:"â©",cups:"âªï¸",curarr:"â·",curarrm:"â¤¼",curlyeqprec:"â",curlyeqsucc:"â",curlyvee:"â",curlywedge:"â",curren:"Â¤",curvearrowleft:"â¶",curvearrowright:"â·",cuvee:"â",cuwed:"â",cwconint:"â²",cwint:"â±",cylcty:"â­",dArr:"â",dHar:"â¥¥",dagger:"â ",daleth:"â¸",darr:"â",dash:"â",dashv:"â£",dbkarow:"â¤",dblac:"Ë",dcaron:"Ä",dcy:"Ð´",dd:"â",ddagger:"â¡",ddarr:"â",ddotseq:"â©·",deg:"Â°",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",dfr:"ð¡",dharl:"â",dharr:"â",diam:"â",diamond:"â",diamondsuit:"â¦",diams:"â¦",die:"Â¨",digamma:"Ï",disin:"â²",div:"Ã·",divide:"Ã·",divideontimes:"â",divonx:"â",djcy:"Ñ",dlcorn:"â",dlcrop:"â",dollar:"$",dopf:"ð",dot:"Ë",doteq:"â",doteqdot:"â",dotminus:"â¸",dotplus:"â",dotsquare:"â¡",doublebarwedge:"â",downarrow:"â",downdownarrows:"â",downharpoonleft:"â",downharpoonright:"â",drbkarow:"â¤",drcorn:"â",drcrop:"â",dscr:"ð¹",dscy:"Ñ",dsol:"â§¶",dstrok:"Ä",dtdot:"â±",dtri:"â¿",dtrif:"â¾",duarr:"âµ",duhar:"â¥¯",dwangle:"â¦¦",dzcy:"Ñ",dzigrarr:"â¿",eDDot:"â©·",eDot:"â",eacute:"Ã©",easter:"â©®",ecaron:"Ä",ecir:"â",ecirc:"Ãª",ecolon:"â",ecy:"Ñ",edot:"Ä",ee:"â",efDot:"â",efr:"ð¢",eg:"âª",egrave:"Ã¨",egs:"âª",egsdot:"âª",el:"âª",elinters:"â§",ell:"â",els:"âª",elsdot:"âª",emacr:"Ä",empty:"â",emptyset:"â",emptyv:"â",emsp13:"â",emsp14:"â",emsp:"â",eng:"Å",ensp:"â",eogon:"Ä",eopf:"ð",epar:"â",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â",eqcolon:"â",eqsim:"â",eqslantgtr:"âª",eqslantless:"âª",equals:"=",equest:"â",equiv:"â¡",equivDD:"â©¸",eqvparsl:"â§¥",erDot:"â",erarr:"â¥±",escr:"â¯",esdot:"â",esim:"â",eta:"Î·",eth:"Ã°",euml:"Ã«",euro:"â¬",excl:"!",exist:"â",expectation:"â°",exponentiale:"â",fallingdotseq:"â",fcy:"Ñ",female:"â",ffilig:"ï¬",fflig:"ï¬",ffllig:"ï¬",ffr:"ð£",filig:"ï¬",fjlig:"fj",flat:"â­",fllig:"ï¬",fltns:"â±",fnof:"Æ",fopf:"ð",forall:"â",fork:"â",forkv:"â«",fpartint:"â¨",frac12:"Â½",frac13:"â",frac14:"Â¼",frac15:"â",frac16:"â",frac18:"â",frac23:"â",frac25:"â",frac34:"Â¾",frac35:"â",frac38:"â",frac45:"â",frac56:"â",frac58:"â",frac78:"â",frasl:"â",frown:"â¢",fscr:"ð»",gE:"â§",gEl:"âª",gacute:"Çµ",gamma:"Î³",gammad:"Ï",gap:"âª",gbreve:"Ä",gcirc:"Ä",gcy:"Ð³",gdot:"Ä¡",ge:"â¥",gel:"â",geq:"â¥",geqq:"â§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª",gesdoto:"âª",gesdotol:"âª",gesl:"âï¸",gesles:"âª",gfr:"ð¤",gg:"â«",ggg:"â",gimel:"â·",gjcy:"Ñ",gl:"â·",glE:"âª",gla:"âª¥",glj:"âª¤",gnE:"â©",gnap:"âª",gnapprox:"âª",gne:"âª",gneq:"âª",gneqq:"â©",gnsim:"â§",gopf:"ð",grave:"`",gscr:"â",gsim:"â³",gsime:"âª",gsiml:"âª",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â",gtlPar:"â¦",gtquest:"â©¼",gtrapprox:"âª",gtrarr:"â¥¸",gtrdot:"â",gtreqless:"â",gtreqqless:"âª",gtrless:"â·",gtrsim:"â³",gvertneqq:"â©ï¸",gvnE:"â©ï¸",hArr:"â",hairsp:"â",half:"Â½",hamilt:"â",hardcy:"Ñ",harr:"â",harrcir:"â¥",harrw:"â­",hbar:"â",hcirc:"Ä¥",hearts:"â¥",heartsuit:"â¥",hellip:"â¦",hercon:"â¹",hfr:"ð¥",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â¿",homtht:"â»",hookleftarrow:"â©",hookrightarrow:"âª",hopf:"ð",horbar:"â",hscr:"ð½",hslash:"â",hstrok:"Ä§",hybull:"â",hyphen:"â",iacute:"Ã­",ic:"â£",icirc:"Ã®",icy:"Ð¸",iecy:"Ðµ",iexcl:"Â¡",iff:"â",ifr:"ð¦",igrave:"Ã¬",ii:"â",iiiint:"â¨",iiint:"â­",iinfin:"â§",iiota:"â©",ijlig:"Ä³",imacr:"Ä«",image:"â",imagline:"â",imagpart:"â",imath:"Ä±",imof:"â·",imped:"Æµ",in:"â",incare:"â",infin:"â",infintie:"â§",inodot:"Ä±",int:"â«",intcal:"âº",integers:"â¤",intercal:"âº",intlarhk:"â¨",intprod:"â¨¼",iocy:"Ñ",iogon:"Ä¯",iopf:"ð",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",iscr:"ð¾",isin:"â",isinE:"â¹",isindot:"âµ",isins:"â´",isinsv:"â³",isinv:"â",it:"â¢",itilde:"Ä©",iukcy:"Ñ",iuml:"Ã¯",jcirc:"Äµ",jcy:"Ð¹",jfr:"ð§",jmath:"È·",jopf:"ð",jscr:"ð¿",jsercy:"Ñ",jukcy:"Ñ",kappa:"Îº",kappav:"Ï°",kcedil:"Ä·",kcy:"Ðº",kfr:"ð¨",kgreen:"Ä¸",khcy:"Ñ",kjcy:"Ñ",kopf:"ð",kscr:"ð",lAarr:"â",lArr:"â",lAtail:"â¤",lBarr:"â¤",lE:"â¦",lEg:"âª",lHar:"â¥¢",lacute:"Äº",laemptyv:"â¦´",lagran:"â",lambda:"Î»",lang:"â¨",langd:"â¦",langle:"â¨",lap:"âª",laquo:"Â«",larr:"â",larrb:"â¤",larrbfs:"â¤",larrfs:"â¤",larrhk:"â©",larrlp:"â«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â¢",lat:"âª«",latail:"â¤",late:"âª­",lates:"âª­ï¸",lbarr:"â¤",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦",lbrksld:"â¦",lbrkslu:"â¦",lcaron:"Ä¾",lcedil:"Ä¼",lceil:"â",lcub:"{",lcy:"Ð»",ldca:"â¤¶",ldquo:"â",ldquor:"â",ldrdhar:"â¥§",ldrushar:"â¥",ldsh:"â²",le:"â¤",leftarrow:"â",leftarrowtail:"â¢",leftharpoondown:"â½",leftharpoonup:"â¼",leftleftarrows:"â",leftrightarrow:"â",leftrightarrows:"â",leftrightharpoons:"â",leftrightsquigarrow:"â­",leftthreetimes:"â",leg:"â",leq:"â¤",leqq:"â¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âª",lesg:"âï¸",lesges:"âª",lessapprox:"âª",lessdot:"â",lesseqgtr:"â",lesseqqgtr:"âª",lessgtr:"â¶",lesssim:"â²",lfisht:"â¥¼",lfloor:"â",lfr:"ð©",lg:"â¶",lgE:"âª",lhard:"â½",lharu:"â¼",lharul:"â¥ª",lhblk:"â",ljcy:"Ñ",ll:"âª",llarr:"â",llcorner:"â",llhard:"â¥«",lltri:"âº",lmidot:"Å",lmoust:"â°",lmoustache:"â°",lnE:"â¨",lnap:"âª",lnapprox:"âª",lne:"âª",lneq:"âª",lneqq:"â¨",lnsim:"â¦",loang:"â¬",loarr:"â½",lobrk:"â¦",longleftarrow:"âµ",longleftrightarrow:"â·",longmapsto:"â¼",longrightarrow:"â¶",looparrowleft:"â«",looparrowright:"â¬",lopar:"â¦",lopf:"ð",loplus:"â¨­",lotimes:"â¨´",lowast:"â",lowbar:"_",loz:"â",lozenge:"â",lozf:"â§«",lpar:"(",lparlt:"â¦",lrarr:"â",lrcorner:"â",lrhar:"â",lrhard:"â¥­",lrm:"â",lrtri:"â¿",lsaquo:"â¹",lscr:"ð",lsh:"â°",lsim:"â²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â",lsquor:"â",lstrok:"Å",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â",lthree:"â",ltimes:"â",ltlarr:"â¥¶",ltquest:"â©»",ltrPar:"â¦",ltri:"â",ltrie:"â´",ltrif:"â",lurdshar:"â¥",luruhar:"â¥¦",lvertneqq:"â¨ï¸",lvnE:"â¨ï¸",mDDot:"âº",macr:"Â¯",male:"â",malt:"â ",maltese:"â ",map:"â¦",mapsto:"â¦",mapstodown:"â§",mapstoleft:"â¤",mapstoup:"â¥",marker:"â®",mcomma:"â¨©",mcy:"Ð¼",mdash:"â",measuredangle:"â¡",mfr:"ðª",mho:"â§",micro:"Âµ",mid:"â£",midast:"*",midcir:"â«°",middot:"Â·",minus:"â",minusb:"â",minusd:"â¸",minusdu:"â¨ª",mlcp:"â«",mldr:"â¦",mnplus:"â",models:"â§",mopf:"ð",mp:"â",mscr:"ð",mstpos:"â¾",mu:"Î¼",multimap:"â¸",mumap:"â¸",nGg:"âÌ¸",nGt:"â«â",nGtv:"â«Ì¸",nLeftarrow:"â",nLeftrightarrow:"â",nLl:"âÌ¸",nLt:"âªâ",nLtv:"âªÌ¸",nRightarrow:"â",nVDash:"â¯",nVdash:"â®",nabla:"â",nacute:"Å",nang:"â â",nap:"â",napE:"â©°Ì¸",napid:"âÌ¸",napos:"Å",napprox:"â",natur:"â®",natural:"â®",naturals:"â",nbsp:"Â ",nbump:"âÌ¸",nbumpe:"âÌ¸",ncap:"â©",ncaron:"Å",ncedil:"Å",ncong:"â",ncongdot:"â©­Ì¸",ncup:"â©",ncy:"Ð½",ndash:"â",ne:"â ",neArr:"â",nearhk:"â¤¤",nearr:"â",nearrow:"â",nedot:"âÌ¸",nequiv:"â¢",nesear:"â¤¨",nesim:"âÌ¸",nexist:"â",nexists:"â",nfr:"ð«",ngE:"â§Ì¸",nge:"â±",ngeq:"â±",ngeqq:"â§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",ngsim:"âµ",ngt:"â¯",ngtr:"â¯",nhArr:"â",nharr:"â®",nhpar:"â«²",ni:"â",nis:"â¼",nisd:"âº",niv:"â",njcy:"Ñ",nlArr:"â",nlE:"â¦Ì¸",nlarr:"â",nldr:"â¥",nle:"â°",nleftarrow:"â",nleftrightarrow:"â®",nleq:"â°",nleqq:"â¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â®",nlsim:"â´",nlt:"â®",nltri:"âª",nltrie:"â¬",nmid:"â¤",nopf:"ð",not:"Â¬",notin:"â",notinE:"â¹Ì¸",notindot:"âµÌ¸",notinva:"â",notinvb:"â·",notinvc:"â¶",notni:"â",notniva:"â",notnivb:"â¾",notnivc:"â½",npar:"â¦",nparallel:"â¦",nparsl:"â«½â¥",npart:"âÌ¸",npolint:"â¨",npr:"â",nprcue:"â ",npre:"âª¯Ì¸",nprec:"â",npreceq:"âª¯Ì¸",nrArr:"â",nrarr:"â",nrarrc:"â¤³Ì¸",nrarrw:"âÌ¸",nrightarrow:"â",nrtri:"â«",nrtrie:"â­",nsc:"â",nsccue:"â¡",nsce:"âª°Ì¸",nscr:"ð",nshortmid:"â¤",nshortparallel:"â¦",nsim:"â",nsime:"â",nsimeq:"â",nsmid:"â¤",nspar:"â¦",nsqsube:"â¢",nsqsupe:"â£",nsub:"â",nsubE:"â«Ì¸",nsube:"â",nsubset:"ââ",nsubseteq:"â",nsubseteqq:"â«Ì¸",nsucc:"â",nsucceq:"âª°Ì¸",nsup:"â",nsupE:"â«Ì¸",nsupe:"â",nsupset:"ââ",nsupseteq:"â",nsupseteqq:"â«Ì¸",ntgl:"â¹",ntilde:"Ã±",ntlg:"â¸",ntriangleleft:"âª",ntrianglelefteq:"â¬",ntriangleright:"â«",ntrianglerighteq:"â­",nu:"Î½",num:"#",numero:"â",numsp:"â",nvDash:"â­",nvHarr:"â¤",nvap:"ââ",nvdash:"â¬",nvge:"â¥â",nvgt:">â",nvinfin:"â§",nvlArr:"â¤",nvle:"â¤â",nvlt:"<â",nvltrie:"â´â",nvrArr:"â¤",nvrtrie:"âµâ",nvsim:"â¼â",nwArr:"â",nwarhk:"â¤£",nwarr:"â",nwarrow:"â",nwnear:"â¤§",oS:"â",oacute:"Ã³",oast:"â",ocir:"â",ocirc:"Ã´",ocy:"Ð¾",odash:"â",odblac:"Å",odiv:"â¨¸",odot:"â",odsold:"â¦¼",oelig:"Å",ofcir:"â¦¿",ofr:"ð¬",ogon:"Ë",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"â®",olarr:"âº",olcir:"â¦¾",olcross:"â¦»",oline:"â¾",olt:"â§",omacr:"Å",omega:"Ï",omicron:"Î¿",omid:"â¦¶",ominus:"â",oopf:"ð ",opar:"â¦·",operp:"â¦¹",oplus:"â",or:"â¨",orarr:"â»",ord:"â©",order:"â´",orderof:"â´",ordf:"Âª",ordm:"Âº",origof:"â¶",oror:"â©",orslope:"â©",orv:"â©",oscr:"â´",oslash:"Ã¸",osol:"â",otilde:"Ãµ",otimes:"â",otimesas:"â¨¶",ouml:"Ã¶",ovbar:"â½",par:"â¥",para:"Â¶",parallel:"â¥",parsim:"â«³",parsl:"â«½",part:"â",pcy:"Ð¿",percnt:"%",period:".",permil:"â°",perp:"â¥",pertenk:"â±",pfr:"ð­",phi:"Ï",phiv:"Ï",phmmat:"â³",phone:"â",pi:"Ï",pitchfork:"â",piv:"Ï",planck:"â",planckh:"â",plankv:"â",plus:"+",plusacir:"â¨£",plusb:"â",pluscir:"â¨¢",plusdo:"â",plusdu:"â¨¥",pluse:"â©²",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",pointint:"â¨",popf:"ð¡",pound:"Â£",pr:"âº",prE:"âª³",prap:"âª·",prcue:"â¼",pre:"âª¯",prec:"âº",precapprox:"âª·",preccurlyeq:"â¼",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â¨",precsim:"â¾",prime:"â²",primes:"â",prnE:"âªµ",prnap:"âª¹",prnsim:"â¨",prod:"â",profalar:"â®",profline:"â",profsurf:"â",prop:"â",propto:"â",prsim:"â¾",prurel:"â°",pscr:"ð",psi:"Ï",puncsp:"â",qfr:"ð®",qint:"â¨",qopf:"ð¢",qprime:"â",qscr:"ð",quaternions:"â",quatint:"â¨",quest:"?",questeq:"â",quot:'"',rAarr:"â",rArr:"â",rAtail:"â¤",rBarr:"â¤",rHar:"â¥¤",race:"â½Ì±",racute:"Å",radic:"â",raemptyv:"â¦³",rang:"â©",rangd:"â¦",range:"â¦¥",rangle:"â©",raquo:"Â»",rarr:"â",rarrap:"â¥µ",rarrb:"â¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"âª",rarrlp:"â¬",rarrpl:"â¥",rarrsim:"â¥´",rarrtl:"â£",rarrw:"â",ratail:"â¤",ratio:"â¶",rationals:"â",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦",rbrksld:"â¦",rbrkslu:"â¦",rcaron:"Å",rcedil:"Å",rceil:"â",rcub:"}",rcy:"Ñ",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â",rdquor:"â",rdsh:"â³",real:"â",realine:"â",realpart:"â",reals:"â",rect:"â­",reg:"Â®",rfisht:"â¥½",rfloor:"â",rfr:"ð¯",rhard:"â",rharu:"â",rharul:"â¥¬",rho:"Ï",rhov:"Ï±",rightarrow:"â",rightarrowtail:"â£",rightharpoondown:"â",rightharpoonup:"â",rightleftarrows:"â",rightleftharpoons:"â",rightrightarrows:"â",rightsquigarrow:"â",rightthreetimes:"â",ring:"Ë",risingdotseq:"â",rlarr:"â",rlhar:"â",rlm:"â",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"â­",roarr:"â¾",robrk:"â§",ropar:"â¦",ropf:"ð£",roplus:"â¨®",rotimes:"â¨µ",rpar:")",rpargt:"â¦",rppolint:"â¨",rrarr:"â",rsaquo:"âº",rscr:"ð",rsh:"â±",rsqb:"]",rsquo:"â",rsquor:"â",rthree:"â",rtimes:"â",rtri:"â¹",rtrie:"âµ",rtrif:"â¸",rtriltri:"â§",ruluhar:"â¥¨",rx:"â",sacute:"Å",sbquo:"â",sc:"â»",scE:"âª´",scap:"âª¸",scaron:"Å¡",sccue:"â½",sce:"âª°",scedil:"Å",scirc:"Å",scnE:"âª¶",scnap:"âªº",scnsim:"â©",scpolint:"â¨",scsim:"â¿",scy:"Ñ",sdot:"â",sdotb:"â¡",sdote:"â©¦",seArr:"â",searhk:"â¤¥",searr:"â",searrow:"â",sect:"Â§",semi:";",seswar:"â¤©",setminus:"â",setmn:"â",sext:"â¶",sfr:"ð°",sfrown:"â¢",sharp:"â¯",shchcy:"Ñ",shcy:"Ñ",shortmid:"â£",shortparallel:"â¥",shy:"Â­",sigma:"Ï",sigmaf:"Ï",sigmav:"Ï",sim:"â¼",simdot:"â©ª",sime:"â",simeq:"â",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âª",simne:"â",simplus:"â¨¤",simrarr:"â¥²",slarr:"â",smallsetminus:"â",smashp:"â¨³",smeparsl:"â§¤",smid:"â£",smile:"â£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸",softcy:"Ñ",sol:"/",solb:"â§",solbar:"â¿",sopf:"ð¤",spades:"â ",spadesuit:"â ",spar:"â¥",sqcap:"â",sqcaps:"âï¸",sqcup:"â",sqcups:"âï¸",sqsub:"â",sqsube:"â",sqsubset:"â",sqsubseteq:"â",sqsup:"â",sqsupe:"â",sqsupset:"â",sqsupseteq:"â",squ:"â¡",square:"â¡",squarf:"âª",squf:"âª",srarr:"â",sscr:"ð",ssetmn:"â",ssmile:"â£",sstarf:"â",star:"â",starf:"â",straightepsilon:"Ïµ",straightphi:"Ï",strns:"Â¯",sub:"â",subE:"â«",subdot:"âª½",sube:"â",subedot:"â«",submult:"â«",subnE:"â«",subne:"â",subplus:"âª¿",subrarr:"â¥¹",subset:"â",subseteq:"â",subseteqq:"â«",subsetneq:"â",subsetneqq:"â«",subsim:"â«",subsub:"â«",subsup:"â«",succ:"â»",succapprox:"âª¸",succcurlyeq:"â½",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â©",succsim:"â¿",sum:"â",sung:"âª",sup1:"Â¹",sup2:"Â²",sup3:"Â³",sup:"â",supE:"â«",supdot:"âª¾",supdsub:"â«",supe:"â",supedot:"â«",suphsol:"â",suphsub:"â«",suplarr:"â¥»",supmult:"â«",supnE:"â«",supne:"â",supplus:"â«",supset:"â",supseteq:"â",supseteqq:"â«",supsetneq:"â",supsetneqq:"â«",supsim:"â«",supsub:"â«",supsup:"â«",swArr:"â",swarhk:"â¤¦",swarr:"â",swarrow:"â",swnwar:"â¤ª",szlig:"Ã",target:"â",tau:"Ï",tbrk:"â´",tcaron:"Å¥",tcedil:"Å£",tcy:"Ñ",tdot:"â",telrec:"â",tfr:"ð±",there4:"â´",therefore:"â´",theta:"Î¸",thetasym:"Ï",thetav:"Ï",thickapprox:"â",thicksim:"â¼",thinsp:"â",thkap:"â",thksim:"â¼",thorn:"Ã¾",tilde:"Ë",times:"Ã",timesb:"â ",timesbar:"â¨±",timesd:"â¨°",tint:"â­",toea:"â¤¨",top:"â¤",topbot:"â¶",topcir:"â«±",topf:"ð¥",topfork:"â«",tosa:"â¤©",tprime:"â´",trade:"â¢",triangle:"âµ",triangledown:"â¿",triangleleft:"â",trianglelefteq:"â´",triangleq:"â",triangleright:"â¹",trianglerighteq:"âµ",tridot:"â¬",trie:"â",triminus:"â¨º",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",tscr:"ð",tscy:"Ñ",tshcy:"Ñ",tstrok:"Å§",twixt:"â¬",twoheadleftarrow:"â",twoheadrightarrow:"â ",uArr:"â",uHar:"â¥£",uacute:"Ãº",uarr:"â",ubrcy:"Ñ",ubreve:"Å­",ucirc:"Ã»",ucy:"Ñ",udarr:"â",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",ufr:"ð²",ugrave:"Ã¹",uharl:"â¿",uharr:"â¾",uhblk:"â",ulcorn:"â",ulcorner:"â",ulcrop:"â",ultri:"â¸",umacr:"Å«",uml:"Â¨",uogon:"Å³",uopf:"ð¦",uparrow:"â",updownarrow:"â",upharpoonleft:"â¿",upharpoonright:"â¾",uplus:"â",upsi:"Ï",upsih:"Ï",upsilon:"Ï",upuparrows:"â",urcorn:"â",urcorner:"â",urcrop:"â",uring:"Å¯",urtri:"â¹",uscr:"ð",utdot:"â°",utilde:"Å©",utri:"âµ",utrif:"â´",uuarr:"â",uuml:"Ã¼",uwangle:"â¦§",vArr:"â",vBar:"â«¨",vBarv:"â«©",vDash:"â¨",vangrt:"â¦",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"â",varphi:"Ï",varpi:"Ï",varpropto:"â",varr:"â",varrho:"Ï±",varsigma:"Ï",varsubsetneq:"âï¸",varsubsetneqq:"â«ï¸",varsupsetneq:"âï¸",varsupsetneqq:"â«ï¸",vartheta:"Ï",vartriangleleft:"â²",vartriangleright:"â³",vcy:"Ð²",vdash:"â¢",vee:"â¨",veebar:"â»",veeeq:"â",vellip:"â®",verbar:"|",vert:"|",vfr:"ð³",vltri:"â²",vnsub:"ââ",vnsup:"ââ",vopf:"ð§",vprop:"â",vrtri:"â³",vscr:"ð",vsubnE:"â«ï¸",vsubne:"âï¸",vsupnE:"â«ï¸",vsupne:"âï¸",vzigzag:"â¦",wcirc:"Åµ",wedbar:"â©",wedge:"â§",wedgeq:"â",weierp:"â",wfr:"ð´",wopf:"ð¨",wp:"â",wr:"â",wreath:"â",wscr:"ð",xcap:"â",xcirc:"â¯",xcup:"â",xdtri:"â½",xfr:"ðµ",xhArr:"âº",xharr:"â·",xi:"Î¾",xlArr:"â¸",xlarr:"âµ",xmap:"â¼",xnis:"â»",xodot:"â¨",xopf:"ð©",xoplus:"â¨",xotime:"â¨",xrArr:"â¹",xrarr:"â¶",xscr:"ð",xsqcup:"â¨",xuplus:"â¨",xutri:"â³",xvee:"â",xwedge:"â",yacute:"Ã½",yacy:"Ñ",ycirc:"Å·",ycy:"Ñ",yen:"Â¥",yfr:"ð¶",yicy:"Ñ",yopf:"ðª",yscr:"ð",yucy:"Ñ",yuml:"Ã¿",zacute:"Åº",zcaron:"Å¾",zcy:"Ð·",zdot:"Å¼",zeetrf:"â¨",zeta:"Î¶",zfr:"ð·",zhcy:"Ð¶",zigrarr:"â",zopf:"ð«",zscr:"ð",zwj:"â",zwnj:"â"},e2={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};function t2(t){return t.replace(/&(?:[a-zA-Z]+|#[xX][\da-fA-F]+|#\d+);/g,e=>{if(e.charAt(1)==="#"){const n=e.charAt(2),i=n==="X"||n==="x"?parseInt(e.slice(3),16):parseInt(e.slice(2),10);return n2(i)}return ei(Z_,e.slice(1,-1))??e})}function n2(t){return t>=55296&&t<=57343||t>1114111?"ï¿½":String.fromCodePoint(ei(e2,t)??t)}function i2(t,e){return t.startIndex=t.tokenIndex=t.index,t.startColumn=t.tokenColumn=t.column,t.startLine=t.tokenLine=t.line,t.setToken(O[t.currentChar]&8192?s2(t):Jc(t,e,0)),t.getToken()}function s2(t){const e=t.currentChar;let n=S(t);const i=t.index;for(;n!==e;)t.index>=t.end&&t.report(16),n=S(t);return n!==e&&t.report(16),t.tokenValue=t.source.slice(i,t.index),S(t),t.options.raw&&(t.tokenRaw=t.source.slice(t.tokenIndex,t.index)),134283267}function en(t){if(t.startIndex=t.tokenIndex=t.index,t.startColumn=t.tokenColumn=t.column,t.startLine=t.tokenLine=t.line,t.index>=t.end){t.setToken(1048576);return}if(t.currentChar===60){S(t),t.setToken(8456256);return}if(t.currentChar===123){S(t),t.setToken(2162700);return}let e=0;for(;t.index<t.end;){const i=O[t.source.charCodeAt(t.index)];if(i&1024?(e|=5,ht(t)):i&2048?(ls(t,e),e=e&-5|1):S(t),O[t.currentChar]&16384)break}t.tokenIndex===t.index&&t.report(0);const n=t.source.slice(t.tokenIndex,t.index);t.options.raw&&(t.tokenRaw=n),t.tokenValue=t2(n),t.setToken(137)}function Ui(t){if((t.getToken()&143360)===143360){const{index:e}=t;let n=t.currentChar;for(;O[n]&32770;)n=S(t);t.tokenValue+=t.source.slice(e,t.index),t.setToken(208897,!0)}return t.getToken()}class ps{parser;type;parent;scopeError;variableBindings=new Map;constructor(e,n=2,i){this.parser=e,this.type=n,this.parent=i}createChildScope(e){return new ps(this.parser,e,this)}addVarOrBlock(e,n,i,s){i&4?this.addVarName(e,n,i):this.addBlockName(e,n,i,s),s&64&&this.parser.declareUnboundVariable(n)}addVarName(e,n,i){const{parser:s}=this;let o=this;for(;o&&(o.type&128)===0;){const{variableBindings:r}=o,a=r.get(n);a&&a&248&&(s.options.webcompat&&(e&1)===0&&(i&128&&a&68||a&128&&i&68)||s.report(145,n)),o===this&&a&&a&1&&i&1&&o.recordScopeError(145,n),a&&(a&256||a&512&&!s.options.webcompat)&&s.report(145,n),o.variableBindings.set(n,i),o=o.parent}}hasVariable(e){return this.variableBindings.has(e)}addBlockName(e,n,i,s){const{parser:o}=this,r=this.variableBindings.get(n);r&&(r&2)===0&&(i&1?this.recordScopeError(145,n):o.options.webcompat&&(e&1)===0&&s&2&&r===64&&i===64||o.report(145,n)),this.type&64&&this.parent?.hasVariable(n)&&(this.parent.variableBindings.get(n)&2)===0&&o.report(145,n),this.type&512&&r&&(r&2)===0&&i&1&&this.recordScopeError(145,n),this.type&32&&this.parent.variableBindings.get(n)&768&&o.report(159,n),this.variableBindings.set(n,i)}recordScopeError(e,...n){this.scopeError={type:e,params:n,start:this.parser.tokenStart,end:this.parser.currentLocation}}reportScopeError(){const{scopeError:e}=this;if(e)throw new ee(e.start,e.end,e.type,...e.params)}}function ti(t,e,n){const i=t.createScope().createChildScope(512);return i.addBlockName(e,n,1,0),i}class o2{parser;parent;refs=Object.create(null);privateIdentifiers=new Map;constructor(e,n){this.parser=e,this.parent=n}addPrivateIdentifier(e,n){const{privateIdentifiers:i}=this;let s=n&800;s&768||(s|=768);const o=i.get(e);this.hasPrivateIdentifier(e)&&((o&32)!==(s&32)||o&s&768)&&this.parser.report(146,e),i.set(e,this.hasPrivateIdentifier(e)?o|s:s)}addPrivateIdentifierRef(e){this.refs[e]??=[],this.refs[e].push(this.parser.tokenStart)}isPrivateIdentifierDefined(e){return this.hasPrivateIdentifier(e)||!!this.parent?.isPrivateIdentifierDefined(e)}validatePrivateIdentifierRefs(){for(const e in this.refs)if(!this.isPrivateIdentifierDefined(e)){const{index:n,line:i,column:s}=this.refs[e][0];throw new ee({index:n,line:i,column:s},{index:n+e.length,line:i,column:s+e.length},4,e)}}hasPrivateIdentifier(e){return this.privateIdentifiers.has(e)}}class r2{source;options;lastOnToken=null;token=1048576;flags=0;index=0;line=1;column=0;startIndex=0;end=0;tokenIndex=0;startColumn=0;tokenColumn=0;tokenLine=1;startLine=1;tokenValue="";tokenRaw="";tokenRegExp=void 0;currentChar=0;exportedNames=new Set;exportedBindings=new Set;assignable=1;destructible=0;leadingDecorators={decorators:[]};constructor(e,n={}){this.source=e,this.options=n,this.end=e.length,this.currentChar=e.charCodeAt(0)}getToken(){return this.token}setToken(e,n=!1){this.token=e;const{onToken:i}=this.options;if(i)if(e!==1048576){const s={start:{line:this.tokenLine,column:this.tokenColumn},end:{line:this.line,column:this.column}};!n&&this.lastOnToken&&i(...this.lastOnToken),this.lastOnToken=[O_(e),this.tokenIndex,this.index,s]}else this.lastOnToken&&(i(...this.lastOnToken),this.lastOnToken=null);return e}get tokenStart(){return{index:this.tokenIndex,line:this.tokenLine,column:this.tokenColumn}}get currentLocation(){return{index:this.index,line:this.line,column:this.column}}finishNode(e,n,i){if(this.options.ranges){e.start=n.index;const s=i?i.index:this.startIndex;e.end=s,e.range=[n.index,s]}return this.options.loc&&(e.loc={start:{line:n.line,column:n.column},end:i?{line:i.line,column:i.column}:{line:this.startLine,column:this.startColumn}},this.options.source&&(e.loc.source=this.options.source)),e}addBindingToExports(e){this.exportedBindings.add(e)}declareUnboundVariable(e){const{exportedNames:n}=this;n.has(e)&&this.report(147,e),n.add(e)}report(e,...n){throw new ee(this.tokenStart,this.currentLocation,e,...n)}createScopeIfLexical(e,n){if(this.options.lexical)return this.createScope(e,n)}createScope(e,n){return new ps(this,e,n)}createPrivateScopeIfLexical(e){if(this.options.lexical)return new o2(this,e)}}function a2(t,e){return function(n,i,s,o,r){const a={type:n,value:i};e.ranges&&(a.start=s,a.end=o,a.range=[s,o]),e.loc&&(a.loc=r),t.push(a)}}function c2(t,e){return function(n,i,s,o){const r={token:n};e.ranges&&(r.start=i,r.end=s,r.range=[i,s]),e.loc&&(r.loc=o),t.push(r)}}function u2(t){const e={...t};return e.onComment&&(e.onComment=Array.isArray(e.onComment)?a2(e.onComment,e):e.onComment),e.onToken&&(e.onToken=Array.isArray(e.onToken)?c2(e.onToken,e):e.onToken),e}function l2(t,e={},n=0){const i=u2(e);i.module&&(n|=3),i.globalReturn&&(n|=4096),i.impliedStrict&&(n|=1);const s=new r2(t,i);U_(s);const o=s.createScopeIfLexical();let r=[],a="script";if(n&2){if(a="module",r=h2(s,n|8,o),o)for(const l of s.exportedBindings)o.hasVariable(l)||s.report(148,l)}else r=d2(s,n|8,o);return s.finishNode({type:"Program",sourceType:a,body:r},{index:0,line:1,column:0},s.currentLocation)}function d2(t,e,n){A(t,e|32|262144);const i=[];for(;t.getToken()===134283267;){const{index:s,tokenValue:o,tokenStart:r,tokenIndex:a}=t,l=t.getToken(),f=ae(t,e);if(Wc(t,s,a,o)){if(e|=1,t.flags&64)throw new ee(t.tokenStart,t.currentLocation,9);if(t.flags&4096)throw new ee(t.tokenStart,t.currentLocation,15)}i.push(_s(t,e,f,l,r))}for(;t.getToken()!==1048576;)i.push(tn(t,e,n,void 0,4,{}));return i}function h2(t,e,n){A(t,e|32);const i=[];for(;t.getToken()===134283267;){const{tokenStart:s}=t,o=t.getToken();i.push(_s(t,e,ae(t,e),o,s))}for(;t.getToken()!==1048576;)i.push(f2(t,e,n));return i}function f2(t,e,n){t.getToken()===132&&Object.assign(t.leadingDecorators,{start:t.tokenStart,decorators:si(t,e,void 0)});let i;switch(t.getToken()){case 20564:i=M2(t,e,n);break;case 86106:i=R2(t,e,n);break;default:i=tn(t,e,n,void 0,4,{})}return t.leadingDecorators?.decorators.length&&t.report(170),i}function tn(t,e,n,i,s,o){const r=t.tokenStart;switch(t.getToken()){case 86104:return Ze(t,e,n,i,s,1,0,0,r);case 132:case 86094:return Hi(t,e,n,i,0);case 86090:return Fi(t,e,n,i,16,0);case 241737:return A2(t,e,n,i,s);case 20564:t.report(103,"export");case 86106:switch(A(t,e),t.getToken()){case 67174411:return tu(t,e,i,r);case 67108877:return eu(t,e,r);default:t.report(103,"import")}case 209005:return Xc(t,e,n,i,s,o,1);default:return nn(t,e,n,i,s,o,1)}}function nn(t,e,n,i,s,o,r){switch(t.getToken()){case 86088:return Qc(t,e,n,i,0);case 20572:return m2(t,e,i);case 20569:return g2(t,e,n,i,o);case 20567:return D2(t,e,n,i,o);case 20562:return E2(t,e,n,i,o);case 20578:return w2(t,e,n,i,o);case 86110:return y2(t,e,n,i,o);case 1074790417:return _2(t,e);case 2162700:return Gt(t,e,n?.createChildScope(),i,o,t.tokenStart);case 86112:return b2(t,e,i);case 20555:return T2(t,e,o);case 20559:return k2(t,e,o);case 20577:return v2(t,e,n,i,o);case 20579:return C2(t,e,n,i,o);case 20560:return I2(t,e);case 209005:return Xc(t,e,n,i,s,o,0);case 20557:t.report(162);case 20566:t.report(163);case 86104:t.report(e&1?76:t.options.webcompat?77:78);case 86094:t.report(79);default:return p2(t,e,n,i,s,o,r)}}function p2(t,e,n,i,s,o,r){const{tokenValue:a,tokenStart:l}=t,f=t.getToken();let d;switch(f){case 241737:d=H(t,e),e&1&&t.report(85),t.getToken()===69271571&&t.report(84);break;default:d=ke(t,e,i,2,0,1,0,1,t.tokenStart)}return f&143360&&t.getToken()===21?ms(t,e,n,i,s,o,a,d,f,r,l):(d=F(t,e,i,d,0,0,l),d=z(t,e,i,0,0,l,d),t.getToken()===18&&(d=Ye(t,e,i,0,l,d)),Pt(t,e,d,l))}function Gt(t,e,n,i,s,o=t.tokenStart,r="BlockStatement"){const a=[];for(R(t,e|32,2162700);t.getToken()!==1074790415;)a.push(tn(t,e,n,i,2,{$:s}));return R(t,e|32,1074790415),t.finishNode({type:r,body:a},o)}function m2(t,e,n){(e&4096)===0&&t.report(92);const i=t.tokenStart;A(t,e|32);const s=t.flags&1||t.getToken()&1048576?null:he(t,e,n,0,1,t.tokenStart);return pe(t,e|32),t.finishNode({type:"ReturnStatement",argument:s},i)}function Pt(t,e,n,i){return pe(t,e|32),t.finishNode({type:"ExpressionStatement",expression:n},i)}function ms(t,e,n,i,s,o,r,a,l,f,d){Mn(t,e,0,l,1),z_(t,o,r),A(t,e|32);const p=f&&(e&1)===0&&t.options.webcompat&&t.getToken()===86104?Ze(t,e,n?.createChildScope(),i,s,0,0,0,t.tokenStart):nn(t,e,n,i,s,o,f);return t.finishNode({type:"LabeledStatement",label:a,body:p},d)}function Xc(t,e,n,i,s,o,r){const{tokenValue:a,tokenStart:l}=t,f=t.getToken();let d=H(t,e);if(t.getToken()===21)return ms(t,e,n,i,s,o,a,d,f,1,l);const p=t.flags&1;if(!p){if(t.getToken()===86104)return r||t.report(123),Ze(t,e,n,i,s,1,0,1,l);if(Zt(e,t.getToken()))return d=cu(t,e,i,1,l),t.getToken()===18&&(d=Ye(t,e,i,0,l,d)),Pt(t,e,d,l)}return t.getToken()===67174411?d=Ts(t,e,i,d,1,1,0,p,l):(t.getToken()===10&&(Zn(t,e,f),(f&36864)===36864&&(t.flags|=256),d=ii(t,e|2048,i,t.tokenValue,d,0,1,0,l)),t.assignable=1),d=F(t,e,i,d,0,0,l),d=z(t,e,i,0,0,l,d),t.assignable=1,t.getToken()===18&&(d=Ye(t,e,i,0,l,d)),Pt(t,e,d,l)}function _s(t,e,n,i,s){const o=t.startIndex;i!==1074790417&&(t.assignable=2,n=F(t,e,void 0,n,0,0,s),t.getToken()!==1074790417&&(n=z(t,e,void 0,0,0,s,n),t.getToken()===18&&(n=Ye(t,e,void 0,0,s,n))),pe(t,e|32));const r={type:"ExpressionStatement",expression:n};return n.type==="Literal"&&typeof n.value=="string"&&(r.directive=t.source.slice(s.index+1,o-1)),t.finishNode(r,s)}function _2(t,e){const n=t.tokenStart;return A(t,e|32),t.finishNode({type:"EmptyStatement"},n)}function b2(t,e,n){const i=t.tokenStart;A(t,e|32),t.flags&1&&t.report(90);const s=he(t,e,n,0,1,t.tokenStart);return pe(t,e|32),t.finishNode({type:"ThrowStatement",argument:s},i)}function g2(t,e,n,i,s){const o=t.tokenStart;A(t,e),R(t,e|32,67174411),t.assignable=1;const r=he(t,e,i,0,1,t.tokenStart);R(t,e|32,16);const a=jr(t,e,n,i,s);let l=null;return t.getToken()===20563&&(A(t,e|32),l=jr(t,e,n,i,s)),t.finishNode({type:"IfStatement",test:r,consequent:a,alternate:l},o)}function jr(t,e,n,i,s){const{tokenStart:o}=t;return e&1||!t.options.webcompat||t.getToken()!==86104?nn(t,e,n,i,0,{$:s},0):Ze(t,e,n?.createChildScope(),i,0,0,0,0,o)}function y2(t,e,n,i,s){const o=t.tokenStart;A(t,e),R(t,e|32,67174411);const r=he(t,e,i,0,1,t.tokenStart);R(t,e,16),R(t,e,2162700);const a=[];let l=0;for(n=n?.createChildScope(8);t.getToken()!==1074790415;){const{tokenStart:f}=t;let d=null;const p=[];for(N(t,e|32,20556)?d=he(t,e,i,0,1,t.tokenStart):(R(t,e|32,20561),l&&t.report(89),l=1),R(t,e|32,21);t.getToken()!==20556&&t.getToken()!==1074790415&&t.getToken()!==20561;)p.push(tn(t,e|4,n,i,2,{$:s}));a.push(t.finishNode({type:"SwitchCase",test:d,consequent:p},f))}return R(t,e|32,1074790415),t.finishNode({type:"SwitchStatement",discriminant:r,cases:a},o)}function w2(t,e,n,i,s){const o=t.tokenStart;A(t,e),R(t,e|32,67174411);const r=he(t,e,i,0,1,t.tokenStart);R(t,e|32,16);const a=jt(t,e,n,i,s);return t.finishNode({type:"WhileStatement",test:r,body:a},o)}function jt(t,e,n,i,s){return nn(t,(e|131072)^131072|128,n,i,0,{loop:1,$:s},0)}function k2(t,e,n){(e&128)===0&&t.report(68);const i=t.tokenStart;A(t,e);let s=null;if((t.flags&1)===0&&t.getToken()&143360){const{tokenValue:o}=t;s=H(t,e|32),zc(t,n,o,1)||t.report(138,o)}return pe(t,e|32),t.finishNode({type:"ContinueStatement",label:s},i)}function T2(t,e,n){const i=t.tokenStart;A(t,e|32);let s=null;if((t.flags&1)===0&&t.getToken()&143360){const{tokenValue:o}=t;s=H(t,e|32),zc(t,n,o,0)||t.report(138,o)}else(e&132)===0&&t.report(69);return pe(t,e|32),t.finishNode({type:"BreakStatement",label:s},i)}function C2(t,e,n,i,s){const o=t.tokenStart;A(t,e),e&1&&t.report(91),R(t,e|32,67174411);const r=he(t,e,i,0,1,t.tokenStart);R(t,e|32,16);const a=nn(t,e,n,i,2,s,0);return t.finishNode({type:"WithStatement",object:r,body:a},o)}function I2(t,e){const n=t.tokenStart;return A(t,e|32),pe(t,e|32),t.finishNode({type:"DebuggerStatement"},n)}function v2(t,e,n,i,s){const o=t.tokenStart;A(t,e|32);const r=n?.createChildScope(16),a=Gt(t,e,r,i,{$:s}),{tokenStart:l}=t,f=N(t,e|32,20557)?x2(t,e,n,i,s,l):null;let d=null;if(t.getToken()===20566){A(t,e|32);const p=n?.createChildScope(4);d=Gt(t,e,p,i,{$:s})}return!f&&!d&&t.report(88),t.finishNode({type:"TryStatement",block:a,handler:f,finalizer:d},o)}function x2(t,e,n,i,s,o){let r=null,a=n;N(t,e,67174411)&&(n=n?.createChildScope(4),r=du(t,e,n,i,(t.getToken()&2097152)===2097152?256:512,0),t.getToken()===18?t.report(86):t.getToken()===1077936155&&t.report(87),R(t,e|32,16)),a=n?.createChildScope(32);const l=Gt(t,e,a,i,{$:s});return t.finishNode({type:"CatchClause",param:r,body:l},o)}function S2(t,e,n,i,s){n=n?.createChildScope();const o=5764;return e=(e|o)^o|256|2048|524288|65536,Gt(t,e,n,i,{},s,"StaticBlock")}function E2(t,e,n,i,s){const o=t.tokenStart;A(t,e|32);const r=jt(t,e,n,i,s);R(t,e,20578),R(t,e|32,67174411);const a=he(t,e,i,0,1,t.tokenStart);return R(t,e|32,16),N(t,e|32,1074790417),t.finishNode({type:"DoWhileStatement",body:r,test:a},o)}function A2(t,e,n,i,s){const{tokenValue:o,tokenStart:r}=t,a=t.getToken();let l=H(t,e);if(t.getToken()&2240512){const f=xt(t,e,n,i,8,0);return pe(t,e|32),t.finishNode({type:"VariableDeclaration",kind:"let",declarations:f},r)}if(t.assignable=1,e&1&&t.report(85),t.getToken()===21)return ms(t,e,n,i,s,{},o,l,a,0,r);if(t.getToken()===10){let f;t.options.lexical&&(f=ti(t,e,o)),t.flags=(t.flags|128)^128,l=sn(t,e,f,i,[l],0,r)}else l=F(t,e,i,l,0,0,r),l=z(t,e,i,0,0,r,l);return t.getToken()===18&&(l=Ye(t,e,i,0,r,l)),Pt(t,e,l,r)}function Fi(t,e,n,i,s,o){const r=t.tokenStart;A(t,e);const a=xt(t,e,n,i,s,o);return pe(t,e|32),t.finishNode({type:"VariableDeclaration",kind:s&8?"let":"const",declarations:a},r)}function Qc(t,e,n,i,s){const o=t.tokenStart;A(t,e);const r=xt(t,e,n,i,4,s);return pe(t,e|32),t.finishNode({type:"VariableDeclaration",kind:"var",declarations:r},o)}function xt(t,e,n,i,s,o){let r=1;const a=[$r(t,e,n,i,s,o)];for(;N(t,e,18);)r++,a.push($r(t,e,n,i,s,o));return r>1&&o&32&&t.getToken()&262144&&t.report(61,V[t.getToken()&255]),a}function $r(t,e,n,i,s,o){const{tokenStart:r}=t,a=t.getToken();let l=null;const f=du(t,e,n,i,s,o);if(t.getToken()===1077936155){if(A(t,e|32),l=W(t,e,i,1,0,t.tokenStart),(o&32||(a&2097152)===0)&&(t.getToken()===471156||t.getToken()===8673330&&(a&2097152||(s&4)===0||e&1)))throw new ee(r,t.currentLocation,60,t.getToken()===471156?"of":"in")}else(s&16||(a&2097152)>0)&&(t.getToken()&262144)!==262144&&t.report(59,s&16?"const":"destructuring");return t.finishNode({type:"VariableDeclarator",id:f,init:l},r)}function D2(t,e,n,i,s){const o=t.tokenStart;A(t,e);const r=((e&2048)>0||(e&2)>0&&(e&8)>0)&&N(t,e,209006);R(t,e|32,67174411),n=n?.createChildScope(1);let a=null,l=null,f=0,d=null,p=t.getToken()===86088||t.getToken()===241737||t.getToken()===86090,b;const{tokenStart:w}=t,g=t.getToken();if(p)g===241737?(d=H(t,e),t.getToken()&2240512?(t.getToken()===8673330?e&1&&t.report(67):d=t.finishNode({type:"VariableDeclaration",kind:"let",declarations:xt(t,e|131072,n,i,8,32)},w),t.assignable=1):e&1?t.report(67):(p=!1,t.assignable=1,d=F(t,e,i,d,0,0,w),t.getToken()===471156&&t.report(115))):(A(t,e),d=t.finishNode(g===86088?{type:"VariableDeclaration",kind:"var",declarations:xt(t,e|131072,n,i,4,32)}:{type:"VariableDeclaration",kind:"const",declarations:xt(t,e|131072,n,i,16,32)},w),t.assignable=1);else if(g===1074790417)r&&t.report(82);else if((g&2097152)===2097152){const v=t.tokenStart;d=g===2162700?xe(t,e,void 0,i,1,0,0,2,32):ve(t,e,void 0,i,1,0,0,2,32),f=t.destructible,f&64&&t.report(63),t.assignable=f&16?2:1,d=F(t,e|131072,i,d,0,0,v)}else d=Ie(t,e|131072,i,1,0,1);if((t.getToken()&262144)===262144){if(t.getToken()===471156){t.assignable&2&&t.report(80,r?"await":"of"),Re(t,d),A(t,e|32),b=W(t,e,i,1,0,t.tokenStart),R(t,e|32,16);const T=jt(t,e,n,i,s);return t.finishNode({type:"ForOfStatement",left:d,right:b,body:T,await:r},o)}t.assignable&2&&t.report(80,"in"),Re(t,d),A(t,e|32),r&&t.report(82),b=he(t,e,i,0,1,t.tokenStart),R(t,e|32,16);const v=jt(t,e,n,i,s);return t.finishNode({type:"ForInStatement",body:v,left:d,right:b},o)}r&&t.report(82),p||(f&8&&t.getToken()!==1077936155&&t.report(80,"loop"),d=z(t,e|131072,i,0,0,w,d)),t.getToken()===18&&(d=Ye(t,e,i,0,w,d)),R(t,e|32,1074790417),t.getToken()!==1074790417&&(a=he(t,e,i,0,1,t.tokenStart)),R(t,e|32,1074790417),t.getToken()!==16&&(l=he(t,e,i,0,1,t.tokenStart)),R(t,e|32,16);const I=jt(t,e,n,i,s);return t.finishNode({type:"ForStatement",init:d,test:a,update:l,body:I},o)}function Zc(t,e,n){return Zt(e,t.getToken())||t.report(118),(t.getToken()&537079808)===537079808&&t.report(119),n?.addBlockName(e,t.tokenValue,8,0),H(t,e)}function R2(t,e,n){const i=t.tokenStart;A(t,e);let s=null;const{tokenStart:o}=t;let r=[];if(t.getToken()===134283267)s=ae(t,e);else{if(t.getToken()&143360){const f=Zc(t,e,n);if(r=[t.finishNode({type:"ImportDefaultSpecifier",local:f},o)],N(t,e,18))switch(t.getToken()){case 8391476:r.push(Wr(t,e,n));break;case 2162700:Yr(t,e,n,r);break;default:t.report(107)}}else switch(t.getToken()){case 8391476:r=[Wr(t,e,n)];break;case 2162700:Yr(t,e,n,r);break;case 67174411:return tu(t,e,void 0,i);case 67108877:return eu(t,e,i);default:t.report(30,V[t.getToken()&255])}s=P2(t,e)}const a=qi(t,e),l={type:"ImportDeclaration",specifiers:r,source:s,attributes:a};return pe(t,e|32),t.finishNode(l,i)}function Wr(t,e,n){const{tokenStart:i}=t;if(A(t,e),R(t,e,77932),(t.getToken()&134217728)===134217728)throw new ee(i,t.currentLocation,30,V[t.getToken()&255]);return t.finishNode({type:"ImportNamespaceSpecifier",local:Zc(t,e,n)},i)}function P2(t,e){return R(t,e,209011),t.getToken()!==134283267&&t.report(105,"Import"),ae(t,e)}function Yr(t,e,n,i){for(A(t,e);t.getToken()&143360||t.getToken()===134283267;){let{tokenValue:s,tokenStart:o}=t;const r=t.getToken(),a=Sn(t,e);let l;N(t,e,77932)?((t.getToken()&134217728)===134217728||t.getToken()===18?t.report(106):Mn(t,e,16,t.getToken(),0),s=t.tokenValue,l=H(t,e)):a.type==="Identifier"?(Mn(t,e,16,r,0),l=a):t.report(25,V[108]),n?.addBlockName(e,s,8,0),i.push(t.finishNode({type:"ImportSpecifier",local:l,imported:a},o)),t.getToken()!==1074790415&&R(t,e,18)}return R(t,e,1074790415),i}function eu(t,e,n){let i=nu(t,e,t.finishNode({type:"Identifier",name:"import"},n),n);return i=F(t,e,void 0,i,0,0,n),i=z(t,e,void 0,0,0,n,i),t.getToken()===18&&(i=Ye(t,e,void 0,0,n,i)),Pt(t,e,i,n)}function tu(t,e,n,i){let s=iu(t,e,n,0,i);return s=F(t,e,n,s,0,0,i),t.getToken()===18&&(s=Ye(t,e,n,0,i,s)),Pt(t,e,s,i)}function M2(t,e,n){const i=t.leadingDecorators.decorators.length?t.leadingDecorators.start:t.tokenStart;A(t,e|32);const s=[];let o=null,r=null,a=[];if(N(t,e|32,20561)){switch(t.getToken()){case 86104:{o=Ze(t,e,n,void 0,4,1,1,0,t.tokenStart);break}case 132:case 86094:o=Hi(t,e,n,void 0,1);break;case 209005:{const{tokenStart:f}=t;o=H(t,e);const{flags:d}=t;(d&1)===0&&(t.getToken()===86104?o=Ze(t,e,n,void 0,4,1,1,1,f):t.getToken()===67174411?(o=Ts(t,e,void 0,o,1,1,0,d,f),o=F(t,e,void 0,o,0,0,f),o=z(t,e,void 0,0,0,f,o)):t.getToken()&143360&&(n&&(n=ti(t,e,t.tokenValue)),o=H(t,e),o=sn(t,e,n,void 0,[o],1,f)));break}default:o=W(t,e,void 0,1,0,t.tokenStart),pe(t,e|32)}return n&&t.declareUnboundVariable("default"),t.finishNode({type:"ExportDefaultDeclaration",declaration:o},i)}switch(t.getToken()){case 8391476:{A(t,e);let f=null;N(t,e,77932)&&(n&&t.declareUnboundVariable(t.tokenValue),f=Sn(t,e)),R(t,e,209011),t.getToken()!==134283267&&t.report(105,"Export"),r=ae(t,e);const p=qi(t,e),b={type:"ExportAllDeclaration",source:r,exported:f,attributes:p};return pe(t,e|32),t.finishNode(b,i)}case 2162700:{A(t,e);const f=[],d=[];let p=0;for(;t.getToken()&143360||t.getToken()===134283267;){const{tokenStart:b,tokenValue:w}=t,g=Sn(t,e);g.type==="Literal"&&(p=1);let I;t.getToken()===77932?(A(t,e),(t.getToken()&143360)===0&&t.getToken()!==134283267&&t.report(106),n&&(f.push(t.tokenValue),d.push(w)),I=Sn(t,e)):(n&&(f.push(t.tokenValue),d.push(t.tokenValue)),I=g),s.push(t.finishNode({type:"ExportSpecifier",local:g,exported:I},b)),t.getToken()!==1074790415&&R(t,e,18)}R(t,e,1074790415),N(t,e,209011)?(t.getToken()!==134283267&&t.report(105,"Export"),r=ae(t,e),a=qi(t,e),n&&f.forEach(b=>t.declareUnboundVariable(b))):(p&&t.report(172),n&&(f.forEach(b=>t.declareUnboundVariable(b)),d.forEach(b=>t.addBindingToExports(b)))),pe(t,e|32);break}case 132:case 86094:o=Hi(t,e,n,void 0,2);break;case 86104:o=Ze(t,e,n,void 0,4,1,2,0,t.tokenStart);break;case 241737:o=Fi(t,e,n,void 0,8,64);break;case 86090:o=Fi(t,e,n,void 0,16,64);break;case 86088:o=Qc(t,e,n,void 0,64);break;case 209005:{const{tokenStart:f}=t;if(A(t,e),(t.flags&1)===0&&t.getToken()===86104){o=Ze(t,e,n,void 0,4,1,2,1,f);break}}default:t.report(30,V[t.getToken()&255])}const l={type:"ExportNamedDeclaration",declaration:o,specifiers:s,source:r,attributes:a};return t.finishNode(l,i)}function W(t,e,n,i,s,o){let r=ke(t,e,n,2,0,i,s,1,o);return r=F(t,e,n,r,s,0,o),z(t,e,n,s,0,o,r)}function Ye(t,e,n,i,s,o){const r=[o];for(;N(t,e|32,18);)r.push(W(t,e,n,1,i,t.tokenStart));return t.finishNode({type:"SequenceExpression",expressions:r},s)}function he(t,e,n,i,s,o){const r=W(t,e,n,s,i,o);return t.getToken()===18?Ye(t,e,n,i,o,r):r}function z(t,e,n,i,s,o,r){const a=t.getToken();if((a&4194304)===4194304){t.assignable&2&&t.report(26),(!s&&a===1077936155&&r.type==="ArrayExpression"||r.type==="ObjectExpression")&&Re(t,r),A(t,e|32);const l=W(t,e,n,1,i,t.tokenStart);return t.assignable=2,t.finishNode(s?{type:"AssignmentPattern",left:r,right:l}:{type:"AssignmentExpression",left:r,operator:V[a&255],right:l},o)}return(a&8388608)===8388608&&(r=Qe(t,e,n,i,o,4,a,r)),N(t,e|32,22)&&(r=ct(t,e,n,r,o)),r}function yn(t,e,n,i,s,o,r){const a=t.getToken();A(t,e|32);const l=W(t,e,n,1,i,t.tokenStart);return r=t.finishNode(s?{type:"AssignmentPattern",left:r,right:l}:{type:"AssignmentExpression",left:r,operator:V[a&255],right:l},o),t.assignable=2,r}function ct(t,e,n,i,s){const o=W(t,(e|131072)^131072,n,1,0,t.tokenStart);R(t,e|32,21),t.assignable=1;const r=W(t,e,n,1,0,t.tokenStart);return t.assignable=2,t.finishNode({type:"ConditionalExpression",test:i,consequent:o,alternate:r},s)}function Qe(t,e,n,i,s,o,r,a){const l=-((e&131072)>0)&8673330;let f,d;for(t.assignable=2;t.getToken()&8388608&&(f=t.getToken(),d=f&3840,(f&524288&&r&268435456||r&524288&&f&268435456)&&t.report(165),!(d+((f===8391735)<<8)-((l===f)<<12)<=o));)A(t,e|32),a=t.finishNode({type:f&524288||f&268435456?"LogicalExpression":"BinaryExpression",left:a,right:Qe(t,e,n,i,t.tokenStart,d,f,Ie(t,e,n,0,i,1)),operator:V[f&255]},s);return t.getToken()===1077936155&&t.report(26),a}function B2(t,e,n,i,s){i||t.report(0);const{tokenStart:o}=t,r=t.getToken();A(t,e|32);const a=Ie(t,e,n,0,s,1);return t.getToken()===8391735&&t.report(33),e&1&&r===16863276&&(a.type==="Identifier"?t.report(121):K_(a)&&t.report(127)),t.assignable=2,t.finishNode({type:"UnaryExpression",operator:V[r&255],argument:a,prefix:!0},o)}function L2(t,e,n,i,s,o,r,a){const l=t.getToken(),f=H(t,e),{flags:d}=t;if((d&1)===0){if(t.getToken()===86104)return ou(t,e,n,1,i,a);if(Zt(e,t.getToken()))return s||t.report(0),(t.getToken()&36864)===36864&&(t.flags|=256),cu(t,e,n,o,a)}return!r&&t.getToken()===67174411?Ts(t,e,n,f,o,1,0,d,a):t.getToken()===10?(Zn(t,e,l),r&&t.report(51),(l&36864)===36864&&(t.flags|=256),ii(t,e,n,t.tokenValue,f,r,o,0,a)):(t.assignable=1,f)}function N2(t,e,n,i,s,o){if(i&&(t.destructible|=256),e&1024){A(t,e|32),e&8192&&t.report(32),s||t.report(26),t.getToken()===22&&t.report(124);let r=null,a=!1;return(t.flags&1)===0?(a=N(t,e|32,8391476),(t.getToken()&77824||a)&&(r=W(t,e,n,1,0,t.tokenStart))):t.getToken()===8391476&&t.report(30,V[t.getToken()&255]),t.assignable=2,t.finishNode({type:"YieldExpression",argument:r,delegate:a},o)}return e&1&&t.report(97,"yield"),ks(t,e,n)}function O2(t,e,n,i,s,o){s&&(t.destructible|=128),e&524288&&t.report(177);const r=ks(t,e,n);if(r.type==="ArrowFunctionExpression"||(t.getToken()&65536)===0){if(e&2048)throw new ee(o,{index:t.startIndex,line:t.startLine,column:t.startColumn},176);if(e&2)throw new ee(o,{index:t.startIndex,line:t.startLine,column:t.startColumn},110);if(e&8192&&e&2048)throw new ee(o,{index:t.startIndex,line:t.startLine,column:t.startColumn},110);return r}if(e&8192)throw new ee(o,{index:t.startIndex,line:t.startLine,column:t.startColumn},31);if(e&2048||e&2&&e&8){if(i)throw new ee(o,{index:t.startIndex,line:t.startLine,column:t.startColumn},0);const l=Ie(t,e,n,0,0,1);return t.getToken()===8391735&&t.report(33),t.assignable=2,t.finishNode({type:"AwaitExpression",argument:l},o)}if(e&2)throw new ee(o,{index:t.startIndex,line:t.startLine,column:t.startColumn},98);return r}function ni(t,e,n,i,s,o,r){const{tokenStart:a}=t;R(t,e|32,2162700);const l=[];if(t.getToken()!==1074790415){for(;t.getToken()===134283267;){const{index:f,tokenStart:d,tokenIndex:p,tokenValue:b}=t,w=t.getToken(),g=ae(t,e);if(Wc(t,f,p,b)){if(e|=1,t.flags&128)throw new ee(d,t.currentLocation,66);if(t.flags&64)throw new ee(d,t.currentLocation,9);if(t.flags&4096)throw new ee(d,t.currentLocation,15);r?.reportScopeError()}l.push(_s(t,e,g,w,d))}e&1&&(o&&((o&537079808)===537079808&&t.report(119),(o&36864)===36864&&t.report(40)),t.flags&512&&t.report(119),t.flags&256&&t.report(118))}for(t.flags=(t.flags|512|256|64|4096)^4928,t.destructible=(t.destructible|256)^256;t.getToken()!==1074790415;)l.push(tn(t,e,n,i,4,{}));return R(t,s&24?e|32:e,1074790415),t.flags&=-4289,t.getToken()===1077936155&&t.report(26),t.finishNode({type:"BlockStatement",body:l},a)}function V2(t,e){const{tokenStart:n}=t;switch(A(t,e),t.getToken()){case 67108990:t.report(167);case 67174411:{(e&512)===0&&t.report(28),t.assignable=2;break}case 69271571:case 67108877:{(e&256)===0&&t.report(29),t.assignable=1;break}default:t.report(30,"super")}return t.finishNode({type:"Super"},n)}function Ie(t,e,n,i,s,o){const r=t.tokenStart,a=ke(t,e,n,2,0,i,s,o,r);return F(t,e,n,a,s,0,r)}function U2(t,e,n,i){t.assignable&2&&t.report(55);const s=t.getToken();return A(t,e),t.assignable=2,t.finishNode({type:"UpdateExpression",argument:n,operator:V[s&255],prefix:!1},i)}function F(t,e,n,i,s,o,r){if((t.getToken()&33619968)===33619968&&(t.flags&1)===0)i=U2(t,e,i,r);else if((t.getToken()&67108864)===67108864){switch(e=(e|131072)^131072,t.getToken()){case 67108877:{A(t,(e|262144|8)^8),e&16&&t.getToken()===130&&t.tokenValue==="super"&&t.report(173),t.assignable=1;const a=bs(t,e|64,n);i=t.finishNode({type:"MemberExpression",object:i,computed:!1,property:a,optional:!1},r);break}case 69271571:{let a=!1;(t.flags&2048)===2048&&(a=!0,t.flags=(t.flags|2048)^2048),A(t,e|32);const{tokenStart:l}=t,f=he(t,e,n,s,1,l);R(t,e,20),t.assignable=1,i=t.finishNode({type:"MemberExpression",object:i,computed:!0,property:f,optional:!1},r),a&&(t.flags|=2048);break}case 67174411:{if((t.flags&1024)===1024)return t.flags=(t.flags|1024)^1024,i;let a=!1;(t.flags&2048)===2048&&(a=!0,t.flags=(t.flags|2048)^2048);const l=ws(t,e,n,s);t.assignable=2,i=t.finishNode({type:"CallExpression",callee:i,arguments:l,optional:!1},r),a&&(t.flags|=2048);break}case 67108990:{A(t,(e|262144|8)^8),t.flags|=2048,t.assignable=2,i=F2(t,e,n,i,r);break}default:(t.flags&2048)===2048&&t.report(166),t.assignable=2,i=t.finishNode({type:"TaggedTemplateExpression",tag:i,quasi:t.getToken()===67174408?ys(t,e|64,n):gs(t,e)},r)}i=F(t,e,n,i,0,1,r)}return o===0&&(t.flags&2048)===2048&&(t.flags=(t.flags|2048)^2048,i=t.finishNode({type:"ChainExpression",expression:i},r)),i}function F2(t,e,n,i,s){let o=!1,r;if((t.getToken()===69271571||t.getToken()===67174411)&&(t.flags&2048)===2048&&(o=!0,t.flags=(t.flags|2048)^2048),t.getToken()===69271571){A(t,e|32);const{tokenStart:a}=t,l=he(t,e,n,0,1,a);R(t,e,20),t.assignable=2,r=t.finishNode({type:"MemberExpression",object:i,computed:!0,optional:!0,property:l},s)}else if(t.getToken()===67174411){const a=ws(t,e,n,0);t.assignable=2,r=t.finishNode({type:"CallExpression",callee:i,arguments:a,optional:!0},s)}else{const a=bs(t,e,n);t.assignable=2,r=t.finishNode({type:"MemberExpression",object:i,computed:!1,optional:!0,property:a},s)}return o&&(t.flags|=2048),r}function bs(t,e,n){return(t.getToken()&143360)===0&&t.getToken()!==-2147483528&&t.getToken()!==-2147483527&&t.getToken()!==130&&t.report(160),t.getToken()===130?Nn(t,e,n,0):H(t,e)}function q2(t,e,n,i,s,o){i&&t.report(56),s||t.report(0);const r=t.getToken();A(t,e|32);const a=Ie(t,e,n,0,0,1);return t.assignable&2&&t.report(55),t.assignable=2,t.finishNode({type:"UpdateExpression",argument:a,operator:V[r&255],prefix:!0},o)}function ke(t,e,n,i,s,o,r,a,l){if((t.getToken()&143360)===143360){switch(t.getToken()){case 209006:return O2(t,e,n,s,r,l);case 241771:return N2(t,e,n,r,o,l);case 209005:return L2(t,e,n,r,a,o,s,l)}const{tokenValue:f}=t,d=t.getToken(),p=H(t,e|64);return t.getToken()===10?(a||t.report(0),Zn(t,e,d),(d&36864)===36864&&(t.flags|=256),ii(t,e,n,f,p,s,o,0,l)):(e&16&&!(e&32768)&&!(e&8192)&&t.tokenValue==="arguments"&&t.report(130),(d&255)===73&&(e&1&&t.report(113),i&24&&t.report(100)),t.assignable=e&1&&(d&537079808)===537079808?2:1,p)}if((t.getToken()&134217728)===134217728)return ae(t,e);switch(t.getToken()){case 33619993:case 33619994:return q2(t,e,n,s,a,l);case 16863276:case 16842798:case 16842799:case 25233968:case 25233969:case 16863275:case 16863277:return B2(t,e,n,a,r);case 86104:return ou(t,e,n,0,r,l);case 2162700:return J2(t,e,n,o?0:1,r);case 69271571:return G2(t,e,n,o?0:1,r);case 67174411:return Q2(t,e|64,n,o,1,0,l);case 86021:case 86022:case 86023:return K2(t,e);case 86111:return z2(t,e);case 65540:return tb(t,e);case 132:case 86094:return nb(t,e,n,r,l);case 86109:return V2(t,e);case 67174409:return gs(t,e);case 67174408:return ys(t,e,n);case 86107:return Z2(t,e,n,r);case 134283388:return su(t,e);case 130:return Nn(t,e,n,0);case 86106:return H2(t,e,n,s,r,l);case 8456256:if(t.options.jsx)return oi(t,e,n,0,t.tokenStart);default:if(Zt(e,t.getToken()))return ks(t,e,n);t.report(30,V[t.getToken()&255])}}function H2(t,e,n,i,s,o){let r=H(t,e);return t.getToken()===67108877?nu(t,e,r,o):(i&&t.report(142),r=iu(t,e,n,s,o),t.assignable=2,F(t,e,n,r,s,0,o))}function nu(t,e,n,i){(e&2)===0&&t.report(169),A(t,e);const s=t.getToken();return s!==209030&&t.tokenValue!=="meta"?t.report(174):s&-2147483648&&t.report(175),t.assignable=2,t.finishNode({type:"MetaProperty",meta:n,property:H(t,e)},i)}function iu(t,e,n,i,s){R(t,e|32,67174411),t.getToken()===14&&t.report(143);const o=W(t,e,n,1,i,t.tokenStart);let r=null;if(t.getToken()===18){if(R(t,e,18),t.getToken()!==16){const l=(e|131072)^131072;r=W(t,l,n,1,i,t.tokenStart)}N(t,e,18)}const a={type:"ImportExpression",source:o,options:r};return R(t,e,16),t.finishNode(a,s)}function qi(t,e){if(!N(t,e,20579))return[];R(t,e,2162700);const n=[],i=new Set;for(;t.getToken()!==1074790415;){const s=t.tokenStart,o=$2(t,e);R(t,e,21);const r=j2(t,e),a=o.type==="Literal"?o.value:o.name;i.has(a)&&t.report(145,`${a}`),i.add(a),n.push(t.finishNode({type:"ImportAttribute",key:o,value:r},s)),t.getToken()!==1074790415&&R(t,e,18)}return R(t,e,1074790415),n}function j2(t,e){if(t.getToken()===134283267)return ae(t,e);t.report(30,V[t.getToken()&255])}function $2(t,e){if(t.getToken()===134283267)return ae(t,e);if(t.getToken()&143360)return H(t,e);t.report(30,V[t.getToken()&255])}function W2(t,e){const n=e.length;for(let i=0;i<n;i++){const s=e.charCodeAt(i);(s&64512)===55296&&(s>56319||++i>=n||(e.charCodeAt(i)&64512)!==56320)&&t.report(171,JSON.stringify(e.charAt(i--)))}}function Sn(t,e){if(t.getToken()===134283267)return W2(t,t.tokenValue),ae(t,e);if(t.getToken()&143360)return H(t,e);t.report(30,V[t.getToken()&255])}function su(t,e){const{tokenRaw:n,tokenValue:i,tokenStart:s}=t;A(t,e),t.assignable=2;const o={type:"Literal",value:i,bigint:String(i)};return t.options.raw&&(o.raw=n),t.finishNode(o,s)}function gs(t,e){t.assignable=2;const{tokenValue:n,tokenRaw:i,tokenStart:s}=t;R(t,e,67174409);const o=[En(t,n,i,s,!0)];return t.finishNode({type:"TemplateLiteral",expressions:[],quasis:o},s)}function ys(t,e,n){e=(e|131072)^131072;const{tokenValue:i,tokenRaw:s,tokenStart:o}=t;R(t,e&-65|32,67174408);const r=[En(t,i,s,o,!1)],a=[he(t,e&-65,n,0,1,t.tokenStart)];for(t.getToken()!==1074790415&&t.report(83);t.setToken(W_(t,e),!0)!==67174409;){const{tokenValue:l,tokenRaw:f,tokenStart:d}=t;R(t,e&-65|32,67174408),r.push(En(t,l,f,d,!1)),a.push(he(t,e,n,0,1,t.tokenStart)),t.getToken()!==1074790415&&t.report(83)}{const{tokenValue:l,tokenRaw:f,tokenStart:d}=t;R(t,e,67174409),r.push(En(t,l,f,d,!0))}return t.finishNode({type:"TemplateLiteral",expressions:a,quasis:r},o)}function En(t,e,n,i,s){const o=t.finishNode({type:"TemplateElement",value:{cooked:e,raw:n},tail:s},i),r=s?1:2;return t.options.ranges&&(o.start+=1,o.range[0]+=1,o.end-=r,o.range[1]-=r),t.options.loc&&(o.loc.start.column+=1,o.loc.end.column-=r),o}function Y2(t,e,n){const i=t.tokenStart;e=(e|131072)^131072,R(t,e|32,14);const s=W(t,e,n,1,0,t.tokenStart);return t.assignable=1,t.finishNode({type:"SpreadElement",argument:s},i)}function ws(t,e,n,i){A(t,e|32);const s=[];if(t.getToken()===16)return A(t,e|64),s;for(;t.getToken()!==16&&(t.getToken()===14?s.push(Y2(t,e,n)):s.push(W(t,e,n,1,i,t.tokenStart)),!(t.getToken()!==18||(A(t,e|32),t.getToken()===16))););return R(t,e|64,16),s}function H(t,e){const{tokenValue:n,tokenStart:i}=t,s=n==="await"&&(t.getToken()&-2147483648)===0;return A(t,e|(s?32:0)),t.finishNode({type:"Identifier",name:n},i)}function ae(t,e){const{tokenValue:n,tokenRaw:i,tokenStart:s}=t;return t.getToken()===134283388?su(t,e):(A(t,e),t.assignable=2,t.finishNode(t.options.raw?{type:"Literal",value:n,raw:i}:{type:"Literal",value:n},s))}function K2(t,e){const n=t.tokenStart,i=V[t.getToken()&255],s=t.getToken()===86023?null:i==="true";return A(t,e),t.assignable=2,t.finishNode(t.options.raw?{type:"Literal",value:s,raw:i}:{type:"Literal",value:s},n)}function z2(t,e){const{tokenStart:n}=t;return A(t,e),t.assignable=2,t.finishNode({type:"ThisExpression"},n)}function Ze(t,e,n,i,s,o,r,a,l){A(t,e|32);const f=o?hs(t,e,8391476):0;let d=null,p,b=n?t.createScope():void 0;if(t.getToken()===67174411)(r&1)===0&&t.report(39,"Function");else{const v=s&4&&((e&8)===0||(e&2)===0)?4:64|(a?1024:0)|(f?1024:0);Yc(t,e,t.getToken()),n&&(v&4?n.addVarName(e,t.tokenValue,v):n.addBlockName(e,t.tokenValue,v,s),b=b?.createChildScope(128),r&&r&2&&t.declareUnboundVariable(t.tokenValue)),p=t.getToken(),t.getToken()&143360?d=H(t,e):t.report(30,V[t.getToken()&255])}e=(e|28416)^28416|65536|(a?2048:0)|(f?1024:0)|(f?0:262144),b=b?.createChildScope(256);const w=au(t,(e|8192)&-524289,b,i,0,1),g=524428,I=ni(t,(e|g)^g|32768|4096,b?.createChildScope(64),i,8,p,b);return t.finishNode({type:"FunctionDeclaration",id:d,params:w,body:I,async:a===1,generator:f===1},l)}function ou(t,e,n,i,s,o){A(t,e|32);const r=hs(t,e,8391476),a=(i?2048:0)|(r?1024:0);let l=null,f,d=t.createScopeIfLexical();const p=552704;t.getToken()&143360&&(Yc(t,(e|p)^p|a,t.getToken()),d=d?.createChildScope(128),f=t.getToken(),l=H(t,e)),e=(e|p)^p|65536|a|(r?0:262144),d=d?.createChildScope(256);const b=au(t,(e|8192)&-524289,d,n,s,1),w=ni(t,e&-131229|32768|4096,d?.createChildScope(64),n,0,f,d);return t.assignable=2,t.finishNode({type:"FunctionExpression",id:l,params:b,body:w,async:i===1,generator:r===1},o)}function G2(t,e,n,i,s){const o=ve(t,e,void 0,n,i,s,0,2,0);return t.destructible&64&&t.report(63),t.destructible&8&&t.report(62),o}function ve(t,e,n,i,s,o,r,a,l){const{tokenStart:f}=t;A(t,e|32);const d=[];let p=0;for(e=(e|131072)^131072;t.getToken()!==20;)if(N(t,e|32,18))d.push(null);else{let w;const{tokenStart:g,tokenValue:I}=t,v=t.getToken();if(v&143360)if(w=ke(t,e,i,a,0,1,o,1,g),t.getToken()===1077936155){t.assignable&2&&t.report(26),A(t,e|32),n?.addVarOrBlock(e,I,a,l);const T=W(t,e,i,1,o,t.tokenStart);w=t.finishNode(r?{type:"AssignmentPattern",left:w,right:T}:{type:"AssignmentExpression",operator:"=",left:w,right:T},g),p|=t.destructible&256?256:0|t.destructible&128?128:0}else t.getToken()===18||t.getToken()===20?(t.assignable&2?p|=16:n?.addVarOrBlock(e,I,a,l),p|=t.destructible&256?256:0|t.destructible&128?128:0):(p|=a&1?32:(a&2)===0?16:0,w=F(t,e,i,w,o,0,g),t.getToken()!==18&&t.getToken()!==20?(t.getToken()!==1077936155&&(p|=16),w=z(t,e,i,o,r,g,w)):t.getToken()!==1077936155&&(p|=t.assignable&2?16:32));else v&2097152?(w=t.getToken()===2162700?xe(t,e,n,i,0,o,r,a,l):ve(t,e,n,i,0,o,r,a,l),p|=t.destructible,t.assignable=t.destructible&16?2:1,t.getToken()===18||t.getToken()===20?t.assignable&2&&(p|=16):t.destructible&8?t.report(71):(w=F(t,e,i,w,o,0,g),p=t.assignable&2?16:0,t.getToken()!==18&&t.getToken()!==20?w=z(t,e,i,o,r,g,w):t.getToken()!==1077936155&&(p|=t.assignable&2?16:32))):v===14?(w=Ot(t,e,n,i,20,a,l,0,o,r),p|=t.destructible,t.getToken()!==18&&t.getToken()!==20&&t.report(30,V[t.getToken()&255])):(w=Ie(t,e,i,1,0,1),t.getToken()!==18&&t.getToken()!==20?(w=z(t,e,i,o,r,g,w),(a&3)===0&&v===67174411&&(p|=16)):t.assignable&2?p|=16:v===67174411&&(p|=t.assignable&1&&a&3?32:16));if(d.push(w),N(t,e|32,18)){if(t.getToken()===20)break}else break}R(t,e,20);const b=t.finishNode({type:r?"ArrayPattern":"ArrayExpression",elements:d},f);return!s&&t.getToken()&4194304?ru(t,e,i,p,o,r,f,b):(t.destructible=p,b)}function ru(t,e,n,i,s,o,r,a){t.getToken()!==1077936155&&t.report(26),A(t,e|32),i&16&&t.report(26),o||Re(t,a);const{tokenStart:l}=t,f=W(t,e,n,1,s,l);return t.destructible=(i|64|8)^72|(t.destructible&128?128:0)|(t.destructible&256?256:0),t.finishNode(o?{type:"AssignmentPattern",left:a,right:f}:{type:"AssignmentExpression",left:a,operator:"=",right:f},r)}function Ot(t,e,n,i,s,o,r,a,l,f){const{tokenStart:d}=t;A(t,e|32);let p=null,b=0;const{tokenValue:w,tokenStart:g}=t;let I=t.getToken();if(I&143360)t.assignable=1,p=ke(t,e,i,o,0,1,l,1,g),I=t.getToken(),p=F(t,e,i,p,l,0,g),t.getToken()!==18&&t.getToken()!==s&&(t.assignable&2&&t.getToken()===1077936155&&t.report(71),b|=16,p=z(t,e,i,l,f,g,p)),t.assignable&2?b|=16:I===s||I===18?n?.addVarOrBlock(e,w,o,r):b|=32,b|=t.destructible&128?128:0;else if(I===s)t.report(41);else if(I&2097152)p=t.getToken()===2162700?xe(t,e,n,i,1,l,f,o,r):ve(t,e,n,i,1,l,f,o,r),I=t.getToken(),I!==1077936155&&I!==s&&I!==18?(t.destructible&8&&t.report(71),p=F(t,e,i,p,l,0,g),b|=t.assignable&2?16:0,(t.getToken()&4194304)===4194304?(t.getToken()!==1077936155&&(b|=16),p=z(t,e,i,l,f,g,p)):((t.getToken()&8388608)===8388608&&(p=Qe(t,e,i,1,g,4,I,p)),N(t,e|32,22)&&(p=ct(t,e,i,p,g)),b|=t.assignable&2?16:32)):b|=s===1074790415&&I!==1077936155?16:t.destructible;else{b|=32,p=Ie(t,e,i,1,l,1);const{tokenStart:v}=t,T=t.getToken();return T===1077936155?(t.assignable&2&&t.report(26),p=z(t,e,i,l,f,v,p),b|=16):(T===18?b|=16:T!==s&&(p=z(t,e,i,l,f,v,p)),b|=t.assignable&1?32:16),t.destructible=b,t.getToken()!==s&&t.getToken()!==18&&t.report(161),t.finishNode({type:f?"RestElement":"SpreadElement",argument:p},d)}if(t.getToken()!==s)if(o&1&&(b|=a?16:32),N(t,e|32,1077936155)){b&16&&t.report(26),Re(t,p);const v=W(t,e,i,1,l,t.tokenStart);p=t.finishNode(f?{type:"AssignmentPattern",left:p,right:v}:{type:"AssignmentExpression",left:p,operator:"=",right:v},g),b=16}else b|=16;return t.destructible=b,t.finishNode({type:f?"RestElement":"SpreadElement",argument:p},d)}function Ae(t,e,n,i,s,o){const r=11264|((i&64)===0?16896:0);e=(e|r)^r|(i&8?1024:0)|(i&16?2048:0)|(i&64?16384:0)|256|32768|65536;let a=t.createScopeIfLexical(256);const l=X2(t,(e|8192)&-524289,a,n,i,1,s);a=a?.createChildScope(64);const f=ni(t,e&-655373|32768|4096,a,n,0,void 0,a?.parent);return t.finishNode({type:"FunctionExpression",params:l,body:f,async:(i&16)>0,generator:(i&8)>0,id:null},o)}function J2(t,e,n,i,s){const o=xe(t,e,void 0,n,i,s,0,2,0);return t.destructible&64&&t.report(63),t.destructible&8&&t.report(62),o}function xe(t,e,n,i,s,o,r,a,l){const{tokenStart:f}=t;A(t,e);const d=[];let p=0,b=0;for(e=(e|131072)^131072;t.getToken()!==1074790415;){const{tokenValue:g,tokenStart:I}=t,v=t.getToken();if(v===14)d.push(Ot(t,e,n,i,1074790415,a,l,0,o,r));else{let T=0,B=null,x;if(t.getToken()&143360||t.getToken()===-2147483528||t.getToken()===-2147483527)if(t.getToken()===-2147483527&&(p|=16),B=H(t,e),t.getToken()===18||t.getToken()===1074790415||t.getToken()===1077936155)if(T|=4,e&1&&(v&537079808)===537079808?p|=16:Mn(t,e,a,v,0),n?.addVarOrBlock(e,g,a,l),N(t,e|32,1077936155)){p|=8;const P=W(t,e,i,1,o,t.tokenStart);p|=t.destructible&256?256:0|t.destructible&128?128:0,x=t.finishNode({type:"AssignmentPattern",left:t.options.uniqueKeyInPattern?Object.assign({},B):B,right:P},I)}else p|=(v===209006?128:0)|(v===-2147483528?16:0),x=t.options.uniqueKeyInPattern?Object.assign({},B):B;else if(N(t,e|32,21)){const{tokenStart:P}=t;if(g==="__proto__"&&b++,t.getToken()&143360){const ce=t.getToken(),Z=t.tokenValue;x=ke(t,e,i,a,0,1,o,1,P);const L=t.getToken();x=F(t,e,i,x,o,0,P),t.getToken()===18||t.getToken()===1074790415?L===1077936155||L===1074790415||L===18?(p|=t.destructible&128?128:0,t.assignable&2?p|=16:(ce&143360)===143360&&n?.addVarOrBlock(e,Z,a,l)):p|=t.assignable&1?32:16:(t.getToken()&4194304)===4194304?(t.assignable&2?p|=16:L!==1077936155?p|=32:n?.addVarOrBlock(e,Z,a,l),x=z(t,e,i,o,r,P,x)):(p|=16,(t.getToken()&8388608)===8388608&&(x=Qe(t,e,i,1,P,4,L,x)),N(t,e|32,22)&&(x=ct(t,e,i,x,P)))}else(t.getToken()&2097152)===2097152?(x=t.getToken()===69271571?ve(t,e,n,i,0,o,r,a,l):xe(t,e,n,i,0,o,r,a,l),p=t.destructible,t.assignable=p&16?2:1,t.getToken()===18||t.getToken()===1074790415?t.assignable&2&&(p|=16):t.destructible&8?t.report(71):(x=F(t,e,i,x,o,0,P),p=t.assignable&2?16:0,(t.getToken()&4194304)===4194304?x=yn(t,e,i,o,r,P,x):((t.getToken()&8388608)===8388608&&(x=Qe(t,e,i,1,P,4,v,x)),N(t,e|32,22)&&(x=ct(t,e,i,x,P)),p|=t.assignable&2?16:32))):(x=Ie(t,e,i,1,o,1),p|=t.assignable&1?32:16,t.getToken()===18||t.getToken()===1074790415?t.assignable&2&&(p|=16):(x=F(t,e,i,x,o,0,P),p=t.assignable&2?16:0,t.getToken()!==18&&v!==1074790415&&(t.getToken()!==1077936155&&(p|=16),x=z(t,e,i,o,r,P,x))))}else t.getToken()===69271571?(p|=16,v===209005&&(T|=16),T|=(v===209008?256:v===209009?512:1)|2,B=kt(t,e,i,o),p|=t.assignable,x=Ae(t,e,i,T,o,t.tokenStart)):t.getToken()&143360?(p|=16,v===-2147483528&&t.report(95),v===209005?(t.flags&1&&t.report(132),T|=17):v===209008?T|=256:v===209009?T|=512:t.report(0),B=H(t,e),x=Ae(t,e,i,T,o,t.tokenStart)):t.getToken()===67174411?(p|=16,T|=1,x=Ae(t,e,i,T,o,t.tokenStart)):t.getToken()===8391476?(p|=16,v===209008?t.report(42):v===209009?t.report(43):v!==209005&&t.report(30,V[52]),A(t,e),T|=9|(v===209005?16:0),t.getToken()&143360?B=H(t,e):(t.getToken()&134217728)===134217728?B=ae(t,e):t.getToken()===69271571?(T|=2,B=kt(t,e,i,o),p|=t.assignable):t.report(30,V[t.getToken()&255]),x=Ae(t,e,i,T,o,t.tokenStart)):(t.getToken()&134217728)===134217728?(v===209005&&(T|=16),T|=v===209008?256:v===209009?512:1,p|=16,B=ae(t,e),x=Ae(t,e,i,T,o,t.tokenStart)):t.report(133);else if((t.getToken()&134217728)===134217728)if(B=ae(t,e),t.getToken()===21){R(t,e|32,21);const{tokenStart:P}=t;if(g==="__proto__"&&b++,t.getToken()&143360){x=ke(t,e,i,a,0,1,o,1,P);const{tokenValue:ce}=t,Z=t.getToken();x=F(t,e,i,x,o,0,P),t.getToken()===18||t.getToken()===1074790415?Z===1077936155||Z===1074790415||Z===18?t.assignable&2?p|=16:n?.addVarOrBlock(e,ce,a,l):p|=t.assignable&1?32:16:t.getToken()===1077936155?(t.assignable&2&&(p|=16),x=z(t,e,i,o,r,P,x)):(p|=16,x=z(t,e,i,o,r,P,x))}else(t.getToken()&2097152)===2097152?(x=t.getToken()===69271571?ve(t,e,n,i,0,o,r,a,l):xe(t,e,n,i,0,o,r,a,l),p=t.destructible,t.assignable=p&16?2:1,t.getToken()===18||t.getToken()===1074790415?t.assignable&2&&(p|=16):(t.destructible&8)!==8&&(x=F(t,e,i,x,o,0,P),p=t.assignable&2?16:0,(t.getToken()&4194304)===4194304?x=yn(t,e,i,o,r,P,x):((t.getToken()&8388608)===8388608&&(x=Qe(t,e,i,1,P,4,v,x)),N(t,e|32,22)&&(x=ct(t,e,i,x,P)),p|=t.assignable&2?16:32))):(x=Ie(t,e,i,1,0,1),p|=t.assignable&1?32:16,t.getToken()===18||t.getToken()===1074790415?t.assignable&2&&(p|=16):(x=F(t,e,i,x,o,0,P),p=t.assignable&1?0:16,t.getToken()!==18&&t.getToken()!==1074790415&&(t.getToken()!==1077936155&&(p|=16),x=z(t,e,i,o,r,P,x))))}else t.getToken()===67174411?(T|=1,x=Ae(t,e,i,T,o,t.tokenStart),p=t.assignable|16):t.report(134);else if(t.getToken()===69271571)if(B=kt(t,e,i,o),p|=t.destructible&256?256:0,T|=2,t.getToken()===21){A(t,e|32);const{tokenStart:P,tokenValue:ce}=t,Z=t.getToken();if(t.getToken()&143360){x=ke(t,e,i,a,0,1,o,1,P);const L=t.getToken();x=F(t,e,i,x,o,0,P),(t.getToken()&4194304)===4194304?(p|=t.assignable&2?16:L===1077936155?0:32,x=yn(t,e,i,o,r,P,x)):t.getToken()===18||t.getToken()===1074790415?L===1077936155||L===1074790415||L===18?t.assignable&2?p|=16:(Z&143360)===143360&&n?.addVarOrBlock(e,ce,a,l):p|=t.assignable&1?32:16:(p|=16,x=z(t,e,i,o,r,P,x))}else(t.getToken()&2097152)===2097152?(x=t.getToken()===69271571?ve(t,e,n,i,0,o,r,a,l):xe(t,e,n,i,0,o,r,a,l),p=t.destructible,t.assignable=p&16?2:1,t.getToken()===18||t.getToken()===1074790415?t.assignable&2&&(p|=16):p&8?t.report(62):(x=F(t,e,i,x,o,0,P),p=t.assignable&2?p|16:0,(t.getToken()&4194304)===4194304?(t.getToken()!==1077936155&&(p|=16),x=yn(t,e,i,o,r,P,x)):((t.getToken()&8388608)===8388608&&(x=Qe(t,e,i,1,P,4,v,x)),N(t,e|32,22)&&(x=ct(t,e,i,x,P)),p|=t.assignable&2?16:32))):(x=Ie(t,e,i,1,0,1),p|=t.assignable&1?32:16,t.getToken()===18||t.getToken()===1074790415?t.assignable&2&&(p|=16):(x=F(t,e,i,x,o,0,P),p=t.assignable&1?0:16,t.getToken()!==18&&t.getToken()!==1074790415&&(t.getToken()!==1077936155&&(p|=16),x=z(t,e,i,o,r,P,x))))}else t.getToken()===67174411?(T|=1,x=Ae(t,e,i,T,o,t.tokenStart),p=16):t.report(44);else if(v===8391476)if(R(t,e|32,8391476),T|=8,t.getToken()&143360){const P=t.getToken();if(B=H(t,e),T|=1,t.getToken()===67174411)p|=16,x=Ae(t,e,i,T,o,t.tokenStart);else throw new ee(t.tokenStart,t.currentLocation,P===209005?46:P===209008||t.getToken()===209009?45:47,V[P&255])}else(t.getToken()&134217728)===134217728?(p|=16,B=ae(t,e),T|=1,x=Ae(t,e,i,T,o,t.tokenStart)):t.getToken()===69271571?(p|=16,T|=3,B=kt(t,e,i,o),x=Ae(t,e,i,T,o,t.tokenStart)):t.report(126);else t.report(30,V[v&255]);p|=t.destructible&128?128:0,t.destructible=p,d.push(t.finishNode({type:"Property",key:B,value:x,kind:T&768?T&512?"set":"get":"init",computed:(T&2)>0,method:(T&1)>0,shorthand:(T&4)>0},I))}if(p|=t.destructible,t.getToken()!==18)break;A(t,e)}R(t,e,1074790415),b>1&&(p|=64);const w=t.finishNode({type:r?"ObjectPattern":"ObjectExpression",properties:d},f);return!s&&t.getToken()&4194304?ru(t,e,i,p,o,r,f,w):(t.destructible=p,w)}function X2(t,e,n,i,s,o,r){R(t,e,67174411);const a=[];if(t.flags=(t.flags|128)^128,t.getToken()===16)return s&512&&t.report(37,"Setter","one",""),A(t,e),a;s&256&&t.report(37,"Getter","no","s"),s&512&&t.getToken()===14&&t.report(38),e=(e|131072)^131072;let l=0,f=0;for(;t.getToken()!==18;){let d=null;const{tokenStart:p}=t;if(t.getToken()&143360?((e&1)===0&&((t.getToken()&36864)===36864&&(t.flags|=256),(t.getToken()&537079808)===537079808&&(t.flags|=512)),d=Cs(t,e,n,s|1,0)):(t.getToken()===2162700?d=xe(t,e,n,i,1,r,1,o,0):t.getToken()===69271571?d=ve(t,e,n,i,1,r,1,o,0):t.getToken()===14&&(d=Ot(t,e,n,i,16,o,0,0,r,1)),f=1,t.destructible&48&&t.report(50)),t.getToken()===1077936155){A(t,e|32),f=1;const b=W(t,e,i,1,0,t.tokenStart);d=t.finishNode({type:"AssignmentPattern",left:d,right:b},p)}if(l++,a.push(d),!N(t,e,18)||t.getToken()===16)break}return s&512&&l!==1&&t.report(37,"Setter","one",""),n?.reportScopeError(),f&&(t.flags|=128),R(t,e,16),a}function kt(t,e,n,i){A(t,e|32);const s=W(t,(e|131072)^131072,n,1,i,t.tokenStart);return R(t,e,20),s}function Q2(t,e,n,i,s,o,r){t.flags=(t.flags|128)^128;const a=t.tokenStart;A(t,e|32|262144);const l=t.createScopeIfLexical()?.createChildScope(512);if(e=(e|131072)^131072,N(t,e,16))return Ln(t,e,l,n,[],i,0,r);let f=0;t.destructible&=-385;let d,p=[],b=0,w=0,g=0;const I=t.tokenStart;for(t.assignable=1;t.getToken()!==16;){const{tokenStart:v}=t,T=t.getToken();if(T&143360)l?.addBlockName(e,t.tokenValue,1,0),(T&537079808)===537079808?w=1:(T&36864)===36864&&(g=1),d=ke(t,e,n,s,0,1,1,1,v),t.getToken()===16||t.getToken()===18?t.assignable&2&&(f|=16,w=1):(t.getToken()===1077936155?w=1:f|=16,d=F(t,e,n,d,1,0,v),t.getToken()!==16&&t.getToken()!==18&&(d=z(t,e,n,1,0,v,d)));else if((T&2097152)===2097152)d=T===2162700?xe(t,e|262144,l,n,0,1,0,s,o):ve(t,e|262144,l,n,0,1,0,s,o),f|=t.destructible,w=1,t.assignable=2,t.getToken()!==16&&t.getToken()!==18&&(f&8&&t.report(122),d=F(t,e,n,d,0,0,v),f|=16,t.getToken()!==16&&t.getToken()!==18&&(d=z(t,e,n,0,0,v,d)));else if(T===14){d=Ot(t,e,l,n,16,s,o,0,1,0),t.destructible&16&&t.report(74),w=1,b&&(t.getToken()===16||t.getToken()===18)&&p.push(d),f|=8;break}else{if(f|=16,d=W(t,e,n,1,1,v),b&&(t.getToken()===16||t.getToken()===18)&&p.push(d),t.getToken()===18&&(b||(b=1,p=[d])),b){for(;N(t,e|32,18);)p.push(W(t,e,n,1,1,t.tokenStart));t.assignable=2,d=t.finishNode({type:"SequenceExpression",expressions:p},I)}return R(t,e,16),t.destructible=f,t.options.preserveParens?t.finishNode({type:"ParenthesizedExpression",expression:d},a):d}if(b&&(t.getToken()===16||t.getToken()===18)&&p.push(d),!N(t,e|32,18))break;if(b||(b=1,p=[d]),t.getToken()===16){f|=8;break}}return b&&(t.assignable=2,d=t.finishNode({type:"SequenceExpression",expressions:p},I)),R(t,e,16),f&16&&f&8&&t.report(151),f|=t.destructible&256?256:0|t.destructible&128?128:0,t.getToken()===10?(f&48&&t.report(49),e&2050&&f&128&&t.report(31),e&1025&&f&256&&t.report(32),w&&(t.flags|=128),g&&(t.flags|=256),Ln(t,e,l,n,b?p:[d],i,0,r)):(f&64&&t.report(63),f&8&&t.report(144),t.destructible=(t.destructible|256)^256|f,t.options.preserveParens?t.finishNode({type:"ParenthesizedExpression",expression:d},a):d)}function ks(t,e,n){const{tokenStart:i}=t,{tokenValue:s}=t;let o=0,r=0;(t.getToken()&537079808)===537079808?o=1:(t.getToken()&36864)===36864&&(r=1);const a=H(t,e);if(t.assignable=1,t.getToken()===10){const l=t.options.lexical?ti(t,e,s):void 0;return o&&(t.flags|=128),r&&(t.flags|=256),sn(t,e,l,n,[a],0,i)}return a}function ii(t,e,n,i,s,o,r,a,l){r||t.report(57),o&&t.report(51),t.flags&=-129;const f=t.options.lexical?ti(t,e,i):void 0;return sn(t,e,f,n,[s],a,l)}function Ln(t,e,n,i,s,o,r,a){o||t.report(57);for(let l=0;l<s.length;++l)Re(t,s[l]);return sn(t,e,n,i,s,r,a)}function sn(t,e,n,i,s,o,r){t.flags&1&&t.report(48),R(t,e|32,10);const a=535552;e=(e|a)^a|(o?2048:0);const l=t.getToken()!==2162700;let f;if(n?.reportScopeError(),l)t.flags=(t.flags|512|256|64|4096)^4928,f=W(t,e,i,1,0,t.tokenStart);else{n=n?.createChildScope(64);const d=131084;switch(f=ni(t,(e|d)^d|4096,n,i,16,void 0,void 0),t.getToken()){case 69271571:(t.flags&1)===0&&t.report(116);break;case 67108877:case 67174409:case 22:t.report(117);case 67174411:(t.flags&1)===0&&t.report(116),t.flags|=1024;break}(t.getToken()&8388608)===8388608&&(t.flags&1)===0&&t.report(30,V[t.getToken()&255]),(t.getToken()&33619968)===33619968&&t.report(125)}return t.assignable=2,t.finishNode({type:"ArrowFunctionExpression",params:s,body:f,async:o===1,expression:l,generator:!1},r)}function au(t,e,n,i,s,o){R(t,e,67174411),t.flags=(t.flags|128)^128;const r=[];if(N(t,e,16))return r;e=(e|131072)^131072;let a=0;for(;t.getToken()!==18;){let l;const{tokenStart:f}=t,d=t.getToken();if(d&143360?((e&1)===0&&((d&36864)===36864&&(t.flags|=256),(d&537079808)===537079808&&(t.flags|=512)),l=Cs(t,e,n,o|1,0)):(d===2162700?l=xe(t,e,n,i,1,s,1,o,0):d===69271571?l=ve(t,e,n,i,1,s,1,o,0):d===14?l=Ot(t,e,n,i,16,o,0,0,s,1):t.report(30,V[d&255]),a=1,t.destructible&48&&t.report(50)),t.getToken()===1077936155){A(t,e|32),a=1;const p=W(t,e,i,1,s,t.tokenStart);l=t.finishNode({type:"AssignmentPattern",left:l,right:p},f)}if(r.push(l),!N(t,e,18)||t.getToken()===16)break}return a&&(t.flags|=128),(a||e&1)&&n?.reportScopeError(),R(t,e,16),r}function An(t,e,n,i,s,o){const r=t.getToken();if(r&67108864){if(r===67108877){A(t,e|262144),t.assignable=1;const a=bs(t,e,n);return An(t,e,n,t.finishNode({type:"MemberExpression",object:i,computed:!1,property:a,optional:!1},o),0,o)}else if(r===69271571){A(t,e|32);const{tokenStart:a}=t,l=he(t,e,n,s,1,a);return R(t,e,20),t.assignable=1,An(t,e,n,t.finishNode({type:"MemberExpression",object:i,computed:!0,property:l,optional:!1},o),0,o)}else if(r===67174408||r===67174409)return t.assignable=2,An(t,e,n,t.finishNode({type:"TaggedTemplateExpression",tag:i,quasi:t.getToken()===67174408?ys(t,e|64,n):gs(t,e|64)},o),0,o)}return i}function Z2(t,e,n,i){const{tokenStart:s}=t,o=H(t,e|32),{tokenStart:r}=t;if(N(t,e,67108877)){if(e&65536&&t.getToken()===209029)return t.assignable=2,eb(t,e,o,s);t.report(94)}t.assignable=2,(t.getToken()&16842752)===16842752&&t.report(65,V[t.getToken()&255]);const a=ke(t,e,n,2,1,0,i,1,r);e=(e|131072)^131072,t.getToken()===67108990&&t.report(168);const l=An(t,e,n,a,i,r);return t.assignable=2,t.finishNode({type:"NewExpression",callee:l,arguments:t.getToken()===67174411?ws(t,e,n,i):[]},s)}function eb(t,e,n,i){const s=H(t,e);return t.finishNode({type:"MetaProperty",meta:n,property:s},i)}function cu(t,e,n,i,s){return t.getToken()===209006&&t.report(31),e&1025&&t.getToken()===241771&&t.report(32),Zn(t,e,t.getToken()),(t.getToken()&36864)===36864&&(t.flags|=256),ii(t,e&-524289|2048,n,t.tokenValue,H(t,e),0,i,1,s)}function Ts(t,e,n,i,s,o,r,a,l){A(t,e|32);const f=t.createScopeIfLexical()?.createChildScope(512);if(e=(e|131072)^131072,N(t,e,16))return t.getToken()===10?(a&1&&t.report(48),Ln(t,e,f,n,[],s,1,l)):t.finishNode({type:"CallExpression",callee:i,arguments:[],optional:!1},l);let d=0,p=null,b=0;t.destructible=(t.destructible|256|128)^384;const w=[];for(;t.getToken()!==16;){const{tokenStart:g}=t,I=t.getToken();if(I&143360)f?.addBlockName(e,t.tokenValue,o,0),(I&537079808)===537079808?t.flags|=512:(I&36864)===36864&&(t.flags|=256),p=ke(t,e,n,o,0,1,1,1,g),t.getToken()===16||t.getToken()===18?t.assignable&2&&(d|=16,b=1):(t.getToken()===1077936155?b=1:d|=16,p=F(t,e,n,p,1,0,g),t.getToken()!==16&&t.getToken()!==18&&(p=z(t,e,n,1,0,g,p)));else if(I&2097152)p=I===2162700?xe(t,e,f,n,0,1,0,o,r):ve(t,e,f,n,0,1,0,o,r),d|=t.destructible,b=1,t.getToken()!==16&&t.getToken()!==18&&(d&8&&t.report(122),p=F(t,e,n,p,0,0,g),d|=16,(t.getToken()&8388608)===8388608&&(p=Qe(t,e,n,1,l,4,I,p)),N(t,e|32,22)&&(p=ct(t,e,n,p,l)));else if(I===14)p=Ot(t,e,f,n,16,o,r,1,1,0),d|=(t.getToken()===16?0:16)|t.destructible,b=1;else{for(p=W(t,e,n,1,0,g),d=t.assignable,w.push(p);N(t,e|32,18);)w.push(W(t,e,n,1,0,g));return d|=t.assignable,R(t,e,16),t.destructible=d|16,t.assignable=2,t.finishNode({type:"CallExpression",callee:i,arguments:w,optional:!1},l)}if(w.push(p),!N(t,e|32,18))break}return R(t,e,16),d|=t.destructible&256?256:0|t.destructible&128?128:0,t.getToken()===10?(d&48&&t.report(27),(t.flags&1||a&1)&&t.report(48),d&128&&t.report(31),e&1025&&d&256&&t.report(32),b&&(t.flags|=128),Ln(t,e|2048,f,n,w,s,1,l)):(d&64&&t.report(63),d&8&&t.report(62),t.assignable=2,t.finishNode({type:"CallExpression",callee:i,arguments:w,optional:!1},l))}function tb(t,e){const{tokenRaw:n,tokenRegExp:i,tokenValue:s,tokenStart:o}=t;A(t,e),t.assignable=2;const r={type:"Literal",value:s,regex:i};return t.options.raw&&(r.raw=n),t.finishNode(r,o)}function Hi(t,e,n,i,s){let o,r;t.leadingDecorators.decorators.length?(t.getToken()===132&&t.report(30,"@"),o=t.leadingDecorators.start,r=[...t.leadingDecorators.decorators],t.leadingDecorators.decorators.length=0):(o=t.tokenStart,r=si(t,e,i)),e=(e|16384|1)^16384,A(t,e);let a=null,l=null;const{tokenValue:f}=t;t.getToken()&4096&&t.getToken()!==20565?(Kc(t,e,t.getToken())&&t.report(118),(t.getToken()&537079808)===537079808&&t.report(119),n&&(n.addBlockName(e,f,32,0),s&&s&2&&t.declareUnboundVariable(f)),a=H(t,e)):(s&1)===0&&t.report(39,"Class");let d=e;N(t,e|32,20565)?(l=Ie(t,e,i,0,0,0),d|=512):d=(d|512)^512;const p=uu(t,d,e,n,i,2,8,0);return t.finishNode({type:"ClassDeclaration",id:a,superClass:l,body:p,...t.options.next?{decorators:r}:null},o)}function nb(t,e,n,i,s){let o=null,r=null;const a=si(t,e,n);e=(e|1|16384)^16384,A(t,e),t.getToken()&4096&&t.getToken()!==20565&&(Kc(t,e,t.getToken())&&t.report(118),(t.getToken()&537079808)===537079808&&t.report(119),o=H(t,e));let l=e;N(t,e|32,20565)?(r=Ie(t,e,n,0,i,0),l|=512):l=(l|512)^512;const f=uu(t,l,e,void 0,n,2,0,i);return t.assignable=2,t.finishNode({type:"ClassExpression",id:o,superClass:r,body:f,...t.options.next?{decorators:a}:null},s)}function si(t,e,n){const i=[];if(t.options.next)for(;t.getToken()===132;)i.push(ib(t,e,n));return i}function ib(t,e,n){const i=t.tokenStart;A(t,e|32);let s=ke(t,e,n,2,0,1,0,1,i);return s=F(t,e,n,s,0,0,t.tokenStart),t.finishNode({type:"Decorator",expression:s},i)}function uu(t,e,n,i,s,o,r,a){const{tokenStart:l}=t,f=t.createPrivateScopeIfLexical(s);R(t,e|32,2162700);const d=655360;e=(e|d)^d;const p=t.flags&32;t.flags=(t.flags|32)^32;const b=[];for(;t.getToken()!==1074790415;){const w=t.tokenStart,g=si(t,e,f);if(g.length>0&&t.tokenValue==="constructor"&&t.report(109),t.getToken()===1074790415&&t.report(108),N(t,e,1074790417)){g.length>0&&t.report(120);continue}b.push(lu(t,e,i,f,n,o,g,0,a,g.length>0?w:t.tokenStart))}return R(t,r&8?e|32:e,1074790415),f?.validatePrivateIdentifierRefs(),t.flags=t.flags&-33|p,t.finishNode({type:"ClassBody",body:b},l)}function lu(t,e,n,i,s,o,r,a,l,f){let d=a?32:0,p=null;const b=t.getToken();if(b&176128||b===-2147483528)switch(p=H(t,e),b){case 36970:if(!a&&t.getToken()!==67174411&&(t.getToken()&1048576)!==1048576&&t.getToken()!==1077936155)return lu(t,e,n,i,s,o,r,1,l,f);break;case 209005:if(t.getToken()!==67174411&&(t.flags&1)===0){if((t.getToken()&1073741824)===1073741824)return Ut(t,e,i,p,d,r,f);d|=16|(hs(t,e,8391476)?8:0)}break;case 209008:if(t.getToken()!==67174411){if((t.getToken()&1073741824)===1073741824)return Ut(t,e,i,p,d,r,f);d|=256}break;case 209009:if(t.getToken()!==67174411){if((t.getToken()&1073741824)===1073741824)return Ut(t,e,i,p,d,r,f);d|=512}break;case 12402:if(t.getToken()!==67174411&&(t.flags&1)===0){if((t.getToken()&1073741824)===1073741824)return Ut(t,e,i,p,d,r,f);t.options.next&&(d|=1024)}break}else if(b===69271571)d|=2,p=kt(t,s,i,l);else if((b&134217728)===134217728)p=ae(t,e);else if(b===8391476)d|=8,A(t,e);else if(t.getToken()===130)d|=8192,p=Nn(t,e|16,i,768);else if((t.getToken()&1073741824)===1073741824)d|=128;else{if(a&&b===2162700)return S2(t,e|16,n,i,f);b===-2147483527?(p=H(t,e),t.getToken()!==67174411&&t.report(30,V[t.getToken()&255])):t.report(30,V[t.getToken()&255])}if(d&1816&&(t.getToken()&143360||t.getToken()===-2147483528||t.getToken()===-2147483527?p=H(t,e):(t.getToken()&134217728)===134217728?p=ae(t,e):t.getToken()===69271571?(d|=2,p=kt(t,e,i,0)):t.getToken()===130?(d|=8192,p=Nn(t,e,i,d)):t.report(135)),(d&2)===0&&(t.tokenValue==="constructor"?((t.getToken()&1073741824)===1073741824?t.report(129):(d&32)===0&&t.getToken()===67174411&&(d&920?t.report(53,"accessor"):(e&512)===0&&(t.flags&32?t.report(54):t.flags|=32)),d|=64):(d&8192)===0&&d&32&&t.tokenValue==="prototype"&&t.report(52)),d&1024||t.getToken()!==67174411&&(d&768)===0)return Ut(t,e,i,p,d,r,f);const w=Ae(t,e|16,i,d,l,t.tokenStart);return t.finishNode({type:"MethodDefinition",kind:(d&32)===0&&d&64?"constructor":d&256?"get":d&512?"set":"method",static:(d&32)>0,computed:(d&2)>0,key:p,value:w,...t.options.next?{decorators:r}:null},f)}function Nn(t,e,n,i){const{tokenStart:s}=t;A(t,e);const{tokenValue:o}=t;return o==="constructor"&&t.report(128),t.options.lexical&&(n||t.report(4,o),i?n.addPrivateIdentifier(o,i):n.addPrivateIdentifierRef(o)),A(t,e),t.finishNode({type:"PrivateIdentifier",name:o},s)}function Ut(t,e,n,i,s,o,r){let a=null;if(s&8&&t.report(0),t.getToken()===1077936155){A(t,e|32);const{tokenStart:l}=t;t.getToken()===537079927&&t.report(119);const f=11264|((s&64)===0?16896:0);e=(e|f)^f|(s&8?1024:0)|(s&16?2048:0)|(s&64?16384:0)|256|65536,a=ke(t,e|16,n,2,0,1,0,1,l),((t.getToken()&1073741824)!==1073741824||(t.getToken()&4194304)===4194304)&&(a=F(t,e|16,n,a,0,0,l),a=z(t,e|16,n,0,0,l,a))}return pe(t,e),t.finishNode({type:s&1024?"AccessorProperty":"PropertyDefinition",key:i,value:a,static:(s&32)>0,computed:(s&2)>0,...t.options.next?{decorators:o}:null},r)}function du(t,e,n,i,s,o){if(t.getToken()&143360||(e&1)===0&&t.getToken()===-2147483527)return Cs(t,e,n,s,o);(t.getToken()&2097152)!==2097152&&t.report(30,V[t.getToken()&255]);const r=t.getToken()===69271571?ve(t,e,n,i,1,0,1,s,o):xe(t,e,n,i,1,0,1,s,o);return t.destructible&16&&t.report(50),t.destructible&32&&t.report(50),r}function Cs(t,e,n,i,s){const o=t.getToken();e&1&&((o&537079808)===537079808?t.report(119):((o&36864)===36864||o===-2147483527)&&t.report(118)),(o&20480)===20480&&t.report(102),o===241771&&(e&1024&&t.report(32),e&2&&t.report(111)),(o&255)===73&&i&24&&t.report(100),o===209006&&(e&2048&&t.report(176),e&2&&t.report(110));const{tokenValue:r,tokenStart:a}=t;return A(t,e),n?.addVarOrBlock(e,r,i,s),t.finishNode({type:"Identifier",name:r},a)}function oi(t,e,n,i,s){if(i||R(t,e,8456256),t.getToken()===8390721){const l=sb(t,s),[f,d]=cb(t,e,n,i);return t.finishNode({type:"JSXFragment",openingFragment:l,children:f,closingFragment:d},s)}t.getToken()===8457014&&t.report(30,V[t.getToken()&255]);let o=null,r=[];const a=db(t,e,n,i,s);if(!a.selfClosing){[r,o]=ab(t,e,n,i);const l=Bn(o.name);Bn(a.name)!==l&&t.report(155,l)}return t.finishNode({type:"JSXElement",children:r,openingElement:a,closingElement:o},s)}function sb(t,e){return en(t),t.finishNode({type:"JSXOpeningFragment"},e)}function ob(t,e,n,i){R(t,e,8457014);const s=fu(t,e);return t.getToken()!==8390721&&t.report(25,V[65]),n?en(t):A(t,e),t.finishNode({type:"JSXClosingElement",name:s},i)}function rb(t,e,n,i){return R(t,e,8457014),t.getToken()!==8390721&&t.report(25,V[65]),n?en(t):A(t,e),t.finishNode({type:"JSXClosingFragment"},i)}function ab(t,e,n,i){const s=[];for(;;){const o=ub(t,e,n,i);if(o.type==="JSXClosingElement")return[s,o];s.push(o)}}function cb(t,e,n,i){const s=[];for(;;){const o=lb(t,e,n,i);if(o.type==="JSXClosingFragment")return[s,o];s.push(o)}}function ub(t,e,n,i){if(t.getToken()===137)return hu(t,e);if(t.getToken()===2162700)return Is(t,e,n,1,0);if(t.getToken()===8456256){const{tokenStart:s}=t;return A(t,e),t.getToken()===8457014?ob(t,e,i,s):oi(t,e,n,1,s)}t.report(0)}function lb(t,e,n,i){if(t.getToken()===137)return hu(t,e);if(t.getToken()===2162700)return Is(t,e,n,1,0);if(t.getToken()===8456256){const{tokenStart:s}=t;return A(t,e),t.getToken()===8457014?rb(t,e,i,s):oi(t,e,n,1,s)}t.report(0)}function hu(t,e){const n=t.tokenStart;A(t,e);const i={type:"JSXText",value:t.tokenValue};return t.options.raw&&(i.raw=t.tokenRaw),t.finishNode(i,n)}function db(t,e,n,i,s){(t.getToken()&143360)!==143360&&(t.getToken()&4096)!==4096&&t.report(0);const o=fu(t,e),r=fb(t,e,n),a=t.getToken()===8457014;return a&&R(t,e,8457014),t.getToken()!==8390721&&t.report(25,V[65]),i||!a?en(t):A(t,e),t.finishNode({type:"JSXOpeningElement",name:o,attributes:r,selfClosing:a},s)}function fu(t,e){const{tokenStart:n}=t;Ui(t);let i=ri(t,e);if(t.getToken()===21)return pu(t,e,i,n);for(;N(t,e,67108877);)Ui(t),i=hb(t,e,i,n);return i}function hb(t,e,n,i){const s=ri(t,e);return t.finishNode({type:"JSXMemberExpression",object:n,property:s},i)}function fb(t,e,n){const i=[];for(;t.getToken()!==8457014&&t.getToken()!==8390721&&t.getToken()!==1048576;)i.push(mb(t,e,n));return i}function pb(t,e,n){const i=t.tokenStart;A(t,e),R(t,e,14);const s=W(t,e,n,1,0,t.tokenStart);return R(t,e,1074790415),t.finishNode({type:"JSXSpreadAttribute",argument:s},i)}function mb(t,e,n){const{tokenStart:i}=t;if(t.getToken()===2162700)return pb(t,e,n);Ui(t);let s=null,o=ri(t,e);if(t.getToken()===21&&(o=pu(t,e,o,i)),t.getToken()===1077936155)switch(i2(t,e)){case 134283267:s=ae(t,e);break;case 8456256:s=oi(t,e,n,0,t.tokenStart);break;case 2162700:s=Is(t,e,n,0,1);break;default:t.report(154)}return t.finishNode({type:"JSXAttribute",value:s,name:o},i)}function pu(t,e,n,i){R(t,e,21);const s=ri(t,e);return t.finishNode({type:"JSXNamespacedName",namespace:n,name:s},i)}function Is(t,e,n,i,s){const{tokenStart:o}=t;A(t,e|32);const{tokenStart:r}=t;if(t.getToken()===14)return _b(t,e,n,o);let a=null;return t.getToken()===1074790415?(s&&t.report(157),a=bb(t,{index:t.startIndex,line:t.startLine,column:t.startColumn})):a=W(t,e,n,1,0,r),t.getToken()!==1074790415&&t.report(25,V[15]),i?en(t):A(t,e),t.finishNode({type:"JSXExpressionContainer",expression:a},o)}function _b(t,e,n,i){R(t,e,14);const s=W(t,e,n,1,0,t.tokenStart);return R(t,e,1074790415),t.finishNode({type:"JSXSpreadChild",expression:s},i)}function bb(t,e){return t.finishNode({type:"JSXEmptyExpression"},e,t.tokenStart)}function ri(t,e){const n=t.tokenStart;t.getToken()&143360||t.report(30,V[t.getToken()&255]);const{tokenValue:i}=t;return A(t,e),t.finishNode({type:"JSXIdentifier",name:i},n)}function gb(t,e){return l2(t,e)}class yb{source;programAst;hasExtractions;extractionStates;dependentsTracker=new Map;declaredVariables=new Map;iifeParamName=null;constructor(e,n={}){this.source=e;const i=n.extractions?Array.isArray(n.extractions)?n.extractions:[n.extractions]:[];this.extractionStates=i.map(s=>({config:{collectDependencies:!0,stopWhenReady:!0,...s},dependencies:new Set,dependents:new Set,ready:!1})),this.hasExtractions=this.extractionStates.length>0,this.programAst=gb(e,{ranges:!0,loc:!1,module:!1}),this.analyzeAst()}analyzeAst(){let e;for(const n of this.programAst.body)if(n.type==="ExpressionStatement"&&n.expression.type==="CallExpression"){const i=n.expression;if(i.callee.type==="FunctionExpression"){const s=i.callee,o=s.params.length>0?s.params[0]:null;if(!this.iifeParamName&&o?.type==="Identifier"&&(this.iifeParamName=o.name),s.body?.type==="BlockStatement"){e=s.body;break}}}if(e)for(const n of e.body)switch(n.type){case"ExpressionStatement":{const i=n.expression;if(i.type!=="AssignmentExpression")continue;const s=i.left,o=i.right;if(s.type==="Identifier"){const r=this.declaredVariables.get(s.name);if(!r)continue;if(r.node.init=o,this.needsDependencyAnalysis(o)&&(r.dependencies=this.findDependencies(i.right,s.name)),this.onMatch(r.node,r))return}else if(i.left.type==="MemberExpression"){const r=zt(i.left,this.source);if(!r||this.declaredVariables.has(r))continue;const a={name:r,node:n,dependents:this.dependentsTracker.get(r)||new Set,predeclared:!1,dependencies:this.findDependencies(o,r)},l=D_(i.left,this.source);if(l&&l!==r&&!l.startsWith("this.")&&a.dependencies.add(l.replace(".prototype","")),this.dependentsTracker.has(r)&&this.dependentsTracker.delete(r),this.declaredVariables.set(r,a),this.onMatch(n,a))return}break}case"VariableDeclaration":{for(const i of n.declarations){if(i.id.type!=="Identifier")continue;const s={name:i.id.name,node:i,dependents:this.dependentsTracker.get(i.id.name)||new Set,dependencies:new Set,predeclared:!1},o=i.init;if(!o&&n.kind==="var"?s.predeclared=!0:o&&this.needsDependencyAnalysis(o)&&(s.dependencies=this.findDependencies(o,s.name)),this.dependentsTracker.has(s.name)&&this.dependentsTracker.delete(s.name),this.declaredVariables.set(s.name,s),this.onMatch(i,s))return}break}}}needsDependencyAnalysis(e){if(!e)return!1;switch(e.type){case"FunctionExpression":case"ArrowFunctionExpression":case"ArrayExpression":case"LogicalExpression":case"CallExpression":case"NewExpression":case"MemberExpression":case"BinaryExpression":case"ConditionalExpression":case"ObjectExpression":case"SequenceExpression":case"Identifier":return!0;default:return!1}}onMatch(e,n){if(!this.hasExtractions)return!1;let i=!1,s=!1;for(const o of this.extractionStates){if(o.node){if(o.node!==e){if(this.refreshExtractionState(o),this.shouldStopTraversal())return!0;continue}}else{if(e.type==="VariableDeclarator"&&!e.init||(s=o.config.match(e),!s))continue;o.node=e}i=!0,n&&(o.metadata=n,o.dependents=n.dependents,o.dependencies=n.dependencies,typeof s!="boolean"&&(o.matchContext=s)),this.refreshExtractionState(o)}return i?this.shouldStopTraversal():!1}refreshExtractionState(e){if(!e.node){e.ready=!1;return}if(e.config.collectDependencies===!1){e.ready=!0;return}if(!e.metadata){e.ready=!1;return}e.ready=this.areDependenciesResolved(e.dependencies)}shouldStopTraversal(){if(!this.hasExtractions)return!1;let e=!1;for(const n of this.extractionStates)if(n.config.stopWhenReady!==!1&&(e=!0,!n.node||!n.ready))return!1;return e}areDependenciesResolved(e,n=new Set){if(!e||e.size===0)return!0;for(const i of e){if(!i||vt.has(i)||i===this.iifeParamName||n.has(i))continue;const s=this.declaredVariables.get(i);if(!s||(n.add(i),!this.areDependenciesResolved(s.dependencies,n)))return!1}return!0}findDependencies(e,n){const i=new Set;if(!e)return i;const s=[{names:new Set,type:"block"}],o=()=>s[s.length-1],r=d=>{for(let p=s.length-1;p>=0;p--)if(s[p].names.has(d))return!0;return!1},a="id"in e&&e?.id?.type==="Identifier"?e.id.name:void 0,l=(d,p)=>{if(d)switch(d.type){case"Identifier":p.add(d.name);break;case"ObjectPattern":for(const b of d.properties)b.type==="RestElement"?l(b.argument,p):b.type==="Property"&&l(b.value,p);break;case"ArrayPattern":for(const b of d.elements)b&&l(b,p);break;case"RestElement":l(d.argument,p);break;case"AssignmentPattern":l(d.left,p);break}},f=(d,p)=>{if(d?.params)for(const b of d.params)l(b,p)};return Nc(e,{enter:(d,p)=>{switch(d.type){case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":{const b=d.type==="FunctionDeclaration",w="id"in d?d.id?.name:void 0;b&&w&&o().names.add(w);const g={names:new Set,type:"function"};d.type==="FunctionExpression"&&w&&g.names.add(w),f(d,g.names),s.push(g);break}case"BlockStatement":{s.push({names:new Set,type:"block"});break}case"CatchClause":{const b=new Set;d.param&&l(d.param,b),s.push({names:b,type:"block"});break}case"VariableDeclaration":{const b=o();for(const w of d.declarations)l(w.id,b.names);break}case"ClassDeclaration":{d.id?.name&&o().names.add(d.id.name);break}case"LabeledStatement":{d.label?.type==="Identifier"&&o().names.add(d.label.name);break}case"Identifier":{if(d.name===a||p?.type==="Property"&&p.key===d&&!p.computed)return;if(p?.type==="MemberExpression"&&p.property===d&&!p.computed){if(p.object.type==="ThisExpression")return;const w=zt(p,this.source);if(!w)return;const g=this.declaredVariables.get(w);if(g)g.dependents.add(n),i.add(w);else if(p.object.type==="Identifier"){const I=p.object.name,v=this.declaredVariables.get(I);if((v||I===this.iifeParamName)&&!r(I)&&!vt.has(I)){v?.dependents.add(n),i.add(w);const T=this.dependentsTracker.get(w);T?T.add(n):this.dependentsTracker.set(w,new Set([n]))}}return}if(r(d.name)||vt.has(d.name))return;i.add(d.name);const b=this.declaredVariables.get(d.name);if(b)b.dependents.add(n);else{const w=this.dependentsTracker.get(d.name);w?w.add(n):this.dependentsTracker.set(d.name,new Set([n]))}break}}},leave:d=>{switch(d.type){case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"BlockStatement":case"CatchClause":s.length>1&&s.pop();break}}}),i}getExtractedMatches(){return this.extractionStates.filter(e=>!!e.node)}getSource(){return this.source}}class wb{analyzer;constructor(e){this.analyzer=e}areSafeArgs(e,n="strict"){return(e??[]).every(i=>!i||i.type==="SpreadElement"?!1:this.isSafeInitializer(i,n))}isSafeInitializer(e,n="strict"){if(!e)return!0;switch(e.type){case"Literal":{const i=e;return typeof i.value=="string"||typeof i.value=="number"||typeof i.value=="boolean"||i.value===null||!!i.regex}case"TemplateLiteral":return e.expressions.every(i=>this.isSafeInitializer(i,n));case"ArrayExpression":return e.elements.every(i=>i?i.type==="SpreadElement"?!1:this.isSafeInitializer(i,n):!0);case"ObjectExpression":return e.properties.every(i=>{if(i.type!=="Property"||i.computed||i.kind!=="init")return!1;const s=i.value;return s?s.type==="FunctionExpression"||s.type==="ArrowFunctionExpression"||s.type==="Literal":!1});case"CallExpression":{if(e.callee.type==="Identifier"&&vt.has(e.callee.name))return this.areSafeArgs(e.arguments,n);if(e.callee.type==="MemberExpression"){if(!this.isSafeInitializer(e.callee.object,n))return!1;if(n==="strict"){const i=e.callee.property.type==="Identifier"?e.callee.property.name:"";if(e.callee.computed||!vt.has(i))return!1}return this.areSafeArgs(e.arguments,n)}return!1}case"NewExpression":{if(e.callee.type==="Identifier"){if(vt.has(e.callee.name))return this.areSafeArgs(e.arguments,n);if(n==="loose")return this.areSafeArgs(e.arguments,n)}return!1}case"UnaryExpression":return this.isSafeInitializer(e.argument,n);case"FunctionExpression":case"ArrowFunctionExpression":case"Identifier":return!0;case"MemberExpression":return n==="loose"?e.computed&&!this.isSafeInitializer(e.property,n)?!1:this.isSafeInitializer(e.object,n):!1;case"LogicalExpression":case"BinaryExpression":return this.isSafeInitializer(e.left,n)&&this.isSafeInitializer(e.right,n);case"ConditionalExpression":return n==="loose"?this.isSafeInitializer(e.test,n)&&this.isSafeInitializer(e.consequent,n)&&this.isSafeInitializer(e.alternate,n):!1;case"SequenceExpression":return n==="loose"?e.expressions.every(i=>this.isSafeInitializer(i,n)):!1;case"AssignmentExpression":{if(e.left.type==="MemberExpression"&&!e.left.computed){const i=e.left.object;if(i.type==="Identifier"&&this.analyzer.declaredVariables.get(i.name)?.node.init!==void 0)return this.isSafeInitializer(e.right,n)}else if(e.left.type==="Identifier"&&this.analyzer.declaredVariables.has(e.left.name))return this.isSafeInitializer(e.right,n);return!1}default:return!1}}getInitializerFallback(e){switch(e?.type){case"ObjectExpression":case"NewExpression":case"MemberExpression":case"LogicalExpression":return"{}";case"ArrayExpression":return"[]";default:return"undefined"}}renderNode(e,n,i={}){const s=this.analyzer.getSource(),o=this.analyzer.declaredVariables,r=i.disallowSideEffectInitializers,a=typeof r=="object"&&r!==null?r.mode??"strict":"strict",l=!!r,f=e.type==="AssignmentExpression"?e:e.type==="ExpressionStatement"&&e.expression.type==="AssignmentExpression"?e.expression:null,d=f&&f.operator==="="?f.right:e.type==="VariableDeclarator"?e.init:null,p=l&&d&&!this.isSafeInitializer(d,a),b=this.getInitializerFallback(d);let w=b;if(!p&&d)if(!n&&d.type==="Identifier"&&!o.has(d.name))w=b;else{const v=f?.left;if(v?.type==="MemberExpression"&&d&&l&&v.object.type==="Identifier"&&d.type!=="FunctionExpression"&&d.type!=="ArrowFunctionExpression"&&d.type!=="LogicalExpression")return`${me}// Skipped ${zt(v,s)} assignment.`;w=vn(d,s)?.trim().replace(/;\s*$/,"")||"kk"}!p&&d&&d.type==="SequenceExpression"&&!w.startsWith("(")&&(w=`(${w})`);const I=`${e.type==="VariableDeclarator"&&e.id.type==="Identifier"?e.id.name:f&&f.left.type==="Identifier"?f.left.name:f?.type==="AssignmentExpression"?zt(f.left,s)?.trim():"unknown"} = ${w};`;return e.type==="VariableDeclarator"&&e.init&&!n?`${me}var ${I}`:`${me}${I}`}buildScript(e){const{maxDepth:n=1/0,forceVarPredeclaration:i=!1,exportRawValues:s=!1,rawValueOnly:o=[]}=e,r=this.analyzer.getExtractedMatches(),a=new Set(r.map(v=>v.metadata?.name||"")),l=[],f=new Set,d=new Map,p={};function b(v){!v||v.includes(".")||f.add(v)}const w=(v,T=0)=>{if(!(!v||T>n))for(const B of v.dependencies){if(a.has(B))continue;a.add(B);const x=this.analyzer.declaredVariables.get(B);if(!x)continue;const P=i||x.predeclared;P&&b(B),B.includes(".")||w(x,T+1),l.push(this.renderNode(x.node,P,e))}};for(const v of r){const T=v.config.friendlyName,B=T&&o.includes(T);if(v.metadata){B||l.push(`${me}//#region --- start [${T||"Unknown"}] ---`);const x=(i||v.metadata.predeclared)&&!B;if(x&&b(v.metadata.name),v.config.collectDependencies&&!B&&w(v.metadata),v.matchContext&&T&&(d.set(T,v.matchContext),s)){const P=v.matchContext,ce=this.analyzer.getSource();let Z=null;P.type==="Property"?Z=vn(P.value,ce):P.type==="Identifier"?Z=P.name:Z=vn(P,ce),p[T]=Z}B||(l.push(this.renderNode(v.metadata.node,x,e)),l.push(`${me}//#endregion --- end [${T||"Unknown"}] ---
`))}}const g=[];g.push("const window = Object.assign({}, globalThis);"),g.push("const document = {};"),g.push(`const self = window;
`),g.push(`const exportedVars = (function(${this.analyzer.iifeParamName}) {`),f.size>0&&g.push(`${me}var ${Array.from(f).join(", ")};
`),g.push(l.join(`
`));const I=[];for(const[v,T]of d){let B=null;if(T.type==="Identifier"){const x=this.analyzer.declaredVariables.get(T.name);x?.node?.type==="VariableDeclarator"&&x.node.init?.type==="FunctionExpression"&&(B=x.node)}else T.type==="CallExpression"&&(B=T);if(B){const x=R_(this.analyzer,v,B);x&&(g.push(`${x}
`),I.push(v))}}if(s){const T=JSON.stringify(p,null,me.length).split(`
`),B=`${T[0]}
${T.slice(1).map(x=>me+x).join(`
`)}`;g.push(`${me}const rawValues = ${B};
`),I.push("rawValues")}return g.push(`${me}return { ${I.join(", ")} };`),g.push(`})({});
`),{output:g.join(`
`),exported:I,exportedRawValues:s?p:void 0}}}class vs extends u{static type="OpenPopupAction";popup;popup_type;constructor(e){super(),this.popup=h(e.popup),this.popup_type=e.popupType}}class E extends u{static type="Button";text;label;tooltip;style;size;icon_type;is_disabled;target_id;endpoint;accessibility;constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),"accessibilityData"in e&&"accessibilityData"in e.accessibilityData&&(this.accessibility={accessibility_data:new qe(e.accessibilityData.accessibilityData)}),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"size")&&(this.size=e.size),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint||e.command)}}class mu extends u{static type="DropdownItem";label;selected;value;icon_type;description;endpoint;constructor(e){super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new m(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=e.icon?.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}}class ai extends u{static type="Dropdown";label;entries;constructor(e){super(),this.label=e.label||"",this.entries=k(e.entries,mu)}}class _u extends u{static type="CreatePlaylistDialog";title;title_placeholder;privacy_option;cancel_button;create_button;constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=h(e.privacyOption,ai),this.create_button=h(e.cancelButton,E),this.cancel_button=h(e.cancelButton,E)}}class bu extends u{static type="CommandExecutorCommand";commands;constructor(e){super(),this.commands=hw(e.commands)}}class m extends u{static type="NavigationEndpoint";name;payload;dialog;modal;open_popup;next_endpoint;metadata;command;commands;constructor(e){if(super(),e){if(e.serialCommand||e.parallelCommand){const n=e.serialCommand||e.parallelCommand;this.commands=n.commands.map(i=>new m(i))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=If(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new vs(e.openPopupAction)),this.name=Object.keys(e||{}).find(n=>n.endsWith("Endpoint")||n.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=h(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=h(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new m(this.payload.nextEndpoint)),e?.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},e?.commandMetadata?.webCommandMetadata?.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),e?.commandMetadata?.webCommandMetadata?.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),e?.commandMetadata?.webCommandMetadata?.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),e?.commandMetadata?.webCommandMetadata?.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e?.createPlaylistEndpoint&&e?.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=h(e?.createPlaylistEndpoint.createPlaylistDialog,_u))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,n){if(!e)throw new Error("An API caller must be provided");if(this.command){let i=this.command;return i.is(bu)&&(i=i.commands.at(-1)),e.execute(i.getApiPath(),{...i.buildRequest(),...n})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...n})}toURL(){if(this.metadata.url&&this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}}class C{url;width;height;constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let n;return e.thumbnails?n=e.thumbnails:e.sources&&(n=e.sources),n?n.map(i=>new C(i)).sort((i,s)=>s.width-i.width):[]}}class kb{text;emoji;constructor(e){this.text=e.emoji?.emojiId||e.emoji?.shortcuts?.[0]||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:e.emoji?.shortcuts||[],search_terms:e.emoji?.searchTerms||[],image:C.fromResponse(e.emoji.image),is_custom:!!e.emoji?.isCustomEmoji}}toString(){return this.text}toHTML(){const e=gu(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}}class Tb{text;text_color;endpoint;bold;bracket;dark_mode_text_color;deemphasize;italics;strikethrough;error_underline;underline;font_face;attachment;constructor(e){this.text=e.text,this.bold=!!e.bold,this.bracket=!!e.bracket,this.italics=!!e.italics,this.strikethrough=!!e.strikethrough,this.error_underline=!!e.error_underline,this.underline=!!e.underline,this.deemphasize=!!e.deemphasize,"textColor"in e&&(this.text_color=e.textColor),"navigationEndpoint"in e&&(this.endpoint=new m(e.navigationEndpoint)),"darkModeTextColor"in e&&(this.dark_mode_text_color=e.darkModeTextColor),"fontFace"in e&&(this.font_face=e.fontFace),this.attachment=e.attachment}toString(){return this.text}toHTML(){const e=[];if(this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small"),this.underline&&e.push("u"),this.error_underline&&e.push("u"),!this.text?.length)return"";const n=gu(this.text),s=`<span style="white-space: pre-wrap;">${e.map(o=>`<${o}>`).join("")+n+e.map(o=>`</${o}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){const{url:o}=this.attachment.element.type.imageType.image.sources[0];let r="";o&&(r=`<img src="${o}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);const a=this.endpoint.toURL();if(a)return`<a href="${a}" class="yt-ch-link">${r}${s}</a>`}if(this.endpoint){const o=this.endpoint.toURL();if(o)return`<a href="${o}">${s}</a>`}return s}}function gu(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const Ft="Text";let c=class yu{text;runs;endpoint;accessibility;rtl;constructor(e){this.isRunsData(e)?(this.runs=e.runs.map(n=>n.emoji?new kb(n):new Tb(n)),this.text=this.runs.map(n=>n.text).join("")):this.text=e?.simpleText,this.isObject(e)&&"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new qe(e.accessibility.accessibilityData)}),this.rtl=!!e?.rtl,this.parseEndpoint(e)}isRunsData(e){return this.isObject(e)&&Reflect.has(e,"runs")&&Array.isArray(e.runs)}parseEndpoint(e){this.isObject(e)&&("navigationEndpoint"in e?this.endpoint=new m(e.navigationEndpoint):"titleNavigationEndpoint"in e?this.endpoint=new m(e.titleNavigationEndpoint):this.runs?.[0]?.endpoint&&(this.endpoint=(this.runs?.[0]).endpoint))}isObject(e){return typeof e=="object"&&e!==null}static fromAttributed(e){const{content:n,commandRuns:i,attachmentRuns:s}=e,o=[{text:n,startIndex:0}],r=e.styleRuns?.map(a=>({...a,startIndex:a.startIndex??0,length:a.length??n.length}));return r?.length&&this.processStyleRuns(o,r,e),i?.length&&this.processCommandRuns(o,i,e),s?.length&&this.processAttachmentRuns(o,s,e),new yu({runs:o})}static processStyleRuns(e,n,i){for(const s of n)if(s.italic||s.strikethrough==="LINE_STYLE_SINGLE"||s.weightLabel==="FONT_WEIGHT_MEDIUM"||s.weightLabel==="FONT_WEIGHT_BOLD"){const o=Di(e,s);if(!o){oe(Ft,"Unable to find matching run for style run. Skipping...",{style_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(e))});continue}wn(e,o,s,{bold:s.weightLabel==="FONT_WEIGHT_MEDIUM"||s.weightLabel==="FONT_WEIGHT_BOLD",italics:s.italic,strikethrough:s.strikethrough==="LINE_STYLE_SINGLE"})}else Oi(Ft,"Skipping style run as it is doesn't have any information that we parse.",{style_run:s,input_data:i})}static processCommandRuns(e,n,i){for(const s of n)if(s.onTap){const o=Di(e,s);if(!o){oe(Ft,"Unable to find matching run for command run. Skipping...",{command_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(e))});continue}wn(e,o,s,{navigationEndpoint:s.onTap})}else Oi(Ft,'Skipping command run as it is missing the "doTap" property.',{command_run:s,input_data:i})}static processAttachmentRuns(e,n,i){for(const s of n){const o=Di(e,s);if(!o){oe(Ft,"Unable to find matching run for attachment run. Skipping...",{attachment_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(e))});continue}if(s.length===0)o.attachment=s;else{const r=s.startIndex-o.startIndex,a=o.text.substring(r,r+s.length),l=/^:[^:]+:$/.test(a);if(s.element?.type?.imageType?.image&&(l||/^(?:\p{Emoji}|\u200d)+$/u.test(a))){const f={image:s.element.type.imageType.image,isCustomEmoji:l,shortcuts:l?[a]:void 0};wn(e,o,s,{emoji:f})}else wn(e,o,s,{attachment:s})}}}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};function Di(t,e){return t.find(n=>n.startIndex<=e.startIndex&&e.startIndex+e.length<=n.startIndex+n.text.length)}function wn(t,e,n,i){const s=t.indexOf(e),o=[],r=n.startIndex-e.startIndex;n.startIndex>e.startIndex&&o.push({...e,text:e.text.substring(0,r)}),o.push({...e,text:e.text.substring(r,r+n.length),startIndex:n.startIndex,...i}),n.startIndex+n.length<e.startIndex+e.text.length&&o.push({...e,text:e.text.substring(r+n.length),startIndex:n.startIndex+n.length}),t.splice(s,1,...o)}class wu extends u{static type="ChannelExternalLinkView";title;link;favicon;constructor(e){super(),this.title=c.fromAttributed(e.title),this.link=c.fromAttributed(e.link),this.favicon=C.fromResponse(e.favicon)}}class ku extends u{static type="AboutChannelView";description;description_label;country;custom_links_label;subscriber_count;view_count;joined_date;canonical_channel_url;channel_id;additional_info_label;custom_url_on_tap;video_count;sign_in_for_business_email;links;constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=c.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=c.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=c.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=c.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new m(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=c.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=k(e.links,wu):this.links=[]}}class Tu extends u{static type="AboutChannel";metadata;share_channel;constructor(e){super(),this.metadata=h(e.metadata,ku),this.share_channel=h(e.shareChannel,E)}}class Cu extends u{static type="AccountChannel";title;endpoint;constructor(e){super(),this.title=new c(e.title),this.endpoint=new m(e.navigationEndpoint)}}class xs extends u{static type="AccountItem";account_name;account_photo;is_selected;is_disabled;has_channel;endpoint;account_byline;channel_handle;constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=C.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new m(e.serviceEndpoint),this.account_byline=new c(e.accountByline),this.channel_handle=new c(e.channelHandle)}}class Iu extends u{static type="AccountItemSectionHeader";title;constructor(e){super(),this.title=new c(e.title)}}class on extends u{static type="CompactLink";title;subtitle;endpoint;style;icon_type;secondary_icon_type;constructor(e){super(),this.title=new c(e.title).toString(),"subtitle"in e&&(this.subtitle=new c(e.subtitle)),"icon"in e&&"iconType"in e.icon&&(this.icon_type=e.icon.iconType),"secondaryIcon"in e&&"iconType"in e.secondaryIcon&&(this.secondary_icon_type=e.secondaryIcon.iconType),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint),this.style=e.style}}class vu extends u{static type="AccountItemSection";contents;header;constructor(e){super(),this.contents=k(e.contents,[xs,on]),this.header=h(e.header,Iu)}}class xu extends u{static type="AccountSectionList";contents;footers;constructor(e){super(),this.contents=k(e.contents,vu),this.footers=k(e.footers,Cu)}}class nt extends u{static type="AppendContinuationItemsAction";contents;target;constructor(e){super(),this.contents=k(e.continuationItems),this.target=e.target}}class Cb extends u{static type="ChangeEngagementPanelVisibilityAction";target_id;visibility;constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}}class Su extends u{static type="MultiPageMenu";header;sections;style;constructor(e){super(),this.header=h(e.header),this.sections=k(e.sections),this.style=e.style}}class Ib extends u{static type="GetMultiPageMenuAction";menu;constructor(e){super(),this.menu=h(e.menu,Su)}}class vb extends u{static type="SendFeedbackAction";bucket;constructor(e){super(),this.bucket=e.bucket}}class xb extends u{static type="SignalAction";signal;constructor(e){super(),this.signal=e.signal}}class Eu extends u{static type="ChannelSwitcherPage";header;contents;constructor(e){super(),this.header=h(e.header),this.contents=te(e.contents,!0)}}class Sb extends u{static type="UpdateChannelSwitcherPageAction";header;contents;constructor(e){super();const n=h(e.page,Eu);n&&(this.header=n.header,this.contents=n.contents)}}class ft extends u{static type="SortFilterSubMenu";title;icon_type;tooltip;sub_menu_items;accessibility;constructor(e){super(),"title"in e&&(this.title=e.title),"icon"in e&&(this.icon_type=e.icon.iconType),"tooltip"in e&&(this.tooltip=e.tooltip),"subMenuItems"in e&&(this.sub_menu_items=e.subMenuItems.map(n=>({title:n.title,selected:n.selected,continuation:n.continuation?.reloadContinuationData?.continuation,endpoint:new m(n.serviceEndpoint||n.navigationEndpoint),subtitle:n.subtitle||null}))),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new qe(e.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}}class Au extends u{static type="TranscriptFooter";language_menu;constructor(e){super(),this.language_menu=h(e.languageMenu,ft)}}class Du extends u{static type="TranscriptSearchBox";formatted_placeholder;clear_button;endpoint;search_button;constructor(e){super(),this.formatted_placeholder=new c(e.formattedPlaceholder),this.clear_button=h(e.clearButton,E),this.endpoint=new m(e.onTextChangeCommand),this.search_button=h(e.searchButton,E)}}class Ru extends u{static type="TranscriptSectionHeader";start_ms;end_ms;snippet;constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new c(e.snippet)}}class Pu extends u{static type="TranscriptSegment";start_ms;end_ms;snippet;start_time_text;target_id;constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new c(e.snippet),this.start_time_text=new c(e.startTimeText),this.target_id=e.targetId}}class Mu extends u{static type="TranscriptSegmentList";initial_segments;no_result_label;retry_label;touch_captions_enabled;constructor(e){super(),this.initial_segments=k(e.initialSegments,[Pu,Ru]),this.no_result_label=new c(e.noResultLabel),this.retry_label=new c(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}}class Bu extends u{static type="TranscriptSearchPanel";header;body;footer;target_id;constructor(e){super(),this.header=h(e.header,Du),this.body=h(e.body,Mu),this.footer=h(e.footer,Au),this.target_id=e.targetId}}class Ss extends u{static type="Transcript";content;constructor(e){super(),this.content=h(e.content,Bu)}}class Eb extends u{static type="UpdateEngagementPanelAction";target_id;content;constructor(e){super(),this.target_id=e.targetId,this.content=h(e.content,Ss)}}class Ab extends u{static type="UpdateSubscribeButtonAction";channel_id;subscribed;constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}}class Db extends u{static type="ActiveAccountHeader";account_name;account_photo;endpoint;manage_account_title;channel_handle;constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=C.fromResponse(e.accountPhoto),this.endpoint=new m(e.serviceEndpoint),this.manage_account_title=new c(e.manageAccountTitle),this.channel_handle=new c(e.channelHandle)}}class Lu extends u{static type="MenuTitle";title;constructor(e){super(),this.title=new c(e.title)}}class Nu extends u{static type="PlaylistAddToOption";add_to_playlist_service_endpoint;contains_selected_videos;playlist_id;privacy;privacy_icon;remove_from_playlist_service_endpoint;title;constructor(e){super(),this.add_to_playlist_service_endpoint=new m(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:e.privacyIcon?.iconType||null},this.remove_from_playlist_service_endpoint=new m(e.removeFromPlaylistServiceEndpoint),this.title=new c(e.title)}}class Rb extends u{static type="AddToPlaylist";actions;playlists;constructor(e){super(),this.actions=k(e.actions,[Lu,E]),this.playlists=k(e.playlists,Nu)}}class Es extends u{static type="Alert";text;alert_type;constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}}class Ou extends u{static type="AlertWithButton";text;alert_type;dismiss_button;constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type,this.dismiss_button=h(e.dismissButton,E)}}class Vu extends u{static type="AnimatedThumbnailOverlayView";thumbnail;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}class Uu extends u{static type="AttributionView";text;suffix;constructor(e){super(),this.text=c.fromAttributed(e.text),this.suffix=c.fromAttributed(e.suffix)}}class Fu extends u{static type="AudioOnlyPlayability";audio_only_availability;constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}}class ci extends u{static type="AutomixPreviewVideo";playlist_video;constructor(e){super(),e?.content?.automixPlaylistVideoRenderer?.navigationEndpoint&&(this.playlist_video={endpoint:new m(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}}class ui extends u{static type="AvatarView";image;image_processor;avatar_image_size;constructor(e){super(),this.image=C.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}}class Pb{on_focus;on_hidden;on_touch_end;on_touch_move;on_long_press;on_tap;on_touch_start;on_visible;on_first_visible;on_hover;constructor(e){"onFocus"in e&&(this.on_focus=new m(e.onFocus)),"onHidden"in e&&(this.on_hidden=new m(e.onHidden)),"onTouchEnd"in e&&(this.on_touch_end=new m(e.onTouchEnd)),"onTouchMove"in e&&(this.on_touch_move=new m(e.onTouchMove)),"onLongPress"in e&&(this.on_long_press=new m(e.onLongPress)),"onTap"in e&&(this.on_tap=new m(e.onTap)),"onTouchStart"in e&&(this.on_touch_start=new m(e.onTouchStart)),"onVisible"in e&&(this.on_visible=new m(e.onVisible)),"onFirstVisible"in e&&(this.on_first_visible=new m(e.onFirstVisible)),"onHover"in e&&(this.on_hover=new m(e.onHover))}}class Vt{command_context;accessibility_context;constructor(e){e&&("commandContext"in e&&(this.command_context=new Pb(e.commandContext)),"accessibilityContext"in e&&(this.accessibility_context=new Ep(e.accessibilityContext)))}}class As extends u{static type="AvatarStackView";avatars;text;renderer_context;constructor(e){super(),this.avatars=k(e.avatars,ui),Reflect.has(e,"text")&&(this.text=c.fromAttributed(e.text)),this.renderer_context=new Vt(e.rendererContext)}}class re extends u{static type="ButtonView";secondary_icon_image;icon_name;enable_icon_button;tooltip;icon_image_flip_for_rtl;button_size;icon_position;is_full_width;state;on_disabled_tap;custom_border_color;on_tap;style;icon_image;custom_dark_theme_border_color;title;target_id;enable_full_width_margins;custom_font_color;button_type;enabled;accessibility_id;custom_background_color;on_long_press;title_formatted;on_visible;icon_trailing;accessibility_text;constructor(e){super(),"secondaryIconImage"in e&&(this.secondary_icon_image=C.fromResponse(e.secondaryIconImage)),"iconName"in e&&(this.icon_name=e.iconName),"enableIconButton"in e&&(this.enable_icon_button=e.enableIconButton),"tooltip"in e&&(this.tooltip=e.tooltip),"iconImageFlipForRtl"in e&&(this.icon_image_flip_for_rtl=e.iconImageFlipForRtl),"buttonSize"in e&&(this.button_size=e.buttonSize),"iconPosition"in e&&(this.icon_position=e.iconPosition),"isFullWidth"in e&&(this.is_full_width=e.isFullWidth),"state"in e&&(this.state=e.state),"onDisabledTap"in e&&(this.on_disabled_tap=new m(e.onDisabledTap)),"customBorderColor"in e&&(this.custom_border_color=e.customBorderColor),"onTap"in e&&(this.on_tap=new m(e.onTap)),"style"in e&&(this.style=e.style),"iconImage"in e&&(this.icon_image=e.iconImage),"customDarkThemeBorderColor"in e&&(this.custom_dark_theme_border_color=e.customDarkThemeBorderColor),"title"in e&&(this.title=e.title),"targetId"in e&&(this.target_id=e.targetId),"enableFullWidthMargins"in e&&(this.enable_full_width_margins=e.enableFullWidthMargins),"customFontColor"in e&&(this.custom_font_color=e.customFontColor),"type"in e&&(this.button_type=e.type),"enabled"in e&&(this.enabled=e.enabled),"accessibilityId"in e&&(this.accessibility_id=e.accessibilityId),"customBackgroundColor"in e&&(this.custom_background_color=e.customBackgroundColor),"onLongPress"in e&&(this.on_long_press=new m(e.onLongPress)),"titleFormatted"in e&&(this.title_formatted=e.titleFormatted),"onVisible"in e&&(this.on_visible=e.onVisible),"iconTrailing"in e&&(this.icon_trailing=e.iconTrailing),"accessibilityText"in e&&(this.accessibility_text=e.accessibilityText)}}class Mb extends u{static type="BackgroundPromo";body_text;cta_button;icon_type;title;constructor(e){super(),this.body_text=new c(e.bodyText),this.cta_button=h(e.ctaButton,[E,re]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new c(e.title)}}class qu extends u{static type="BackstageImage";image;endpoint;constructor(e){super(),this.image=C.fromResponse(e.image),this.endpoint=new m(e.command)}}class ue extends u{static type="ToggleButton";text;toggled_text;tooltip;toggled_tooltip;is_toggled;is_disabled;icon_type;like_count;short_like_count;endpoint;toggled_endpoint;button_id;target_id;constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon?.iconType;const n=e?.defaultText?.accessibility?.accessibilityData?.label||e?.accessibilityData?.accessibilityData?.label||e?.accessibility?.label;this.icon_type=="LIKE"&&(this.like_count=parseInt(n.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=e.defaultServiceEndpoint?.commandExecutorCommand?.commands?new m(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new m(e.defaultServiceEndpoint),this.toggled_endpoint=new m(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}}class Hu extends u{static type="CreatorHeart";creator_thumbnail;heart_icon_type;heart_color;hearted_tooltip;is_hearted;is_enabled;kennedy_heart_color_string;constructor(e){super(),this.creator_thumbnail=C.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:e.heartColor?.basicColorPaletteData?.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}}class ju extends u{static type="CommentActionButtons";like_button;dislike_button;reply_button;creator_heart;constructor(e){super(),this.like_button=h(e.likeButton,ue),this.dislike_button=h(e.dislikeButton,ue),this.reply_button=h(e.replyButton,E),this.creator_heart=h(e.creatorHeart,Hu)}}class pt extends u{static type="ToggleButtonView";default_button;toggled_button;is_toggling_disabled;identifier;is_toggled;constructor(e){super(),this.default_button=h(e.defaultButtonViewModel,re),this.toggled_button=h(e.toggledButtonViewModel,re),this.is_toggling_disabled=e.isTogglingDisabled,this.identifier=e.identifier,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled)}}class $u extends u{static type="LikeButtonView";toggle_button;like_status_entity_key;like_status_entity;constructor(e){super(),this.toggle_button=h(e.toggleButtonViewModel,pt),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}}class Wu extends u{static type="DislikeButtonView";toggle_button;dislike_entity_key;constructor(e){super(),this.toggle_button=h(e.toggleButtonViewModel,pt),this.dislike_entity_key=e.dislikeEntityKey}}class Tt extends u{static type="SegmentedLikeDislikeButtonView";like_button;dislike_button;icon_type;like_count_entity;dynamic_like_count_update_data;like_count;short_like_count;constructor(e){if(super(),this.like_button=h(e.likeButtonViewModel,$u),this.dislike_button=h(e.dislikeButtonViewModel,Wu),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){const n=this.like_button.toggle_button;n.default_button?(this.short_like_count=n.default_button.title,n.default_button.accessibility_text&&(this.like_count=parseInt(n.default_button.accessibility_text.replace(/\D/g,"")))):n.toggled_button&&(this.short_like_count=n.toggled_button.title,n.toggled_button.accessibility_text&&(this.like_count=parseInt(n.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}}class St extends E{static type="MenuServiceItem";constructor(e){super(e)}}class Ds extends u{static type="DownloadButton";style;size;endpoint;target_id;constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new m(e.command),this.target_id=e.targetId}}class Yu extends u{static type="MenuServiceItemDownload";has_separator;endpoint;constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint)}}class Ku extends u{static type="MenuFlexibleItem";menu_item;top_level_button;constructor(e){super(),this.menu_item=h(e.menuItem,[St,Yu]),this.top_level_button=h(e.topLevelButton,[Ds,re,E])}}class Rs extends u{static type="LikeButton";target;like_status;likes_allowed;endpoints;constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(n=>new m(n)))}}class Ps extends u{static type="FlexibleActionsView";actions_rows;style;constructor(e){super(),this.actions_rows=e.actionsRows.map(n=>({actions:k(n.actions,[re,pt])})),this.style=e.style}}class Y extends u{static type="Menu";items;flexible_items;top_level_buttons;accessibility;constructor(e){super(),this.items=k(e.items),this.flexible_items=k(e.flexibleItems,Ku),this.top_level_buttons=k(e.topLevelButtons,[ue,Rs,E,re,Tt,Ps]),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new qe(e.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}get contents(){return this.items}}class li extends u{static type="BackstagePost";id;author;content;published;poll_status;vote_status;vote_count;menu;action_buttons;vote_button;surface;endpoint;attachment;constructor(e){super(),this.id=e.postId,this.author=new $({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=h(e.actionMenu,Y)),Reflect.has(e,"actionButtons")&&(this.action_buttons=h(e.actionButtons,ju)),Reflect.has(e,"voteButton")&&(this.vote_button=h(e.voteButton,E)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=h(e.backstageAttachment)),this.surface=e.surface}}class Bb extends u{static type="BackstagePostThread";post;constructor(e){super(),this.post=h(e.post)}}class Ms extends u{text;style;accessibility_label;constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}}class zu extends u{static type="SubFeedOption";name;is_selected;endpoint;constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new m(e.navigationEndpoint)}}class Gu extends u{static type="SubFeedSelector";title;options;constructor(e){super(),this.title=new c(e.title),this.options=k(e.options,zu)}}class Ju extends u{static type="EomSettingsDisclaimer";disclaimer;info_icon;usage_scenario;constructor(e){super(),this.disclaimer=new c(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}}class Xu extends u{static type="SearchBox";endpoint;search_button;clear_button;placeholder_text;constructor(e){super(),this.endpoint=new m(e.endpoint),this.search_button=h(e.searchButton,E),this.clear_button=h(e.clearButton,E),this.placeholder_text=new c(e.placeholderText)}}class Bs extends u{static type="BrowseFeedActions";contents;constructor(e){super(),this.contents=k(e.contents,[Gu,Ju,ue,on,Xu,E])}}class Lb extends u{static type="BrowserMediaSession";album;thumbnails;constructor(e){super(),this.album=new c(e.album),this.thumbnails=C.fromResponse(e.thumbnailDetails)}}class Nb extends u{static type="ButtonCardView";title;icon_name;renderer_context;constructor(e){super(),this.title=e.title,this.icon_name=e.image.sources[0].clientResource.imageName,this.renderer_context=new Vt(e.rendererContext)}}class Kr extends u{static type="HeaderLink";endpoint;icon;title;constructor(e){super(),this.endpoint=new m(e.navigationEndpoint),this.icon=C.fromResponse(e.icon),this.title=new c(e.title)}}class Qu extends u{static type="ChannelHeaderLinks";primary;secondary;constructor(e){super(),this.primary=q(e.primaryLinks?.map(n=>new Kr(n))||[]),this.secondary=q(e.secondaryLinks?.map(n=>new Kr(n))||[])}}class Zu extends u{static type="ChannelHeaderLinksView";first_link;more;constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=c.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=c.fromAttributed(e.more))}}class el extends u{static type="ClipCreationTextInput";placeholder_text;max_character_limit;constructor(e){super(),this.placeholder_text=new c(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}}class tl extends u{static type="ClipCreationScrubber";length_template;max_length_ms;min_length_ms;default_length_ms;window_size_ms;start_label;end_label;duration_label;constructor(e){super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=e.startAccessibility?.accessibilityData?.label,this.end_label=e.endAccessibility?.accessibilityData?.label,this.duration_label=e.durationAccessibility?.accessibilityData?.label}}class nl extends u{static type="ClipAdState";title;body;constructor(e){super(),this.title=new c(e.title),this.body=new c(e.body)}}class il extends u{static type="ClipCreation";user_avatar;title_input;scrubber;save_button;display_name;publicity_label;cancel_button;ad_state_overlay;external_video_id;publicity_label_icon;constructor(e){super(),this.user_avatar=C.fromResponse(e.userAvatar),this.title_input=h(e.titleInput,[el]),this.scrubber=h(e.scrubber,[tl]),this.save_button=h(e.saveButton,[E]),this.display_name=new c(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=h(e.cancelButton,[E]),this.ad_state_overlay=h(e.adStateOverlay,[nl]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}}class sl extends u{static type="ClipSection";contents;constructor(e){super(),this.contents=te(e.contents,!0,[il])}}class G extends u{static type="ContinuationItem";trigger;button;endpoint;constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=h(e.button,E)),this.endpoint=new m(e.continuationEndpoint)}}class ol extends u{static type="EngagementPanelTitleHeader";title;visibility_button;contextual_info;menu;constructor(e){super(),this.title=new c(e.title),this.contextual_info=e.contextualInfo?new c(e.contextualInfo):void 0,this.visibility_button=h(e.visibilityButton,E),this.menu=h(e.menu)}}class rl extends u{static type="MacroMarkersInfoItem";info_text;menu;constructor(e){super(),this.info_text=new c(e.infoText),this.menu=h(e.menu,Y)}}class Ls extends u{static type="MacroMarkersListItem";title;time_description;thumbnail;on_tap_endpoint;layout;is_highlighted;constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=C.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}}class al extends u{static type="MacroMarkersList";contents;sync_button_label;constructor(e){super(),this.contents=k(e.contents,[rl,Ls]),this.sync_button_label=new c(e.syncButtonLabel)}}class cl extends u{static type="ProductList";contents;constructor(e){super(),this.contents=k(e.contents)}}class Q extends u{static type="SectionList";contents;target_id;continuation;header;sub_menu;constructor(e){super(),this.contents=k(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=h(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=h(e.subMenu))}}class ul extends u{static type="ExpandableVideoDescriptionBody";show_more_text;show_less_text;attributed_description_body_text;constructor(e){super(),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=c.fromAttributed(e.attributedDescriptionBodyText))}}class On extends u{static type="SearchRefinementCard";thumbnails;endpoint;query;constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.endpoint=new m(e.searchEndpoint),this.query=new c(e.query).toString()}}class ll extends u{static type="GameCard";game;constructor(e){super(),this.game=h(e.game)}}class dl extends u{static type="HorizontalList";visible_item_count;items;constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=k(e.items)}get contents(){return this.items}}class hl extends u{static type="ExpandableMetadata";header;expanded_content;expand_button;collapse_button;constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:C.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=h(e.expandedContent,[hi,dl]),this.expand_button=h(e.expandButton,E),this.collapse_button=h(e.collapseButton,E)}}class gt extends u{static type="MetadataBadge";icon_type;style;label;tooltip;constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}}class Mt extends u{static type="ThumbnailOverlayTimeStatus";text;style;constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}}class Ns extends u{static type="Video";video_id;title;untranslated_title;description_snippet;snippets;expandable_metadata;additional_metadatas;thumbnails;thumbnail_overlays;rich_thumbnail;author;badges;endpoint;published;view_count;short_view_count;upcoming;length_text;show_action_menu;is_watched;menu;byline_text;search_video_result_entity_key;service_endpoints;service_endpoint;style;constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.expandable_metadata=h(e.expandableMetadata,hl),"untranslatedTitle"in e&&(this.untranslated_title=new c(e.untranslatedTitle)),"descriptionSnippet"in e&&(this.description_snippet=new c(e.descriptionSnippet)),"detailedMetadataSnippets"in e&&(this.snippets=e.detailedMetadataSnippets.map(n=>({text:new c(n.snippetText),hover_text:new c(n.snippetHoverText)}))),"additionalMetadatas"in e&&(this.additional_metadatas=e.additionalMetadatas.map(n=>new c(n))),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),"richThumbnail"in e&&(this.rich_thumbnail=h(e.richThumbnail)),this.author=new $(e.ownerText,e.ownerBadges,e.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.badges=k(e.badges,gt),"navigationEndpoint"in e&&(this.endpoint=new m(e.navigationEndpoint)),"publishedTimeText"in e&&(this.published=new c(e.publishedTimeText)),"viewCountText"in e&&(this.view_count=new c(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new c(e.shortViewCountText)),"upcomingEventData"in e&&(this.upcoming=new Date(+`${e.upcomingEventData.startTime}000`)),this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=h(e.menu,Y),"searchVideoResultEntityKey"in e&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),"bylineText"in e&&(this.byline_text=new c(e.bylineText)),"lengthText"in e&&(this.length_text=new c(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(n=>new m(n))),"serviceEndpoint"in e&&(this.service_endpoint=new m(e.serviceEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get description(){return this.snippets?this.snippets.map(e=>e.text.toString()).join(""):this.description_snippet?.toString()||""}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})||this.thumbnail_overlays.firstOfType(Mt)?.style==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}get duration(){const e=this.thumbnail_overlays.firstOfType(Mt),n=this.length_text?.toString()||e?.text.toString();return{text:n,seconds:n?Ge(n):0}}}class fl extends Ns{static type="VideoCard";metadata_text;constructor(e){super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new c(e.metadataText),this.metadata_text.text&&(this.short_view_count=new c({simpleText:this.metadata_text.text.split("Â·")[0]?.trim()}),this.published=new c({simpleText:this.metadata_text.text.split("Â·")[1]?.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new $(e.bylineText,e.ownerBadges,e.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail))}}class $t extends u{static type="ContentPreviewImageView";image;style;constructor(e){super(),this.image=C.fromResponse(e.image),this.style=e.style}}class di extends u{static type="VideoAttributeView";image;image_style;title;subtitle;secondary_subtitle;orientation;sizing_rule;overflow_menu_on_tap;overflow_menu_a11y_label;constructor(e){super(),e.image?.sources?this.image=C.fromResponse(e.image):this.image=h(e.image,$t),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new m(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}}class hi extends u{static type="HorizontalCardList";cards;header;previous_button;next_button;constructor(e){super(),this.cards=k(e.cards,[di,On,Ls,ll,fl]),this.header=h(e.header),this.previous_button=h(e.previousButton,E),this.next_button=h(e.nextButton,E)}}class rn extends u{static type="Factoid";label;value;accessibility_text;constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value),this.accessibility_text=e.accessibilityText}}class pl extends u{static type="UploadTimeFactoid";factoid;constructor(e){super(),this.factoid=h(e.factoid,rn)}}class ml extends u{static type="ViewCountFactoid";view_count_entity_key;factoid;view_count_type;constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=h(e.factoid,[rn]),this.view_count_type=e.viewCountType}}class _l extends u{static type="HypePointsFactoid";factoid;constructor(e){super(),this.factoid=h(e.factoid,rn)}}class bl extends u{static type="VideoDescriptionHeader";channel;channel_navigation_endpoint;channel_thumbnail;factoids;publish_date;title;views;constructor(e){super(),this.title=new c(e.title),this.channel=new c(e.channel),this.channel_navigation_endpoint=new m(e.channelNavigationEndpoint),this.channel_thumbnail=C.fromResponse(e.channelThumbnail),this.publish_date=new c(e.publishDate),this.views=new c(e.views),this.factoids=k(e.factoid,[rn,_l,ml,pl])}}class gl extends u{static type="VideoDescriptionInfocardsSection";section_title;creator_videos_button;creator_about_button;section_subtitle;channel_avatar;channel_endpoint;constructor(e){super(),this.section_title=new c(e.sectionTitle),this.creator_videos_button=h(e.creatorVideosButton,E),this.creator_about_button=h(e.creatorAboutButton,E),this.section_subtitle=new c(e.sectionSubtitle),this.channel_avatar=C.fromResponse(e.channelAvatar),this.channel_endpoint=new m(e.channelEndpoint)}}class yl extends u{static type="InfoRow";title;default_metadata;expanded_metadata;info_row_expand_status_key;constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new c(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new c(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}}class Os extends u{static type="CompactVideo";video_id;thumbnails;rich_thumbnail;title;author;view_count;short_view_count;short_byline_text;long_byline_text;published;badges;thumbnail_overlays;endpoint;menu;length_text;is_watched;service_endpoints;service_endpoint;style;constructor(e){super(),this.video_id=e.videoId,this.thumbnails=C.fromResponse(e.thumbnail),this.title=new c(e.title),this.author=new $(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.is_watched=!!e.isWatched,this.thumbnail_overlays=k(e.thumbnailOverlays),this.menu=h(e.menu,Y),this.badges=k(e.badges,gt),"publishedTimeText"in e&&(this.published=new c(e.publishedTimeText)),"shortBylineText"in e&&(this.view_count=new c(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new c(e.shortViewCountText)),"richThumbnail"in e&&(this.rich_thumbnail=h(e.richThumbnail)),"shortBylineText"in e&&(this.short_byline_text=new c(e.shortBylineText)),"longBylineText"in e&&(this.long_byline_text=new c(e.longBylineText)),"lengthText"in e&&(this.length_text=new c(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(n=>new m(n))),"serviceEndpoint"in e&&(this.service_endpoint=new m(e.serviceEndpoint)),"navigationEndpoint"in e&&(this.endpoint=new m(e.navigationEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get duration(){const e=this.thumbnail_overlays.firstOfType(Mt),n=this.length_text?.toString()||e?.text.toString();return{text:n,seconds:n?Ge(n):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}}class wl extends u{static type="CarouselLockup";info_rows;video_lockup;constructor(e){super(),this.info_rows=k(e.infoRows,yl),this.video_lockup=h(e.videoLockup,Os)}}class Vs extends u{static type="VideoDescriptionMusicSection";carousel_lockups;section_title;constructor(e){super(),this.carousel_lockups=k(e.carouselLockups,wl),this.section_title=new c(e.sectionTitle)}}class ji extends u{static type="VideoDescriptionTranscriptSection";section_title;sub_header_text;primary_button;constructor(e){super(),this.section_title=new c(e.sectionTitle),this.sub_header_text=new c(e.subHeaderText),this.primary_button=h(e.primaryButton,E)}}class kl extends u{static type="StructuredDescriptionPlaylistLockup";thumbnail;title;short_byline_text;video_count_short_text;endpoint;thumbnail_width;aspect_ratio;max_lines_title;max_lines_short_byline_text;overlay_position;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.title=new c(e.title),this.short_byline_text=new c(e.shortBylineText),this.video_count_short_text=new c(e.videoCountShortText),this.endpoint=new m(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}}class Tl extends u{static type="VideoDescriptionCourseSection";section_title;media_lockups;constructor(e){super(),this.section_title=new c(e.sectionTitle),this.media_lockups=k(e.mediaLockups,[kl])}}class Cl extends u{static type="VideoAttributesSectionView";header_title;header_subtitle;video_attributes;previous_button;next_button;constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=k(e.videoAttributeViewModels,di),this.previous_button=h(e.previousButton,re),this.next_button=h(e.nextButton,re)}}class Il extends u{static type="HowThisWasMadeSectionView";section_title;body_text;body_header;constructor(e){super(),Reflect.has(e,"sectionText")&&(this.section_title=c.fromAttributed(e.sectionText)),Reflect.has(e,"bodyText")&&(this.body_text=c.fromAttributed(e.bodyText)),Reflect.has(e,"bodyHeader")&&(this.body_header=c.fromAttributed(e.bodyHeader))}}class Us extends u{static type="ReelShelf";title;items;endpoint;constructor(e){super(),this.title=new c(e.title),this.items=k(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint))}get contents(){return this.items}}class Vn extends u{static type="StructuredDescriptionContent";items;constructor(e){super(),this.items=k(e.items,[bl,ul,Vs,gl,Tl,ji,ji,hi,Us,Cl,Il])}}class fi extends u{static type="EngagementPanelSectionList";header;content;target_id;panel_identifier;identifier;visibility;constructor(e){super(),this.header=h(e.header,ol),this.content=h(e.content,[di,Q,G,sl,Vn,al,cl]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}}class vl extends u{static type="ChannelTagline";content;max_lines;more_endpoint;more_icon_type;more_label;target_id;constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:h(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,fi),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new m(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}}class xl extends u{static type="SubscriptionNotificationToggleButton";states;current_state_id;target_id;constructor(e){super(),this.states=e.states.map(n=>({id:n.stateId,next_id:n.nextStateId,state:te(n.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}}class je extends u{static type="SubscribeButton";button_text;subscribed;enabled;item_type;channel_id;show_preferences;subscribed_text;unsubscribed_text;unsubscribe_text;notification_preference_button;service_endpoints;on_subscribe_endpoints;on_unsubscribe_endpoints;subscribed_entity_key;target_id;subscribe_accessibility_label;unsubscribe_accessibility_label;constructor(e){super(),this.button_text=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,Reflect.has(e,"subscribedButtonText")&&(this.subscribed_text=new c(e.subscribedButtonText)),Reflect.has(e,"unsubscribedButtonText")&&(this.unsubscribed_text=new c(e.unsubscribedButtonText)),Reflect.has(e,"unsubscribeButtonText")&&(this.unsubscribe_text=new c(e.unsubscribeButtonText)),this.notification_preference_button=h(e.notificationPreferenceButton,xl),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(n=>new m(n))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(n=>new m(n))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(n=>new m(n))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=e.subscribeAccessibility.accessibilityData?.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=e.unsubscribeAccessibility.accessibilityData?.label)}}class Wt extends u{static type="C4TabbedHeader";author;banner;tv_banner;mobile_banner;subscribers;videos_count;sponsor_button;subscribe_button;header_links;channel_handle;channel_id;tagline;constructor(e){super(),this.author=new $({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=C.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=C.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=C.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=h(e.sponsorButton,E)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=h(e.subscribeButton,[je,E])),Reflect.has(e,"headerLinks")&&(this.header_links=h(e.headerLinks,[Qu,Zu])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=h(e.tagline,vl))}}class Ob extends u{static type="CallToActionButton";label;icon_type;style;constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}}class Vb extends u{static type="Card";teaser;content;card_id;feature;cue_ranges;constructor(e){super(),this.teaser=h(e.teaser),this.content=h(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(n=>({start_card_active_ms:n.startCardActiveMs,end_card_active_ms:n.endCardActiveMs,teaser_duration_ms:n.teaserDurationMs,icon_after_teaser_ms:n.iconAfterTeaserMs}))}}class Sl extends u{static type="CardCollection";cards;header;allow_teaser_dismiss;constructor(e){super(),this.cards=k(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}}class El extends u{static type="CarouselHeader";contents;constructor(e){super(),this.contents=k(e.contents)}}class Ub extends u{static type="CarouselItem";items;background_color;layout_style;pagination_thumbnails;paginator_alignment;constructor(e){super(),this.items=k(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=C.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}}class Al extends u{static type="TextCarouselItemView";icon_name;text;on_tap_endpoint;button;constructor(e){super(),this.icon_name=e.iconName,this.text=c.fromAttributed(e.text),this.on_tap_endpoint=new m(e.onTap),this.button=h(e.button,re)}}class Dl extends u{static type="CarouselItemView";item_type;carousel_item;constructor(e){super(),this.item_type=e.itemType,this.carousel_item=h(e.carouselItem,Al)}}class Rl extends u{static type="CarouselTitleView";title;previous_button;next_button;constructor(e){super(),this.title=e.title,this.previous_button=h(e.previousButton,re),this.next_button=h(e.nextButton,re)}}let Pl=class extends u{static type="Channel";id;author;subscriber_count;video_count;long_byline;short_byline;endpoint;subscribe_button;description_snippet;constructor(e){super(),this.id=e.channelId,this.author=new $({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=h(e.subscribeButton,[je,E]),this.description_snippet=new c(e.descriptionSnippet)}};class $i extends u{static type="ChannelAboutFullMetadata";id;name;avatar;canonical_channel_url;primary_links;view_count;joined_date;description;email_reveal;can_reveal_email;country;buttons;constructor(e){super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=C.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=e.primaryLinks?.map(n=>({endpoint:new m(n.navigationEndpoint),icon:C.fromResponse(n.icon),title:new c(n.title)}))??[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new m(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=k(e.actionButtons,E)}}class Fb extends u{static type="ChannelAgeGate";channel_title;avatar;header;main_text;sign_in_button;secondary_text;constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=C.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=h(e.signInButton,E),this.secondary_text=new c(e.secondaryText)}}class qb extends u{static type="ChannelFeaturedContent";title;items;constructor(e){super(),this.title=new c(e.title),this.items=k(e.items)}}class Ml extends u{static type="ChannelMetadata";title;description;url;rss_url;vanity_channel_url;external_id;is_family_safe;keywords;avatar;music_artist_name;available_countries;android_deep_link;android_appindexing_link;ios_appindexing_link;constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=C.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}}class Hb extends u{static type="ChannelMobileHeader";title;constructor(e){super(),this.title=new c(e.title)}}class Bl extends u{static type="ChannelOptions";avatar;endpoint;name;links;constructor(e){super(),this.avatar=C.fromResponse(e.avatar),this.endpoint=new m(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(n=>new c(n))}}class jb extends u{static type="ChannelOwnerEmptyState";illustration;description;constructor(e){super(),this.illustration=C.fromResponse(e.illustration),this.description=new c(e.description)}}class Wi extends u{static type="ChannelSubMenu";content_type_sub_menu_items;sort_setting;constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(n=>({endpoint:new m(n.navigationEndpoint||n.endpoint),selected:n.selected,title:n.title})),this.sort_setting=h(e.sortSetting)}}class $b extends u{static type="ChannelSwitcherHeader";title;button;constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"button")&&(this.button=h(e.button,E))}}class Wb extends u{static type="ChannelThumbnailWithLink";thumbnails;endpoint;accessibility;constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.endpoint=new m(e.navigationEndpoint),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new qe(e.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}}class Yb extends u{static type="ChannelVideoPlayer";id;title;description;view_count;published_time;constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}}class Ll extends u{static type="Chapter";title;time_range_start_millis;thumbnail;constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=C.fromResponse(e.thumbnail)}}class Kb extends u{static type="ChildVideo";id;title;duration;endpoint;constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:Ge(e.lengthText.simpleText)},this.endpoint=new m(e.navigationEndpoint)}}class Nl extends u{static type="ChipView";text;display_type;endpoint;chip_entity_key;constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new m(e.tapCommand),this.chip_entity_key=e.chipEntityKey}}class zb extends u{static type="ChipBarView";chips;constructor(e){super(),this.chips=k(e.chips,Nl)}}class _e extends u{static type="ChipCloudChip";is_selected;endpoint;text;constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.text=new c(e.text).toString()}}class mt extends u{static type="ChipCloud";chips;next_button;previous_button;horizontal_scrollable;constructor(e){super(),this.chips=k(e.chips,_e),this.next_button=h(e.nextButton,E),this.previous_button=h(e.previousButton,E),this.horizontal_scrollable=e.horizontalScrollable}}class Gb extends u{static type="ClientSideToggleMenuItem";text;icon_type;toggled_text;toggled_icon_type;is_toggled;menu_item_identifier;endpoint;logging_directives;constructor(e){super(),this.text=new c(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new c(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new m(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}}class Jb extends u{static type="CollaboratorInfoCardContent";channel_avatar;custom_text;channel_name;subscriber_count;endpoint;constructor(e){super(),this.channel_avatar=C.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new m(e.endpoint)}}class Xb extends u{static type="CollageHeroImage";left;top_right;bottom_right;endpoint;constructor(e){super(),this.left=C.fromResponse(e.leftThumbnail),this.top_right=C.fromResponse(e.topRightThumbnail),this.bottom_right=C.fromResponse(e.bottomRightThumbnail),this.endpoint=new m(e.navigationEndpoint)}}class Ol extends u{static type="ThumbnailHoverOverlayView";icon_name;text;style;constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=c.fromAttributed(e.text),this.style=e.style}}class Fs extends u{static type="ThumbnailBadgeView";icon_name;text;badge_style;background_color;constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}}class Vl extends u{static type="ThumbnailOverlayBadgeView";badges;position;constructor(e){super(),this.badges=k(e.thumbnailBadges,Fs),this.position=e.position}}class Ul extends u{static type="ThumbnailHoverOverlayToggleActionsView";buttons;constructor(e){super(),this.buttons=k(e.buttons,pt)}}class Fl extends u{static type="ThumbnailOverlayProgressBarView";start_percent;constructor(e){super(),this.start_percent=e.startPercent}}class ql extends u{static type="ThumbnailBottomOverlayView";progress_bar;badges;constructor(e){super(),this.progress_bar=h(e.progressBar,Fl),this.badges=k(e.badges,Fs)}}class qs extends u{static type="ThumbnailView";image;overlays;background_color;constructor(e){super(),this.image=C.fromResponse(e.image),this.overlays=k(e.overlays,[Ul,ql,Vl,Ol,Vu]),"backgroundColor"in e&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}}class Hl extends u{static type="CollectionThumbnailView";primary_thumbnail;stack_color;constructor(e){super(),this.primary_thumbnail=h(e.primaryThumbnail,qs),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}}class Qb extends u{static type="AddToPlaylistCommand";open_miniplayer;video_id;list_type;endpoint;video_ids;constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new m(e.onCreateListCommand),this.video_ids=e.videoIds}}let Zb=class extends u{static type="ContinuationCommand";#e;constructor(e){super(),this.#e=e}getApiPath(){switch(this.#e.request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){const e={};return this.#e.formData&&(e.formData=this.#e.formData),this.#e.token&&(e.continuation=this.#e.token),this.#e.request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",this.#e.token&&(e.fetchCommentsParams={continuation:this.#e.token},delete e.continuation)),e}};const eg="kids/get_kids_blocklist_picker";class tg extends u{static type="GetKidsBlocklistPickerCommand";#e;constructor(e){super(),this.#e=e}getApiPath(){return eg}buildRequest(){const e={};return this.#e.blockedForKidsContent&&(e.blockedForKidsContent=this.#e.blockedForKidsContent),e}}class jl extends u{static type="RunAttestationCommand";engagement_type;ids;constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(n=>({encrypted_video_id:n.encryptedVideoId,external_channel_id:n.externalChannelId,comment_id:n.commentId,external_owner_id:n.externalOwnerId,artist_id:n.artistId,playlist_id:n.playlistId,external_post_id:n.externalPostId,share_id:n.shareId})))}}class ng extends u{static type="ShowDialogCommand";inline_content;remove_default_padding;constructor(e){super(),this.inline_content=h(e.panelLoadingStrategy?.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}}class ig extends u{static type="UpdateEngagementPanelContentCommand";content_source_panel_identifier;target_panel_identifier;constructor(e){super(),this.content_source_panel_identifier=e.contentSourcePanelIdentifier,this.target_panel_identifier=e.targetPanelIdentifier}}class sg extends u{static type="AuthorCommentBadge";#e;icon_type;tooltip;style;constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),this.#e=e}get orig_badge(){return this.#e}}class $l extends u{static type="EmojiPicker";id;categories;category_buttons;search_placeholder;search_no_results;pick_skin_tone;clear_search_label;skin_tone_generic_label;skin_tone_light_label;skin_tone_medium_light_label;skin_tone_medium_label;skin_tone_medium_dark_label;skin_tone_dark_label;constructor(e){super(),this.id=e.id,this.categories=k(e.categories),this.category_buttons=k(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}}class og extends u{static type="CommentDialog";editable_text;author_thumbnail;submit_button;cancel_button;placeholder;emoji_button;emoji_picker;constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=C.fromResponse(e.authorThumbnail),this.submit_button=h(e.submitButton,E),this.cancel_button=h(e.cancelButton,E),this.placeholder=new c(e.placeholderText),this.emoji_button=h(e.emojiButton,E),this.emoji_picker=h(e.emojiPicker,$l)}}class Wl extends u{static type="CommentReplies";contents;view_replies;hide_replies;view_replies_creator_thumbnail;has_channel_owner_replied;constructor(e){super(),this.contents=k(e.contents),this.view_replies=h(e.viewReplies,E),this.hide_replies=h(e.hideReplies,E),this.view_replies_creator_thumbnail=C.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}}class Yl extends u{static type="CommentReplyDialog";reply_button;cancel_button;author_thumbnail;placeholder;error_message;constructor(e){super(),this.reply_button=h(e.replyButton,E),this.cancel_button=h(e.cancelButton,E),this.author_thumbnail=C.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}}class Kl extends u{static type="CommentsSimplebox";simplebox_avatar;simplebox_placeholder;constructor(e){super(),this.simplebox_avatar=C.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new c(e.simpleboxPlaceholder)}}class zl extends u{static type="CommentsEntryPointTeaser";teaser_avatar;teaser_content;constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=C.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}}class Gl extends u{static type="CommentsEntryPointHeader";header;comment_count;teaser_avatar;teaser_content;content_renderer;simplebox_placeholder;constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=C.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=h(e.contentRenderer,[zl,Kl])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}}class pi extends u{static type="CommentsHeader";title;count;comments_count;create_renderer;sort_menu;custom_emojis;constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=h(e.createRenderer),this.sort_menu=h(e.sortMenu,ft),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(n=>({emoji_id:n.emojiId,shortcuts:n.shortcuts,search_terms:n.searchTerms,image:C.fromResponse(n.image),is_custom_emoji:n.isCustomEmoji})))}}class Jl extends u{static type="CommentSimplebox";submit_button;cancel_button;author_thumbnail;placeholder;avatar_size;constructor(e){super(),this.submit_button=h(e.submitButton,E),this.cancel_button=h(e.cancelButton,E),this.author_thumbnail=C.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}}class Xl extends u{static type="VoiceReplyContainerView";voice_reply_unavailable_text;transcript_text;constructor(e){super(),this.voice_reply_unavailable_text=c.fromAttributed(e.voiceReplyUnavailableText),this.transcript_text=c.fromAttributed(e.transcriptText)}}class Un extends u{static type="CommentView";#e;like_command;dislike_command;unlike_command;undislike_command;reply_command;prepare_account_command;comment_id;is_pinned;keys;content;published_time;author_is_channel_owner;creator_thumbnail_url;like_button_a11y;like_count;like_count_liked;like_count_a11y;like_active_tooltip;like_inactive_tooltip;dislike_active_tooltip;dislike_inactive_tooltip;heart_active_tooltip;reply_count;reply_count_a11y;is_member;member_badge;author;is_liked;is_disliked;is_hearted;voice_reply_container;constructor(e){super(),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,n,i,s){e&&(this.content=c.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.creator_thumbnail_url=e.toolbar.creatorThumbnailUrl,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.like_count_liked=e.toolbar.likeCountLiked?e.toolbar.likeCountLiked:"0",this.like_count_a11y=e.toolbar.likeCountA11y,this.like_active_tooltip=e.toolbar.likeActiveTooltip,this.like_inactive_tooltip=e.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=e.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=e.toolbar.dislikeInactiveTooltip,this.like_button_a11y=e.toolbar.likeButtonA11y,this.heart_active_tooltip=e.toolbar.heartActiveTooltip,this.reply_count_a11y=e.toolbar.replyCountA11y,this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new $({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),n&&(this.is_hearted=n.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=n.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=n.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),i&&("prepareAccountCommand"in i?this.prepare_account_command=new m(i.prepareAccountCommand):(this.like_command=new m(i.likeCommand),this.dislike_command=new m(i.dislikeCommand),this.unlike_command=new m(i.unlikeCommand),this.undislike_command=new m(i.undislikeCommand),this.reply_command=new m(i.replyCommand))),s&&"voiceReplyContainerViewModel"in s&&(this.voice_reply_container=h(s.voiceReplyContainerViewModel,Xl))}async like(){if(!this.#e)throw new _("Actions instance not set for this comment.");if(!this.like_command)throw new _("Like command not found.");if(this.is_liked)throw new _("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(this.#e)}async dislike(){if(!this.#e)throw new _("Actions instance not set for this comment.");if(!this.dislike_command)throw new _("Dislike command not found.");if(this.is_disliked)throw new _("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(this.#e)}async unlike(){if(!this.#e)throw new _("Actions instance not set for this comment.");if(!this.unlike_command)throw new _("Unlike command not found.");if(!this.is_liked)throw new _("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(this.#e)}async undislike(){if(!this.#e)throw new _("Actions instance not set for this comment.");if(!this.undislike_command)throw new _("Undislike command not found.");if(!this.is_disliked)throw new _("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(this.#e)}async reply(e){if(!this.#e)throw new _("Actions instance not set for this comment.");if(!this.reply_command)throw new _("Reply command not found.");const n=this.reply_command.dialog?.as(Yl);if(!n)throw new _("Reply dialog not found.");const i=n.reply_button;if(!i)throw new _("Reply button not found in the dialog.");if(!i.endpoint)throw new _("Reply button endpoint not found.");return i.endpoint.call(this.#e,{commentText:e})}async translate(e){if(!this.#e)throw new _("Actions instance not set for this comment.");if(!this.content)throw new _("Comment content not found.",{comment_id:this.comment_id});const i={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},s=Lc(22,i),o=await this.#e.execute("comment/perform_comment_action",{action:s}),a=o.data.frameworkUpdates?.entityBatchUpdate?.mutations?.[0]?.payload?.commentEntityPayload?.translatedContent?.content;return{...o,content:a}}setActions(e){this.#e=e}}class Ql extends u{static type="CommentThread";comment;replies;comment_replies_data;is_moderated_elq_comment;has_replies;#e;#t;constructor(e){super(),this.comment=h(e.commentViewModel,Un),this.comment_replies_data=h(e.replies,Wl),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new _("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!this.#t}async getReplies(){if(!this.#e)throw new _("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new _("This comment has no replies.",this);const e=this.comment_replies_data.contents?.firstOfType(G);if(!e)throw new _("Replies continuation not found.");const n=await e.endpoint.call(this.#e,{parse:!0});if(!n.on_response_received_endpoints_memo)throw new _("Unexpected response.",n);return this.replies=this.#n(n.on_response_received_endpoints_memo),this.#t=n.on_response_received_endpoints_memo.getType(G)[0],this}async getContinuation(){if(!this.replies)throw new _("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!this.#t)throw new _("Continuation not found.");if(!this.#e)throw new _("Actions instance not set for this thread.");const e=this.#t.button?.as(E);if(!e)throw new _('"Load more" button not found.');const n=await e.endpoint.call(this.#e,{parse:!0});if(!n.on_response_received_endpoints_memo)throw new _("Unexpected response.",n);return this.replies=this.#n(n.on_response_received_endpoints_memo),this.#t=n.on_response_received_endpoints_memo.getType(G)[0],this}setActions(e){this.#e=e}#n(e){return q(e.getType(Un).map(n=>(n.setActions(this.#e),n)))}}class rg extends u{static type="PdgCommentChip";text;color_pallette;icon_type;constructor(e){super(),this.text=new c(e.chipText),this.color_pallette={background_color:e.chipColorPalette?.backgroundColor,foreground_title_color:e.chipColorPalette?.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}}class ag extends u{static type="SponsorCommentBadge";custom_badge;tooltip;constructor(e){super(),this.custom_badge=C.fromResponse(e.customBadge),this.tooltip=e.tooltip}}class cg extends u{static type="CompactChannel";title;channel_id;thumbnail;display_name;video_count;subscriber_count;endpoint;tv_banner;menu;constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=C.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new m(e.navigationEndpoint),this.tv_banner=C.fromResponse(e.tvBanner),this.menu=h(e.menu,Y)}}class Hs extends u{static type="PlaylistCustomThumbnail";thumbnail;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}class js extends u{static type="PlaylistVideoThumbnail";thumbnail;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}let an=class extends u{static type="Playlist";id;title;author;thumbnails;thumbnail_renderer;video_count;video_count_short;first_videos;share_url;menu;badges;endpoint;thumbnail_overlays;view_playlist;constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=e.shortBylineText?.simpleText?new c(e.shortBylineText):new $(e.longBylineText,e.ownerBadges,null),this.thumbnails=C.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=k(e.videos),this.share_url=e.shareUrl||null,this.menu=h(e.menu),this.badges=k(e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.thumbnail_overlays=k(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=h(e.thumbnailRenderer,[js,Hs])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};class ug extends an{static type="CompactMix";constructor(e){super(e)}}class lg extends u{static type="CompactMovie";id;title;top_metadata_items;thumbnails;thumbnail_overlays;author;duration;endpoint;badges;use_vertical_poster;menu;constructor(e){super();const n=e.thumbnailOverlays.find(s=>s.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=e.videoId,this.title=new c(e.title),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new $(e.shortBylineText);const i=e.lengthText?new c(e.lengthText).toString():new c(n).toString();this.duration={text:i,seconds:Ge(i)},this.endpoint=new m(e.navigationEndpoint),this.badges=k(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=h(e.menu,Y)}}class dg extends an{static type="CompactPlaylist";constructor(e){super(e)}}class hg extends u{static type="CompactStation";title;description;video_count;endpoint;thumbnail;constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new m(e.navigationEndpoint),this.thumbnail=C.fromResponse(e.thumbnail)}}class fg extends u{static type="CompositeVideoPrimaryInfo";constructor(e){super()}}class pg extends u{static type="ConfirmDialog";title;confirm_button;cancel_button;dialog_messages;constructor(e){super(),this.title=new c(e.title),this.confirm_button=h(e.confirmButton,E),this.cancel_button=h(e.cancelButton,E),this.dialog_messages=e.dialogMessages.map(n=>new c(n))}}class $s extends u{static type="ContentMetadataView";metadata_rows;delimiter;constructor(e){super(),this.metadata_rows=e.metadataRows.map(n=>({metadata_parts:n.metadataParts?.map(i=>({text:i.text?c.fromAttributed(i.text):null,avatar_stack:h(i.avatarStack,As),enable_truncation:e.enableTruncation})),badges:k(n.badges,Ms)})),this.delimiter=e.delimiter}}class He extends u{static type="Message";text;constructor(e){super(),this.text=new c(e.text)}}class mg extends u{static type="ConversationBar";availability_message;constructor(e){super(),this.availability_message=h(e.availabilityMessage,He)}}class Ws extends u{static type="CopyLink";copy_button;short_url;style;constructor(e){super(),this.copy_button=h(e.copyButton,E),this.short_url=e.shortUrl,this.style=e.style}}class Zl extends u{static type="DropdownView";label;placeholder_text;disabled;options;dropdown_type;id;constructor(e){super(),this.label=new c(e.label),this.placeholder_text=new c(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(n=>({title:new c(n.title),subtitle:new c(n.subtitle),leading_image:C.fromResponse(n.leadingImage),value:{privacy_status_value:n.value?.privacyStatusValue},on_tap:new m(n.onTap),is_selected:!!n.isSelected})))}}class ed extends u{static type="TextFieldView";display_properties;content_properties;initial_state;form_field_metadata;constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}}class td extends u{static type="CreatePlaylistDialogFormView";playlist_title;playlist_visibility;disable_playlist_collaborate;create_playlist_params_collaboration_enabled;create_playlist_params_collaboration_disabled;video_ids;constructor(e){super(),this.playlist_title=h(e.playlistTitle,ed),this.playlist_visibility=h(e.playlistVisibility,Zl),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}}class Ys extends u{static type="DecoratedAvatarView";avatar;a11y_label;renderer_context;constructor(e){super(),this.avatar=h(e.avatar,ui),this.a11y_label=e.a11yLabel,this.renderer_context=new Vt(e.rendererContext)}}class Ks extends u{static type="HeatMarker";time_range_start_millis;marker_duration_millis;heat_marker_intensity_score_normalized;constructor(e){super(),this.time_range_start_millis=Number.parseInt(e.startMillis,10),this.marker_duration_millis=Number.parseInt(e.durationMillis,10),this.heat_marker_intensity_score_normalized=e.intensityScoreNormalized}}class zs extends u{static type="TimedMarkerDecoration";visible_time_range_start_millis;visible_time_range_end_millis;decoration_time_millis;label;icon;constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}}class Gs extends u{static type="Heatmap";max_height_dp;min_height_dp;show_hide_animation_duration_millis;heat_markers;heat_markers_decorations;constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=k(e.heatMarkers,Ks),this.heat_markers_decorations=k(e.heatMarkersDecorations,zs)}}class _g extends u{static type="Marker";marker_key;value;constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=h(e.value.heatmap,Gs)),Reflect.has(e.value,"chapters")&&(this.value.chapters=k(e.value.chapters,Ll)))}}class nd extends u{static type="MultiMarkersPlayerBar";markers_map;constructor(e){super(),this.markers_map=q(e.markersMap?.map(n=>new _g(n))||[])}}class id extends u{static type="DecoratedPlayerBar";player_bar;player_bar_action_button;constructor(e){super(),this.player_bar=h(e.playerBar,nd),this.player_bar_action_button=h(e.playerBarActionButton,E)}}class bg extends u{static type="DefaultPromoPanel";title;description;endpoint;large_form_factor_background_thumbnail;small_form_factor_background_thumbnail;scrim_color_values;min_panel_display_duration_ms;min_video_play_duration_ms;scrim_duration;metadata_order;panel_layout;constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new m(e.navigationEndpoint),this.large_form_factor_background_thumbnail=h(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=h(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}}class sd extends u{static type="DescriptionPreviewView";description;max_lines;truncation_text;always_show_truncation_text;more_endpoint;renderer_context;constructor(e){if(super(),Reflect.has(e,"description")&&(this.description=c.fromAttributed(e.description)),Reflect.has(e,"maxLines")&&(this.max_lines=parseInt(e.maxLines)),Reflect.has(e,"truncationText")&&(this.truncation_text=c.fromAttributed(e.truncationText)),this.always_show_truncation_text=!!e.alwaysShowTruncationText,e.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint){const n=e.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:h(n.engagementPanel,fi),engagement_panel_popup_type:n.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:n.identifier.surface,tag:n.identifier.tag}}}}this.renderer_context=new Vt(e.rendererContext)}}class od extends u{static type="DialogHeaderView";headline;constructor(e){super(),this.headline=c.fromAttributed(e.headline)}}class Js extends u{static type="PanelFooterView";primary_button;secondary_button;should_hide_divider;constructor(e){super(),this.primary_button=h(e.primaryButton,re),this.secondary_button=h(e.secondaryButton,re),this.should_hide_divider=!!e.shouldHideDivider}}class rd extends u{static type="FormFooterView";panel_footer;form_id;container_type;constructor(e){super(),this.panel_footer=h(e.panelFooter,Js),this.form_id=e.formId,this.container_type=e.containerType}}class ad extends u{static type="SubscribeButtonView";subscribe_button_content;unsubscribe_button_content;disable_notification_bell;button_style;is_signed_out;background_style;disable_subscribe_button;on_show_subscription_options;channel_id;enable_subscribe_button_post_click_animation;bell_accessiblity_data;constructor(e){super(),this.subscribe_button_content=this.#e(e.subscribeButtonContent),this.unsubscribe_button_content=this.#e(e.unsubscribeButtonContent),this.disable_notification_bell=e.disableNotificationBell,this.button_style={unsubscribed_state_style:e.buttonStyle.unsubscribedStateStyle,subscribed_state_style:e.buttonStyle.subscribedStateStyle},this.is_signed_out=e.isSignedOut,this.background_style=e.backgroundStyle,this.disable_subscribe_button=e.disableSubscribeButton,this.on_show_subscription_options=new m(e.onShowSubscriptionOptions),this.channel_id=e.channelId,this.enable_subscribe_button_post_click_animation=e.enableSubscribeButtonPostClickAnimation,this.bell_accessiblity_data={off_label:e.bellAccessibilityData.offLabel,all_label:e.bellAccessibilityData.allLabel,occasional_label:e.bellAccessibilityData.occasionalLabel,disabled_label:e.bellAccessibilityData.disabledLabel}}#e(e){return{button_text:e.buttonText,accessibility_text:e.accessibilityText,image_name:e.imageName,subscribe_state_subscribed:e.subscribeState.subscribed,endpoint:new m(e.onTapCommand)}}}class cd extends u{static type="ListItemView";title;subtitle;leading_accessory;renderer_context;trailing_buttons;constructor(e){super(),this.title=c.fromAttributed(e.title),this.subtitle=c.fromAttributed(e.subtitle),this.leading_accessory=h(e.leadingAccessory,ui),this.renderer_context=new Vt(e.rendererContext),"trailingButtons"in e&&(this.trailing_buttons=k(e.trailingButtons.buttons,ad))}}class ud extends u{static type="ListView";items;constructor(e){super(),this.items=k(e.listItems,cd)}}class gg extends u{static type="DialogView";header;footer;custom_content;constructor(e){super(),this.header=h(e.header,od),this.footer=h(e.footer,[rd,Js]),this.custom_content=h(e.customContent,[td,ud])}}class ld extends u{static type="DidYouMean";text;corrected_query;endpoint;constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new m(e.navigationEndpoint||e.correctedQueryEndpoint)}}class dd extends u{static type="DismissableDialogContentSection";title;subtitle;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle)}}class yg extends u{static type="DismissableDialog";title;sections;metadata;display_style;constructor(e){super(),this.title=e.title,this.sections=k(e.sections,dd),this.metadata=h(e.metadata),this.display_style=e.displayStyle}}class hd extends u{static type="DynamicTextView";text;max_lines;constructor(e){super(),this.text=c.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}}class Xs extends u{static type="ChildElement";text;properties;child_elements;constructor(e){super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=e.type.textType.text?.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new Xs(n)))}}class mi extends u{static type="Element";model;child_elements;constructor(e){if(super(),Reflect.has(e,"elementRenderer"))return h(e,mi);const n=e.newElement.type.componentType;this.model=h(n?.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=q(e.newElement.childElements?.map(i=>new Xs(i))||[]))}}class wg extends u{static type="EmergencyOnebox";title;first_option;menu;constructor(e){super(),this.title=new c(e.title),this.first_option=h(e.firstOption),this.menu=h(e.menu,Y)}}class kg extends u{static type="EmojiPickerCategory";category_id;title;emoji_ids;image_loading_lazy;category_type;constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}}class Tg extends u{static type="EmojiPickerCategoryButton";category_id;icon_type;tooltip;constructor(e){super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=e.icon?.iconType),this.tooltip=e.tooltip}}class Cg extends u{static type="EmojiPickerUpsellCategory";category_id;title;upsell;emoji_tooltip;endpoint;emoji_ids;constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new m(e.command),this.emoji_ids=e.emojiIds}}const Ig="playlist/get_add_to_playlist";class fd extends u{static type="AddToPlaylistServiceEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Ig}buildRequest(){const e={};return e.videoIds=this.#e.videoIds?this.#e.videoIds:[this.#e.videoId],this.#e.playlistId&&(e.playlistId=this.#e.playlistId),this.#e.params&&(e.params=this.#e.params),e.excludeWatchLater=!!this.#e.excludeWatchLater,e}}class vg extends fd{static type="AddToPlaylistEndpoint";constructor(e){super(e)}}const xg="browse";class Sg extends u{static type="BrowseEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return xg}buildRequest(){const e={};return this.#e.browseId&&(e.browseId=this.#e.browseId),this.#e.params&&(e.params=this.#e.params),this.#e.query&&(e.query=this.#e.query),this.#e.browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=this.#e.subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),this.#e.browseId==="SPaccount_playback"&&(e.formData=this.#e.formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),this.#e.browseId==="FEwhat_to_watch"&&(this.#e.browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=this.#e.browseRequestSupportedMetadata),this.#e.inlineSettingStatus&&(e.inlineSettingStatus=this.#e.inlineSettingStatus)),e}}const Eg="comment/create_comment";class Ag extends u{static type="CreateCommentEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Eg}buildRequest(){const e={};if(this.#e.createCommentParams&&(e.createCommentParams=this.#e.createCommentParams),this.#e.commentText&&(e.commentText=this.#e.commentText),this.#e.attachedVideoId?e.videoAttachment={videoId:this.#e.attachedVideoId}:this.#e.pollOptions?e.pollAttachment={choices:this.#e.pollOptions}:this.#e.imageBlobId?e.imageAttachment={encryptedBlobId:this.#e.imageBlobId}:this.#e.sharedPostId&&(e.sharedPostAttachment={postId:this.#e.sharedPostId}),this.#e.accessRestrictions&&typeof this.#e.accessRestrictions=="number"){const n=this.#e.accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:n}}return this.#e.botguardResponse&&(e.botguardResponse=this.#e.botguardResponse),e}}const Dg="playlist/create";class Rg extends u{static type="CreatePlaylistServiceEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Dg}buildRequest(){const e={};return this.#e.title&&(e.title=this.#e.title),this.#e.privacyStatus&&(e.privacyStatus=this.#e.privacyStatus),this.#e.description&&(e.description=this.#e.description),this.#e.videoIds&&(e.videoIds=this.#e.videoIds),this.#e.params&&(e.params=this.#e.params),this.#e.sourcePlaylistId&&(e.sourcePlaylistId=this.#e.sourcePlaylistId),e}}const Pg="playlist/delete";class Mg extends u{static type="DeletePlaylistEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Pg}buildRequest(){const e={};return this.#e.playlistId&&(e.playlistId=this.#e.sourcePlaylistId),e}}const Bg="feedback";class Lg extends u{static type="FeedbackEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Bg}buildRequest(){const e={};return this.#e.feedbackToken&&(e.feedbackTokens=[this.#e.feedbackToken]),this.#e.cpn&&(e.feedbackContext={cpn:this.#e.cpn}),e.isFeedbackTokenUnencrypted=!!this.#e.isFeedbackTokenUnencrypted,e.shouldMerge=!!this.#e.shouldMerge,e}}const Ng="account/accounts_list";class Og extends u{static type="GetAccountsListInnertubeEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Ng}buildRequest(){const e={};return this.#e.requestType&&(e.requestType=this.#e.requestType,(this.#e.requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||this.#e.requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&this.#e.nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:this.#e.nextUrl}})),this.#e.channelSwitcherQuery&&(e.channelSwitcherQuery=this.#e.channelSwitcherQuery),this.#e.triggerChannelCreation&&(e.triggerChannelCreation=this.#e.triggerChannelCreation),this.#e.contentOwnerConfig&&this.#e.contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=this.#e.contentOwnerConfig),this.#e.obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=this.#e.obfuscatedSelectedGaiaId),this.#e.selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=this.#e.selectedSerializedDelegationContext),this.#e.callCircumstance&&(e.callCircumstance=this.#e.callCircumstance),e}}class Vg extends u{static type="HideEngagementPanelEndpoint";panel_identifier;constructor(e){super(),this.panel_identifier=e.panelIdentifier}}const Ug="like/like",Fg="like/dislike",qg="like/removelike";class Hg extends u{static type="LikeEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return this.#e.status==="DISLIKE"?Fg:this.#e.status==="INDIFFERENT"?qg:Ug}buildRequest(){const e={};this.#e.target&&(e.target=this.#e.target);const n=this.getParams();return n&&(e.params=n),e}getParams(){switch(this.#e.status){case"LIKE":return this.#e.likeParams;case"DISLIKE":return this.#e.dislikeParams;case"INDIFFERENT":return this.#e.removeLikeParams;default:return}}}const jg="live_chat/get_item_context_menu";class $g extends u{static type="LiveChatItemContextMenuEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return jg}buildRequest(){const e={};return this.#e.params&&(e.params=this.#e.params),e}}const Wg="notification/modify_channel_preference";class Yg extends u{static type="ModifyChannelNotificationPreferenceEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Wg}buildRequest(){const e={};return this.#e.params&&(e.params=this.#e.params),this.#e.secondaryParams&&(e.secondaryParams=this.#e.secondaryParams),e}}const Kg="comment/perform_comment_action";class zg extends u{static type="PerformCommentActionEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Kg}buildRequest(){const e={};return this.#e.actions&&(e.actions=this.#e.actions),this.#e.action&&(e.actions=[this.#e.action]),e}}const Gg="browse/edit_playlist";class Jg extends u{static type="PlaylistEditEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Gg}buildRequest(){const e={};return this.#e.actions&&(e.actions=this.#e.actions),this.#e.playlistId&&(e.playlistId=this.#e.playlistId),this.#e.params&&(e.params=this.#e.params),e}}const Xg="player";class pd extends u{static type="WatchEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Xg}buildRequest(){const e={};return this.#e.videoId&&(e.videoId=this.#e.videoId),this.#e.playlistId&&(e.playlistId=this.#e.playlistId),(this.#e.index!==void 0||this.#e.playlistIndex!==void 0)&&(e.playlistIndex=this.#e.index||this.#e.playlistIndex),(this.#e.playerParams||this.#e.params)&&(e.params=this.#e.playerParams||this.#e.params),this.#e.startTimeSeconds&&(e.startTimeSecs=this.#e.startTimeSeconds),this.#e.overrideMutedAtStart&&(e.overrideMutedAtStart=this.#e.overrideMutedAtStart),e.racyCheckOk=!!this.#e.racyCheckOk,e.contentCheckOk=!!this.#e.contentCheckOk,e}}class Qg extends pd{static type="PrefetchWatchCommand";constructor(e){super(e)}}const Zg="reel/reel_item_watch";class ey extends u{static type="ReelWatchEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return Zg}buildRequest(){const e={};return this.#e.videoId&&(e.playerRequest={videoId:this.#e.videoId}),e.playerRequest&&(this.#e.playerParams&&(e.playerRequest.params=this.#e.playerParams),this.#e.racyCheckOk&&(e.playerRequest.racyCheckOk=!!this.#e.racyCheckOk),this.#e.contentCheckOk&&(e.playerRequest.contentCheckOk=!!this.#e.contentCheckOk)),this.#e.params&&(e.params=this.#e.params),this.#e.inputType&&(e.inputType=this.#e.inputType),e.disablePlayerResponse=!!this.#e.disablePlayerResponse,e}}const ty="search";class ny extends u{static type="SearchEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return ty}buildRequest(){const e={};return this.#e.query&&(e.query=this.#e.query),this.#e.params&&(e.params=this.#e.params),this.#e.webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=this.#e.webSearchboxStatsUrl),this.#e.suggestStats&&(e.suggestStats=this.#e.suggestStats),e}}const iy="share/get_share_panel";class Qs extends u{static type="ShareEntityServiceEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return iy}buildRequest(){const e={};return this.#e.serializedShareEntity&&(e.serializedSharedEntity=this.#e.serializedShareEntity),this.#e.clientParams&&(e.clientParams=this.#e.clientParams),e}}class sy extends Qs{static type="ShareEndpoint";constructor(e){super(e)}}class oy extends Qs{static type="ShareEntityEndpoint";constructor(e){super(e)}}class ry extends u{static type="ShowEngagementPanelEndpoint";panel_identifier;source_panel_identifier;constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}}class ay extends u{static type="SignalServiceEndpoint";actions;signal;constructor(e){super(),Array.isArray(e.actions)&&(this.actions=k(e.actions.map(n=>(delete n.clickTrackingParams,n)))),this.signal=e.signal}}const cy="subscription/subscribe";class uy extends u{static type="SubscribeEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return cy}buildRequest(){const e={};return this.#e.channelIds&&(e.channelIds=this.#e.channelIds),this.#e.siloName&&(e.siloName=this.#e.siloName),this.#e.params&&(e.params=this.#e.params),this.#e.botguardResponse&&(e.botguardResponse=this.#e.botguardResponse),this.#e.feature&&(e.clientFeature=this.#e.feature),e}}const ly="subscription/unsubscribe";class dy extends u{static type="UnsubscribeEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return ly}buildRequest(){const e={};return this.#e.channelIds&&(e.channelIds=this.#e.channelIds),this.#e.siloName&&(e.siloName=this.#e.siloName),this.#e.params&&(e.params=this.#e.params),e}}const hy="next";class fy extends u{static type="WatchNextEndpoint";#e;constructor(e){super(),this.#e=e}getApiPath(){return hy}buildRequest(){const e={};return this.#e.videoId&&(e.videoId=this.#e.videoId),this.#e.playlistId&&(e.playlistId=this.#e.playlistId),(this.#e.index!==void 0||this.#e.playlistIndex!==void 0)&&(e.playlistIndex=this.#e.index||this.#e.playlistIndex),(this.#e.playerParams||this.#e.params)&&(e.params=this.#e.playerParams||this.#e.params),e.racyCheckOk=!!this.#e.racyCheckOk,e.contentCheckOk=!!this.#e.contentCheckOk,e}}class md extends u{static type="Endscreen";elements;start_ms;constructor(e){super(),this.elements=k(e.elements),this.start_ms=e.startMs}}class py extends u{static type="EndscreenElement";style;title;endpoint;image;icon;metadata;call_to_action;hovercard_button;is_subscribe;playlist_length;thumbnail_overlays;left;top;width;aspect_ratio;start_ms;end_ms;id;constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new m(e.endpoint),Reflect.has(e,"image")&&(this.image=C.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=C.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=h(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=k(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}}class _d extends u{static type="EndScreenPlaylist";id;title;author;endpoint;thumbnails;video_count;constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new m(e.navigationEndpoint),this.thumbnails=C.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}}class bd extends u{static type="EndScreenVideo";id;title;thumbnails;thumbnail_overlays;author;endpoint;short_view_count;badges;duration;constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new $(e.shortBylineText,e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=k(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}}class Fn extends u{static type="ExpandableTab";title;endpoint;selected;content;constructor(e){super(),this.title=e.title,this.endpoint=new m(e.endpoint),this.selected=e.selected,this.content=h(e.content)}}class my extends u{static type="ExpandedShelfContents";items;constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}class _y extends u{static type="FancyDismissibleDialog";dialog_message;confirm_label;constructor(e){super(),this.dialog_message=new c(e.dialogMessage),this.confirm_label=new c(e.confirmLabel)}}class _t extends u{static type="FeedFilterChipBar";contents;constructor(e){super(),this.contents=k(e.contents,_e)}}class by extends u{static type="FeedNudge";title;subtitle;endpoint;apply_modernized_style;trim_style;background_style;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.endpoint=new m(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}}class gd extends u{static type="FeedTabbedHeader";title;constructor(e){super(),this.title=new c(e.title)}}class yd extends u{static type="ToggleFormField";label;toggled;toggle_on_action;toggle_off_action;constructor(e){super(),this.label=new Text(e.label),this.toggled=e.toggled,"toggleOnAction"in e&&(this.toggle_on_action=new m(e.toggleOnAction)),"toggleOffAction"in e&&(this.toggle_off_action=new m(e.toggleOffAction))}}class wd extends u{static type="Form";fields;constructor(e){super(),this.fields=k(e.fields,yd)}}class gy extends u{static type="FormPopup";title;form;buttons;constructor(e){super(),this.title=new c(e.title),this.form=h(e.form,wd),this.buttons=k(e.buttons,E)}}class yy extends u{static type="GameDetails";title;box_art;box_art_overlay_text;endpoint;is_official_box_art;constructor(e){super(),this.title=new c(e.title),this.box_art=C.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new m(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}}class qn extends u{static type="Grid";items;is_collapsible;visible_row_count;target_id;continuation;header;constructor(e){super(),this.items=k(e.items),Reflect.has(e,"header")&&(this.header=h(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||null}get contents(){return this.items}}class kd extends u{static type="GridChannel";id;author;subscribers;video_count;endpoint;subscribe_button;constructor(e){super(),this.id=e.channelId,this.author=new $({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=h(e.subscribeButton)}}class wy extends u{static type="GridHeader";title;constructor(e){super(),this.title=new c(e.title)}}class ky extends u{static type="GridMix";id;title;author;thumbnails;video_count;video_count_short;endpoint;secondary_endpoint;thumbnail_overlays;constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=e.shortBylineText?.simpleText?new c(e.shortBylineText):e.longBylineText?.simpleText?new c(e.longBylineText):null,this.thumbnails=C.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new m(e.navigationEndpoint),this.secondary_endpoint=new m(e.secondaryNavigationEndpoint),this.thumbnail_overlays=k(e.thumbnailOverlays)}}class Ty extends u{static type="GridMovie";id;title;thumbnails;duration;endpoint;badges;metadata;thumbnail_overlays;constructor(e){super();const n=e.thumbnailOverlays.find(i=>i.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=C.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):n?.text?new c(n.text):null,this.endpoint=new m(e.navigationEndpoint),this.badges=k(e.badges,gt),this.metadata=new c(e.metadata),this.thumbnail_overlays=k(e.thumbnailOverlays)}}class Td extends u{static type="GridPlaylist";id;title;author;badges;endpoint;view_playlist;thumbnails;thumbnail_renderer;sidebar_thumbnails;video_count;video_count_short;constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new $(e.shortBylineText,e.ownerBadges)),this.badges=k(e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_renderer=h(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...e.sidebarThumbnails?.map(n=>C.fromResponse(n))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}}class Cy extends u{static type="GridShelfView";contents;header;content_aspect_ratio;enable_vertical_expansion;show_more_button;show_less_button;min_collapsed_item_count;constructor(e){super(),this.contents=k(e.contents),this.header=h(e.header),this.content_aspect_ratio=e.contentAspectRatio,this.enable_vertical_expansion=e.enableVerticalExpansion,this.show_more_button=h(e.showMoreButton,re),this.show_less_button=h(e.showLessButton,re),this.min_collapsed_item_count=e.minCollapsedItemCount}}class Cd extends u{static type="ShowCustomThumbnail";thumbnail;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}class Id extends u{static type="ThumbnailOverlayBottomPanel";text;icon_type;constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}class Iy extends u{static type="GridShow";title;thumbnail_renderer;endpoint;long_byline_text;thumbnail_overlays;author;constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=h(e.thumbnailRenderer,Cd),this.endpoint=new m(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=k(e.thumbnailOverlays,Id),this.author=new $(e.shortBylineText,void 0)}}class vd extends u{static type="GridVideo";video_id;title;thumbnails;thumbnail_overlays;rich_thumbnail;published;duration;author;views;short_view_count;endpoint;menu;buttons;upcoming;upcoming_text;is_reminder_set;constructor(e){super();const n=e.thumbnailOverlays.find(i=>i.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.video_id=e.videoId,this.title=new c(e.title),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.rich_thumbnail=h(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):n?.text?new c(n.text):null,this.author=e.shortBylineText&&new $(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new m(e.navigationEndpoint),this.menu=h(e.menu,Y),Reflect.has(e,"buttons")&&(this.buttons=k(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(+`${e.upcomingEventData.startTime}000`),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!e.upcomingEventData?.isReminderSet)}get id(){return this.video_id}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}}class Hn extends u{static type="GuideEntry";title;endpoint;icon_type;thumbnails;badges;is_primary;constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=C.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}}class vy extends u{static type="GuideCollapsibleEntry";expander_item;collapser_item;expandable_items;constructor(e){super(),this.expander_item=h(e.expanderItem,Hn),this.collapser_item=h(e.collapserItem,Hn),this.expandable_items=k(e.expandableItems)}}class xy extends u{static type="GuideCollapsibleSectionEntry";header_entry;expander_icon;collapser_icon;section_items;constructor(e){super(),this.header_entry=h(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=k(e.sectionItems)}}class Sy extends Hn{static type="GuideDownloadsEntry";always_show;constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}}class Zs extends u{static type="GuideSection";title;items;constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=k(e.items)}}class xd extends Zs{static type="GuideSubscriptionsSection"}class Sd extends u{static type="HashtagHeader";hashtag;hashtag_info;constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}}class Ey extends u{static type="HashtagTile";hashtag;hashtag_info_text;hashtag_thumbnail;endpoint;hashtag_background_color;hashtag_video_count;hashtag_channel_count;constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info_text=new c(e.hashtagInfoText),this.hashtag_thumbnail=C.fromResponse(e.hashtagThumbnail),this.endpoint=new m(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new c(e.hashtagVideoCount),this.hashtag_channel_count=new c(e.hashtagChannelCount)}}class Ay extends u{static type="HeroPlaylistThumbnail";thumbnails;on_tap_endpoint;constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap)}}let Dy=class extends u{static type="Panel";thumbnail;background_image;strapline;title;description;text_on_tap_endpoint;cta;constructor(e){super(),e.thumbnail&&(this.thumbnail={image:C.fromResponse(e.thumbnail.image),endpoint:new m(e.thumbnail.onTap),on_long_press_endpoint:new m(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:C.fromResponse(e.backgroundImage.image),gradient_image:C.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new m(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new m(e.textOnTap)}};class Yi extends u{static type="HighlightsCarousel";panels;constructor(e){super(),this.panels=q(e.highlightsCarousel.panels.map(n=>new Dy(n)))}}class Ed extends u{static type="SearchSuggestion";suggestion;endpoint;icon_type;service_endpoint;constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new m(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new m(e.serviceEndpoint))}}class Ry extends Ed{static type="HistorySuggestion";constructor(e){super(e)}}class Py extends u{static type="HorizontalMovieList";items;previous_button;next_button;constructor(e){super(),this.items=k(e.items),this.previous_button=h(e.previousButton,E),this.next_button=h(e.nextButton,E)}get contents(){return this.items}}class Ad extends u{static type="IconLink";icon_type;tooltip;endpoint;constructor(e){super(),this.icon_type=e.icon?.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new m(e.navigationEndpoint)}}class Dd extends u{static type="ImageBannerView";image;style;constructor(e){super(),this.image=C.fromResponse(e.image),this.style=e.style}}class My extends u{static type="IncludingResultsFor";including_results_for;corrected_query;corrected_query_endpoint;search_only_for;original_query;original_query_endpoint;constructor(e){super(),this.including_results_for=new c(e.includingResultsFor),this.corrected_query=new c(e.correctedQuery),this.corrected_query_endpoint=new m(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new c(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new c(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new m(e.originalQueryEndpoint):void 0}}class Rd extends u{static type="InfoPanelContent";title;source;paragraphs;attributed_paragraphs;thumbnail;source_endpoint;truncate_paragraphs;background;inline_link_icon_type;constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(n=>new c(n))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(n=>c.fromAttributed(n))),this.thumbnail=C.fromResponse(e.thumbnail),this.source_endpoint=new m(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}}class Pd extends u{static type="InfoPanelContainer";title;menu;content;header_endpoint;background;title_style;icon_type;constructor(e){super(),this.title=new c(e.title),this.menu=h(e.menu,Y),this.content=h(e.content,Rd),e.headerEndpoint&&(this.header_endpoint=new m(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=e.icon?.iconType)}}class Md extends u{static type="InteractiveTabbedHeader";header_type;title;description;metadata;badges;box_art;banner;buttons;auto_generated;constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=k(e.badges,gt),this.box_art=C.fromResponse(e.boxArt),this.banner=C.fromResponse(e.banner),this.buttons=k(e.buttons,[je,E]),this.auto_generated=new c(e.autoGenerated)}}class eo extends u{static type="ItemSectionHeader";title;constructor(e){super(),this.title=new c(e.title)}}class Bd extends u{static type="Tab";title;selected;endpoint;constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new m(e.endpoint)}}class to extends u{static type="ItemSectionTabbedHeader";title;tabs;end_items;constructor(e){super(),this.title=new c(e.title),this.tabs=k(e.tabs,Bd),Reflect.has(e,"endItems")&&(this.end_items=k(e.endItems))}}class Ld extends u{static type="SortFilterHeader";filter_menu;constructor(e){super(),this.filter_menu=h(e.filterMenu,ft)}}class Se extends u{static type="ItemSection";header;contents;target_id;continuation;constructor(e){super(),this.header=h(e.header,[pi,eo,to,Ld,_t]),this.contents=k(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=e.continuations?.at(0)?.nextContinuationData?.continuation)}}let Nd=class extends u{static type="LiveChat";header;initial_display_state;continuation;client_messages;is_replay;constructor(e){super(),this.header=h(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=e.continuations[0]?.reloadContinuationData?.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};class Od extends u{static type="LiveChatBannerHeader";text;icon_type;context_menu_button;constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=h(e.contextMenuButton,E)}}class Vd extends u{static type="LiveChatBanner";header;contents;action_id;viewer_is_creator;target_id;is_stackable;background_type;banner_type;banner_properties_is_ephemeral;banner_properties_auto_collapse_delay_seconds;constructor(e){super(),this.header=h(e.header,Od),this.contents=h(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=!!e.bannerProperties.isEphemeral),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}}class By extends u{static type="AddBannerToLiveChatCommand";banner;constructor(e){super(),this.banner=h(e.bannerRenderer,Vd)}}class Ud extends u{static type="AddChatItemAction";item;client_id;constructor(e){super(),this.item=h(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}}class Ly extends u{static type="AddLiveChatTickerItemAction";item;duration_sec;constructor(e){super(),this.item=h(e.item),this.duration_sec=e.durationSec}}class Ny extends u{static type="DimChatItemAction";client_assigned_id;constructor(e){super(),this.client_assigned_id=e.clientAssignedId}}class Fd extends u{static type="BumperUserEduContentView";text;image_name;image_color;constructor(e){super(),this.text=c.fromAttributed(e.text),this.image_name=e.image.sources[0].clientResource.imageName,this.image_color=e.image.sources[0].clientResource.imageColor}}class qd extends u{static type="CreatorHeartView";creator_thumbnail;hearted_icon_name;unhearted_icon_name;unhearted_icon_processor;hearted_hover_text;hearted_accessibility_label;unhearted_accessibility_label;engagement_state_key;constructor(e){super(),this.creator_thumbnail=C.fromResponse(e.creatorThumbnail),this.hearted_icon_name=e.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=e.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:e.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=e.heartedHoverText,this.hearted_accessibility_label=e.heartedAccessibilityLabel,this.unhearted_accessibility_label=e.unheartedAccessibilityLabel,this.engagement_state_key=e.engagementStateKey}}class Oy extends u{static type="LiveChatAutoModMessage";menu_endpoint;moderation_buttons;auto_moderated_item;header_text;timestamp;id;constructor(e){super(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.moderation_buttons=k(e.moderationButtons,E),this.auto_moderated_item=h(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}}class Vy extends u{static type="LiveChatBannerChatSummary";id;chat_summary;icon_type;like_feedback_button;dislike_feedback_button;constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new c(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=h(e.likeFeedbackButton,pt),this.dislike_feedback_button=h(e.dislikeFeedbackButton,pt)}}class Uy extends u{static type="LiveChatBannerPoll";poll_question;author_photo;choices;collapsed_state_entity_key;live_chat_poll_state_entity_key;context_menu_button;constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=C.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(n=>({option_id:n.pollOptionId,text:new c(n.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=h(e.contextMenuButton,E)}}class Fy extends u{static type="LiveChatBannerRedirect";banner_message;author_photo;inline_action_button;context_menu_button;constructor(e){super(),this.banner_message=new c(e.bannerMessage),this.author_photo=C.fromResponse(e.authorPhoto),this.inline_action_button=h(e.inlineActionButton,E),this.context_menu_button=h(e.contextMenuButton,E)}}class Hd extends u{static type="LiveChatItemBumperView";content;constructor(e){super(),this.content=h(e.content,Fd)}}class qy extends u{static type="LiveChatMembershipItem";id;timestamp;timestamp_usec;timestamp_text;header_primary_text;header_subtext;message;author;menu_endpoint;context_menu_accessibility_label;constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new c(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new c(e.headerPrimaryText)),this.header_subtext=new c(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new c(e.message)),this.author=new $(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}}class Hy extends u{static type="LiveChatModeChangeMessage";id;icon_type;text;subtext;timestamp;timestamp_usec;timestamp_text;constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new c(e.text),this.subtext=new c(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new c(e.timestampText)}}class jd extends u{static type="PdgReplyButtonView";reply_button;reply_count_entity_key;reply_count_placeholder;constructor(e){super(),this.reply_button=h(e.replyButton,re),this.reply_count_entity_key=e.replyCountEntityKey,this.reply_count_placeholder=c.fromAttributed(e.replyCountPlaceholder)}}class jy extends u{static type="LiveChatPaidMessage";id;message;author;author_name_text_color;header_background_color;header_text_color;body_background_color;body_text_color;purchase_amount;menu_endpoint;context_menu_accessibility_label;timestamp;timestamp_usec;timestamp_text;timestamp_color;header_overlay_image;text_input_background_color;lower_bumper;creator_heart_button;is_v2_style;reply_button;constructor(e){super(),this.id=e.id,this.message=new c(e.message),this.author=new $(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.author_name_text_color=e.authorNameTextColor,this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new c(e.timestampText).toString()),this.timestamp_color=e.timestampColor,Reflect.has(e,"headerOverlayImage")&&(this.header_overlay_image=C.fromResponse(e.headerOverlayImage)),this.text_input_background_color=e.textInputBackgroundColor,this.lower_bumper=h(e.lowerBumper,Hd),this.creator_heart_button=h(e.creatorHeartButton,qd),this.is_v2_style=e.isV2Style,this.reply_button=h(e.replyButton,jd)}}class $y extends u{static type="LiveChatPaidSticker";id;author;money_chip_background_color;money_chip_text_color;background_color;author_name_text_color;sticker;sticker_accessibility_label;sticker_display_width;sticker_display_height;purchase_amount;menu_endpoint;context_menu;context_menu_accessibility_label;timestamp;timestamp_usec;is_v2_style;constructor(e){super(),this.id=e.id,this.author=new $(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=C.fromResponse(e.sticker),this.sticker_accessibility_label=e.sticker.accessibility.accessibilityData.label,this.sticker_display_width=e.stickerDisplayWidth,this.sticker_display_height=e.stickerDisplayHeight,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.is_v2_style=e.isV2Style}}class Wy extends u{static type="LiveChatPlaceholderItem";id;timestamp;constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}}class Yy extends u{static type="LiveChatProductItem";title;accessibility_title;thumbnail;price;vendor_name;from_vendor_text;information_button;endpoint;creator_message;creator_name;author_photo;information_dialog;is_verified;creator_custom_message;constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=C.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=h(e.informationButton),this.endpoint=new m(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=C.fromResponse(e.authorPhoto),this.information_dialog=h(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}}class Ky extends u{static type="LiveChatRestrictedParticipation";message;icon_type;constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}class $d extends gt{static type="LiveChatAuthorBadge";custom_thumbnail;constructor(e){super(e),this.custom_thumbnail=C.fromResponse(e.customThumbnail)}}class Wd extends u{static type="LiveChatSponsorshipsHeader";author_name;author_photo;author_badges;primary_text;menu_endpoint;context_menu_accessibility_label;image;constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=C.fromResponse(e.authorPhoto),this.author_badges=k(e.authorBadges,$d),this.primary_text=new c(e.primaryText),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=C.fromResponse(e.image)}}class zy extends u{static type="LiveChatSponsorshipsGiftPurchaseAnnouncement";id;timestamp_usec;author_external_channel_id;header;constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=h(e.header,Wd)}}class Gy extends u{static type="LiveChatSponsorshipsGiftRedemptionAnnouncement";id;timestamp_usec;timestamp_text;author;message;menu_endpoint;context_menu_accessibility_label;constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new c(e.timestampText),this.author=new $(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new c(e.message),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}}class Jy extends u{static type="LiveChatTextMessage";id;message;inline_action_buttons;timestamp;timestamp_usec;timestamp_text;author;menu_endpoint;context_menu_accessibility_label;before_content_buttons;constructor(e){super(),this.id=e.id,this.message=new c(e.message),this.inline_action_buttons=k(e.inlineActionButtons,E),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new c(e.timestampText).toString()),this.author=new $(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new m(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=k(e.beforeContentButtons,re)}}class Xy extends u{static type="LiveChatTickerPaidMessageItem";id;author;amount;amount_text_color;start_background_color;end_background_color;duration_sec;full_duration_sec;show_item;show_item_endpoint;animation_origin;open_engagement_panel_command;constructor(e){super(),this.id=e.id,this.author=new $(e.authorName||e.authorUsername,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"amount")&&(this.amount=new c(e.amount)),this.amount_text_color=e.amountTextColor,this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=h(e.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new m(e.showItemEndpoint),this.animation_origin=e.animationOrigin,this.open_engagement_panel_command=new m(e.openEngagementPanelCommand)}}class Qy extends u{static type="LiveChatTickerPaidStickerItem";id;author_external_channel_id;author_photo;start_background_color;end_background_color;duration_sec;full_duration_sec;show_item;show_item_endpoint;ticker_thumbnails;constructor(e){super(),this.id=e.id,this.author_external_channel_id=e.authorExternalChannelId,this.author_photo=C.fromResponse(e.authorPhoto),this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=h(e.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new m(e.showItemEndpoint),this.ticker_thumbnails=e.tickerThumbnails.map(n=>({thumbnails:C.fromResponse(n),label:n?.accessibility?.accessibilityData?.label}))}}class Zy extends u{static type="LiveChatTickerSponsorItem";id;detail;author;duration_sec;constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new $(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}}class e0 extends u{static type="LiveChatViewerEngagementMessage";id;timestamp;timestamp_usec;icon_type;message;action_button;menu_endpoint;context_menu_accessibility_label;constructor(e){super(),this.id=e.id,Reflect.has(e,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.message=new c(e.message),this.action_button=h(e.actionButton),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new m(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label)}}class t0 extends u{static type="PollHeader";poll_question;thumbnails;metadata;live_chat_poll_type;context_menu_button;constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=C.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=h(e.contextMenuButton,E)}}class Yd extends u{static type="LiveChatActionPanel";id;contents;target_id;constructor(e){super(),this.id=e.id,this.contents=te(e.contents),this.target_id=e.targetId}}class n0 extends u{static type="MarkChatItemAsDeletedAction";deleted_state_message;target_item_id;constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}}class i0 extends u{static type="MarkChatItemsByAuthorAsDeletedAction";deleted_state_message;external_channel_id;constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}}class s0 extends u{static type="RemoveBannerForLiveChatCommand";target_action_id;constructor(e){super(),this.target_action_id=e.targetActionId}}class o0 extends u{static type="RemoveChatItemAction";target_item_id;constructor(e){super(),this.target_item_id=e.targetItemId}}class r0 extends u{static type="RemoveChatItemByAuthorAction";external_channel_id;constructor(e){super(),this.external_channel_id=e.externalChannelId}}class a0 extends u{static type="ReplaceChatItemAction";target_item_id;replacement_item;constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=h(e.replacementItem)}}class c0 extends u{static type="ReplaceLiveChatAction";to_replace;replacement;constructor(e){super(),this.to_replace=e.toReplace,this.replacement=h(e.replacement)}}class u0 extends u{static type="ReplayChatItemAction";actions;video_offset_time_msec;constructor(e){super(),this.actions=k(e.actions?.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}}class l0 extends u{static type="ShowLiveChatActionPanelAction";panel_to_show;constructor(e){super(),this.panel_to_show=h(e.panelToShow,Yd)}}class d0 extends u{static type="ShowLiveChatDialogAction";dialog;constructor(e){super(),this.dialog=h(e.dialog)}}class h0 extends u{static type="ShowLiveChatTooltipCommand";tooltip;constructor(e){super(),this.tooltip=h(e.tooltip)}}class Kd extends u{static type="UpdateDateTextAction";date_text;constructor(e){super(),this.date_text=new c(e.dateText).toString()}}class zd extends u{static type="UpdateDescriptionAction";description;constructor(e){super(),this.description=new c(e.description)}}class f0 extends u{static type="UpdateLiveChatPollAction";poll_to_update;constructor(e){super(),this.poll_to_update=h(e.pollToUpdate)}}class Gd extends u{static type="UpdateTitleAction";title;constructor(e){super(),this.title=new c(e.title)}}class Jd extends u{static type="UpdateToggleButtonTextAction";default_text;toggled_text;button_id;constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}}class Xd extends u{static type="UpdateViewershipAction";view_count;extra_short_view_count;original_view_count;unlabeled_view_count_value;is_live;constructor(e){super();const n=e.viewCount.videoViewCountRenderer;this.view_count=new c(n.viewCount),this.extra_short_view_count=new c(n.extraShortViewCount),this.original_view_count=parseInt(n.originalViewCount),this.unlabeled_view_count_value=new c(n.unlabeledViewCountValue),this.is_live=n.isLive}}class p0 extends u{static type="LiveChatDialog";confirm_button;dialog_messages;constructor(e){super(),this.confirm_button=h(e.confirmButton,E),this.dialog_messages=e.dialogMessages.map(n=>new c(n))}}class Qd extends u{static type="LiveChatHeader";overflow_menu;collapse_button;view_selector;constructor(e){super(),this.overflow_menu=h(e.overflowMenu,Y),this.collapse_button=h(e.collapseButton,E),this.view_selector=h(e.viewSelector,ft)}}class Zd extends u{static type="LiveChatItemList";max_items_to_display;more_comments_below_button;constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=h(e.moreCommentsBelowButton,E)}}class m0 extends u{static type="LiveChatMessageInput";author_name;author_photo;send_button;target_id;constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=C.fromResponse(e.authorPhoto),this.send_button=h(e.sendButton,E),this.target_id=e.targetId}}class eh extends u{static type="LiveChatParticipant";name;photo;badges;constructor(e){super(),this.name=new c(e.authorName),this.photo=C.fromResponse(e.authorPhoto),this.badges=k(e.authorBadges)}}class th extends u{static type="LiveChatParticipantsList";title;participants;constructor(e){super(),this.title=new c(e.title),this.participants=k(e.participants,eh)}}class nh extends u{static type="LockupMetadataView";title;metadata;image;menu_button;constructor(e){super(),this.title=c.fromAttributed(e.title),this.metadata=h(e.metadata,$s),this.image=h(e.image,[Ys,As]),this.menu_button=h(e.menuButton,re)}}class ih extends u{static type="LockupView";content_image;metadata;content_id;content_type;renderer_context;constructor(e){super(),this.content_image=h(e.contentImage,[Hl,qs]),this.metadata=h(e.metadata,nh),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new Vt(e.rendererContext)}}class no extends u{static type="MacroMarkersListEntity";marker_entity_key;external_video_id;marker_type;markers;max_height_dp;min_height_dp;show_hide_animation_duration_millis;timed_marker_decorations;raw_api_markers;raw_api_decorations;constructor(e){super(),this.marker_entity_key=e.key,this.external_video_id=e.externalVideoId,this.marker_type=e.markersList?.markerType||"",this.raw_api_markers=e.markersList?.markers||[],this.raw_api_decorations=e.markersList?.markersDecoration?.timedMarkerDecorations||[],this.markers=q(this.raw_api_markers.map(i=>new Ks(i)));const n=e.markersList?.markersMetadata?.heatmapMetadata;this.max_height_dp=n?.maxHeightDp||40,this.min_height_dp=n?.minHeightDp||4,this.show_hide_animation_duration_millis=n?.showHideAnimationDurationMillis||200,this.timed_marker_decorations=q(this.raw_api_decorations.map(i=>new zs(i)))}isHeatmap(){return this.marker_type==="MARKER_TYPE_HEATMAP"}toHeatmap(){if(!this.isHeatmap())return null;const e=this.raw_api_markers.map(s=>({HeatMarker:s})),n=this.raw_api_decorations.map(s=>({TimedMarkerDecoration:s})),i={maxHeightDp:this.max_height_dp,minHeightDp:this.min_height_dp,showHideAnimationDurationMillis:this.show_hide_animation_duration_millis,heatMarkers:e,heatMarkersDecorations:n};return h({Heatmap:i},Gs)}}class sh extends E{static type="MenuNavigationItem";constructor(e){super(e)}}class _0 extends u{static type="MenuPopup";items;constructor(e){super(),this.items=k(e.items,[sh,St])}}class io extends u{static type="Notification";thumbnails;video_thumbnails;short_message;sent_time;notification_id;endpoint;record_click_endpoint;menu;read;constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.video_thumbnails=C.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new m(e.navigationEndpoint),this.record_click_endpoint=new m(e.recordClickEndpoint),this.menu=h(e.contextualMenu),this.read=e.read}}class b0 extends u{static type="MultiPageMenuNotificationSection";notification_section_title;items;constructor(e){super(),"notificationSectionTitle"in e&&(this.notification_section_title=new c(e.notificationSectionTitle)),this.items=k(e.items,[io,He,G])}get contents(){return this.items}}class oh extends u{static type="MusicMenuItemDivider";constructor(e){super()}}class Et extends u{static type="MusicMultiSelectMenuItem";title;form_item_entity_key;selected_icon_type;endpoint;selected;constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new m(e.selectedCommand)),this.selected=!!this.endpoint}}class rh extends u{static type="MusicMultiSelectMenu";title;options;constructor(e){super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c(e.title.musicMenuTitleRenderer?.primaryText)),this.options=k(e.options,[Et,oh])}}class ah extends u{static type="SimpleMenuHeader";title;buttons;constructor(e){super(),this.title=new c(e.title),this.buttons=k(e.buttons,E)}}class g0 extends u{static type="MerchandiseItem";title;description;thumbnails;price;vendor_name;button_text;button_accessibility_text;from_vendor_text;additional_fees_text;region_format;endpoint;constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=C.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new m(e.buttonCommand)}}class ch extends u{static type="MerchandiseShelf";title;menu;items;constructor(e){super(),this.title=e.title,this.menu=h(e.actionButton),this.items=k(e.items)}get contents(){return this.items}}class y0 extends u{static type="MetadataRow";title;contents;constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(n=>new c(n))}}class uh extends u{static type="MetadataRowContainer";rows;collapsed_item_count;constructor(e){super(),this.rows=k(e.rows),this.collapsed_item_count=e.collapsedItemCount}}class w0 extends u{static type="MetadataRowHeader";content;has_divider_line;constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}}class k0 extends u{static type="MetadataScreen";section_list;constructor(e){super(),this.section_list=h(e)}}class At extends u{static type="MicroformatData";url_canonical;title;description;thumbnail;site_name;app_name;android_package;ios_app_store_id;ios_app_arguments;og_type;url_applinks_web;url_applinks_ios;url_applinks_android;url_twitter_ios;url_twitter_android;twitter_card_type;twitter_site_handle;schema_dot_org_type;noindex;is_unlisted;is_family_safe;tags;available_countries;constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=C.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}}class T0 extends an{static type="Mix";constructor(e){super(e)}}class C0 extends u{static type="ModalWithTitleAndButton";title;content;button;constructor(e){super(),this.title=new c(e.title),this.content=new c(e.content),this.button=h(e.button,E)}}class I0 extends u{static type="Movie";id;title;description_snippet;top_metadata_items;thumbnails;thumbnail_overlays;author;duration;endpoint;badges;use_vertical_poster;show_action_menu;menu;constructor(e){super();const n=e.thumbnailOverlays.find(i=>i.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new $(e.longBylineText,e.ownerBadges,e.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(n).toString(),seconds:Ge(e.lengthText?new c(e.lengthText).toString():new c(n).toString())},this.endpoint=new m(e.navigationEndpoint),this.badges=k(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=h(e.menu,Y)}}class v0 extends u{static type="MovingThumbnail";constructor(e){return super(),e.movingThumbnailDetails?.thumbnails.map(n=>new C(n)).sort((n,i)=>i.width-n.width)}}class lh extends u{static type="MusicCardShelfHeaderBasic";title;constructor(e){super(),this.title=new c(e.title)}}class so extends u{static type="MusicInlineBadge";icon_type;accessibility;constructor(e){super(),this.icon_type=e.icon.iconType,"accessibilityData"in e&&"accessibilityData"in e.accessibilityData&&(this.accessibility={accessibility_data:new qe(e.accessibilityData.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}}class oo extends u{static type="MusicPlayButton";endpoint;play_icon_type;pause_icon_type;icon_color;accessibility_play_data;accessibility_pause_data;constructor(e){super(),this.endpoint=new m(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,"accessibilityPlayData"in e&&"accessibilityData"in e.accessibilityPlayData&&(this.accessibility_play_data={accessibility_data:new qe(e.accessibilityPlayData.accessibilityData)}),"accessibilityPauseData"in e&&"accessibilityData"in e.accessibilityPauseData&&(this.accessibility_pause_data={accessibility_data:new qe(e.accessibilityPauseData.accessibilityData)}),this.icon_color=e.iconColor}get play_label(){return this.accessibility_play_data?.accessibility_data?.label}get pause_label(){return this.accessibility_pause_data?.accessibility_data?.label}}class cn extends u{static type="MusicItemThumbnailOverlay";content;content_position;display_style;constructor(e){super(),this.content=h(e.content,oo),this.content_position=e.contentPosition,this.display_style=e.displayStyle}}class Ke extends u{static type="MusicThumbnail";contents;constructor(e){super(),this.contents=C.fromResponse(e.thumbnail)}}class dh extends u{static type="MusicCardShelf";thumbnail;title;subtitle;buttons;menu;on_tap;header;end_icon_type;subtitle_badges;thumbnail_overlay;contents;constructor(e){super(),this.thumbnail=h(e.thumbnail,Ke),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=k(e.buttons,E),this.menu=h(e.menu,Y),this.on_tap=new m(e.onTap),this.header=h(e.header,lh),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=k(e.subtitleBadges,so),this.thumbnail_overlay=h(e.thumbnailOverlay,cn),Reflect.has(e,"contents")&&(this.contents=k(e.contents))}}class hh extends u{static type="MusicCarouselShelfBasicHeader";title;strapline;thumbnail;more_content;end_icons;constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=h(e.thumbnail,Ke)),Reflect.has(e,"moreContentButton")&&(this.more_content=h(e.moreContentButton,E)),Reflect.has(e,"endIcons")&&(this.end_icons=k(e.endIcons,Ad))}}class fh extends u{static type="MusicMultiRowListItem";thumbnail;overlay;on_tap;menu;subtitle;title;second_title;description;display_style;constructor(e){super(),this.thumbnail=h(e.thumbnail,Ke),this.overlay=h(e.overlay,cn),this.on_tap=new m(e.onTap),this.menu=h(e.menu,Y),this.subtitle=new c(e.subtitle),this.title=new c(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new c(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new c(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}}class ro extends u{static type="MusicNavigationButton";button_text;endpoint;constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new m(e.clickCommand)}}class ph extends u{static type="musicResponsiveListItemFlexColumnRenderer";title;display_priority;constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}}class mh extends u{static type="MusicResponsiveListItemFlexColumn";title;display_priority;constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}}class tt extends u{static type="MusicResponsiveListItem";flex_columns;fixed_columns;endpoint;item_type;index;thumbnail;badges;menu;overlay;id;title;duration;album;artists;views;authors;name;subtitle;subscribers;song_count;author;item_count;year;constructor(e){super(),this.flex_columns=k(e.flexColumns,mh),this.fixed_columns=k(e.fixedColumns,ph);const n={video_id:e?.playlistItemData?.videoId||null,playlist_set_video_id:e?.playlistItemData?.playlistSetVideoId||null};Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint));let i=this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType;switch(i||this.flex_columns.find(o=>o.title.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE")&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",this.#u();break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",this.#c();break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",this.#i();break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",this.#o();break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",this.#r(n);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",this.#a();break;default:this.flex_columns[1]?this.#t(n):this.#e()}Reflect.has(e,"index")&&(this.index=new c(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=h(e.thumbnail,Ke)),Reflect.has(e,"badges")&&(this.badges=k(e.badges)),Reflect.has(e,"menu")&&(this.menu=h(e.menu,Y)),Reflect.has(e,"overlay")&&(this.overlay=h(e.overlay,cn))}#e(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"}#t(e){switch(this.flex_columns.at(0)?.title.runs?.at(0)?.endpoint?.payload?.watchEndpointMusicSupportedConfigs?.watchEndpointMusicConfig?.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",this.#s(e);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",this.#n(e);break;default:this.#e()}}#n(e){this.id=e.video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString();const n=this.flex_columns.at(1)?.title.runs?.find(o=>/^\d+$/.test(o.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title?.toString();n&&(this.duration={text:n,seconds:Ge(n)});const i=this.flex_columns.at(1)?.title.runs?.find(o=>be(o)&&o.endpoint&&o.endpoint.payload.browseId.startsWith("MPR"))||this.flex_columns.at(2)?.title.runs?.find(o=>be(o)&&o.endpoint&&o.endpoint.payload.browseId.startsWith("MPR"));i&&be(i)&&(this.album={id:i.endpoint?.payload?.browseId,name:i.text,endpoint:i.endpoint});const s=this.flex_columns.at(1)?.title.runs?.filter(o=>be(o)&&o.endpoint&&o.endpoint.payload.browseId.startsWith("UC"));s&&(this.artists=s.map(o=>({name:o.text,channel_id:be(o)?o.endpoint?.payload?.browseId:void 0,endpoint:be(o)?o.endpoint:void 0})))}#s(e){this.id=e.video_id,this.title=this.flex_columns[0].title.toString(),this.views=this.flex_columns.at(1)?.title.runs?.find(s=>s.text.match(/(.*?) views/))?.toString();const n=this.flex_columns.at(1)?.title.runs?.filter(s=>be(s)&&s.endpoint&&s.endpoint.payload.browseId.startsWith("UC"));n&&(this.authors=n.map(s=>({name:s.text,channel_id:be(s)?s.endpoint?.payload?.browseId:void 0,endpoint:be(s)?s.endpoint:void 0})));const i=this.flex_columns[1].title.runs?.find(s=>/^\d+$/.test(s.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title.runs?.find(s=>/^\d+$/.test(s.text.replace(/:/g,"")))?.text;i&&(this.duration={text:i,seconds:Ge(i)})}#i(){this.id=this.endpoint?.payload?.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.subscribers=this.subtitle?.runs?.find(e=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(e.text))?.text||""}#o(){this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.song_count=this.subtitle?.runs?.find(e=>/^\d+(,\d+)? songs?$/i.test(e.text))?.text||""}#r(e){this.id=e.video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString()}#a(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString()}#u(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();const e=this.flex_columns.at(1)?.title.runs?.find(n=>be(n)&&n.endpoint&&n.endpoint.payload.browseId.startsWith("UC"));e&&be(e)&&(this.author={name:e.text,channel_id:e.endpoint?.payload?.browseId,endpoint:e.endpoint}),this.year=this.flex_columns.at(1)?.title.runs?.find(n=>/^[12][0-9]{3}$/.test(n.text))?.text}#c(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();const e=this.flex_columns.at(1)?.title.runs?.find(i=>i.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;const n=this.flex_columns.at(1)?.title.runs?.find(i=>be(i)&&i.endpoint&&i.endpoint.payload.browseId.startsWith("UC"));n&&be(n)&&(this.author={name:n.text,channel_id:n.endpoint?.payload?.browseId,endpoint:n.endpoint})}get thumbnails(){return this.thumbnail?.contents||[]}}class ao extends u{static type="MusicTwoRowItem";title;endpoint;id;subtitle;badges;item_type;subscribers;item_count;year;views;artists;author;thumbnail;thumbnail_overlay;menu;constructor(e){switch(super(),this.title=new c(e.title),this.endpoint=new m(e.navigationEndpoint),this.id=this.endpoint?.payload?.browseId||this.endpoint?.payload?.videoId,this.subtitle=new c(e.subtitle),this.badges=te(e.subtitleBadges),this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:this.endpoint?.metadata?.api_url==="/next"?this.item_type="endpoint":this.subtitle.runs?.[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=this.subtitle.runs?.find(i=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(i.text))?.text||"";else if(this.item_type=="playlist"){const i=this.subtitle.runs?.find(s=>s.text.match(/\d+ songs|song/));this.item_count=i?i.text:null}else if(this.item_type=="album"){const i=this.subtitle.runs?.filter(s=>s.endpoint?.payload?.browseId.startsWith("UC"));i&&(this.artists=i.map(s=>({name:s.text,channel_id:s.endpoint?.payload?.browseId,endpoint:s.endpoint}))),this.year=this.subtitle.runs?.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=this?.subtitle.runs?.find(s=>s?.text.match(/(.*?) views/))?.text||"N/A";const i=this.subtitle.runs?.find(s=>s.endpoint?.payload?.browseId?.startsWith("UC"));i&&(this.author={name:i?.text,channel_id:i?.endpoint?.payload?.browseId,endpoint:i?.endpoint})}else if(this.item_type=="song"){const i=this.subtitle.runs?.filter(s=>s.endpoint?.payload?.browseId.startsWith("UC"));i&&(this.artists=i.map(s=>({name:s?.text,channel_id:s?.endpoint?.payload?.browseId,endpoint:s?.endpoint})))}this.thumbnail=C.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=h(e.thumbnailOverlay,cn),this.menu=h(e.menu,Y)}}class Pe extends u{static type="MusicCarouselShelf";header;contents;num_items_per_column;constructor(e){super(),this.header=h(e.header,hh),this.contents=k(e.contents,[ao,tt,fh,ro]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}}class _i extends u{static type="MusicDescriptionShelf";description;max_collapsed_lines;max_expanded_lines;footer;constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}}class co extends u{static type="MusicDetailHeader";title;description;subtitle;second_subtitle;year;song_count;total_duration;thumbnails;badges;author;menu;constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=this.subtitle.runs?.find(i=>/^[12][0-9]{3}$/.test(i.text))?.text||"",this.song_count=this.second_subtitle.runs?.[0]?.text||"",this.total_duration=this.second_subtitle.runs?.[2]?.text||"",this.thumbnails=C.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=k(e.subtitleBadges);const n=this.subtitle.runs?.find(i=>i?.endpoint?.payload?.browseId.startsWith("UC"));n&&(this.author={name:n.text,channel_id:n.endpoint?.payload?.browseId,endpoint:n.endpoint}),this.menu=h(e.menu)}}class x0 extends u{static type="MusicDownloadStateBadge";playlist_id;supported_download_states;constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}}class _h extends u{static type="MusicEditablePlaylistDetailHeader";header;edit_header;playlist_id;constructor(e){super(),this.header=h(e.header),this.edit_header=h(e.editHeader),this.playlist_id=e.playlistId}}class Ki extends u{static type="MusicElementHeader";element;constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?h(e,mi):null}}class bi extends u{static type="MusicHeader";header;title;constructor(e){super(),Reflect.has(e,"header")&&(this.header=h(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}}class bh extends u{static type="MusicImmersiveHeader";title;menu;more_button;play_button;share_endpoint;start_radio_button;subscription_button;description;thumbnail;constructor(e){super(),this.title=new c(e.title),this.menu=h(e.menu,Y),this.more_button=h(e.moreButton,ue),this.play_button=h(e.playButton,E),"shareEndpoint"in e&&(this.share_endpoint=new m(e.shareEndpoint)),this.start_radio_button=h(e.startRadioButton,E),this.subscription_button=h(e.subscriptionButton,je),this.description=new c(e.description),this.thumbnail=h(e.thumbnail,Ke)}}class S0{static type="ActionButton";icon_name;endpoint;a11y_text;style;constructor(e){this.icon_name=e.iconName,this.endpoint=new m(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}}class E0{static type="Panel";image;content_mode;crop_options;image_aspect_ratio;caption;action_buttons;constructor(e){this.image=C.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(n=>new S0(n))}}class A0 extends u{static type="MusicLargeCardItemCarousel";panels;header;constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(n=>new E0(n))}}class D0 extends u{static type="MusicPlaylistEditHeader";title;edit_title;edit_description;privacy;playlist_id;endpoint;privacy_dropdown;constructor(e){super(),this.title=new c(e.title),this.edit_title=new c(e.editTitle),this.edit_description=new c(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new m(e.collaborationSettingsCommand),this.privacy_dropdown=h(e.privacyDropdown,ai)}}class jn extends u{static type="MusicPlaylistShelf";playlist_id;contents;collapsed_item_count;continuation;constructor(e){super(),this.playlist_id=e.playlistId,this.contents=k(e.contents,[tt,G]),this.collapsed_item_count=e.collapsedItemCount,this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||null}}class Jt extends u{static type="PlaylistPanelVideo";title;thumbnail;endpoint;selected;video_id;duration;author;album;artists;badges;menu;set_video_id;constructor(e){super(),this.title=new c(e.title),this.thumbnail=C.fromResponse(e.thumbnail),this.endpoint=new m(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:Ge(new c(e.lengthText).toString())};const n=new c(e.longBylineText).runs?.find(s=>s.endpoint?.payload?.browseId?.startsWith("MPR")),i=new c(e.longBylineText).runs?.filter(s=>s.endpoint?.payload?.browseId?.startsWith("UC"));this.author=new c(e.shortBylineText).toString(),n&&(this.album={id:n.endpoint?.payload?.browseId,name:n.text,year:new c(e.longBylineText).runs?.slice(-1)[0].text,endpoint:n.endpoint}),i&&(this.artists=i.map(s=>({name:s.text,channel_id:s.endpoint?.payload?.browseId,endpoint:s.endpoint}))),this.badges=k(e.badges),this.menu=h(e.menu),this.set_video_id=e.playlistSetVideoId}}class gh extends u{static type="PlaylistPanelVideoWrapper";primary;counterpart;constructor(e){super(),this.primary=h(e.primaryRenderer,Jt),Reflect.has(e,"counterpart")&&(this.counterpart=q(e.counterpart.map(n=>h(n.counterpartRenderer,Jt))||[]))}}class lt extends u{static type="PlaylistPanel";title;title_text;contents;playlist_id;is_infinite;continuation;is_editable;preview_description;num_items_to_show;constructor(e){super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=k(e.contents,[gh,Jt,ci]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=e.continuations?.[0]?.nextRadioContinuationData?.continuation||e.continuations?.[0]?.nextContinuationData?.continuation,this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}}class uo extends u{static type="MusicQueue";content;constructor(e){super(),this.content=h(e.content,lt)}}class lo extends u{static type="MusicResponsiveHeader";thumbnail;buttons;title;subtitle;strapline_text_one;strapline_thumbnail;second_subtitle;subtitle_badge;description;constructor(e){super(),this.thumbnail=h(e.thumbnail,Ke),this.buttons=k(e.buttons,[Ds,ue,oo,E,Y]),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.strapline_text_one=new c(e.straplineTextOne),this.strapline_thumbnail=h(e.straplineThumbnail,Ke),this.second_subtitle=new c(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=k(e.subtitleBadge,so)),Reflect.has(e,"description")&&(this.description=h(e.description,_i))}}class de extends u{static type="MusicShelf";title;contents;endpoint;continuation;bottom_text;bottom_button;subheaders;constructor(e){super(),this.title=new c(e.title),this.contents=k(e.contents,tt),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new m(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=e.continuations?.[0].nextContinuationData?.continuation||e.continuations?.[0].reloadContinuationData?.continuation),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=h(e.bottomButton,E)),Reflect.has(e,"subheaders")&&(this.subheaders=k(e.subheaders))}}class yh extends u{static type="MusicSideAlignedItem";start_items;end_items;constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=k(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=k(e.endItems))}}class zi extends u{static type="MusicSortFilterButton";title;icon_type;menu;constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=h(e.menu,rh)}}class wh extends u{static type="MusicTastebuilderShelfThumbnail";thumbnail;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}class kh extends u{static type="MusicTasteBuilderShelf";thumbnail;primary_text;secondary_text;action_button;is_visible;constructor(e){super(),this.thumbnail=h(e.thumbnail,wh),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=h(e.actionButton,E),this.is_visible=e.isVisible}}class Th extends u{static type="MusicVisualHeader";title;thumbnail;menu;foreground_thumbnail;constructor(e){super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?C.fromResponse(e.thumbnail.musicThumbnailRenderer?.thumbnail):[],this.menu=h(e.menu,Y),this.foreground_thumbnail=e.foregroundThumbnail?C.fromResponse(e.foregroundThumbnail.musicThumbnailRenderer?.thumbnail):[]}}class R0 extends u{static type="MobileTopbar";placeholder_text;buttons;logo_type;constructor(e){super(),this.placeholder_text=new c(e.placeholderText),this.buttons=k(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}}class P0 extends u{static type="MultiPageMenuSection";items;constructor(e){super(),this.items=k(e.items)}}class M0 extends u{static type="PivotBar";items;constructor(e){super(),this.items=k(e.items)}}class B0 extends u{static type="PivotBarItem";pivot_identifier;endpoint;title;accessibility_label;icon_type;accessibility;constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new m(e.navigationEndpoint),this.title=new Text(e.title),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new qe(e.accessibility.accessibilityData)}),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}get label(){return this.accessibility?.accessibility_data?.label}}class L0 extends u{static type="TopbarMenuButton";icon_type;menu_renderer;target_id;constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=h(e.menuRenderer),this.target_id=e.targetId}}class N0 extends u{static type="NotificationAction";response_text;constructor(e){super(),this.response_text=new c(e.responseText)}}class O0 extends u{static type="OpenOnePickAddVideoModalCommand";list_id;modal_title;select_button_label;constructor(e){super(),this.list_id=e.listId,this.modal_title=e.modalTitle,this.select_button_label=e.selectButtonLabel}}class Ch extends u{static type="PageHeaderView";title;image;animated_image;hero_image;metadata;actions;description;attributation;banner;constructor(e){super(),this.title=h(e.title,hd),this.image=h(e.image,[$t,Ys]),this.animated_image=h(e.animatedImage,$t),this.hero_image=h(e.heroImage,$t),this.metadata=h(e.metadata,$s),this.actions=h(e.actions,Ps),this.description=h(e.description,sd),this.attributation=h(e.attributation,Uu),this.banner=h(e.banner,Dd)}}class Dt extends u{static type="PageHeader";page_title;content;constructor(e){super(),this.page_title=e.pageTitle,this.content=h(e.content,Ch)}}class Ih extends u{static type="PageIntroduction";header_text;body_text;page_title;header_icon_type;constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}}class vh extends u{static type="PivotButton";thumbnail;endpoint;content_description;target_id;sound_attribution_title;waveform_animation_style;background_animation_style;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.endpoint=new m(e.onClickCommand),this.content_description=new c(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new c(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}}class xh extends u{static type="PlayerAnnotationsExpanded";featured_channel;allow_swipe_dismiss;annotation_id;constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:C.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new m(e.featuredChannel.navigationEndpoint),subscribe_button:h(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}}class Sh extends u{static type="PlayerCaptionsTracklist";caption_tracks;audio_tracks;default_audio_track_index;translation_languages;constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(n=>({base_url:n.baseUrl,name:new c(n.name),vss_id:n.vssId,language_code:n.languageCode,kind:n.kind,is_translatable:n.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(n=>({audio_track_id:n.audioTrackId,captions_initial_state:n.captionsInitialState,default_caption_track_index:n.defaultCaptionTrackIndex,has_default_track:n.hasDefaultTrack,visibility:n.visibility,caption_track_indices:n.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(n=>({language_code:n.languageCode,language_name:new c(n.languageName)})))}}class Eh extends u{static type="PlayerOverflow";endpoint;enable_listen_first;constructor(e){super(),this.endpoint=new m(e.endpoint),this.enable_listen_first=e.enableListenFirst}}class V0 extends u{static type="PlayerControlsOverlay";overflow;constructor(e){super(),this.overflow=h(e.overflow,Eh)}}class U0 extends u{static type="PlayerErrorMessage";subreason;reason;proceed_button;thumbnails;icon_type;constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=h(e.proceedButton,E),this.thumbnails=C.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}}class F0 extends u{static type="PlayerLegacyDesktopYpcOffer";title;thumbnail;offer_description;offer_id;constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}}class $n extends u{static type="YpcTrailer";video_message;player_response;constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}}class Gi extends u{static type="PlayerLegacyDesktopYpcTrailer";video_id;title;thumbnail;offer_headline;offer_description;offer_id;offer_button_text;video_message;trailer;constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=h(e.ypcTrailer,$n)}}class Ah extends u{static type="PlayerLiveStoryboardSpec";board;constructor(e){super();const[n,i,s,o,r]=e.spec.split("#");this.board={type:"live",template_url:n,thumbnail_width:parseInt(i,10),thumbnail_height:parseInt(s,10),columns:parseInt(o,10),rows:parseInt(r,10)}}}class Ve extends u{static type="PlayerMicroformat";title;description;thumbnails;embed;length_seconds;channel;is_family_safe;is_unlisted;has_ypc_metadata;view_count;category;publish_date;upload_date;available_countries;start_timestamp;end_timestamp;constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=C.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=e.liveBroadcastDetails?.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=e.liveBroadcastDetails?.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}}class Dh extends u{static type="PlayerOverlayAutoplay";title;video_id;video_title;short_view_count;prefer_immediate_redirect;count_down_secs_for_fullscreen;published;background;thumbnail_overlays;author;cancel_button;next_button;close_button;constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=C.fromResponse(e.background),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new $(e.byline),this.cancel_button=h(e.cancelButton,E),this.next_button=h(e.nextButton,E),this.close_button=h(e.closeButton,E)}}class Rh extends u{static type="PlayerOverlayVideoDetails";title;subtitle;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle)}}class Ph extends u{static type="WatchNextEndScreen";results;title;constructor(e){super(),this.results=k(e.results,[bd,_d]),this.title=new c(e.title).toString()}}class gi extends u{static type="PlayerOverlay";end_screen;autoplay;share_button;add_to_menu;fullscreen_engagement;actions;browser_media_session;decorated_player_bar;video_details;constructor(e){super(),this.end_screen=h(e.endScreen,Ph),this.autoplay=h(e.autoplay,Dh),this.share_button=h(e.shareButton,E),this.add_to_menu=h(e.addToMenu,Y),this.fullscreen_engagement=h(e.fullscreenEngagement),this.actions=k(e.actions),this.browser_media_session=h(e.browserMediaSession),this.decorated_player_bar=h(e.decoratedPlayerBarRenderer,id),this.video_details=h(e.videoDetails,Rh)}}class Mh extends u{static type="PlaylistHeader";id;title;subtitle;stats;brief_stats;author;description;num_videos;view_count;can_share;can_delete;is_editable;privacy;save_button;shuffle_play_button;menu;banner;constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.subtitle=e.subtitle?new c(e.subtitle):null,this.stats=e.stats.map(n=>new c(n)),this.brief_stats=e.briefStats.map(n=>new c(n)),this.author=e.ownerText||e.ownerEndpoint?new $({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=h(e.saveButton),this.shuffle_play_button=h(e.shufflePlayButton),this.menu=h(e.moreActionsMenu),this.banner=h(e.playlistHeaderBanner)}}class q0 extends u{static type="PlaylistInfoCardContent";title;thumbnails;video_count;channel_name;endpoint;constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=C.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new m(e.action)}}class Bh extends u{static type="PlaylistMetadata";title;description;constructor(e){super(),this.title=e.title,this.description=e.description||null}}class H0 extends u{static type="PlaylistSidebar";items;constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}class Lh extends u{static type="PlaylistSidebarPrimaryInfo";stats;thumbnail_renderer;title;menu;endpoint;description;constructor(e){super(),this.stats=e.stats.map(n=>new c(n)),this.thumbnail_renderer=h(e.thumbnailRenderer),this.title=new c(e.title),this.menu=h(e.menu),this.endpoint=new m(e.navigationEndpoint),this.description=new c(e.description)}}class Nh extends u{static type="PlaylistSidebarSecondaryInfo";owner;button;constructor(e){super(),this.owner=h(e.videoOwner),this.button=h(e.button)}}class j0 extends u{static type="PlaylistThumbnailOverlay";icon_type;text;constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new c(e.text)}}class ho extends u{static type="PlaylistVideo";id;index;title;author;thumbnails;thumbnail_overlays;set_video_id;endpoint;is_playable;menu;upcoming;video_info;accessibility_label;style;duration;constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new $(e.shortBylineText),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.set_video_id=e?.setVideoId,this.endpoint=new m(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=h(e.menu,Y),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);const n=e.upcomingEventData&&+`${e.upcomingEventData.startTime}000`;n&&(this.upcoming=new Date(n)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){return this.thumbnail_overlays.firstOfType(Mt)?.style==="LIVE"}get is_upcoming(){return this.thumbnail_overlays.firstOfType(Mt)?.style==="UPCOMING"}}class Oh extends u{static type="PlaylistVideoList";id;is_editable;can_reorder;videos;constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=k(e.contents)}}class $0 extends u{static type="Poll";choices;poll_type;total_votes;live_chat_poll_id;constructor(e){super(),this.choices=e.choices.map(n=>({text:new c(n.text),select_endpoint:n.selectServiceEndpoint?new m(n.selectServiceEndpoint):null,deselect_endpoint:n.deselectServiceEndpoint?new m(n.deselectServiceEndpoint):null,vote_ratio_if_selected:n?.voteRatioIfSelected||null,vote_percentage_if_selected:new c(n.votePercentageIfSelected),vote_ratio_if_not_selected:n?.voteRatioIfSelected||null,vote_percentage_if_not_selected:new c(n.votePercentageIfSelected),image:n.image?C.fromResponse(n.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}}class fo extends li{static type="Post";constructor(e){super(e)}}class W0 extends u{static type="PostMultiImage";images;constructor(e){super(),this.images=k(e.images,qu)}}class Y0 extends u{static type="PremiereTrailerBadge";label;constructor(e){super(),this.label=new c(e.label)}}class K0 extends u{static type="ProductListHeader";title;suppress_padding_disclaimer;constructor(e){super(),this.title=new c(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}}class z0 extends u{static type="ProductListItem";title;accessibility_title;thumbnail;price;endpoint;merchant_name;stay_in_app;view_button;constructor(e){super(),this.title=new c(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=C.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new m(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=h(e.viewButton,E)}}class Vh extends u{static type="ProfileColumn";items;constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}class G0 extends u{static type="ProfileColumnStats";items;constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}class J0 extends u{static type="ProfileColumnStatsEntry";label;value;constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}}class X0 extends u{static type="ProfileColumnUserInfo";title;thumbnails;constructor(e){super(),this.title=new c(e.title),this.thumbnails=C.fromResponse(e.thumbnail)}}class Q0 extends u{static type="Quiz";choices;total_votes;constructor(e){super(),this.choices=e.choices.map(n=>({text:new c(n.text),is_correct:n.isCorrect})),this.total_votes=new c(e.totalVotes)}}class Z0 extends u{static type="RecognitionShelf";title;subtitle;avatars;button;surface;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(n=>new C(n)),this.button=h(e.button,E),this.surface=e.surface}}class po extends u{static type="ReelItem";id;title;thumbnails;views;endpoint;accessibility;constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=C.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new m(e.navigationEndpoint),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new qe(e.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}}class Uh extends u{static type="ReelPlayerHeader";reel_title_text;timestamp_text;channel_title_text;channel_thumbnail;author;constructor(e){super(),this.reel_title_text=new c(e.reelTitleText),this.timestamp_text=new c(e.timestampText),this.channel_title_text=new c(e.channelTitleText),this.channel_thumbnail=C.fromResponse(e.channelThumbnail),this.author=new $(e.channelNavigationEndpoint,void 0)}}class e1 extends u{static type="ReelPlayerOverlay";like_button;reel_player_header_supported_renderers;menu;next_item_button;prev_item_button;subscribe_button_renderer;style;view_comments_button;share_button;pivot_button;info_panel;constructor(e){super(),this.like_button=h(e.likeButton,Rs),this.reel_player_header_supported_renderers=h(e.reelPlayerHeaderSupportedRenderers,Uh),this.menu=h(e.menu,Y),this.next_item_button=h(e.nextItemButton,E),this.prev_item_button=h(e.prevItemButton,E),this.subscribe_button_renderer=h(e.subscribeButtonRenderer,[E,je]),this.style=e.style,this.view_comments_button=h(e.viewCommentsButton,E),this.share_button=h(e.shareButton,E),this.pivot_button=h(e.pivotButton,vh),this.info_panel=h(e.infoPanel,Pd)}}class Fh extends u{static type="RelatedChipCloud";content;constructor(e){super(),this.content=h(e.content)}}class un extends u{static type="RichGrid";header;contents;target_id;constructor(e){super(),this.header=h(e.header),this.contents=k(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}}class t1 extends u{static type="RichItem";content;constructor(e){super(),this.content=h(e.content)}}class n1 extends u{static type="RichListHeader";title;subtitle;title_style;icon_type;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}}class Ji extends u{static type="RichMetadata";thumbnail;title;subtitle;call_to_action;icon_type;endpoint;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new m(e.endpoint)}}class Xi extends u{static type="RichMetadataRow";contents;constructor(e){super(),this.contents=k(e.contents)}}class i1 extends u{static type="RichSection";content;full_bleed;target_id;constructor(e){super(),this.content=h(e.content),this.full_bleed=!!e.fullBleed,"targetId"in e&&(this.target_id=e.targetId)}}class qh extends u{static type="RichShelf";title;contents;endpoint;subtitle;is_expanded;is_bottom_divider_hidden;is_top_divider_hidden;layout_sizing;icon_type;menu;next_button;previous_button;constructor(e){super(),this.title=new c(e.title),this.contents=k(e.contents),this.is_expanded=!!e.is_expanded,this.is_bottom_divider_hidden=!!e.isBottomDividerHidden,this.is_top_divider_hidden=!!e.isTopDividerHidden,"endpoint"in e&&(this.endpoint=new m(e.endpoint)),"subtitle"in e&&(this.subtitle=new c(e.subtitle)),"layoutSizing"in e&&(this.layout_sizing=e.layoutSizing),"icon"in e&&(this.icon_type=e.icon.iconType),this.menu=h(e.menu),this.next_button=h(e.nextButton),this.previous_button=h(e.previousButton)}}class Hh extends u{static type="SearchFilter";label;endpoint;tooltip;status;constructor(e){super(),this.label=new c(e.label),this.endpoint=new m(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}}class mo extends u{static type="SearchFilterGroup";title;filters;constructor(e){super(),this.title=new c(e.title),this.filters=k(e.filters,Hh)}}class s1 extends u{static type="SearchFilterOptionsDialog";title;groups;constructor(e){super(),this.title=new c(e.title),this.groups=k(e.groups,mo)}}class jh extends u{static type="SearchHeader";chip_bar;search_filter_button;constructor(e){super(),this.chip_bar=h(e.chipBar,mt),this.search_filter_button=h(e.searchFilterButton,E)}}class $h extends u{static type="SearchSubMenu";title;groups;button;constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"groups")&&(this.groups=k(e.groups,mo)),Reflect.has(e,"button")&&(this.button=h(e.button,ue))}}class Wh extends u{static type="SearchSuggestionsSection";contents;constructor(e){super(),this.contents=k(e.contents)}}class _o extends u{static type="UniversalWatchCard";header;call_to_action;sections;collapsed_label;constructor(e){super(),this.header=h(e.header),this.call_to_action=h(e.callToAction),this.sections=k(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}}class Yh extends u{static type="SecondarySearchContainer";target_id;contents;constructor(e){super(),this.contents=k(e.contents,[_o])}}class o1 extends u{static type="SectionHeaderView";headline;constructor(e){super(),this.headline=c.fromAttributed(e.headline)}}class Ht extends u{static type="SegmentedLikeDislikeButton";like_button;dislike_button;constructor(e){super(),this.like_button=h(e.likeButton,[ue,E]),this.dislike_button=h(e.dislikeButton,[ue,E])}}class r1 extends u{static type="SettingBoolean";title;summary;enable_endpoint;disable_endpoint;item_id;constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new m(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new m(e.disableServiceEndpoint)),this.item_id=e.itemId}}class Kh extends u{static type="SettingsCheckbox";title;help_text;enabled;disabled;id;constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}}class bo extends u{static type="SettingsSwitch";title;subtitle;enabled;enable_endpoint;disable_endpoint;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new m(e.enableServiceEndpoint),this.disable_endpoint=new m(e.disableServiceEndpoint)}}class Dn extends u{static type="SettingsOptions";title;text;options;constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=k(e.options,[bo,ai,Ws,Kh,Bl]))}}class zh extends u{static type="SettingsSidebar";title;items;constructor(e){super(),this.title=new c(e.title),this.items=k(e.items,on)}get contents(){return this.items}}class Gh extends u{static type="SharedPost";thumbnail;content;published;menu;original_post;id;endpoint;expand_button;author;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=h(e.actionMenu,Y),this.original_post=h(e.originalPost,[li,fo]),this.id=e.postId,this.endpoint=new m(e.navigationEndpoint),this.expand_button=h(e.expandButton,E),this.author=new $(e.displayName,void 0)}}class Jh extends u{static type="SharePanelHeader";title;constructor(e){super(),this.title=h(e.title)}}class a1 extends u{static type="SharePanelTitleV15";title;constructor(e){super(),this.title=new c(e.title)}}class Xh extends u{static type="ShareTarget";endpoint;service_name;target_id;title;constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new m(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new c(e.title)}}class go extends u{static type="Shelf";title;endpoint;content;icon_type;menu;play_all_button;subtitle;constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint)),this.content=h(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=h(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=h(e.playAllButton,E)),Reflect.has(e,"subtitle")&&(this.subtitle=new c(e.subtitle))}}class yo extends u{static type="ShortsLockupView";entity_id;accessibility_text;thumbnail;on_tap_endpoint;menu_on_tap;index_in_collection;menu_on_tap_a11y_label;overlay_metadata;inline_player_data;badge;constructor(e){super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=C.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap),this.menu_on_tap=new m(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?c.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?c.fromAttributed(e.overlayMetadata.secondaryText):void 0},e.inlinePlayerData?.onVisible&&(this.inline_player_data=new m(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=h(e.badge,Ms))}}class Qh extends u{static type="ShowingResultsFor";corrected_query;original_query;corrected_query_endpoint;original_query_endpoint;search_instead_for;showing_results_for;constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new m(e.correctedQueryEndpoint),this.original_query_endpoint=new m(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}}class c1 extends u{static type="SimpleCardContent";image;title;display_domain;show_link_icon;call_to_action;endpoint;constructor(e){super(),this.image=C.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new m(e.command)}}class u1 extends u{static type="SimpleCardTeaser";message;prominent;constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}}class l1 extends u{static type="SimpleTextSection";lines;style;constructor(e){super(),this.lines=e.lines.map(n=>new c(n)),this.style=e.layoutStyle}}class d1 extends u{static type="SingleActionEmergencySupport";action_text;nav_text;details;icon_type;endpoint;constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new m(e.navigationEndpoint)}}class Te extends u{static type="Tab";title;selected;endpoint;content;constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new m(e.endpoint),this.content=h(e.content,[Q,uo,un])}}class yi extends u{static type="SingleColumnBrowseResults";tabs;constructor(e){super(),this.tabs=k(e.tabs,Te)}}class h1 extends u{static type="SingleColumnMusicWatchNextResults";contents;constructor(e){super(),this.contents=te(e)}}class f1 extends u{static type="SingleHeroImage";thumbnails;style;constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.style=e.style}}class p1 extends u{static type="SlimOwner";thumbnail;title;endpoint;subscribe_button;constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=h(e.subscribeButton,je)}}class Zh extends u{static type="SlimVideoMetadata";title;collapsed_subtitle;expanded_subtitle;owner;description;video_id;date;constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=h(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}}class ef extends u{static type="StartAt";start_at_option_label;constructor(e){super(),this.start_at_option_label=new c(e.startAtOptionLabel)}}class m1 extends u{static type="Tabbed";contents;constructor(e){super(),this.contents=te(e)}}class tf extends u{static type="TabbedSearchResults";tabs;constructor(e){super(),this.tabs=k(e.tabs,Te)}}class _1 extends u{static type="TextHeader";title;style;constructor(e){super(),this.title=new c(e.title),this.style=e.style}}class nf extends u{static type="ThirdPartyShareTargetSection";share_targets;constructor(e){super(),this.share_targets=k(e.shareTargets,Xh)}}class b1 extends u{static type="ThumbnailLandscapePortrait";landscape;portrait;constructor(e){super(),this.landscape=C.fromResponse(e.landscape),this.portrait=C.fromResponse(e.portrait)}}class g1 extends u{static type="ThumbnailOverlayEndorsement";text;constructor(e){super(),this.text=new c(e.text).toString()}}class y1 extends u{static type="ThumbnailOverlayHoverText";text;icon_type;constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}}class w1 extends u{static type="ThumbnailOverlayInlineUnplayable";text;icon_type;constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}}class k1 extends u{static type="ThumbnailOverlayLoadingPreview";text;constructor(e){super(),this.text=new c(e.text)}}class T1 extends u{static type="ThumbnailOverlayNowPlaying";text;constructor(e){super(),this.text=new c(e.text).toString()}}class C1 extends u{static type="ThumbnailOverlayPinking";hack;constructor(e){super(),this.hack=e.hack}}class I1 extends u{static type="ThumbnailOverlayPlaybackStatus";texts;constructor(e){super(),this.texts=e.texts.map(n=>new c(n))}}class v1 extends u{static type="ThumbnailOverlayResumePlayback";percent_duration_watched;constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}}class x1 extends u{static type="ThumbnailOverlaySidePanel";text;icon_type;constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}}class S1 extends u{static type="ThumbnailOverlayToggleButton";is_toggled;icon_type;tooltip;toggled_endpoint;untoggled_endpoint;constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new m(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new m(e.untoggledServiceEndpoint))}}class E1 extends u{static type="TitleAndButtonListHeader";title;constructor(e){super(),this.title=new c(e.title)}}class A1 extends u{static type="ToggleMenuServiceItem";text;toggled_text;icon_type;toggled_icon_type;default_endpoint;toggled_endpoint;constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new m(e.defaultServiceEndpoint),this.toggled_endpoint=new m(e.toggledServiceEndpoint)}}class D1 extends u{static type="Tooltip";promo_config;target_id;details;suggested_position;dismiss_stratedy;dwell_time_ms;constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(n=>new m(n)),accept:new m(e.promoConfig.acceptCommand),dismiss:new m(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}}class R1 extends u{static type="TopicChannelDetails";title;avatar;subtitle;subscribe_button;endpoint;constructor(e){super(),this.title=new c(e.title),this.avatar=C.fromResponse(e.thumbnail??e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=h(e.subscribeButton,je),this.endpoint=new m(e.navigationEndpoint)}}class ln extends u{static type="TwoColumnBrowseResults";tabs;secondary_contents;constructor(e){super(),this.tabs=k(e.tabs,[Te,Fn]),this.secondary_contents=h(e.secondaryContents,[Q,Bs,Vh])}}class sf extends u{static type="TwoColumnSearchResults";header;primary_contents;secondary_contents;target_id;constructor(e){super(),this.header=h(e.header),this.primary_contents=h(e.primaryContents,[un,Q]),this.secondary_contents=h(e.secondaryContents,[Yh]),"targetId"in e&&(this.target_id=e.targetId)}}class wo extends u{static type="TwoColumnWatchNextResults";results;secondary_results;conversation_bar;playlist;autoplay;constructor(e){super(),this.results=k(e.results?.results.contents),this.secondary_results=k(e.secondaryResults?.secondaryResults.results),this.conversation_bar=h(e?.conversationBar);const n=e.playlist?.playlist;n&&(this.playlist={id:n.playlistId,title:n.title,author:n.shortBylineText?.simpleText?new c(n.shortBylineText):new $(n.longBylineText),contents:k(n.contents),current_index:n.currentIndex,is_infinite:!!n.isInfinite,menu:h(n.menu,Y)});const i=e.autoplay?.autoplay;i&&(this.autoplay={sets:i.sets.map(s=>this.#e(s))},i.modifiedSets&&(this.autoplay.modified_sets=i.modifiedSets.map(s=>this.#e(s))),i.countDownSecs&&(this.autoplay.count_down_secs=i.countDownSecs))}#e(e){const n={autoplay_video:new m(e.autoplayVideo)};return e.nextButtonVideo&&(n.next_button_video=new m(e.nextButtonVideo)),n}}class P1 extends u{static type="UnifiedSharePanel";third_party_network_section;header;share_panel_version;show_loading_spinner;constructor(e){if(super(),e.contents){const n=e.contents.find(i=>i.thirdPartyNetworkSection);n&&(this.third_party_network_section={share_target_container:h(n.thirdPartyNetworkSection.shareTargetContainer,nf),copy_link_container:h(n.thirdPartyNetworkSection.copyLinkContainer,Ws),start_at_container:h(n.thirdPartyNetworkSection.startAtContainer,ef)})}this.header=h(e.header,Jh),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}}class M1 extends u{static type="UpsellDialog";message_title;message_text;action_button;dismiss_button;is_visible;constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=h(e.actionButton,E),this.dismiss_button=h(e.dismissButton,E),this.is_visible=e.isVisible}}class B1 extends u{static type="VerticalList";items;collapsed_item_count;collapsed_state_button_text;constructor(e){super(),this.items=k(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}}class L1 extends u{static type="VerticalWatchCardList";items;view_all_text;view_all_endpoint;constructor(e){super(),this.items=k(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new m(e.viewAllEndpoint)}get contents(){return this.items}}class N1 extends u{static type="VideoInfoCardContent";title;channel_name;view_count;video_thumbnails;duration;endpoint;constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=C.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new m(e.action)}}class O1 extends u{static type="VideoMetadataCarouselView";carousel_titles;carousel_items;constructor(e){super(),this.carousel_titles=te(e.carouselTitles,!0,Rl),this.carousel_items=te(e.carouselItems,!0,Dl)}}class V1{static type="SubscriptionButton";text;subscribed;subscription_type;constructor(e){this.text=new c(e.text),this.subscribed=e.isSubscribed,"subscriptionType"in e&&(this.subscription_type=e.subscriptionType)}}class ko extends u{static type="VideoOwner";subscription_button;subscriber_count;author;constructor(e){super(),"subscriptionButton"in e&&(this.subscription_button=new V1(e.subscriptionButton)),this.subscriber_count=new c(e.subscriberCountText),this.author=new $({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}}class of extends u{static type="VideoViewCount";original_view_count;short_view_count;extra_short_view_count;view_count;constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new c(e.shortViewCount),this.extra_short_view_count=new c(e.extraShortViewCount),this.view_count=new c(e.viewCount)}}class rf extends u{static type="VideoPrimaryInfo";title;super_title_link;station_name;view_count;badges;published;relative_date;menu;constructor(e){super(),this.title=new c(e.title),"superTitleLink"in e&&(this.super_title_link=new c(e.superTitleLink)),"stationName"in e&&(this.station_name=new c(e.stationName)),this.view_count=h(e.viewCount,of),this.badges=k(e.badges,gt),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=h(e.videoActions,Y)}}class Qi extends u{static type="VideoSecondaryInfo";owner;description;description_placeholder;subscribe_button;metadata;show_more_text;show_less_text;default_expanded;description_collapsed_lines;constructor(e){super(),this.owner=h(e.owner,ko),this.description=new c(e.description),"attributedDescription"in e&&(this.description=c.fromAttributed(e.attributedDescription)),"descriptionPlaceholder"in e&&(this.description_placeholder=new c(e.descriptionPlaceholder)),this.subscribe_button=h(e.subscribeButton,[je,E]),this.metadata=h(e.metadataRowContainer,uh),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}}class af extends u{static type="WatchCardCompactVideo";title;subtitle;duration;style;constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:Ge(e.lengthText.simpleText)},this.style=e.style}}class U1 extends u{static type="WatchCardHeroVideo";endpoint;call_to_action_button;hero_image;label;constructor(e){super(),this.endpoint=new m(e.navigationEndpoint),this.call_to_action_button=h(e.callToActionButton),this.hero_image=h(e.heroImage),this.label=e.lengthText?.accessibility.accessibilityData.label||""}}class F1 extends u{static type="WatchCardRichHeader";title;title_endpoint;subtitle;author;style;constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new m(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new $(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}}class q1 extends u{static type="WatchCardSectionSequence";lists;constructor(e){super(),this.lists=k(e.lists)}}class cf extends ln{static type="WatchNextTabbedResults";constructor(e){super(e)}}class uf extends u{static type="AnchoredSection";title;content;endpoint;category_assets;category_type;constructor(e){super(),this.title=e.title,this.content=h(e.content,Q),this.endpoint=new m(e.navigationEndpoint),this.category_assets={asset_key:e.categoryAssets?.assetKey,background_color:e.categoryAssets?.backgroundColor},this.category_type=e.categoryType}}class To extends u{static type="KidsBlocklistPickerItem";#e;child_display_name;child_account_description;avatar;block_button;blocked_entity_key;constructor(e){super(),this.child_display_name=new c(e.childDisplayName),this.child_account_description=new c(e.childAccountDescription),this.avatar=C.fromResponse(e.avatar),this.block_button=h(e.blockButton,[ue]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!this.#e)throw new _("An active caller must be provide to perform this operation.");const e=this.block_button;if(!e)throw new _("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new _("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(this.#e,{parse:!1})}setActions(e){this.#e=e}}class H1 extends u{static type="KidsBlocklistPicker";title;child_rows;done_button;successful_toast_action_message;constructor(e){super(),this.title=new c(e.title),this.child_rows=te(e.childRows,!0,[To]),this.done_button=h(e.doneButton,[E]),this.successful_toast_action_message=new c(e.successfulToastActionMessage)}}class Co extends u{static type="KidsCategoryTab";title;category_assets;category_type;endpoint;constructor(e){super(),this.title=new c(e.title),this.category_assets={asset_key:e.categoryAssets?.assetKey,background_color:e.categoryAssets?.backgroundColor},this.category_type=e.categoryType,this.endpoint=new m(e.endpoint)}}class lf extends u{static type="kidsCategoriesHeader";category_tabs;privacy_button;constructor(e){super(),this.category_tabs=k(e.categoryTabs,Co),this.privacy_button=h(e.privacyButtonRenderer,E)}}class df extends u{static type="kidsHomeScreen";anchors;constructor(e){super(),this.anchors=k(e.anchors,uf)}}const j1=Object.freeze(Object.defineProperty({__proto__:null,AboutChannel:Tu,AboutChannelView:ku,AccountChannel:Cu,AccountItem:xs,AccountItemSection:vu,AccountItemSectionHeader:Iu,AccountSectionList:xu,ActiveAccountHeader:Db,AddBannerToLiveChatCommand:By,AddChatItemAction:Ud,AddLiveChatTickerItemAction:Ly,AddToPlaylist:Rb,AddToPlaylistCommand:Qb,AddToPlaylistEndpoint:vg,AddToPlaylistServiceEndpoint:fd,Alert:Es,AlertWithButton:Ou,AnchoredSection:uf,AnimatedThumbnailOverlayView:Vu,AppendContinuationItemsAction:nt,AttributionView:Uu,AudioOnlyPlayability:Fu,AuthorCommentBadge:sg,AutomixPreviewVideo:ci,AvatarStackView:As,AvatarView:ui,BackgroundPromo:Mb,BackstageImage:qu,BackstagePost:li,BackstagePostThread:Bb,BadgeView:Ms,BrowseEndpoint:Sg,BrowseFeedActions:Bs,BrowserMediaSession:Lb,BumperUserEduContentView:Fd,Button:E,ButtonCardView:Nb,ButtonView:re,C4TabbedHeader:Wt,CallToActionButton:Ob,Card:Vb,CardCollection:Sl,CarouselHeader:El,CarouselItem:Ub,CarouselItemView:Dl,CarouselLockup:wl,CarouselTitleView:Rl,ChangeEngagementPanelVisibilityAction:Cb,Channel:Pl,ChannelAboutFullMetadata:$i,ChannelAgeGate:Fb,ChannelExternalLinkView:wu,ChannelFeaturedContent:qb,ChannelHeaderLinks:Qu,ChannelHeaderLinksView:Zu,ChannelMetadata:Ml,ChannelMobileHeader:Hb,ChannelOptions:Bl,ChannelOwnerEmptyState:jb,ChannelSubMenu:Wi,ChannelSwitcherHeader:$b,ChannelSwitcherPage:Eu,ChannelTagline:vl,ChannelThumbnailWithLink:Wb,ChannelVideoPlayer:Yb,Chapter:Ll,ChildVideo:Kb,ChipBarView:zb,ChipCloud:mt,ChipCloudChip:_e,ChipView:Nl,ClientSideToggleMenuItem:Gb,ClipAdState:nl,ClipCreation:il,ClipCreationScrubber:tl,ClipCreationTextInput:el,ClipSection:sl,CollaboratorInfoCardContent:Jb,CollageHeroImage:Xb,CollectionThumbnailView:Hl,CommandExecutorCommand:bu,CommentActionButtons:ju,CommentDialog:og,CommentReplies:Wl,CommentReplyDialog:Yl,CommentSimplebox:Jl,CommentThread:Ql,CommentView:Un,CommentsEntryPointHeader:Gl,CommentsEntryPointTeaser:zl,CommentsHeader:pi,CommentsSimplebox:Kl,CompactChannel:cg,CompactLink:on,CompactMix:ug,CompactMovie:lg,CompactPlaylist:dg,CompactStation:hg,CompactVideo:Os,CompositeVideoPrimaryInfo:fg,ConfirmDialog:pg,ContentMetadataView:$s,ContentPreviewImageView:$t,ContinuationCommand:Zb,ContinuationItem:G,ConversationBar:mg,CopyLink:Ws,CreateCommentEndpoint:Ag,CreatePlaylistDialog:_u,CreatePlaylistDialogFormView:td,CreatePlaylistServiceEndpoint:Rg,CreatorHeart:Hu,CreatorHeartView:qd,DecoratedAvatarView:Ys,DecoratedPlayerBar:id,DefaultPromoPanel:bg,DeletePlaylistEndpoint:Mg,DescriptionPreviewView:sd,DialogHeaderView:od,DialogView:gg,DidYouMean:ld,DimChatItemAction:Ny,DislikeButtonView:Wu,DismissableDialog:yg,DismissableDialogContentSection:dd,DownloadButton:Ds,Dropdown:ai,DropdownItem:mu,DropdownView:Zl,DynamicTextView:hd,Element:mi,EmergencyOnebox:wg,EmojiPicker:$l,EmojiPickerCategory:kg,EmojiPickerCategoryButton:Tg,EmojiPickerUpsellCategory:Cg,EndScreenPlaylist:_d,EndScreenVideo:bd,Endscreen:md,EndscreenElement:py,EngagementPanelSectionList:fi,EngagementPanelTitleHeader:ol,EomSettingsDisclaimer:Ju,ExpandableMetadata:hl,ExpandableTab:Fn,ExpandableVideoDescriptionBody:ul,ExpandedShelfContents:my,Factoid:rn,FancyDismissibleDialog:_y,FeedFilterChipBar:_t,FeedNudge:by,FeedTabbedHeader:gd,FeedbackEndpoint:Lg,FlexibleActionsView:Ps,Form:wd,FormFooterView:rd,FormPopup:gy,GameCard:ll,GameDetails:yy,GetAccountsListInnertubeEndpoint:Og,GetKidsBlocklistPickerCommand:tg,GetMultiPageMenuAction:Ib,Grid:qn,GridChannel:kd,GridHeader:wy,GridMix:ky,GridMovie:Ty,GridPlaylist:Td,GridShelfView:Cy,GridShow:Iy,GridVideo:vd,GuideCollapsibleEntry:vy,GuideCollapsibleSectionEntry:xy,GuideDownloadsEntry:Sy,GuideEntry:Hn,GuideSection:Zs,GuideSubscriptionsSection:xd,HashtagHeader:Sd,HashtagTile:Ey,HeatMarker:Ks,Heatmap:Gs,HeroPlaylistThumbnail:Ay,HideEngagementPanelEndpoint:Vg,HighlightsCarousel:Yi,HistorySuggestion:Ry,HorizontalCardList:hi,HorizontalList:dl,HorizontalMovieList:Py,HowThisWasMadeSectionView:Il,HypePointsFactoid:_l,IconLink:Ad,ImageBannerView:Dd,IncludingResultsFor:My,InfoPanelContainer:Pd,InfoPanelContent:Rd,InfoRow:yl,InteractiveTabbedHeader:Md,ItemSection:Se,ItemSectionHeader:eo,ItemSectionTab:Bd,ItemSectionTabbedHeader:to,KidsBlocklistPicker:H1,KidsBlocklistPickerItem:To,KidsCategoriesHeader:lf,KidsCategoryTab:Co,KidsHomeScreen:df,LikeButton:Rs,LikeButtonView:$u,LikeEndpoint:Hg,ListItemView:cd,ListView:ud,LiveChat:Nd,LiveChatActionPanel:Yd,LiveChatAuthorBadge:$d,LiveChatAutoModMessage:Oy,LiveChatBanner:Vd,LiveChatBannerChatSummary:Vy,LiveChatBannerHeader:Od,LiveChatBannerPoll:Uy,LiveChatBannerRedirect:Fy,LiveChatDialog:p0,LiveChatHeader:Qd,LiveChatItemBumperView:Hd,LiveChatItemContextMenuEndpoint:$g,LiveChatItemList:Zd,LiveChatMembershipItem:qy,LiveChatMessageInput:m0,LiveChatModeChangeMessage:Hy,LiveChatPaidMessage:jy,LiveChatPaidSticker:$y,LiveChatParticipant:eh,LiveChatParticipantsList:th,LiveChatPlaceholderItem:Wy,LiveChatProductItem:Yy,LiveChatRestrictedParticipation:Ky,LiveChatSponsorshipsGiftPurchaseAnnouncement:zy,LiveChatSponsorshipsGiftRedemptionAnnouncement:Gy,LiveChatSponsorshipsHeader:Wd,LiveChatTextMessage:Jy,LiveChatTickerPaidMessageItem:Xy,LiveChatTickerPaidStickerItem:Qy,LiveChatTickerSponsorItem:Zy,LiveChatViewerEngagementMessage:e0,LockupMetadataView:nh,LockupView:ih,MacroMarkersInfoItem:rl,MacroMarkersList:al,MacroMarkersListEntity:no,MacroMarkersListItem:Ls,MarkChatItemAsDeletedAction:n0,MarkChatItemsByAuthorAsDeletedAction:i0,Menu:Y,MenuFlexibleItem:Ku,MenuNavigationItem:sh,MenuPopup:_0,MenuServiceItem:St,MenuServiceItemDownload:Yu,MenuTitle:Lu,MerchandiseItem:g0,MerchandiseShelf:ch,Message:He,MetadataBadge:gt,MetadataRow:y0,MetadataRowContainer:uh,MetadataRowHeader:w0,MetadataScreen:k0,MicroformatData:At,Mix:T0,MobileTopbar:R0,ModalWithTitleAndButton:C0,ModifyChannelNotificationPreferenceEndpoint:Yg,Movie:I0,MovingThumbnail:v0,MultiMarkersPlayerBar:nd,MultiPageMenu:Su,MultiPageMenuNotificationSection:b0,MultiPageMenuSection:P0,MusicCardShelf:dh,MusicCardShelfHeaderBasic:lh,MusicCarouselShelf:Pe,MusicCarouselShelfBasicHeader:hh,MusicDescriptionShelf:_i,MusicDetailHeader:co,MusicDownloadStateBadge:x0,MusicEditablePlaylistDetailHeader:_h,MusicElementHeader:Ki,MusicHeader:bi,MusicImmersiveHeader:bh,MusicInlineBadge:so,MusicItemThumbnailOverlay:cn,MusicLargeCardItemCarousel:A0,MusicMenuItemDivider:oh,MusicMultiRowListItem:fh,MusicMultiSelectMenu:rh,MusicMultiSelectMenuItem:Et,MusicNavigationButton:ro,MusicPlayButton:oo,MusicPlaylistEditHeader:D0,MusicPlaylistShelf:jn,MusicQueue:uo,MusicResponsiveHeader:lo,MusicResponsiveListItem:tt,MusicResponsiveListItemFixedColumn:ph,MusicResponsiveListItemFlexColumn:mh,MusicShelf:de,MusicSideAlignedItem:yh,MusicSortFilterButton:zi,MusicTastebuilderShelf:kh,MusicTastebuilderShelfThumbnail:wh,MusicThumbnail:Ke,MusicTwoRowItem:ao,MusicVisualHeader:Th,NavigationEndpoint:m,Notification:io,NotificationAction:N0,OpenOnePickAddVideoModalCommand:O0,OpenPopupAction:vs,PageHeader:Dt,PageHeaderView:Ch,PageIntroduction:Ih,PanelFooterView:Js,PdgCommentChip:rg,PdgReplyButtonView:jd,PerformCommentActionEndpoint:zg,PivotBar:M0,PivotBarItem:B0,PivotButton:vh,PlayerAnnotationsExpanded:xh,PlayerCaptionsTracklist:Sh,PlayerControlsOverlay:V0,PlayerErrorMessage:U0,PlayerLegacyDesktopYpcOffer:F0,PlayerLegacyDesktopYpcTrailer:Gi,PlayerLiveStoryboardSpec:Ah,PlayerMicroformat:Ve,PlayerOverflow:Eh,PlayerOverlay:gi,PlayerOverlayAutoplay:Dh,PlayerOverlayVideoDetails:Rh,PlayerStoryboardSpec:Qn,Playlist:an,PlaylistAddToOption:Nu,PlaylistCustomThumbnail:Hs,PlaylistEditEndpoint:Jg,PlaylistHeader:Mh,PlaylistInfoCardContent:q0,PlaylistMetadata:Bh,PlaylistPanel:lt,PlaylistPanelVideo:Jt,PlaylistPanelVideoWrapper:gh,PlaylistSidebar:H0,PlaylistSidebarPrimaryInfo:Lh,PlaylistSidebarSecondaryInfo:Nh,PlaylistThumbnailOverlay:j0,PlaylistVideo:ho,PlaylistVideoList:Oh,PlaylistVideoThumbnail:js,Poll:$0,PollHeader:t0,Post:fo,PostMultiImage:W0,PrefetchWatchCommand:Qg,PremiereTrailerBadge:Y0,ProductList:cl,ProductListHeader:K0,ProductListItem:z0,ProfileColumn:Vh,ProfileColumnStats:G0,ProfileColumnStatsEntry:J0,ProfileColumnUserInfo:X0,Quiz:Q0,RecognitionShelf:Z0,ReelItem:po,ReelPlayerHeader:Uh,ReelPlayerOverlay:e1,ReelShelf:Us,ReelWatchEndpoint:ey,RelatedChipCloud:Fh,RemoveBannerForLiveChatCommand:s0,RemoveChatItemAction:o0,RemoveChatItemByAuthorAction:r0,ReplaceChatItemAction:a0,ReplaceLiveChatAction:c0,ReplayChatItemAction:u0,RichGrid:un,RichItem:t1,RichListHeader:n1,RichMetadata:Ji,RichMetadataRow:Xi,RichSection:i1,RichShelf:qh,RunAttestationCommand:jl,SearchBox:Xu,SearchEndpoint:ny,SearchFilter:Hh,SearchFilterGroup:mo,SearchFilterOptionsDialog:s1,SearchHeader:jh,SearchRefinementCard:On,SearchSubMenu:$h,SearchSuggestion:Ed,SearchSuggestionsSection:Wh,SecondarySearchContainer:Yh,SectionHeaderView:o1,SectionList:Q,SegmentedLikeDislikeButton:Ht,SegmentedLikeDislikeButtonView:Tt,SendFeedbackAction:vb,SettingBoolean:r1,SettingsCheckbox:Kh,SettingsOptions:Dn,SettingsSidebar:zh,SettingsSwitch:bo,ShareEndpoint:sy,ShareEntityEndpoint:oy,ShareEntityServiceEndpoint:Qs,SharePanelHeader:Jh,SharePanelTitleV15:a1,ShareTarget:Xh,SharedPost:Gh,Shelf:go,ShortsLockupView:yo,ShowCustomThumbnail:Cd,ShowDialogCommand:ng,ShowEngagementPanelEndpoint:ry,ShowLiveChatActionPanelAction:l0,ShowLiveChatDialogAction:d0,ShowLiveChatTooltipCommand:h0,ShowingResultsFor:Qh,SignalAction:xb,SignalServiceEndpoint:ay,SimpleCardContent:c1,SimpleCardTeaser:u1,SimpleMenuHeader:ah,SimpleTextSection:l1,SingleActionEmergencySupport:d1,SingleColumnBrowseResults:yi,SingleColumnMusicWatchNextResults:h1,SingleHeroImage:f1,SlimOwner:p1,SlimVideoMetadata:Zh,SortFilterHeader:Ld,SortFilterSubMenu:ft,SponsorCommentBadge:ag,StartAt:ef,StructuredDescriptionContent:Vn,StructuredDescriptionPlaylistLockup:kl,SubFeedOption:zu,SubFeedSelector:Gu,SubscribeButton:je,SubscribeButtonView:ad,SubscribeEndpoint:uy,SubscriptionNotificationToggleButton:xl,Tab:Te,Tabbed:m1,TabbedSearchResults:tf,TextCarouselItemView:Al,TextFieldView:ed,TextHeader:_1,ThirdPartyShareTargetSection:nf,ThumbnailBadgeView:Fs,ThumbnailBottomOverlayView:ql,ThumbnailHoverOverlayToggleActionsView:Ul,ThumbnailHoverOverlayView:Ol,ThumbnailLandscapePortrait:b1,ThumbnailOverlayBadgeView:Vl,ThumbnailOverlayBottomPanel:Id,ThumbnailOverlayEndorsement:g1,ThumbnailOverlayHoverText:y1,ThumbnailOverlayInlineUnplayable:w1,ThumbnailOverlayLoadingPreview:k1,ThumbnailOverlayNowPlaying:T1,ThumbnailOverlayPinking:C1,ThumbnailOverlayPlaybackStatus:I1,ThumbnailOverlayProgressBarView:Fl,ThumbnailOverlayResumePlayback:v1,ThumbnailOverlaySidePanel:x1,ThumbnailOverlayTimeStatus:Mt,ThumbnailOverlayToggleButton:S1,ThumbnailView:qs,TimedMarkerDecoration:zs,TitleAndButtonListHeader:E1,ToggleButton:ue,ToggleButtonView:pt,ToggleFormField:yd,ToggleMenuServiceItem:A1,Tooltip:D1,TopbarMenuButton:L0,TopicChannelDetails:R1,Transcript:Ss,TranscriptFooter:Au,TranscriptSearchBox:Du,TranscriptSearchPanel:Bu,TranscriptSectionHeader:Ru,TranscriptSegment:Pu,TranscriptSegmentList:Mu,TwoColumnBrowseResults:ln,TwoColumnSearchResults:sf,TwoColumnWatchNextResults:wo,UnifiedSharePanel:P1,UniversalWatchCard:_o,UnsubscribeEndpoint:dy,UpdateChannelSwitcherPageAction:Sb,UpdateDateTextAction:Kd,UpdateDescriptionAction:zd,UpdateEngagementPanelAction:Eb,UpdateEngagementPanelContentCommand:ig,UpdateLiveChatPollAction:f0,UpdateSubscribeButtonAction:Ab,UpdateTitleAction:Gd,UpdateToggleButtonTextAction:Jd,UpdateViewershipAction:Xd,UploadTimeFactoid:pl,UpsellDialog:M1,VerticalList:B1,VerticalWatchCardList:L1,Video:Ns,VideoAttributeView:di,VideoAttributesSectionView:Cl,VideoCard:fl,VideoDescriptionCourseSection:Tl,VideoDescriptionHeader:bl,VideoDescriptionInfocardsSection:gl,VideoDescriptionMusicSection:Vs,VideoDescriptionTranscriptSection:ji,VideoInfoCardContent:N1,VideoMetadataCarouselView:O1,VideoOwner:ko,VideoPrimaryInfo:rf,VideoSecondaryInfo:Qi,VideoViewCount:of,ViewCountFactoid:ml,VoiceReplyContainerView:Xl,WatchCardCompactVideo:af,WatchCardHeroVideo:U1,WatchCardRichHeader:F1,WatchCardSectionSequence:q1,WatchEndpoint:pd,WatchNextEndScreen:Ph,WatchNextEndpoint:fy,WatchNextTabbedResults:cf,YpcTrailer:$n},Symbol.toStringTag,{value:"Module"})),$1=new Set(["trackingParams","accessibility","accessibilityData"]),Zi={};function dn(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function Io(t,e){let n=!1;if(typeof e=="object"&&e!=null){if(n=hf(e))return Zi[n]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[n],optional:!1};if(n=W1(e)){for(const[s,o]of Object.entries(n))Zi[s]=o;return{type:"array",array_type:"renderer",renderers:Object.keys(n),optional:!1}}if((n=Y1(t,e))||(n=K1(e)))return n}const i=typeof e;return i==="object"?{type:"object",keys:Object.entries(e).map(([s,o])=>[s,Io(s,o)]),optional:!1}:{type:"primitive",typeof:[i],optional:!1}}function W1(t){const e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(i=>hf(i))?Object.fromEntries(t.map(i=>{const s=Reflect.ownKeys(i)[0].toString();return[wi(s),i[s]]})):!1}function Y1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new m(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){const n=new c(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:n.endpoint,text:n.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function hf(t){if(!(typeof t=="object"))return!1;const n=Reflect.ownKeys(t);if(n.length===1){const i=n[0].toString();if(i.endsWith("Renderer")||i.endsWith("Model"))return wi(i)}return!1}function K1(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};const e=t.map(o=>typeof o);if(!e.every(o=>o===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};const i=e[0];if(i!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[i],optional:!1},optional:!1};let s=[];for(let o=0;o<t.length;o++){const r=Object.entries(t[o]).map(([a,l])=>[a,Io(a,l)]);if(o===0){s=r;continue}s=Wn(s,r).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:s,optional:!1},optional:!1}}function z1(t){if(typeof t!="object"||t===null)throw new _("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(n=>!X1(n)).filter(n=>typeof n=="string").map(n=>{const i=Reflect.get(t,n),s=Io(n,i);return[n,s]})}function G1(t){const n=t.filter(([,r])=>r.type!=="misc"||!(r.misc_type==="NavigationEndpoint"||r.misc_type==="Text")?!1:r.endpoint?.metadata.page_type==="WEB_PAGE_TYPE_CHANNEL").sort(([,r],[,a])=>r.type!=="misc"||a.type!=="misc"||r.misc_type!=="Text"||a.misc_type!=="Text"?0:a.text.length-r.text.length),i=new Set,s=n[0];let o;if(s){i.add(s[0]);const a=t.map(([b])=>b).filter(b=>b.endsWith("Badges")||b==="badges"),f=a.filter(b=>b.startsWith("owner")||b.startsWith("author"))[0]??a[0],d=t.find(([b])=>b===f),p=d?d[1].type==="array"&&d[1].array_type==="renderer"&&Reflect.has(d[1].renderers,"MetadataBadge"):!1;p&&f&&i.add(f),o={type:"misc",misc_type:"Author",optional:!1,params:[s[0],p?f:void 0]}}return o&&t.push(["author",o]),t.filter(([r])=>!i.has(r))}function J1(t){const e=z1(t);return G1(e)}function ff(t){const e=J1(t),n=new Map;for(const[,s]of e)if(s.type==="renderer"||s.type==="array"&&s.array_type==="renderer")for(const o of s.renderers){const r=Zi[o];r&&n.set(o,r)}const i=Array.from(n).filter(([s])=>!Ao(s));return{key_info:e,unimplemented_dependencies:i}}function X1(t){return typeof t=="string"&&$1.has(t)}function Q1(t,e,n){n({error_type:"class_not_found",classname:t,key_info:e});const i=class extends u{static type=t;static#e=new Map;static set key_info(s){this.#e=new Map(s)}static get key_info(){return[...this.#e.entries()]}constructor(s){super();const{key_info:o,unimplemented_dependencies:r}=ff(s),{resolved_key_info:a,changed_keys:l}=Wn(i.key_info,o);l.length>0&&(i.key_info=a,n({error_type:"class_changed",classname:t,key_info:i.key_info,changed_keys:l}));for(const[d,p]of r)vo(d,p,n);for(const[d,p]of o){let b=dn(d);p.type==="misc"&&p.misc_type==="NavigationEndpoint"&&(b="endpoint"),Reflect.set(this,b,_f(d,p,s))}}};return i.key_info=e,Object.defineProperty(i,"name",{value:t,writable:!1}),i}function vo(t,e,n){const{key_info:i,unimplemented_dependencies:s}=ff(e),o=Q1(t,i,n);cw(t,o);for(const[r,a]of s)vo(r,a,n);return o}function zr(t,e){const n=[],i=["super();"];for(const[s,o]of e){let r=dn(s);o.type==="misc"&&o.misc_type==="NavigationEndpoint"&&(r="endpoint"),n.push(`${r}${o.optional?"?":""}: ${pf(o)};`),i.push(`this.${r} = ${mf(s,o)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${n.join(`
  `)}

  constructor(data: RawNode) {
    ${i.join(`
    `)}
  }
}
`}function Gr(t,e){return`{
${e.map(([n,i])=>`${" ".repeat((t+2)*2)}${dn(n)}${i.optional?"?":""}: ${pf(i,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}function pf(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(n=>`YTNodes.${n}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(n=>`YTNodes.${n}`).join(" | ")}> | null`;case"primitive":{const n=t.items.typeof;return t.items.optional&&!n.includes("undefined")&&n.push("undefined"),`${n.length===1?`${n[0]}`:`(${n.join(" | ")})`}[]`}case"object":return`${Gr(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return Gr(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}function Jr(t,e,n,i){const s=[...n,i];return`{
${e.map(([o,r])=>`${" ".repeat((t+2)*2)}${dn(o)}: ${mf(o,r,s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}function mf(t,e,n=["data"],i=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${n.join(".")}.${t}, ${Xr(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":s=`Parser.parse(${n.join(".")}.${t}, true, ${Xr(e.renderers)})`;break;case"object":s=`${n.join(".")}.${t}.map((item: any) => (${Jr(i,e.items.keys,[],"item")}))`;break;case"primitive":s=`${n.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":s=Jr(i,e.keys,n,t);break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${n.join(".")}.${t})`;break;case"Author":{const o=`new Author(${n.join(".")}.${e.params[0]}, ${e.params[1]?`${n.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${n.join(".")}, '${e.params[0]}') ? ${o} : undefined`:o}default:s=`new ${e.misc_type}(${n.join(".")}.${t})`;break}if(s==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":s=`${n.join(".")}.${t}`;break}return e.optional?`Reflect.has(${n.join(".")}, '${t}') ? ${s} : undefined`:s}function Xr(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}function Me(t,e){let n=t;for(const i of e)n=n[i];return n}function Qr(t,e){let n=t;for(const i of e)if(Reflect.has(n,i))n=n[i];else return!1;return!0}function Zr(t,e,n,i,s){const o={},r=[...n,t];for(const[a,l]of i)o[a]=s?_f(a,l,e,r):void 0;return o}function _f(t,e,n,i=["data"]){const s=!e.optional||Qr({data:n},[...i,t]);switch(e.type){case"renderer":return s?h(Me({data:n},[...i,t]),e.renderers.map(o=>Yn(o))):void 0;case"array":switch(e.array_type){case"renderer":return s?te(Me({data:n},[...i,t]),!0,e.renderers.map(o=>Yn(o))):void 0;case"object":return s?Me({data:n},[...i,t]).map((o,r)=>Zr(`${r}`,n,[...i,t],e.items.keys,s)):void 0;case"primitive":return s?Me({data:n},[...i,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return Zr(t,n,i,e.keys,s);case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new m(Me({data:n},[...i,t])):void 0;case"Text":return s?new c(Me({data:n},[...i,t])):void 0;case"Thumbnail":return s?C.fromResponse(Me({data:n},[...i,t])):void 0;case"Author":return!e.optional||Qr({data:n},[...i,e.params[0]])?new $(Me({data:n},[...i,e.params[0]]),e.params[1]?Me({data:n},[...i,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return Me({data:n},[...i,t])}}function Wn(t,e){const n=new Map,i=new Set(t.map(([b])=>b)),s=new Set(e.map(([b])=>b)),o=e.filter(([b])=>!i.has(b)),r=t.filter(([b])=>!s.has(b)),a=t.filter(([b])=>s.has(b)),l=new Map(e);for(const[b,w]of a){const g=l.get(b);if(g){if(w.type!==g.type){n.set(b,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(g.type!=="object")continue;const{resolved_key_info:I}=Wn(w.keys,g.keys),v={type:"object",keys:I,optional:w.optional||g.optional};JSON.stringify(v)!==JSON.stringify(w)&&n.set(b,v)}break;case"renderer":{if(g.type!=="renderer")continue;const I={...w.renderers,...g.renderers},v=w.optional||g.optional,T={type:"renderer",renderers:I,optional:v};JSON.stringify({...T,renderers:Object.keys(T.renderers)})!==JSON.stringify({...w,renderers:Object.keys(w.renderers)})&&n.set(b,T)}break;case"array":{if(g.type!=="array")continue;switch(w.array_type){case"renderer":{if(g.array_type!=="renderer"){n.set(b,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const I={...w.renderers,...g.renderers},v=w.optional||g.optional,T={type:"array",array_type:"renderer",renderers:I,optional:v};JSON.stringify({...T,renderers:Object.keys(T.renderers)})!==JSON.stringify({...w,renderers:Object.keys(w.renderers)})&&n.set(b,T)}break;case"object":{if(g.array_type==="primitive"&&g.items.typeof.length==1&&g.items.typeof[0]==="never")continue;if(g.array_type!=="object"){n.set(b,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const{resolved_key_info:I}=Wn(w.items.keys,g.items.keys),v={type:"array",array_type:"object",items:{type:"object",keys:I,optional:w.items.optional||g.items.optional},optional:w.optional||g.optional};JSON.stringify(v)!==JSON.stringify(w)&&n.set(b,v)}break;case"primitive":{if(w.items.typeof.includes("never")&&g.array_type==="object"){n.set(b,g);continue}if(g.array_type!=="primitive"){n.set(b,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const I=new Set([...g.items.typeof,...w.items.typeof]);I.size>1&&I.has("never")&&I.delete("never");const v={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(I),optional:w.items.optional||g.items.optional},optional:w.optional||g.optional};JSON.stringify(v)!==JSON.stringify(w)&&n.set(b,v)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(g.type!=="misc")continue;switch(w.misc_type!==g.misc_type&&n.set(b,{type:"primitive",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(g.misc_type!=="Author")break;const I=w.params[1]||g.params[1],T={type:"misc",misc_type:"Author",optional:w.optional||g.optional,params:[g.params[0],I]};JSON.stringify(T)!==JSON.stringify(w)&&n.set(b,T)}break}}break;case"primitive":{if(g.type!=="primitive")continue;const I={type:"primitive",typeof:Array.from(new Set([...g.typeof,...w.typeof])),optional:w.optional||g.optional};JSON.stringify(I)!==JSON.stringify(w)&&n.set(b,I)}break}}}for(const[b,w]of o)n.set(b,{...w,optional:!0});for(const[b,w]of r)n.set(b,{...w,optional:!0});const f=t.filter(([b])=>!n.has(b));return{resolved_key_info:[...new Map([...f,...n]).entries()],changed_keys:[...n.entries()]}}class bf extends u{static type="itemSectionContinuation";contents;continuation;constructor(e){super(),this.contents=k(e.contents),Array.isArray(e.continuations)&&(this.continuation=e.continuations?.at(0)?.nextContinuationData?.continuation)}}class xo extends u{static type="navigateAction";endpoint;constructor(e){super(),this.endpoint=new m(e.endpoint)}}class Z1 extends u{static type="showMiniplayerCommand";miniplayer_command;show_premium_branding;constructor(e){super(),this.miniplayer_command=new m(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}}class Bt extends u{static type="reloadContinuationItemsCommand";target_id;contents;slot;constructor(e){super(),this.target_id=e.targetId,this.contents=te(e.continuationItems,!0),this.slot=e?.slot}}class Lt extends u{static type="sectionListContinuation";continuation;contents;constructor(e){super(),this.contents=te(e.contents,!0),this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||e.continuations?.[0]?.reloadContinuationData?.continuation||null}}class gf extends u{static type="musicPlaylistShelfContinuation";continuation;contents;constructor(e){super(),this.contents=te(e.contents,!0),this.continuation=e.continuations?.[0].nextContinuationData.continuation||null}}class So extends u{static type="musicShelfContinuation";continuation;contents;constructor(e){super(),this.contents=k(e.contents),this.continuation=e.continuations?.[0].nextContinuationData?.continuation||e.continuations?.[0].reloadContinuationData?.continuation||null}}class yf extends u{static type="gridContinuation";continuation;items;constructor(e){super(),this.items=te(e.items,!0),this.continuation=e.continuations?.[0].nextContinuationData.continuation||null}get contents(){return this.items}}class wf extends u{static type="playlistPanelContinuation";continuation;contents;constructor(e){super(),this.contents=k(e.contents),this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||e.continuations?.[0]?.nextRadioContinuationData?.continuation||null}}class kf extends u{static type="continuation";continuation_type;timeout_ms;time_until_last_message_ms;token;constructor(e){super(),this.continuation_type=e.type,this.timeout_ms=e.continuation?.timeoutMs,this.time_until_last_message_ms=e.continuation?.timeUntilLastMessageMsec,this.token=e.continuation?.continuation}}class Tf extends u{static type="liveChatContinuation";actions;action_panel;item_list;header;participants_list;popout_message;emojis;continuation;viewer_name;constructor(e){super(),this.actions=te(e.actions?.map(s=>(delete s.clickTrackingParams,s)),!0)||q([]),this.action_panel=h(e.actionPanel),this.item_list=h(e.itemList,Zd),this.header=h(e.header,Qd),this.participants_list=h(e.participantsList,th),this.popout_message=h(e.popoutMessage,He),this.emojis=e.emojis?.map(s=>({emoji_id:s.emojiId,shortcuts:s.shortcuts,search_terms:s.searchTerms,image:C.fromResponse(s.image),is_custom_emoji:s.isCustomEmoji}))||[];let n,i;e.continuations?.[0].timedContinuationData?(i="timed",n=e.continuations?.[0].timedContinuationData):e.continuations?.[0].invalidationContinuationData?(i="invalidation",n=e.continuations?.[0].invalidationContinuationData):e.continuations?.[0].liveChatReplayContinuationData&&(i="replay",n=e.continuations?.[0].liveChatReplayContinuationData),this.continuation=new kf({continuation:n,type:i}),this.viewer_name=e.viewerName}}class es extends u{static type="ContinuationCommand";request;token;constructor(e){super(),this.request=e.request,this.token=e.token}}function ew(){return{key:void 0,value:void 0}}const it={encode(t,e=new D){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=ew();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.key=n.string();continue;case 2:if(o!==18)break;s.value=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function tw(){return{xtags:[]}}const nw={encode(t,e=new D){for(const n of t.xtags)it.encode(n,e.uint32(10).fork()).join();return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=tw();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.xtags.push(it.decode(n,n.uint32()));continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};class iw{#e;itag;url;width;height;last_modified;last_modified_ms;content_length;quality;xtags;drm_families;fps;quality_label;projection_type;average_bitrate;bitrate;spatial_audio_type;target_duration_dec;fair_play_key_uri;stereo_layout;max_dvr_duration_sec;high_replication;audio_quality;approx_duration_ms;audio_sample_rate;audio_channels;loudness_db;signature_cipher;is_drc;drm_track_type;distinct_params;track_absolute_loudness_lkfs;mime_type;is_type_otf;init_range;index_range;cipher;audio_track;has_audio;has_video;has_text;language;is_dubbed;is_auto_dubbed;is_descriptive;is_secondary;is_original;color_info;caption_track;constructor(e,n){if(n&&(this.#e=n),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=e.stereoLayout?.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=e.spatialAudioType?.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:e.colorInfo.primaries?.replace("COLOR_PRIMARIES_",""),transfer_characteristics:e.colorInfo.transferCharacteristics?.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:e.colorInfo.matrixCoefficients?.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){const i=this.xtags?nw.decode(Ef(decodeURIComponent(this.xtags).replace(/-/g,"+").replace(/_/g,"/"))).xtags:[];if(this.language=i.find(s=>s.key==="lang")?.value||null,this.has_audio){this.is_drc=!!e.isDrc||i.some(o=>o.key==="drc"&&o.value==="1");const s=i.find(o=>o.key==="acont")?.value;this.is_dubbed=s==="dubbed",this.is_descriptive=s==="descriptive",this.is_secondary=s==="secondary",this.is_auto_dubbed=s==="dubbed-auto",this.is_original=s==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}async decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,this.#e):this.url||""}}class sw{id;channel_id;title;duration;keywords;is_owner_viewing;short_description;thumbnail;allow_ratings;view_count;author;is_private;is_live;is_live_content;is_live_dvr_enabled;is_upcoming;is_crawlable;is_post_live_dvr;is_low_latency_live_stream;live_chunk_readahead;constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=C.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}}const ot="Parser",ow=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Eo=new Map(Object.entries(j1)),rw=new Map;let dt=null,et=({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&oe(ot,new _(`Something went wrong at ${t}!
This is a bug, please report it at ${De.bugs.url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":oe(ot,new bt(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":oe(ot,new _(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${De.bugs.url}`));break;case"mutation_data_invalid":oe(ot,new _(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${De.bugs.url}`));break;case"class_not_found":oe(ot,new _(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${De.homepage.split("#",1)[0]}/blob/main/docs/updating-the-parser.md or report it at ${De.bugs.url}!
Introspected and JIT generated this class in the meantime:
${zr(t,e.key_info)}`));break;case"class_changed":oe(ot,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([n])=>dn(n)).join(", ")}
The class has changed to:
${zr(t,e.key_info)}`);break;default:oe(ot,"Unreachable code reached at ParserErrorHandler");break}};function Be(){dt=null}function Le(){dt=new bc}function aw(t,e){if(!dt)return;const n=dt.get(t);if(!n)return dt.set(t,[e]);n.push(e)}function Ne(){if(!dt)throw new Error("Parser#getMemo() called before Parser#createMemo()");return dt}function Cf(t){return ow.has(t)}function wi(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function Yn(t){const e=Eo.get(t);if(!e){const n=new Error(`Module not found: ${t}`);throw n.code="MODULE_NOT_FOUND",n}return e}function Ao(t){return Eo.has(t)}function cw(t,e){Eo.set(t,e),rw.set(t,e)}function J(t){const e={};Le();const n=te(t.contents),i=Ne();n&&(e.contents=n,e.contents_memo=i),Be(),Le();const s=t.onResponseReceivedActions?Ri(t.onResponseReceivedActions):null,o=Ne();s&&(e.on_response_received_actions=s,e.on_response_received_actions_memo=o),Be(),Le();const r=t.onResponseReceivedEndpoints?Ri(t.onResponseReceivedEndpoints):null,a=Ne();r&&(e.on_response_received_endpoints=r,e.on_response_received_endpoints_memo=a),Be(),Le();const l=t.onResponseReceivedCommands?Ri(t.onResponseReceivedCommands):null,f=Ne();l&&(e.on_response_received_commands=l,e.on_response_received_commands_memo=f),Be(),Le();const d=t.continuationContents?ea(t.continuationContents):null,p=Ne();d&&(e.continuation_contents=d,e.continuation_contents_memo=p),Be(),Le();const b=t.actions?pw(t.actions):null,w=Ne();b&&(e.actions=b,e.actions_memo=w),Be(),Le();const g=t.liveChatItemContextMenuSupportedRenderers?h(t.liveChatItemContextMenuSupportedRenderers):null,I=Ne();g&&(e.live_chat_item_context_menu_supported_renderers=g,e.live_chat_item_context_menu_supported_renderers_memo=I),Be(),Le();const v=t.header?te(t.header):null,T=Ne();v&&(e.header=v,e.header_memo=T),Be(),Le();const B=t.sidebar?h(t.sidebar):null,x=Ne();B&&(e.sidebar=B,e.sidebar_memo=x),Be(),Le();const P=te(t.items);P&&(e.items=P,e.items_memo=Ne()),Be(),mw(i,t.frameworkUpdates?.entityBatchUpdate?.mutations),a&&_w(a,t.frameworkUpdates?.entityBatchUpdate?.mutations);const ce=t.continuation?fw(t.continuation):null;ce&&(e.continuation=ce);const Z=t.continuationEndpoint?ea(t.continuationEndpoint):null;Z&&(e.continuation_endpoint=Z);const L=te(t.metadata);L&&(e.metadata=L);const Ee=h(t.microformat);Ee&&(e.microformat=Ee);const st=h(t.overlay);st&&(e.overlay=st);const fn=k(t.alerts,[Es,Ou]);fn.length&&(e.alerts=fn);const pn=t.refinements;pn&&(e.refinements=pn);const mn=t.estimatedResults?parseInt(t.estimatedResults):null;mn&&(e.estimated_results=mn);const jo=te(t.playerOverlays);jo&&(e.player_overlays=jo);const $o=h(t.background,Ke);$o&&(e.background=$o);const Wo=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Wo&&(e.playback_tracking=Wo);const Yo=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playability:h(t.playabilityStatus.audioOnlyPlayability,Fu),error_screen:h(t.playabilityStatus.errorScreen)}:null;if(Yo&&(e.playability_status=Yo),t.streamingData){const yt=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:ta(t.streamingData.formats,yt),adaptive_formats:ta(t.streamingData.adaptiveFormats,yt),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:t.playerConfig.audioConfig?.loudnessDb,perceptual_loudness_db:t.playerConfig.audioConfig?.perceptualLoudnessDb,enable_per_format_loudness:t.playerConfig.audioConfig?.enablePerFormatLoudness},stream_selection_config:{max_bitrate:t.playerConfig.streamSelectionConfig?.maxBitrate||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.maxReadAheadMediaTimeMs||0,min_read_ahead_media_time_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.minReadAheadMediaTimeMs||0,read_ahead_growth_rate_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.readAheadGrowthRateMs||0},media_ustreamer_request_config:{video_playback_ustreamer_config:t.playerConfig.mediaCommonConfig?.mediaUstreamerRequestConfig?.videoPlaybackUstreamerConfig}}});const Ko=t.currentVideoEndpoint?new m(t.currentVideoEndpoint):null;Ko&&(e.current_video_endpoint=Ko);const zo=t.endpoint?new m(t.endpoint):null;zo&&(e.endpoint=zo);const Go=h(t.captions,Sh);Go&&(e.captions=Go);const Jo=t.videoDetails?new sw(t.videoDetails):null;Jo&&(e.video_details=Jo);const Xo=k(t.annotations,xh);Xo.length&&(e.annotations=Xo);const Qo=h(t.storyboards,[Qn,Ah]);Qo&&(e.storyboards=Qo);const Zo=h(t.endscreen,md);Zo&&(e.endscreen=Zo);const er=h(t.cards,Sl);er&&(e.cards=er);const tr=k(t.engagementPanels,fi);if(tr.length&&(e.engagement_panels=tr),t.bgChallenge){const yt={private_do_not_access_or_else_trusted_resource_url_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};e.bg_challenge={interpreter_url:yt,interpreter_hash:t.bgChallenge.interpreterHash,program:t.bgChallenge.program,global_name:t.bgChallenge.globalName,client_experiments_state_blob:t.bgChallenge.clientExperimentsStateBlob}}return t.challenge&&(e.challenge=t.challenge),t.playerResponse&&(e.player_response=J(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=J(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(yt=>new m(yt))),t.targetId&&(e.target_id=t.targetId),e}function h(t,e){if(!t)return null;const n=Object.keys(t);if(!n.length)return null;const i=wi(n[0]);if(!Cf(i))try{const o=Ao(i)?Yn(i):vo(i,t[n[0]],et);if(e){if(Array.isArray(e)){if(!e.some(a=>a.type===o.type))return et({classdata:t[n[0]],classname:i,error_type:"typecheck",expected:e.map(a=>a.type)}),null}else if(o.type!==e.type)return et({classdata:t[n[0]],classname:i,error_type:"typecheck",expected:e.type}),null}const r=new o(t[n[0]]);return aw(i,r),r}catch(s){return et({classname:i,classdata:t[n[0]],error:s,error_type:"parse"}),null}return null}function k(t,e){if(Array.isArray(t)){const n=[];for(const i of t){const s=h(i,e);s&&n.push(s)}return q(n)}else if(!t)return q([]);throw new bt("Expected array but got a single item")}function te(t,e,n){if(!t)return null;if(Array.isArray(t)){const i=[];for(const o of t){const r=h(o,n);r&&i.push(r)}const s=q(i);return e?s:new Kt(s)}else if(e)throw new bt("Expected array but got a single item");return new Kt(h(t,n))}const uw=/Command$/,lw=/Endpoint$/,dw=/Action$/;function If(t){let e=[];try{e=Object.keys(t)}catch{}for(const n of e){const i=t[n];if(uw.test(n)||lw.test(n)||dw.test(n)){const s=wi(n);if(Cf(s))return;try{if(Ao(s))return new(Yn(s))(i)}catch(o){et({error:o,classname:s,classdata:i,error_type:"parse"})}}}}function hw(t){if(Array.isArray(t)){const e=[];for(const n of t){const i=If(n);i&&e.push(i)}return q(e)}else if(!t)return q([]);throw new bt("Expected array but got a single item")}function fw(t){return t.timedContinuationData?new kf({continuation:t.timedContinuationData,type:"timed"}):null}function ea(t){return t.itemSectionContinuation?new bf(t.itemSectionContinuation):t.sectionListContinuation?new Lt(t.sectionListContinuation):t.liveChatContinuation?new Tf(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new gf(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new So(t.musicShelfContinuation):t.gridContinuation?new yf(t.gridContinuation):t.playlistPanelContinuation?new wf(t.playlistPanelContinuation):t.continuationCommand?new es(t.continuationCommand):null}function Ri(t){return q(t.map(e=>{if(e.navigateAction)return new xo(e.navigateAction);if(e.showMiniplayerCommand)return new Z1(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Bt(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new nt(e.appendContinuationItemsAction);if(e.openPopupAction)return new vs(e.openPopupAction)}).filter(e=>e))}function pw(t){return Array.isArray(t)?te(t.map(e=>(delete e.clickTrackingParams,e))):new Kt(h(t))}function ta(t,e){return t?.map(n=>new iw(n,e))||[]}function mw(t,e){const n=t.getType(Et);if(n.length>0&&!e)et({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{const i=[];for(const s of n){const r=e.find(a=>a.payload?.musicFormBooleanChoice?.id===s.form_item_entity_key)?.payload.musicFormBooleanChoice;r?.selected!==void 0&&r?.opaqueToken?s.selected=r.selected:i.push(`'${s.title}'`)}i.length>0&&et({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:n.length,failed:i.length,titles:i})}if(e){const i=e.filter(s=>s.payload?.macroMarkersListEntity&&s.payload.macroMarkersListEntity.markersList?.markerType==="MARKER_TYPE_HEATMAP");for(const s of i){const o=new no(s.payload.macroMarkersListEntity),r=t.get("MacroMarkersListEntity");r?r.push(o):t.set("MacroMarkersListEntity",[o])}}}function _w(t,e){const n=t.getType(Un);if(n.length>0){e||et({error_type:"mutation_data_missing",classname:"CommentView"});for(const i of n){const s=e.find(l=>l.payload?.commentEntityPayload?.key===i.keys.comment)?.payload?.commentEntityPayload,o=e.find(l=>l.payload?.engagementToolbarStateEntityPayload?.key===i.keys.toolbar_state)?.payload?.engagementToolbarStateEntityPayload,r=e.find(l=>l.entityKey===i.keys.toolbar_surface)?.payload?.engagementToolbarSurfaceEntityPayload,a=e.find(l=>l.payload?.commentSurfaceEntityPayload?.key===i.keys.comment_surface)?.payload?.commentSurfaceEntityPayload;i.applyMutations(s,o,r,a)}}}class bw{#e;contents;constructor(e){if(this.#e=J(e.data),!this.#e.contents)throw new _("Page contents not found");const n=this.#e.contents.array().as(xu)[0];if(!n)throw new _("Account section list not found");this.contents=n.contents[0]}get page(){return this.#e}}class ie{#e;#t;#n;#s;constructor(e,n,i=!1){this.#i(n)||i?this.#e=n:this.#e=J(n.data);const s=qw(this.#e.contents_memo,this.#e.continuation_contents_memo,this.#e.on_response_received_commands_memo,this.#e.on_response_received_endpoints_memo,this.#e.on_response_received_actions_memo,this.#e.sidebar_memo,this.#e.header_memo);if(!s)throw new _("No memo found in feed");this.#n=s,this.#t=e}#i(e){return!("data"in e)}static getVideosFromMemo(e){return e.getType(Ns,vd,po,yo,Os,ho,Jt,af)}static getPlaylistsFromMemo(e){const n=e.getType(an,Td),i=e.getType(ih).filter(s=>["PLAYLIST","ALBUM","PODCAST"].includes(s.content_type));return i.length>0&&n.push(...i),n}get videos(){return ie.getVideosFromMemo(this.#n)}get posts(){return this.#n.getType(li,fo,Gh)}get channels(){return this.#n.getType(Pl,kd)}get playlists(){return ie.getPlaylistsFromMemo(this.#n)}get memo(){return this.#n}get page_contents(){const e=this.#n.getType(Te)?.[0].content,n=this.#n.getType(Bt)[0],i=this.#n.getType(nt)[0];return e||n||i}get shelves(){return this.#n.getType(go,qh,Us)}getShelf(e){return this.shelves.find(n=>n.title.toString()===e)}get secondary_contents(){if(!this.#e.contents?.is_node)return null;const e=this.#e.contents?.item();return e.is(ln,sf)?e.secondary_contents:null}get actions(){return this.#t}get page(){return this.#e}get has_continuation(){return this.#o().length>0}async getContinuationData(){if(this.#s){if(this.#s.length===0)throw new _("There are no continuations.");return await this.#s[0].endpoint.call(this.#t,{parse:!0})}if(this.#s=this.#o(),this.#s)return this.getContinuationData()}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new ie(this.actions,e,!0)}#o(){if(this.#e.header_memo){const e=this.#e.header_memo.getType(G);return this.#n.getType(G).filter(n=>!e.includes(n))}return this.#n.getType(G)}}class Do extends ie{#e;constructor(e,n,i=!1){super(e,n,i)}get filter_chips(){if(this.#e)return this.#e||[];if(this.memo.getType(_t)?.length>1)throw new _("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(this.memo.getType(_t)?.length===0)throw new _("There are no feed filter chipbars");return this.#e=this.memo.getType(_e),this.#e||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){let n;if(typeof e=="string"){if(!this.filters.includes(e))throw new _("Filter not found",{available_filters:this.filters});n=this.filter_chips.find(s=>s.text.toString()===e)}else if(e.type==="ChipCloudChip")n=e;else throw new _("Invalid filter");if(!n)throw new _("Filter not found");if(n.is_selected)return this;const i=await n.endpoint?.call(this.actions,{parse:!0});if(!i)throw new _("Failed to get filtered feed");return new ie(this.actions,i,!0)}}class ki{#e;#t;#n;#s;basic_info;annotations;storyboards;endscreen;captions;cards;streaming_data;playability_status;player_config;constructor(e,n,i){this.#t=n;const s=J(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),o=e[1]?.data?J(e[1].data):void 0;if(this.#e=[s,o],this.#n=i,s.playability_status?.status==="ERROR")throw new _("This video is unavailable",s.playability_status);if(s.microformat&&!s.microformat?.is(Ve,At))throw new _("Unsupported microformat",s.microformat);this.basic_info={...s.video_details,embed:s.microformat?.is(Ve)?s.microformat?.embed:null,channel:s.microformat?.is(Ve)?s.microformat?.channel:null,is_unlisted:s.microformat?.is_unlisted,is_family_safe:s.microformat?.is_family_safe,category:s.microformat?.is(Ve)?s.microformat?.category:null,has_ypc_metadata:s.microformat?.is(Ve)?s.microformat?.has_ypc_metadata:null,start_timestamp:s.microformat?.is(Ve)?s.microformat.start_timestamp:null,end_timestamp:s.microformat?.is(Ve)?s.microformat.end_timestamp:null,view_count:s.microformat?.is(Ve)&&isNaN(s.video_details?.view_count)?s.microformat.view_count:s.video_details?.view_count,url_canonical:s.microformat?.is(At)?s.microformat?.url_canonical:null,tags:s.microformat?.is(At)?s.microformat?.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=s.annotations,this.storyboards=s.storyboards,this.endscreen=s.endscreen,this.captions=s.captions,this.cards=s.cards,this.streaming_data=s.streaming_data,this.playability_status=s.playability_status,this.player_config=s.player_config,this.#s=s.playback_tracking}async toDash(e={}){const n=this.#e[0],i=e.manifest_options||{};if(n.video_details&&n.video_details.is_live)throw new _("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let s,o;return i.include_thumbnails&&n.storyboards&&(s=n.storyboards),typeof i.captions_format=="string"&&n.captions?.caption_tracks&&(o=n.captions.caption_tracks),ym(this.streaming_data,this.page[0].video_details?.is_post_live_dvr,e.url_transformer,e.format_filter,this.#n,this.#t.session.player,this.#t,s,o,i)}getStreamingInfo(e,n){return Ic(this.streaming_data,this.page[0].video_details?.is_post_live_dvr,e,n,this.cpn,this.#t.session.player,this.#t,this.#e[0].storyboards?this.#e[0].storyboards:void 0)}chooseFormat(e){return vc(e,this.streaming_data)}async download(e={}){const n=this.#e[0];if(n.video_details&&(n.video_details.is_live||n.video_details.is_post_live_dvr))throw new _("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return wm(e,this.#t,this.playability_status,this.streaming_data,this.#t.session.player,this.cpn)}async getTranscript(){const e=this.page[1];if(!e)throw new _("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new _("Engagement panels not found. Video likely has no transcript.");const n=e.engagement_panels.find(o=>o.panel_identifier==="engagement-panel-searchable-transcript");if(!n)throw new _("Transcript panel not found. Video likely has no transcript.");const i=n.content?.as(G);if(!i)throw new _("Transcript continuation not found.");const s=await i.endpoint.call(this.actions);return new No(this.actions,s)}async addToWatchHistory(e,n,i="https://www."){if(!this.#s)throw new _("Playback tracking not available");const s={cpn:this.#n,fmt:251,rtn:0,rt:0},o=this.#s.videostats_playback_url.replace("https://s.",i);return await this.#t.stats(o,{client_name:e||M.WEB.NAME,client_version:n||M.WEB.VERSION},s)}async updateWatchTime(e,n=M.WEB.NAME,i=M.WEB.VERSION,s="https://www."){if(!this.#s)throw new _("Playback tracking not available");const o={cpn:this.#n,st:e.toFixed(3),et:e.toFixed(3),cmt:e.toFixed(3),final:"1"},r=this.#s.videostats_watchtime_url.replace("https://s.",s);return await this.#t.stats(r,{client_name:n,client_version:i},o)}get actions(){return this.#t}get cpn(){return this.#n}get page(){return this.#e}}class Nt extends ie{#e;#t;constructor(e,n,i=!1){super(e,n,i),this.#e=e,this.#t=this.page.contents_memo?.getType(Te)}get tabs(){return this.#t?.map(e=>e.title.toString())??[]}async getTabByName(e){const n=this.#t?.find(s=>s.title.toLowerCase()===e.toLowerCase());if(!n)throw new _(`Tab "${e}" not found`);if(n.selected)return this;const i=await n.endpoint.call(this.#e);return new Nt(this.#e,i,!1)}async getTabByURL(e){const n=this.#t?.find(s=>s.endpoint.metadata.url?.split("/").pop()===e);if(!n)throw new _(`Tab "${e}" not found`);if(n.selected)return this;const i=await n.endpoint.call(this.#e);return new Nt(this.#e,i,!1)}hasTabWithURL(e){return this.#t?.some(n=>n.endpoint.metadata.url?.split("/").pop()===e)??!1}get title(){return this.page.contents_memo?.getType(Te)?.find(e=>e.selected)?.title.toString()}}let gw=class ge extends Nt{header;metadata;subscribe_button;current_tab;constructor(e,n,i=!1){super(e,n,i),this.header=this.page.header?.item()?.as(Wt,El,Md,Dt);const s=this.page.metadata?.item().as(Ml),o=this.page.microformat?.as(At);if(this.page.alerts){const r=this.page.alerts[0];if(r?.alert_type==="ERROR")throw new Uw(r.text.toString())}if(!s&&!this.page.contents)throw new _("Invalid channel",this);this.metadata={...s,...o||{}},this.subscribe_button=this.page.header_memo?.getType(je)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(ln).tabs.find(r=>r.selected))}async applyFilter(e){let n;const i=this.memo.getType(_t)[0];if(typeof e=="string"){if(n=i?.contents.find(o=>o.text===e),!n)throw new _(`Filter ${e} not found`,{available_filters:this.filters})}else n=e;if(!n.endpoint)throw new _("Invalid filter",e);const s=await n.endpoint.call(this.actions,{parse:!0});if(!s)throw new _("No page returned",{filter:n});return new Kn(this.actions,s,!0)}async applySort(e){const n=this.memo.getType(ft)[0];if(!n||!n.sub_menu_items)throw new _("No sort filter sub menu found");const i=n.sub_menu_items.find(o=>o.title===e);if(!i)throw new _(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(i.selected)return this;const s=await i.endpoint.call(this.actions,{parse:!0});return new ge(this.actions,s,!0)}async applyContentTypeFilter(e){const n=this.current_tab?.content?.as(Q).sub_menu?.as(Wi);if(!n)throw new _("Sub menu not found");const i=n.content_type_sub_menu_items.find(o=>o.title===e);if(!i)throw new _(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(i.selected)return this;const s=await i.endpoint.call(this.actions,{parse:!0});return new ge(this.actions,s,!0)}get filters(){return this.memo.getType(_t)?.[0]?.contents.filterType(_e).map(e=>e.text)||[]}get sort_filters(){return this.memo.getType(ft)[0]?.sub_menu_items?.map(n=>n.title)||[]}get content_type_filters(){return this.current_tab?.content?.as(Q).sub_menu?.as(Wi)?.content_type_sub_menu_items.map(n=>n.title)||[]}async getHome(){const e=await this.getTabByURL("featured");return new ge(this.actions,e.page,!0)}async getVideos(){const e=await this.getTabByURL("videos");return new ge(this.actions,e.page,!0)}async getShorts(){const e=await this.getTabByURL("shorts");return new ge(this.actions,e.page,!0)}async getLiveStreams(){const e=await this.getTabByURL("streams");return new ge(this.actions,e.page,!0)}async getReleases(){const e=await this.getTabByURL("releases");return new ge(this.actions,e.page,!0)}async getPodcasts(){const e=await this.getTabByURL("podcasts");return new ge(this.actions,e.page,!0)}async getCourses(){const e=await this.getTabByURL("courses");return new ge(this.actions,e.page,!0)}async getPlaylists(){const e=await this.getTabByURL("playlists");return new ge(this.actions,e.page,!0)}async getCommunity(){const e=await this.getTabByURL("posts");return new ge(this.actions,e.page,!0)}async getAbout(){if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType($i)[0];const e=this.header?.is(Wt)&&this.header.tagline;if(e||this.header?.is(Dt)&&this.header.content?.description){if(e&&e.more_endpoint instanceof m){const s=await e.more_endpoint.call(this.actions);return new Nt(this.actions,s,!1).memo.getType($i)[0]}const n=this.page.header_memo?.getType(G)[0]?.endpoint;if(!n)throw new _("Failed to extract continuation to get channel about");const i=await n.call(this.actions,{parse:!0});if(!i.on_response_received_endpoints_memo)throw new _("Unexpected response while fetching channel about",{response:i});return i.on_response_received_endpoints_memo.getType(Tu)[0]}throw new _("About not found")}async search(e){const n=this.memo.getType(Fn)?.[0];if(!n)throw new _("Search tab not found",this);const i=await n.endpoint.call(this.actions,{query:e,parse:!0});return new ge(this.actions,i,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("posts")}get has_about(){return this.hasTabWithURL("about")||!!(this.header?.is(Wt)&&this.header.tagline?.more_endpoint)||!!(this.header?.is(Dt)&&this.header.content?.description?.more_endpoint)}get has_search(){return this.memo.getType(Fn)?.length>0}async getContinuation(){const e=await super.getContinuationData();if(!e)throw new _("Could not get continuation data");return new Ro(this.actions,e,!0)}};class Ro extends ie{contents;constructor(e,n,i=!1){super(e,n,i),this.contents=this.page.on_response_received_actions?.[0]||this.page.on_response_received_endpoints?.[0]}async getContinuation(){const e=await super.getContinuationData();if(!e)throw new _("Could not get continuation data");return new Ro(this.actions,e,!0)}}class Kn extends Do{applied_filter;contents;constructor(e,n,i=!1){super(e,n,i),this.applied_filter=this.memo.getType(_e).find(s=>s.is_selected),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions?.[0]}async applyFilter(e){const n=await super.getFilteredFeed(e);return new Kn(this.actions,n.page,!0)}async getContinuation(){const e=await super.getContinuationData();if(!e?.on_response_received_actions_memo)throw new _("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(_t)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(_e)),new Kn(this.actions,e,!0)}}class Xt{#e;#t;#n;header;contents;constructor(e,n,i=!1){this.#e=i?n:J(n),this.#t=e;const s=this.#e.on_response_received_endpoints;if(!s)throw new _("Comments page did not have any content.");const o=s.at(0)?.as(nt,Bt),r=s.at(1)?.as(nt,Bt);this.header=o?.contents?.firstOfType(pi);const a=r?.contents?.filterType(Ql)||[];this.contents=q(a.map(l=>(l.comment&&l.comment.setActions(this.#t),l.setActions(this.#t),l))),this.#n=r?.contents?.firstOfType(G)}async applySort(e){if(!this.header)throw new _("Page header is missing. Cannot apply sort option.");let n;if(e==="TOP_COMMENTS"?n=this.header.sort_menu?.sub_menu_items?.at(0):e==="NEWEST_FIRST"&&(n=this.header.sort_menu?.sub_menu_items?.at(1)),!n)throw new _("Could not find target button.");if(n.selected)return this;const i=await n.endpoint.call(this.#t,{parse:!0});return new Xt(this.#t,i,!0)}async createComment(e){if(!this.header)throw new _("Page header is missing. Cannot create comment.");const n=this.header.create_renderer?.as(Jl).submit_button;if(!n)throw new _("Could not find target button. You are probably not logged in.");if(!n.endpoint)throw new _("Button does not have an endpoint.");return await n.endpoint.call(this.#t,{commentText:e})}async getContinuation(){if(!this.#n)throw new _("Continuation not found");const e=await this.#n.endpoint.call(this.#t,{parse:!0}),n=Object.assign({},this.#e);if(!n.on_response_received_endpoints||!e.on_response_received_endpoints)throw new _("Invalid reponse format, missing on_response_received_endpoints.");return n.on_response_received_endpoints.pop(),n.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Xt(this.#t,n,!0)}get has_continuation(){return!!this.#n}get page(){return this.#e}}class yw{#e;contents;constructor(e){this.#e=J(e),this.#e.items&&(this.contents=this.#e.items.array().as(Zs,xd))}get page(){return this.#e}}class Ti extends ie{sections;feed_actions;constructor(e,n,i=!1){super(e,n,i),this.sections=this.memo.getType(Se),this.feed_actions=this.memo.getType(Bs)[0]}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Ti(this.actions,e,!0)}async removeVideo(e,n=1){let i=n,s=this;for(;i>0;){let o;for(const r of s.sections){for(const a of r.contents){const l=a;if(l.video_id===e&&l.menu){o=l.menu.top_level_buttons[0].as(E).endpoint.payload.feedbackToken;break}}if(o)break}if(o){const r={feedbackTokens:[o]};if(!(await this.actions.execute("/feedback",r)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}if(--i>0)try{s=await s.getContinuation()}catch{throw new Error("Unable to find video in watch history")}else throw new Error("Unable to find video in watch history")}return!1}}let ww=class ts extends Do{contents;header;constructor(e,n,i=!1){super(e,n,i),this.header=this.memo.getType(gd)[0],this.contents=this.memo.getType(un)[0]||this.page.on_response_received_actions?.[0]}async applyFilter(e){const n=await super.getFilteredFeed(e);return new ts(this.actions,n.page,!0)}async getContinuation(){const e=await super.getContinuation();return e.page.header=this.page.header,this.header&&e.page.header_memo?.set(this.header.type,[this.header]),new ts(this.actions,e.page,!0)}};class Po extends Do{header;contents;constructor(e,n){if(super(e,n),!this.page.contents_memo)throw new _("Unexpected response",this.page);const i=this.page.contents_memo.getType(Te)[0];if(!i.content)throw new _("Content tab has no content",i);this.page.header&&(this.header=this.page.header.item().as(Sd,Dt)),this.contents=i.content.as(un)}async applyFilter(e){const n=await super.getFilteredFeed(e);return new Po(this.actions,n.page)}}class kw{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=n;const i=e?.live_chat_item_context_menu_supported_renderers;if(!i||!i.is(Y))throw new _('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');this.#n=i.as(Y).items}async selectItem(e){let n;if(e instanceof E){if(!e.endpoint)throw new _("Item does not have an endpoint.");n=e.endpoint}else{const i=this.#n.find(s=>s.is(St)?s.as(St).icon_type===e:!1);if(!i||!i.is(St))throw new _(`Button "${e}" not found.`);n=i.endpoint}if(!n)throw new _("Target button does not have an endpoint.");return await n.call(this.#t,{parse:!0})}items(){return this.#n}page(){return this.#e}}let Mo=class vf extends ie{info;menu;endpoint;messages;constructor(e,n,i=!1){super(e,n,i);const s=this.memo.getType(Mh)[0],o=this.memo.getType(Lh)[0],r=this.memo.getType(Nh)[0],a=this.memo.getType(Oh)[0],l=this.page.alerts?.firstOfType(Es);if(l&&l.alert_type==="ERROR")throw new _(l.text.toString(),l);if(!o&&!r&&Object.keys(this.page).length===0)throw new _("Got empty continuation response. This is likely the end of the playlist.");this.info={...this.page.metadata?.item().as(Bh),subtitle:s?s.subtitle:null,author:r?.owner?.as(ko).author??s?.author,thumbnails:o?.thumbnail_renderer?.as(js,Hs).thumbnail,total_items:this.#e(0,o),views:this.#e(1,o),last_updated:this.#e(2,o),can_share:s?.can_share,can_delete:s?.can_delete,can_reorder:a?.can_reorder,is_editable:a?.is_editable,privacy:s?.privacy},this.menu=o?.menu,this.endpoint=o?.endpoint,this.messages=this.memo.getType(He)}get items(){return q(this.videos.as(ho,po,yo).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){const e=this.memo.getType(Q)[0];return e?!!this.memo.getType(G).find(n=>!e.contents.includes(n)):super.has_continuation}async getContinuationData(){const e=this.memo.getType(Q)[0];if(!e)return await super.getContinuationData();const n=this.memo.getType(G).find(i=>!e.contents.includes(i));if(!n)throw new _("There are no continuations.");return await n.endpoint.call(this.actions,{parse:!0})}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new vf(this.actions,e,!0)}#e(e,n){return!n||!n.stats?"N/A":n.stats[e]?.toString()||"N/A"}},Tw=class extends ie{header;sections;constructor(e,n){if(super(e,n),!this.page.contents_memo)throw new _("Page contents not found");this.header=this.memo.getType(Dt)[0];const i=this.page.contents_memo.getType(go);this.sections=i.map(s=>({type:s.icon_type,title:s.title,contents:s.content?.key("items").array()||[],getAll:()=>this.#e(s)}))}async#e(e){if(!e.menu?.as(Y).top_level_buttons)throw new _(`The ${e.title.text} shelf doesn't have more items`);const n=e.menu.as(Y).top_level_buttons.firstOfType(E);if(!n)throw new _("Did not find target button.");const i=await n.as(E).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Mo(this.actions,i,!0);case"WATCH_HISTORY":return new Ti(this.actions,i,!0);case"CONTENT_CUT":return new ie(this.actions,i,!0);default:throw new _("Target shelf not implemented.")}}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};function Cw(t){const e=[];for(const n of t)if(Array.isArray(n))for(const i of n)e.push(i);else e.push(n);return e}class Iw{front;back;constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}}class vw{#e;#t;#n;#s;#i;#o;constructor(){this.#e=null,this.#t=null,this.#n=null,this.#s=[],this.#i=null,this.#o=new Iw}enqueueActionGroup(e){if(this.#e!==null){const n=Date.now()-this.#e;this.#o.back.push(n),5<this.#o.front.length+this.#o.back.length&&(this.#o.front.length||(this.#o.front=this.#o.back,this.#o.front.reverse(),this.#o.back=[]),this.#o.front.pop()),this.#t=Math.max(...this.#o.getValues())}this.#e=Date.now(),this.#s.push(e),this.#i===null&&(this.#i=setTimeout(this.emitSmoothedActions.bind(this)))}emitSmoothedActions(){if(this.#i=null,this.#s.length){let e=1e4;this.#t!==null&&this.#e!==null&&(e=this.#t-Date.now()+this.#e),e=this.#s.length<e/80?1:Math.ceil(this.#s.length/(e/80));const n=Cw(this.#s.splice(0,e));this.#n&&this.#n(n),this.#s!==null&&(e==1?(e=this.#t/this.#s.length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,this.#i=setTimeout(this.emitSmoothedActions.bind(this),e))}}clear(){this.#i!==null&&(clearTimeout(this.#i),this.#i=null),this.#s=[]}set callback(e){this.#n=e}get callback(){return this.#n}get action_queue(){return this.#s}get estimated_update_interval(){return this.#t}get last_update_time(){return this.#e}get next_update_id(){return this.#i}get poll_response_delay_queue(){return this.#o}}class xw extends gc{#e;#t;#n;#s;#i;#o=0;smoothed_queue;initial_info;metadata;running=!1;is_replay=!1;constructor(e){super(),this.#t=e.basic_info.id,this.#n=e.basic_info.channel_id,this.#e=e.actions,this.#s=e.livechat?.continuation,this.is_replay=e.livechat?.is_replay||!1,this.smoothed_queue=new vw,this.smoothed_queue.callback=async n=>{n.length?n.length<10?await this.#a(n):this.is_replay?(this.#a(n),await this.#c(2e3)):this.#a(n):await this.#c(2e3),this.running&&this.#r()}}on(e,n){super.on(e,n)}once(e,n){super.once(e,n)}start(){this.running||(this.running=!0,this.#r(),this.#u())}stop(){this.smoothed_queue.clear(),this.running=!1}#r(){(async()=>{try{const e=await this.#e.execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:this.#s,parse:!0}),n=e.continuation_contents;if(n||(this.emit("error",new _("Unexpected live chat incremental continuation response",e)),this.emit("end"),this.stop()),!(n instanceof Tf)){this.stop(),this.emit("end");return}this.#s=n.continuation.token,n.header?(this.initial_info=n,this.emit("start",n),this.running&&this.#r()):this.smoothed_queue.enqueueActionGroup(n.actions),this.#o=0}catch(e){this.emit("error",e),this.#o++<10?(await this.#c(2e3),this.#r()):(this.emit("error",new _("Reached retry limit for incremental continuation requests",e)),this.emit("end"),this.stop())}})()}async#a(e){let i=e.length<125?1:Math.ceil(e.length/125);const s=i==1?(i=1e4/e.length,i*=Math.random()+.5,i=Math.min(1e3,i),i=Math.max(80,i)):i=80;for(const o of e)await this.#c(s),this.emit("chat-update",o)}#u(){(async()=>{try{const e={videoId:this.#t};this.#i&&(e.continuation=this.#i);const n=await this.#e.execute("/updated_metadata",e),i=J(n.data);this.#i=i.continuation?.token,this.metadata={title:i.actions?.array().firstOfType(Gd)||this.metadata?.title,description:i.actions?.array().firstOfType(zd)||this.metadata?.description,views:i.actions?.array().firstOfType(Xd)||this.metadata?.views,likes:i.actions?.array().firstOfType(Jd)||this.metadata?.likes,date:i.actions?.array().firstOfType(Kd)||this.metadata?.date},this.emit("metadata-update",this.metadata),await this.#c(5e3),this.running&&this.#u()}catch{await this.#c(2e3),this.running&&this.#u()}})()}async sendMessage(e){const n=Km.encode({params:{ids:{videoId:this.#t,channelId:this.#n}},number0:1,number1:4}),i=btoa(encodeURIComponent(we(n.finish()))),s=await this.#e.execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:K.shim.uuidv4(),client:"WEB",parse:!0,params:i});if(!s.actions)throw new _("Unexpected response from send_message",s);return s.actions.array().as(Ud,jl)}applyFilter(e){if(!this.initial_info)throw new _("Cannot apply filter before initial info is retrieved.");const n=this.initial_info?.header?.view_selector?.sub_menu_items;if(e==="TOP_CHAT"){if(n?.at(0)?.selected)return;this.#s=n?.at(0)?.continuation}else{if(n?.at(1)?.selected)return;this.#s=n?.at(1)?.continuation}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(m))throw new _("This item does not have a menu.",e);const n=await e.key("menu_endpoint").instanceof(m).call(this.#e,{parse:!0});if(!n)throw new _("Could not retrieve item menu.",e);return new kw(n,this.#e)}async selectButton(e){return await e.endpoint.call(this.#e,{parse:!0})}async#c(e){return new Promise(n=>setTimeout(()=>n(),e))}}class Bo{#e;#t;header;contents;constructor(e,n){if(this.#t=e,this.#e=J(n.data),!this.#e.actions_memo)throw new _("Page actions not found");this.header=this.#e.actions_memo.getType(ah)[0],this.contents=this.#e.actions_memo.getType(io)}async getContinuation(){const e=this.#e.actions_memo?.getType(G)[0];if(!e)throw new _("Continuation not found");const n=await e.endpoint.call(this.#t,{parse:!1});return new Bo(this.#t,n)}get page(){return this.#e}}let Sw=class ns extends ie{header;results;refinements;estimated_results;sub_menu;watch_card;refinement_cards;constructor(e,n,i=!1){super(e,n,i);const s=this.page.contents_memo?.getType(Q)[0].contents||this.page.on_response_received_commands?.[0].as(nt,Bt).contents;if(!s)throw new _("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(jh)),this.results=q(s.filterType(Se).flatMap(o=>o.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType($h)[0],this.watch_card=this.page.contents_memo.getType(_o)[0]),this.refinement_cards=this.results?.firstOfType(hi)}async selectRefinementCard(e){let n;if(typeof e=="string"){if(!this.refinement_cards)throw new _("No refinement cards found.");if(n=this.refinement_cards?.cards.find(s=>s.is(On)&&s.query===e),!n)throw new _(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")n=e;else throw new _("Invalid refinement card!");const i=await n.endpoint.call(this.actions,{parse:!0});return new ns(this.actions,i,!0)}get refinement_card_queries(){return this.refinement_cards?.cards.as(On).map(e=>e.query)||[]}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new ns(this.actions,e,!0)}};class Lo{#e;#t;sidebar;introduction;sections;constructor(e,n){if(this.#t=e,this.#e=J(n.data),this.sidebar=this.#e.sidebar?.as(zh),!this.#e.contents)throw new _("Page contents not found");const i=this.#e.contents.item().as(ln).tabs.find(o=>o.selected);if(!i)throw new _("Target tab not found");const s=i.content?.as(Q).contents.as(Se);this.introduction=s?.shift()?.contents?.firstOfType(Ih),this.sections=s?.map(o=>({title:o.header?.is(pi,eo,to)?o.header.title.toString():null,contents:o.contents}))}async selectSidebarItem(e){if(!this.sidebar)throw new _("Sidebar not available");let n;if(typeof e=="string"){if(n=this.sidebar.items.find(s=>s.title===e),!n)throw new _(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e?.is(on))n=e;else throw new _("Invalid item",{target_item:e});const i=await n.endpoint.call(this.#t,{parse:!1});return new Lo(this.#t,i)}getSettingOption(e){if(!this.sections)throw new _("Sections not available");for(const n of this.sections)if(n.contents)for(const i of n.contents){const s=i.as(Dn).options;if(s){for(const o of s)if(o.is(bo)&&o.title?.toString()===e)return o}}throw new _(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new _("Sections not available");let e=[];for(const n of this.sections)if(n.contents)for(const i of n.contents)i.as(Dn).options&&(e=e.concat(i.as(Dn).options));return e.map(n=>n.title?.toString()).filter(n=>n)}get sidebar_items(){if(!this.sidebar)throw new _("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return this.#e}}let zn=class xf extends ki{primary_info;secondary_info;playlist;game_info;merchandise;related_chip_cloud;watch_next_feed;player_overlays;comments_entry_point_header;livechat;autoplay;heat_map;#e;constructor(e,n,i){super(e,n,i);const[s,o]=this.page;if(this.streaming_data){const f=this.streaming_data.adaptive_formats.find(d=>d.audio_track?.audio_is_default);if(f)this.streaming_data.formats.forEach(d=>d.language=f.language);else if(this.captions?.caption_tracks&&this.captions?.caption_tracks.length>0){const p=this.captions.caption_tracks.find(b=>b.kind==="asr")?.language_code;this.streaming_data.adaptive_formats.forEach(b=>{b.has_audio&&(b.language=p)}),this.streaming_data.formats.forEach(b=>b.language=p)}}const r=o?.contents?.item().as(wo),a=r?.results,l=r?.secondary_results;if(a&&l){if(s.microformat?.is(Ve)&&s.microformat?.category==="Gaming"){const g=a.firstOfType(Qi)?.metadata?.rows?.firstOfType(Xi);g?.is(Xi)&&(this.game_info={title:g?.contents?.firstOfType(Ji)?.title,release_year:g?.contents?.firstOfType(Ji)?.subtitle})}this.primary_info=a.firstOfType(rf),this.secondary_info=a.firstOfType(Qi),this.merchandise=a.firstOfType(ch),this.related_chip_cloud=l.firstOfType(Fh)?.content.as(mt),r?.playlist&&(this.playlist=r.playlist),this.watch_next_feed=l.firstOfType(Se)?.contents||l,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&this.watch_next_feed.at(-1)?.is(G)&&(this.#e=this.watch_next_feed.pop()?.as(G)),this.player_overlays=o?.player_overlays?.item().as(gi),r?.autoplay&&(this.autoplay=r.autoplay);const f=this.primary_info?.menu?.top_level_buttons.firstOfType(Ht);f?.like_button?.is(ue)&&f?.dislike_button?.is(ue)&&(this.basic_info.like_count=f?.like_button?.like_count,this.basic_info.is_liked=f?.like_button?.is_toggled,this.basic_info.is_disliked=f?.dislike_button?.is_toggled);const d=this.primary_info?.menu?.top_level_buttons.firstOfType(Tt);if(d&&(this.basic_info.like_count=d.like_count,d.like_button)){const g=d.like_button.like_status_entity.like_status;this.basic_info.is_liked=g==="LIKE",this.basic_info.is_disliked=g==="DISLIKE"}const p=a.find(g=>g.is(Se)&&g.target_id==="comments-entry-point");this.comments_entry_point_header=p?.contents?.firstOfType(Gl),this.livechat=o?.contents_memo?.getType(Nd)[0];const b=this.page[1]?.contents_memo?.getType(no);let w=null;if(b){const g=b.find(I=>I.isHeatmap());if(g)try{w=g.toHeatmap()}catch{}}this.heat_map=w}}async selectFilter(e){if(!this.related_chip_cloud)throw new _("Chip cloud not found, cannot apply filter");let n;if(typeof e=="string"){const o=this.related_chip_cloud?.chips?.find(r=>r.text===e);if(!o)throw new _("Invalid filter",{available_filters:this.filters});n=o}else if(e?.is(_e))n=e;else throw new _("Invalid cloud chip",e);if(n.is_selected)return this;const s=(await n.endpoint?.call(this.actions,{parse:!0}))?.on_response_received_endpoints?.find(o=>o.is(Bt)&&o.target_id==="watch-next-feed");return this.watch_next_feed=s?.contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async updateWatchTime(e){return super.updateWatchTime(e)}async getWatchNextContinuation(){if(!this.#e)throw new _("Watch next feed continuation not found");const n=(await this.#e?.endpoint.call(this.actions,{parse:!0}))?.on_response_received_endpoints?.firstOfType(nt);if(!n)throw new _("AppendContinuationItemsAction not found");return this.watch_next_feed=n?.contents,this.watch_next_feed?.at(-1)?.is(G)?this.#e=this.watch_next_feed.pop()?.as(G):this.#e=void 0,this}async like(){const e=this.primary_info?.menu?.top_level_buttons.firstOfType(Tt);if(e){const s=e?.like_button?.toggle_button;if(!s||!s.default_button||!e.like_button)throw new _("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new _("This video is already liked",{video_id:this.basic_info.id});if(!s.default_button.on_tap)throw new _("onTap command not found",{video_id:this.basic_info.id});return await new m(s.default_button.on_tap.payload.commands.find(a=>a.innertubeCommand)).call(this.actions)}const i=this.primary_info?.menu?.top_level_buttons.firstOfType(Ht)?.like_button;if(!i)throw new _("Like button not found",{video_id:this.basic_info.id});if(!i.is(ue))throw new _("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(i.is_toggled)throw new _("This video is already liked",{video_id:this.basic_info.id});return await i.endpoint.call(this.actions)}async dislike(){const e=this.primary_info?.menu?.top_level_buttons.firstOfType(Tt);if(e){const s=e?.dislike_button?.toggle_button;if(!s||!s.default_button||!e.dislike_button||!e.like_button)throw new _("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new _("This video is already disliked",{video_id:this.basic_info.id});if(!s.default_button.on_tap)throw new _("onTap command not found",{video_id:this.basic_info.id});return await new m(s.default_button.on_tap.payload.commands.find(a=>a.innertubeCommand)).call(this.actions)}const i=this.primary_info?.menu?.top_level_buttons.firstOfType(Ht)?.dislike_button;if(!i)throw new _("Dislike button not found",{video_id:this.basic_info.id});if(!i.is(ue))throw new _("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(i.is_toggled)throw new _("This video is already disliked",{video_id:this.basic_info.id});return await i.endpoint.call(this.actions)}async removeRating(){let e;const n=this.primary_info?.menu?.top_level_buttons.firstOfType(Tt);if(n){const r=n?.like_button?.toggle_button;if(!r||!r.default_button||!n.like_button)throw new _("Like button not found",{video_id:this.basic_info.id});const a=n.like_button.like_status_entity.like_status;if(a==="LIKE")e=n?.like_button?.toggle_button;else if(a==="DISLIKE")e=n?.dislike_button?.toggle_button;else throw new _("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new _("Like/Dislike button not found",{video_id:this.basic_info.id});if(!e.toggled_button.on_tap)throw new _("onTap command not found",{video_id:this.basic_info.id});return await new m(e.toggled_button.on_tap.payload.commands.find(f=>f.innertubeCommand)).call(this.actions)}const i=this.primary_info?.menu?.top_level_buttons.firstOfType(Ht),s=i?.like_button,o=i?.dislike_button;if(!s?.is(ue)||!o?.is(ue))throw new _("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s?.is_toggled?e=s:o?.is_toggled&&(e=o),!e)throw new _("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new _("Live Chat is not available",{video_id:this.basic_info.id});return new xw(this)}getTrailerInfo(){if(this.has_trailer&&this.playability_status?.error_screen){let e;if(this.playability_status.error_screen.is(Gi)?e=this.playability_status.error_screen.trailer?.player_response:this.playability_status.error_screen.is($n)&&(e=this.playability_status.error_screen.player_response),e)return new xf([{data:e}],this.actions,this.cpn)}return null}get filters(){return this.related_chip_cloud?.chips?.map(e=>e.text?.toString())||[]}get wn_has_continuation(){return!!this.#e}get autoplay_video_endpoint(){return this.autoplay?.sets?.[0]?.autoplay_video||null}get has_trailer(){return!!this.playability_status?.error_screen?.is(Gi,$n)}get music_tracks(){const e=this.page[1]?.engagement_panels?.filter(n=>n.content?.is(Vn));if(e!==void 0&&e.length>0){const n=e[0].content?.as(Vn)?.items?.filterType(Vs);if(n!==void 0&&n.length>0)return n[0].carousel_lockups?.map(i=>{let s,o,r,a,l,f;s=i.video_lockup?.title?.toString(),l=i.video_lockup?.endpoint?.payload.videoId;for(let d=0;d<i.info_rows.length;d++){const p=i.info_rows[d];p.info_row_expand_status_key===void 0?s===void 0?(s=p.default_metadata?.toString()||p.expanded_metadata?.toString(),l===void 0&&(l=(p.default_metadata?.endpoint||p.expanded_metadata?.endpoint)?.payload?.videoId)):r=p.default_metadata?.toString()||p.expanded_metadata?.toString():(p.info_row_expand_status_key?.indexOf("structured-description-music-section-artists-row-state-id")!==-1&&(o=p.default_metadata?.toString()||p.expanded_metadata?.toString(),f===void 0&&(f=(p.default_metadata?.endpoint||p.expanded_metadata?.endpoint)?.payload?.browseId)),p.info_row_expand_status_key?.indexOf("structured-description-music-section-licenses-row-state-id")!==-1&&(a=p.default_metadata?.toString()||p.expanded_metadata?.toString()))}return{song:s,artist:o,album:r,license:a,videoId:l,channelId:f}})}return[]}};class No{#e;#t;transcript;constructor(e,n){if(this.#e=J(n.data),this.#t=e,!this.#e.actions_memo)throw new Error("Page actions not found");this.transcript=this.#e.actions_memo.getType(Ss)[0]}async selectLanguage(e){const n=this.transcript.content?.footer?.language_menu?.sub_menu_items?.find(s=>s.title.toString()===e);if(!n)throw new Error(`Language not found: ${e}`);if(n.selected)return this;const i=await this.#t.execute("/get_transcript",{params:n.continuation});return new No(this.#t,i)}get languages(){return this.transcript.content?.footer?.language_menu?.sub_menu_items?.map(e=>e.title.toString())||[]}get selectedLanguage(){return this.transcript.content?.footer?.language_menu?.sub_menu_items?.find(e=>e.selected)?.title.toString()||""}get page(){return this.#e}}class Ew{#e;header;contents;sections;background;url;constructor(e){if(this.#e=J(e.data),!this.#e.contents_memo)throw new Error("No contents found in the response");this.header=this.#e.contents_memo.getType(co,lo)?.[0],this.contents=this.#e.contents_memo.getType(de)?.[0].contents||q([]),this.sections=this.#e.contents_memo.getType(Pe)||q([]),this.background=this.#e.background,this.url=this.#e.microformat?.as(At).url_canonical}get page(){return this.#e}}class Aw{#e;#t;header;sections;constructor(e,n){this.#e=J(e.data),this.#t=n,this.header=this.page.header?.item().as(bh,Th,bi);const i=this.#e.contents_memo?.getType(de)||[],s=this.#e.contents_memo?.getType(Pe)||[];this.sections=q([...i,...s])}async getAllSongs(){const e=this.sections.filter(s=>s.type==="MusicShelf");if(!e.length)throw new _("Could not find any node of type MusicShelf.");const n=e.find(s=>s.title?.text==="Top songs");if(!n)throw new _("Could not find target shelf (Top songs).");if(!n.endpoint)throw new _("Target shelf (Top songs) did not have an endpoint.");return(await n.endpoint.call(this.#t,{client:"YTMUSIC",parse:!0})).contents_memo?.getType(jn)?.[0]}get page(){return this.#e}}class Dw{#e;top_buttons;sections;constructor(e){this.#e=J(e.data);const n=this.#e.contents?.item().as(yi).tabs.find(s=>s.selected);if(!n)throw new _("Could not find target tab.");const i=n.content?.as(Q);if(!i)throw new _("Target tab did not have any content.");this.top_buttons=i.contents.firstOfType(qn)?.items.as(ro)||[],this.sections=i.contents.filterType(Pe)}get page(){return this.#e}}let Rw=class is{#e;#t;#n;sections;header;constructor(e,n){this.#t=n,this.#e=J(e.data);const i=this.#e.contents?.item().as(yi).tabs.find(s=>s.selected);if(!i)throw new _("Could not find Home tab.");if(i.content===null){if(!this.#e.continuation_contents)throw new _("Continuation did not have any content.");this.#n=this.#e.continuation_contents.as(Lt).continuation,this.sections=this.#e.continuation_contents.as(Lt).contents?.as(Pe);return}this.header=i.content?.as(Q).header?.as(mt),this.#n=i.content?.as(Q).continuation,this.sections=i.content?.as(Q).contents.as(Pe,kh)}async getContinuation(){if(!this.#n)throw new _("Continuation not found.");const e=await this.#t.execute("/browse",{client:"YTMUSIC",continuation:this.#n});return new is(e,this.#t)}async applyFilter(e){let n;if(typeof e=="string"){if(n=this.header?.chips?.as(_e).find(s=>s.text===e),!n)throw new _("Could not find filter with given name.",{available_filters:this.filters})}else e?.is(_e)&&(n=e);if(!n)throw new _("Invalid filter",{available_filters:this.filters});if(n?.is_selected)return this;if(!n.endpoint)throw new _("Selected filter does not have an endpoint.");const i=await n.endpoint.call(this.#t,{client:"YTMUSIC"});return new is(i,this.#t)}get filters(){return this.header?.chips?.as(_e).map(e=>e.text)||[]}get has_continuation(){return!!this.#n}get page(){return this.#e}};class Oo{#e;#t;#n;header;contents;constructor(e,n){this.#e=J(e.data),this.#t=n;const i=this.#e.contents_memo?.getType(Q)[0];this.header=i?.header?.as(yh),this.contents=i?.contents?.as(qn,de),this.#n=this.contents?.find(s=>s.continuation)?.continuation}async applySort(e){let n;if(typeof e=="string"){const a=this.#e.contents_memo?.getType(zi)[0]?.menu?.options.filter(l=>l instanceof Et);if(n=a?.find(l=>l.title===e),!n)throw new _(`Sort option "${e}" not found`,{available_filters:a.map(l=>l.title)})}else n=e;if(!n.endpoint)throw new _("Invalid sort option");if(n.selected)return this;const i=n.endpoint.payload?.commands?.find(r=>r.browseSectionListReloadEndpoint)?.browseSectionListReloadEndpoint;if(!i)throw new _("Failed to find sort option command");const s=await this.#t.execute("/browse",{client:"YTMUSIC",continuation:i.continuation.reloadContinuationData.continuation,parse:!0}),o=this.#e.contents_memo?.getType(Et)?.find(r=>r.selected);return o&&(o.selected=!1),n.selected=!0,this.contents=s.continuation_contents?.as(Lt).contents?.as(qn,de),this}async applyFilter(e){let n;const i=this.#e.contents_memo?.getType(mt)[0];if(typeof e=="string"){if(n=i?.chips.find(r=>r.text===e),!n)throw new _(`Filter "${e}" not found`,{available_filters:this.filters})}else n=e;if(!n.endpoint)throw new _("Invalid filter",e);const o=await new m(n.endpoint.payload?.commands?.[0]).call(this.#t,{client:"YTMUSIC"});return new Oo(o,this.#t)}async getContinuation(){if(!this.#n)throw new _("No continuation available");const e=await this.#t.execute("/browse",{client:"YTMUSIC",continuation:this.#n});return new Vo(e,this.#t)}get has_continuation(){return!!this.#n}get sort_options(){return(this.#e.contents_memo?.getType(zi)[0]?.menu?.options.filter(i=>i instanceof Et)).map(i=>i.title)}get filters(){return this.#e.contents_memo?.getType(mt)?.[0].chips.map(e=>e.text)||[]}get page(){return this.#e}}class Vo{#e;#t;#n;contents;constructor(e,n){if(this.#e=J(e.data),this.#t=n,!this.#e.continuation_contents)throw new _("No continuation contents found");this.contents=this.#e.continuation_contents.as(So,yf),this.#n=this.contents.continuation||null}async getContinuation(){if(!this.#n)throw new _("No continuation available");const e=await this.#t.execute("/browse",{client:"YTMUSIC",continuation:this.#n});return new Vo(e,this.#t)}get has_continuation(){return!!this.#n}get page(){return this.#e}}class Ci{#e;#t;#n;header;contents;background;#s;#i;constructor(e,n){if(this.#t=n,this.#e=J(e.data),this.#s=null,this.#i=null,this.#e.continuation_contents){const i=this.#e.continuation_contents?.as(gf);if(!i.contents)throw new _("No contents found in the response");this.contents=i.contents.as(tt,G);const s=this.contents.firstOfType(G);this.#n=i.continuation||s}else if(this.#e.contents_memo){this.header=this.#e.contents_memo.getType(lo,_h,co)?.[0],this.contents=this.#e.contents_memo.getType(jn)?.[0]?.contents.as(tt,G)||q([]),this.background=this.#e.background;const i=this.contents.firstOfType(G);this.#n=this.#e.contents_memo.getType(jn)?.[0]?.continuation||i}else if(this.#e.on_response_received_actions){const i=this.#e.on_response_received_actions.firstOfType(nt);this.contents=i?.contents?.as(tt,G),this.#n=this.contents?.firstOfType(G)}}async getContinuation(){if(!this.#n)throw new _("Continuation not found.");let e;return typeof this.#n=="string"?e=await this.#t.execute("/browse",{client:"YTMUSIC",continuation:this.#n}):e=await this.#n.endpoint.call(this.#t,{client:"YTMUSIC"}),new Ci(e,this.#t)}async getRelated(){const e=this.#e.contents_memo?.getType(Q).find(i=>i.continuation);if(!e)throw new _('Could not find "Related" section.');let n=e.continuation;for(;n;){const s=(await this.#t.execute("/browse",{client:"YTMUSIC",continuation:n,parse:!0})).continuation_contents?.as(Lt),r=s?.contents?.as(Pe,de)?.find(a=>a.is(Pe))?.as(Pe);if(r)return r;n=s?.continuation}throw new _("Could not fetch related playlists.")}async getSuggestions(e=!0){const s=await(e||!this.#s?this.#o():Promise.resolve(null));return s&&(this.#s=s.items,this.#i=s.continuation),s?.items||this.#s||q([])}async#o(){const e=this.#e.contents_memo?.getType(Q).find(i=>i.continuation),n=this.#i||e?.continuation;if(n){const r=(await this.#t.execute("/browse",{client:"YTMUSIC",continuation:n,parse:!0})).continuation_contents?.as(Lt)?.contents?.as(Pe,de)?.find(a=>a.is(de))?.as(de);return{items:r?.contents||q([]),continuation:r?.continuation||null}}return{items:q([]),continuation:null}}get page(){return this.#e}get items(){return this.contents||q([])}get has_continuation(){return!!this.#n}}class Pw{#e;#t;header;sections;constructor(e,n){this.#e=J(e.data),this.#t=n;const i=this.#e.header?.item();this.header=i?.is(Ki)?this.#e.header?.item().as(Ki).element?.model?.as(Yi):this.#e.header?.item().as(bi);const s=this.#e.contents?.item().as(yi).tabs.firstOfType(Te);if(!s)throw new _("Target tab not found");this.sections=s.content?.as(Q).contents.as(Se,Pe,He)}async getPlaylist(){if(!this.header)throw new _("Header not found");if(!this.header.is(Yi))throw new _("Recap playlist not available, check back later.");const n=await this.header.panels[0].text_on_tap_endpoint.call(this.#t,{client:"YTMUSIC"});return new Ci(n,this.#t)}get page(){return this.#e}}let Mw=class ss{#e;#t;#n;header;contents;constructor(e,n,i){if(this.#t=n,this.#e=J(e.data),!this.#e.contents||!this.#e.contents_memo)throw new _("Response did not contain any contents.");const s=this.#e.contents.item().as(tf).tabs.find(r=>r.selected);if(!s)throw new _("Could not find target tab.");const o=s.content?.as(Q);if(!o)throw new _("Target tab did not have any content.");this.header=o.header?.as(mt),this.contents=o.contents.as(de,dh,Se),i&&(this.#n=this.contents.firstOfType(de)?.continuation)}async getMore(e){if(!e||!e.endpoint)throw new _("Cannot retrieve more items for this shelf because it does not have an endpoint.");const n=await e.endpoint.call(this.#t,{client:"YTMUSIC"});if(!n)throw new _("Endpoint did not return any data");return new ss(n,this.#t,!0)}async getContinuation(){if(!this.#n)throw new _("Continuation not found.");const e=await this.#t.execute("/search",{continuation:this.#n,client:"YTMUSIC"});return new Uo(this.#t,e)}async applyFilter(e){let n;if(typeof e=="string"){if(n=this.header?.chips?.as(_e).find(s=>s.text===e),!n)throw new _("Could not find filter with given name.",{available_filters:this.filters})}else e?.is(_e)&&(n=e);if(!n)throw new _("Invalid filter",{available_filters:this.filters});if(n?.is_selected)return this;if(!n.endpoint)throw new _("Selected filter does not have an endpoint.");const i=await n.endpoint.call(this.#t,{client:"YTMUSIC"});return new ss(i,this.#t,!0)}get filters(){return this.header?.chips?.as(_e).map(e=>e.text)||[]}get has_continuation(){return!!this.#n}get did_you_mean(){return this.#e.contents_memo?.getType(ld)[0]}get showing_results_for(){return this.#e.contents_memo?.getType(Qh)[0]}get message(){return this.#e.contents_memo?.getType(He)[0]}get songs(){return this.contents?.filterType(de).find(e=>e.title.toString()==="Songs")}get videos(){return this.contents?.filterType(de).find(e=>e.title.toString()==="Videos")}get albums(){return this.contents?.filterType(de).find(e=>e.title.toString()==="Albums")}get artists(){return this.contents?.filterType(de).find(e=>e.title.toString()==="Artists")}get playlists(){return this.contents?.filterType(de).find(e=>e.title.toString()==="Community playlists")}get page(){return this.#e}};class Uo{#e;#t;header;contents;constructor(e,n){this.#e=e,this.#t=J(n.data),this.header=this.#t.header?.item().as(bi),this.contents=this.#t.continuation_contents?.as(So)}async getContinuation(){if(!this.contents?.continuation)throw new _("Continuation not found.");const e=await this.#e.execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Uo(this.#e,e)}get has_continuation(){return!!this.contents?.continuation}get page(){return this.#t}}class na extends ki{tabs;current_video_endpoint;player_overlays;constructor(e,n,i){super(e,n,i);const s=this.page[1];if(s){const o=s.contents_memo?.getType(cf)?.[0];this.tabs=o?.tabs.as(Te),this.current_video_endpoint=s.current_video_endpoint,this.player_overlays=s.player_overlays?.item().as(gi)}}async getTab(e){if(!this.tabs)throw new _("Could not find any tab");const n=this.tabs.find(s=>s.title===e)||this.tabs.find(s=>s.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType===e)||this.tabs?.[0];if(!n)throw new _(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(n.content)return n.content;const i=await n.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(i.contents?.item().type==="Message")return i.contents.item().as(He);if(!i.contents)throw new _("Page contents was empty",i);return i.contents.item().as(Q).contents}async getUpNext(e=!0){const n=await this.getTab("Up next");if(!n||!n.content)throw new _("Music queue was empty, the video id is probably invalid.",n);const i=n.content.as(lt);if(!i.playlist_id&&e){const s=i.contents.firstOfType(ci);if(!s)throw new _("Automix item not found");const o=await s.playlist_video?.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!o||!o.contents_memo)throw new _("Could not fetch automix");return o.contents_memo.getType(lt)?.[0]}return i}async getUpNextContinuation(e){if(!this.current_video_endpoint)throw new _("Current Video Endpoint was not defined.",this.current_video_endpoint);if(e instanceof lt&&e.playlist_id!==this.current_video_endpoint.payload.playlistId)throw new _("PlaylistId from TrackInfo does not match with PlaylistPanel");const i=await new m({watchNextEndpoint:{...this.current_video_endpoint.payload,continuation:e.continuation}}).call(this.actions,{...this.current_video_endpoint.payload,continuation:e.continuation,client:"YTMUSIC",parse:!0}),s=i.continuation_contents?.as(wf);if(!s)throw new _("No PlaylistPanel Continuation available.",i);return s}async getRelated(){return await this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}async getLyrics(){return(await this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(_i)}async addToWatchHistory(){return super.addToWatchHistory(M.YTMUSIC.NAME,M.YTMUSIC.VERSION,"https://music.")}async updateWatchTime(e){return super.updateWatchTime(e,M.YTMUSIC.NAME,M.YTMUSIC.VERSION,"https://music.")}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}}class Fo extends ie{header;contents;constructor(e,n,i=!1){super(e,n,i),this.header=this.page.header?.item().as(Wt),this.contents=this.memo.getType(Se)[0]||this.page.continuation_contents?.as(bf)}async getContinuation(){if(!this.contents)throw new Error("No continuation available.");const n=await new m({continuationCommand:{token:this.contents.continuation,request:"CONTINUATION_REQUEST_TYPE_BROWSE"}}).call(this.actions,{client:"YTKIDS"});return new Fo(this.actions,n)}get has_continuation(){return!!this.contents?.continuation}}class qo extends ie{header;contents;constructor(e,n,i=!1){super(e,n,i),this.header=this.page.header?.item().as(lf),this.contents=this.page.contents?.item().as(df)}async selectCategoryTab(e){let n;if(typeof e=="string"?n=this.header?.category_tabs.find(s=>s.title.toString()===e):e?.is(Co)&&(n=e),!n)throw new _(`Tab "${e}" not found`);const i=await n.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return i.header=this.page.header,i.header_memo=this.page.header_memo,new qo(this.actions,i,!0)}get categories(){return this.header?.category_tabs.map(e=>e.title.toString())||[]}}class Bw extends ie{estimated_results;contents;constructor(e,n){super(e,n),this.estimated_results=this.page.estimated_results;const i=this.memo.getType(Se)[0];if(!i)throw new _("No item section found in search response.");this.contents=i.contents}}class Lw extends ki{slim_video_metadata;watch_next_feed;current_video_endpoint;player_overlays;constructor(e,n,i){super(e,n,i);const s=this.page[1],o=s?.contents?.item().as(wo),r=o?.results,a=o?.secondary_results;r&&a&&(this.slim_video_metadata=r.firstOfType(Se)?.contents?.firstOfType(Zh),this.watch_next_feed=a.firstOfType(Se)?.contents||a,this.current_video_endpoint=s?.current_video_endpoint,this.player_overlays=s?.player_overlays?.item().as(gi))}}class Nw extends ki{#e;watch_next_feed;current_video_endpoint;player_overlays;constructor(e,n,i,s){if(super(e,n,i),s){const o=J(s.data);o.entries&&(this.watch_next_feed=o.entries),o.continuation_endpoint&&(this.#e=o.continuation_endpoint?.as(es))}}async getWatchNextContinuation(){if(!this.#e)throw new _("Continuation not found");const e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:this.#e.token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),this.#e=e.continuation_endpoint?.as(es),this}get wn_has_continuation(){return!!this.#e}}class ${id;name;thumbnails;endpoint;badges;is_moderator;is_verified;is_verified_artist;url;constructor(e,n,i,s){const o=new c(e);this.id=s||o?.runs?.[0]?.endpoint?.payload?.browseId||o?.endpoint?.payload?.browseId||"N/A",this.name=o?.text||"N/A",this.thumbnails=i?C.fromResponse(i):[],this.endpoint=o?.runs?.[0]?.endpoint||o?.endpoint,n?Array.isArray(n)?(this.badges=k(n),this.is_moderator=this.badges?.some(r=>r.icon_type=="MODERATOR"),this.is_verified=this.badges?.some(r=>r.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=this.badges?.some(r=>r.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=q([]),this.is_verified=!!n.isVerified,this.is_verified_artist=!!n.isArtist):this.badges=q([]),this.url=o?.runs?.[0]?.endpoint?.metadata?.api_url==="/browse"&&`${X.YT_BASE}${o?.runs?.[0]?.endpoint?.payload?.canonicalBaseUrl||`/u/${o?.runs?.[0]?.endpoint?.payload?.browseId}`}`||`${X.YT_BASE}${o?.endpoint?.payload?.canonicalBaseUrl||`/u/${o?.endpoint?.payload?.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}}const Ow={desktop:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6.1 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 OPR/121.0.0.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 OPR/121.0.0.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 OPR/122.0.0.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) GSA/388.0.811331708 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_7_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) GSA/388.0.811331708 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) GSA/388.0.811331708 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_6_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) GSA/388.0.811331708 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 18_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Mobile/15E148 Safari/604.1"]};let Pi;class K{static load(e){Pi=e}static get shim(){if(!Pi)throw new Error("Platform is not loaded");return Pi}}class _ extends Error{date;version;info;constructor(e,n){super(e),n&&(this.info=n),this.date=new Date,this.version=De.version}}class bt extends _{}class Vw extends _{}class le extends _{}class rt extends Error{}class ia extends Error{}class Uw extends Error{}function sa(t,e){return Reflect.ownKeys(t).some(i=>{const s=e[i]instanceof c;return!s&&typeof e[i]=="object"?JSON.stringify(t[i])===JSON.stringify(e[i]):t[i]===(s?e[i].toString():e[i])})}function ze(t,e,n){const i=new RegExp(`${oa(e)}(.*?)${oa(n)}`,"s"),s=t.match(i);return s?s[1]:void 0}function oa(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Sf(t){const e=Ow[t],n=Math.floor(Math.random()*e.length);return e[n]}async function Fw(t){const e="https://www.youtube.com",n=Math.floor(new Date().getTime()/1e3),i=[n,t,e].join(" "),s=await K.shim.sha1Hash(i);return["SAPISIDHASH",[n,s].join("_")].join(" ")}function Fe(t){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}function Ge(t){const e=t.split(":").map(n=>parseInt(n.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}function qw(...t){const e=new bc;for(const n of t)if(n)for(const i of n){const s=e.get(i[0]);if(s){e.set(i[0],[...s,...i[1]]);continue}e.set(...i)}return e}function j(t){for(const[e,n]of Object.entries(t))if(!n)throw new Vw(`${e} is missing`)}async function*Hw(t){const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)return;yield i}}finally{e.releaseLock()}}function we(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}function Ef(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(n).split("").map(i=>i.charCodeAt(0)))}function be(t){return!("emoji"in t)}function jw(t,e,n=!1){const i=n?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,s=t.match(new RegExp(i));return s?s[2]:void 0}async function $w(t){const e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function n(i){const s=new Uint8Array(i),o=[];for(let r=0;r<s.length;++r)o.push(e[s[r]]);return o.join("")}return n(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}function Ww(t,e){throw new Error("To decipher URLs, you must provide your own JavaScript evaluator. See https://ytjs.dev/guide/getting-started.html#providing-a-custom-javascript-interpreter for more details.")}class Yw{session;constructor(e){this.session=e}async stats(e,n,i){const s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",n.client_name.toLowerCase()),s.searchParams.set("cbrver",n.client_version),s.searchParams.set("cver",n.client_version);for(const o of Object.keys(i))s.searchParams.set(o,i[o]);return await this.session.http.fetch(s)}async execute(e,n){let i;if(n&&!n.protobuf){if(i={...n},Reflect.has(i,"browseId")&&!n.skip_auth_check&&this.#t(i.browseId)&&!this.session.logged_in)throw new _("You must be signed in to perform this operation.");Reflect.has(i,"skip_auth_check")&&delete i.skip_auth_check,Reflect.has(i,"override_endpoint")&&delete i.override_endpoint,Reflect.has(i,"parse")&&delete i.parse,Reflect.has(i,"request")&&delete i.request,Reflect.has(i,"clientActions")&&delete i.clientActions,Reflect.has(i,"settingItemIdForClient")&&delete i.settingItemIdForClient,Reflect.has(i,"action")&&(i.actions=[i.action],delete i.action),Reflect.has(i,"boolValue")&&(i.newValue={boolValue:i.boolValue},delete i.boolValue),Reflect.has(i,"token")&&(i.continuation=i.token,delete i.token),i?.client==="YTMUSIC"&&(i.isAudioOnly=!0)}else n&&(i=n.serialized_data);const s=Reflect.has(n||{},"override_endpoint")?n?.override_endpoint:e,o=await this.session.http.fetch(s,{method:"POST",body:n?.protobuf?i:JSON.stringify(i||{}),headers:{"Content-Type":n?.protobuf?"application/x-protobuf":"application/json"}});if(n?.parse){let r=J(await o.json());if(this.#e(r)&&r.on_response_received_actions?.[0]?.type==="navigateAction"){const a=r.on_response_received_actions.firstOfType(xo);a&&(r=await a.endpoint.call(this,{parse:!0}))}return r}return{success:o.ok,status_code:o.status,data:await o.json()}}#e(e){return"on_response_received_actions"in e}#t(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)}}const qt="OAuth2";class Kw{#e;YTTV_URL;AUTH_SERVER_CODE_URL;AUTH_SERVER_TOKEN_URL;AUTH_SERVER_REVOKE_TOKEN_URL;client_id;oauth2_tokens;constructor(e){this.#e=e,this.YTTV_URL=new URL("/tv",X.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",X.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",X.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",X.YT_BASE)}async init(e){if(e){this.setTokens(e),this.shouldRefreshToken()&&await this.refreshAccessToken(),this.#e.emit("auth",{credentials:this.oauth2_tokens});return}if(await this.#t()){fe(qt,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=await this.getClientID());const i=await this.getDeviceAndUserCode();this.#e.emit("auth-pending",i),this.pollForAccessToken(i)}setTokens(e){const n=e;if(n.expires_in&&(n.expiry_date=new Date(Date.now()+n.expires_in*1e3).toISOString(),delete n.expires_in),!this.validateTokens(n))throw new le("Invalid tokens provided.");this.oauth2_tokens=n,n.client&&(fe(qt,"Using provided client id and secret."),this.client_id=n.client)}async cacheCredentials(){const n=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));await this.#e.cache?.set("youtubei_oauth_credentials",n.buffer)}async#t(){const e=await this.#e.cache?.get("youtubei_oauth_credentials");if(!e)return!1;const n=new TextDecoder,i=JSON.parse(n.decode(e));return this.setTokens(i),this.#e.emit("auth",{credentials:i}),!0}async removeCache(){await this.#e.cache?.remove("youtubei_oauth_credentials")}pollForAccessToken(e){if(!this.client_id)throw new le("Client ID is missing.");const{device_code:n,interval:i}=e,{client_id:s,client_secret:o}=this.client_id,r={client_id:s,client_secret:o,code:n,grant_type:"http://oauth.net/grant_type/device/1.0"},a=setInterval(async()=>{const f=await(await this.#n.fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(f.error){switch(f.error){case"access_denied":this.#e.emit("auth-error",new le("Access was denied.",f)),clearInterval(a);break;case"expired_token":this.#e.emit("auth-error",new le("The device code has expired.",f)),clearInterval(a);break;case"authorization_pending":case"slow_down":fe(qt,"Polling for access token...");break;default:this.#e.emit("auth-error",new le("Server returned an unexpected error.",f)),clearInterval(a);break}return}this.setTokens(f),this.#e.emit("auth",{credentials:this.oauth2_tokens}),clearInterval(a)},i*1e3)}async revokeCredentials(){if(!this.oauth2_tokens)throw new le("Access token not found");await this.removeCache();const e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),this.#e.http.fetch_function(e,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new le("No tokens available to refresh.");const{client_id:e,client_secret:n}=this.client_id,{refresh_token:i}=this.oauth2_tokens,s={client_id:e,client_secret:n,refresh_token:i,grant_type:"refresh_token"},o=await this.#n.fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new le(`Failed to refresh access token: ${o.status}`);const r=await o.json();if(r.error_code)throw new le("Authorization server returned an error",r);this.oauth2_tokens.access_token=r.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+r.expires_in*1e3).toISOString(),this.#e.emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new le("Client ID is missing.");const{client_id:e}=this.client_id,n={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:K.shim.uuidv4(),device_model:"ytlr::"},i=await this.#n.fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new le(`Failed to get device/user code: ${i.status}`);const s=await i.json();if(s.error_code)throw new le("Authorization server returned an error",s);return s}async getClientID(){const e=await this.#n.fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new le(`Failed to get client ID: ${e.status}`);const n=await e.text();let i;if((i=or.REGEX.TV_SCRIPT.exec(n))!==null){fe(qt,`Got YouTubeTV script URL (${i[1]})`);const s=await this.#n.fetch(i[1],{baseURL:X.YT_BASE});if(!s.ok)throw new le(`TV script request failed with status code ${s.status}`);const r=(await s.text()).match(or.REGEX.CLIENT_IDENTITY);if(!r||!r.groups)throw new le("Could not obtain client ID.");const{client_id:a,client_secret:l}=r.groups;return fe(qt,`Client identity retrieved (clientId=${a}, clientSecret=${l}).`),{client_id:a,client_secret:l}}throw new le("Could not obtain script URL.")}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){return!(!e.access_token||!e.refresh_token||!e.expiry_date)}get#n(){return this.#e.http}}const Ce="Player";class Ct{player_id;signature_timestamp;data;po_token;constructor(e,n,i){this.player_id=e,this.signature_timestamp=n,this.data=i}static async create(e,n=K.shim.fetch,i,s){if(!s){const T=new URL("/iframe_api",X.YT_BASE),B=await n(T);if(!B.ok)throw new rt(`Failed to get player id: ${B.status} (${B.statusText})`);const x=await B.text();s=ze(x,"player\\/","\\/")}if(fe(Ce,`Using player id (${s}). Checking for cached players..`),!s)throw new rt("Failed to get player id");if(e){const T=await Ct.fromCache(e,s);if(T)return fe(Ce,"Found up-to-date player data in cache."),T.po_token=i,T}const o=new URL(`/s/player/${s}/player_ias.vflset/en_US/base.js`,X.YT_BASE);fe(Ce,`Could not find any cached player. Will download a new player from ${o}.`);const r=await n(o,{headers:{"user-agent":Sf("desktop")}});if(!r.ok)throw new rt(`Failed to get player data: ${r.status}`);const a=await r.text(),l="sigFunction",f="nFunction",d="signatureTimestampVar",p=[{friendlyName:l,match:P_},{friendlyName:f,match:M_},{friendlyName:d,match:B_,collectDependencies:!1}],b=new yb(a,{extractions:p}),g=new wb(b).buildScript({disallowSideEffectInitializers:!0,exportRawValues:!0,rawValueOnly:[d]});g.exportedRawValues&&!(d in g.exportedRawValues)&&oe(Ce,"Failed to extract signature timestamp."),g.exported.includes(l)||oe(Ce,"Failed to extract signature decipher function."),g.exported.includes(f)||oe(Ce,"Failed to extract n decipher function.");const I=g.exportedRawValues?.[d],v=await Ct.fromSource(s,{cache:e,signature_timestamp:parseInt(I)||0,data:g});return v.po_token=i,v}async decipher(e,n,i,s){if(e=e||n||i,!e)throw new rt("No valid URL to decipher");const o=new URLSearchParams(e),r=new URL(o.get("url")||e),a=r.searchParams.get("n"),l=o.get("s"),f=o.get("sp");if(this.data&&(n||i||a)){const b={};if((n||i)&&(b.sig=l),a)if(s?.has(a)){const w=s.get(a);r.searchParams.set("n",w)}else b.n=a;if(Object.keys(b).length>0){const w=await K.shim.eval(this.data,b);if(typeof w!="object"||w===null)throw new rt("Got invalid result from player script evaluation.");if(typeof b.sig=="string"){const g=w.sig;if(fe(Ce,`Transformed signature from ${l} to ${g}.`),typeof g!="string")throw new rt("Got invalid signature from player script evaluation.");f?r.searchParams.set(f,g):r.searchParams.set("signature",g)}if(typeof b.n=="string"){const g=w.n;if(fe(Ce,`Transformed n from ${a} to ${g}.`),typeof g!="string")throw new rt("Failed to decipher nsig");g.startsWith("enhanced_except_")?oe(Ce,`Decipher script returned an error (n=${a}):`,g):s&&s.set(a,g),r.searchParams.set("n",g)}}}switch(r.searchParams.get("sabr")!=="1"&&this.po_token&&r.searchParams.set("pot",this.po_token),r.searchParams.get("c")){case"WEB":r.searchParams.set("cver",M.WEB.VERSION);break;case"MWEB":r.searchParams.set("cver",M.MWEB.VERSION);break;case"WEB_REMIX":r.searchParams.set("cver",M.YTMUSIC.VERSION);break;case"WEB_KIDS":r.searchParams.set("cver",M.WEB_KIDS.VERSION);break;case"TVHTML5":r.searchParams.set("cver",M.TV.VERSION);break;case"TVHTML5_SIMPLY":r.searchParams.set("cver",M.TV_SIMPLY.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":r.searchParams.set("cver",M.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":r.searchParams.set("cver",M.WEB_EMBEDDED.VERSION);break}const p=r.toString();return fe(Ce,`Deciphered URL: ${p}`),r.toString()}static async fromCache(e,n){const i=await e.get(n);if(!i)return null;try{const s=Ac(new Uint8Array(i));return s.libraryVersion!==De.version?(oe(Ce,`Cached player data is from a different library version (${s.libraryVersion}). Ignoring it.`),null):new Ct(s.playerId,s.signatureTimestamp,s.data)}catch(s){return Cn(Ce,"Failed to deserialize player data from cache:",s),null}}static async fromSource(e,n){const i=new Ct(e,n.signature_timestamp,n.data);return await i.cache(n.cache),i}async cache(e){if(!e||!this.data)return;const n=Ec({playerId:this.player_id,signatureTimestamp:this.signature_timestamp,libraryVersion:De.version,data:this.data});await e.set(this.player_id,n)}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,X.YT_BASE).toString()}static get LIBRARY_VERSION(){return 14}}const zw={WEB:"WEB"},Oe="Session";class Gn extends gc{context;api_key;api_version;account_index;config_data;player;cookie;cache;po_token;oauth;http;logged_in;actions;user_agent;constructor(e,n,i,s,o,r,a,l,f,d){super(),this.context=e,this.api_key=n,this.api_version=i,this.account_index=s,this.config_data=o,this.player=r,this.cookie=a,this.cache=f,this.po_token=d,this.http=new km(this,a,l),this.actions=new Yw(this),this.oauth=new Kw(this),this.logged_in=!!a,this.user_agent=e.client.userAgent}on(e,n){super.on(e,n)}once(e,n){super.once(e,n)}static async create(e={}){const{context:n,api_key:i,api_version:s,account_index:o,config_data:r}=await Gn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.user_agent,e.enable_safety_mode,e.generate_session_locally,e.fail_fast,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token,e.retrieve_innertube_config);return new Gn(n,i,s,o,r,e.retrieve_player===!1?void 0:await Ct.create(e.cache,e.fetch,e.po_token,e.player_id),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,n){const i=await e.get("innertube_session_data");if(!i)return null;try{const s=Ac(new Uint8Array(i));if(s.library_version!==parseInt(De.version.split(".",1)[0]))return oe(Oe,`Cached session data is from a different library version (${s.library_version}). Regenerating session data.`),null;if(n.visitor_data&&(s.context.client.visitorData=n.visitor_data),n.lang&&(s.context.client.hl=n.lang),n.location&&(s.context.client.gl=n.location),n.on_behalf_of_user&&(s.context.user.onBehalfOfUser=n.on_behalf_of_user),n.user_agent&&(s.context.client.userAgent=n.user_agent),n.client_name){const o=Object.values(M).find(r=>r.NAME===n.client_name);o?(s.context.client.clientName=o.NAME,s.context.client.clientVersion=o.VERSION):oe(Oe,`Unknown client name: ${n.client_name}.`)}return s.context.client.timeZone=n.time_zone,s.context.client.platform=n.device_category.toUpperCase(),s.context.user.enableSafetyMode=n.enable_safety_mode,s}catch(s){return Cn(Oe,"Failed to deserialize session data from cache.",s),null}}static async getSessionData(e="",n="",i=0,s="",o=Sf("desktop"),r=!1,a=!1,l=!1,f="desktop",d=zw.WEB,p=Intl.DateTimeFormat().resolvedOptions().timeZone,b=K.shim.fetch,w,g,I=!0,v,T=!0){const B={lang:e,location:n,time_zone:p,user_agent:o,device_category:f,client_name:d,enable_safety_mode:r,visitor_data:s,on_behalf_of_user:w,po_token:v};let x;if(g&&I){const P=await this.fromCache(g,B);P&&(fe(Oe,"Found session data in cache."),x=P)}if(!x){fe(Oe,"Generating session data.");let P=M.WEB.API_KEY,ce=M.WEB.API_VERSION,Z={hl:e||"en",gl:n||"US",remote_host:"",user_agent:o,visitor_data:s||S_(Fe(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:Object.values(M).find(L=>L.NAME===d)?.VERSION??M.WEB.VERSION,device_category:f.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:p,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:r};if(!a)try{const L=await this.#t(B,b);P=L.api_key,ce=L.api_version,Z=L.context_data}catch(L){if(l)throw L;Cn(Oe,"Failed to retrieve session data from server. Session data generated locally will be used instead.",L)}if(w&&(Z.on_behalf_of_user=w),x={api_key:P,api_version:ce,context:this.#n(Z)},T)try{fe(Oe,"Retrieving InnerTube config data.");const L={"Accept-Language":e,Accept:"*/*",Referer:X.YT_BASE,"X-Goog-Visitor-Id":Z.visitor_data,"X-Origin":X.YT_BASE,"X-Youtube-Client-Version":Z.client_version};K.shim.server&&(L["User-Agent"]=o,L.Origin=X.YT_BASE);const st=await(await b(`${X.API.PRODUCTION_1}v1/config?prettyPrint=false`,{headers:L,method:"POST",body:JSON.stringify({context:x.context})})).json(),fn=st.responseContext?.globalConfigGroup?.rawColdConfigGroup?.configData,pn=st.responseContext?.globalConfigGroup?.coldHashData,mn=st.responseContext?.globalConfigGroup?.hotHashData;x.config_data=st.configData,x.context.client.configInfo={...x.context.client.configInfo,coldConfigData:fn,coldHashData:pn,hotHashData:mn}}catch(L){Cn(Oe,"Failed to retrieve config data.",L)}I&&await this.#e(x,g)}return Oi(Oe,"Session data:",x),{...x,account_index:i}}static async#e(e,n){if(!n)return;fe(Oe,"Compressing and caching session data.");const i=Ec({...e,library_version:parseInt(De.version)});await n.set("innertube_session_data",i)}static async#t(e,n=K.shim.fetch){let i=Fe(11);e.visitor_data&&(i=this.#s(e.visitor_data));const s=new URL("/sw.js_data",X.YT_BASE),o=await n(s,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":e.user_agent,Accept:"*/*",Referer:`${X.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${i};`}});if(!o.ok)throw new ia(`Failed to retrieve session data: ${o.status}`);const r=await o.text();if(!r.startsWith(")]}'"))throw new ia("Invalid JSPB response");const l=JSON.parse(r.replace(/^\)\]\}'/,""))[0][2],f=M.WEB.API_VERSION,[[d],p]=l,b=d[61],w=b[b.length-1];return{context_data:{hl:e.lang||d[0],gl:e.location||d[1],remote_host:d[3],visitor_data:e.visitor_data||d[13],user_agent:e.user_agent,client_name:e.client_name,client_version:e.client_name==="WEB"?d[16]:Object.values(M).find(I=>I.NAME===e.client_name)?.VERSION||d[16],os_name:d[17],os_version:d[18],time_zone:d[79]||e.time_zone,device_category:e.device_category,browser_name:d[86],browser_version:d[87],device_make:d[11],device_model:d[12],app_install_data:w,device_experiment_id:d[103],rollout_token:d[107],enable_safety_mode:e.enable_safety_mode},api_key:p,api_version:f}}static#n(e){const n={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,userAgent:e.user_agent,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:X.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",rolloutToken:e.rollout_token,deviceExperimentId:e.device_experiment_id,mainAppWebInfo:{graftUrl:X.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(n.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(n.user.onBehalfOfUser=e.on_behalf_of_user),n}static#s(e){return E_(e).id}async signIn(e){return new Promise(async(n,i)=>{const s=o=>i(o);this.once("auth-error",s),this.once("auth",()=>{this.off("auth-error",s),this.logged_in=!0,n()});try{await this.oauth.init(e)}catch(o){i(o)}})}async signOut(){if(!this.logged_in)throw new _("You must be signed in to perform this operation.");const e=await this.oauth.revokeCredentials();return this.logged_in=!1,e}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}}class Gw{#e;constructor(e){this.#e=e}async search(e){const i=await new m({searchEndpoint:{query:e}}).call(this.#e.actions,{client:"YTKIDS"});return new Bw(this.#e.actions,i)}async getInfo(e,n){const i={videoId:e},s=new m({watchEndpoint:i}),o=new m({watchNextEndpoint:i}),r=this.#e,a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:r.player?.signature_timestamp}},client:"YTKIDS"};n?.po_token?a.serviceIntegrityDimensions={poToken:n.po_token}:r.po_token&&(a.serviceIntegrityDimensions={poToken:r.po_token});const l=s.call(r.actions,a),f=o.call(r.actions,{client:"YTKIDS"}),d=await Promise.all([l,f]),p=Fe(16);return new Lw(d,r.actions,p)}async getChannel(e){const i=await new m({browseEndpoint:{browseId:e}}).call(this.#e.actions,{client:"YTKIDS"});return new Fo(this.#e.actions,i)}async getHomeFeed(){const n=await new m({browseEndpoint:{browseId:"FEkids_home"}}).call(this.#e.actions,{client:"YTKIDS"});return new qo(this.#e.actions,n)}async blockChannel(e){const n=this.#e;if(!n.logged_in)throw new _("You must be signed in to perform this operation.");const r={contents:(await new m({getKidsBlocklistPickerCommand:{blockedForKidsContent:{external_channel_id:e}}}).call(n.actions,{client:"YTKIDS"})).data.command.confirmDialogEndpoint.content,engagementPanels:[]},l=J(r).contents_memo?.getType(To);if(!l)throw new _("Could not find any kids profiles or supervised accounts.");const f=[];for(const d of l)d.block_button?.is_toggled||(d.setActions(n.actions),f.push(await d.blockChannel()));return f}}class Jw{#e;#t;constructor(e){this.#e=e,this.#t=e.actions}getInfo(e,n){return e instanceof ao?this.#s(e.endpoint,n):e instanceof tt?this.#s(e.overlay?.content?.endpoint??e.endpoint,n):e instanceof m?this.#s(e,n):this.#n(e,n)}async#n(e,n){const i={videoId:e,racyCheckOk:!0,contentCheckOk:!0},s=new m({watchEndpoint:i}),o=new m({watchNextEndpoint:i}),r={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:this.#e.player?.signature_timestamp}},client:"YTMUSIC"};n?.po_token?r.serviceIntegrityDimensions={poToken:n.po_token}:this.#e.po_token&&(r.serviceIntegrityDimensions={poToken:this.#e.po_token});const a=s.call(this.#t,r),l=o.call(this.#t,{client:"YTMUSIC"}),f=await Promise.all([a,l]),d=Fe(16);return new na(f,this.#t,d)}async#s(e,n){if(!e)throw new Error("This item does not have an endpoint.");const i={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:this.#e.player?.signature_timestamp}},client:"YTMUSIC"};n?.po_token?i.serviceIntegrityDimensions={poToken:n.po_token}:this.#e.po_token&&(i.serviceIntegrityDimensions={poToken:this.#e.po_token});const s=e.call(this.#t,i),o=e.call(this.#t,{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=Fe(16),a=await Promise.all([s,o]);return new na(a,this.#t,r)}async search(e,n={}){j({query:e});let i;if(n.type&&n.type!=="all"){const r=Bc.encode({filters:{musicSearchType:{[n.type]:!0}}});i=encodeURIComponent(we(r.finish()))}const o=await new m({searchEndpoint:{query:e,params:i}}).call(this.#t,{client:"YTMUSIC"});return new Mw(o,this.#t,Reflect.has(n,"type")&&n.type!=="all")}async getHomeFeed(){const n=await new m({browseEndpoint:{browseId:"FEmusic_home"}}).call(this.#t,{client:"YTMUSIC"});return new Rw(n,this.#t)}async getExplore(){const n=await new m({browseEndpoint:{browseId:"FEmusic_explore"}}).call(this.#t,{client:"YTMUSIC"});return new Dw(n)}async getLibrary(){const n=await new m({browseEndpoint:{browseId:"FEmusic_library_landing"}}).call(this.#t,{client:"YTMUSIC"});return new Oo(n,this.#t)}async getArtist(e){if(!e||!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new _("Invalid artist id",e);const i=await new m({browseEndpoint:{browseId:e}}).call(this.#t,{client:"YTMUSIC"});return new Aw(i,this.#t)}async getAlbum(e){if(!e||!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new _("Invalid album id",e);const i=await new m({browseEndpoint:{browseId:e}}).call(this.#t,{client:"YTMUSIC"});return new Ew(i)}async getPlaylist(e){e.startsWith("VL")||(e=`VL${e}`);const i=await new m({browseEndpoint:{browseId:e}}).call(this.#t,{client:"YTMUSIC"});return new Ci(i,this.#t)}async getUpNext(e,n=!0){j({video_id:e});const r=(await new m({watchNextEndpoint:{videoId:e}}).call(this.#t,{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Te)?.[0];if(!r)throw new _("Could not find target tab.");const a=r.content?.as(uo);if(!a||!a.content)throw new _("Music queue was empty, the given id is probably invalid.",a);const l=a.content.as(lt);if(!l.playlist_id&&n){const f=l.contents.firstOfType(ci);if(!f)throw new _("Automix item not found");const d=await f.playlist_video?.endpoint.call(this.#t,{videoId:e,client:"YTMUSIC",parse:!0});if(!d||!d.contents_memo)throw new _("Could not fetch automix");return d.contents_memo.getType(lt)[0]}return l}async getRelated(e){j({video_id:e});const o=(await new m({watchNextEndpoint:{videoId:e}}).call(this.#t,{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Te)?.find(a=>a.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType==="MUSIC_PAGE_TYPE_TRACK_RELATED");if(!o)throw new _("Could not find target tab.");const r=await o.endpoint.call(this.#t,{client:"YTMUSIC",parse:!0});if(!r.contents)throw new _("Unexpected response",r);return r.contents.item().as(Q,He)}async getLyrics(e){j({video_id:e});const o=(await new m({watchNextEndpoint:{videoId:e}}).call(this.#t,{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Te)?.find(l=>l.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType==="MUSIC_PAGE_TYPE_TRACK_LYRICS");if(!o)throw new _("Could not find target tab.");const r=await o.endpoint.call(this.#t,{client:"YTMUSIC",parse:!0});if(!r.contents)throw new _("Unexpected response",r);if(r.contents.item().type==="Message")throw new _(r.contents.item().as(He).text.toString(),e);return r.contents.item().as(Q).contents.firstOfType(_i)}async getRecap(){const n=await new m({browseEndpoint:{browseId:"FEmusic_listening_review"}}).call(this.#t,{client:"YTMUSIC"});return new Pw(n,this.#t)}async getSearchSuggestions(e){const n=await this.#t.execute("/music/get_search_suggestions",{input:e,client:"YTMUSIC",parse:!0});return n.contents_memo?n.contents_memo.getType(Wh):[]}}function Xw(){return{profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0}}const ra={encode(t,e=new D){t.profile!==void 0&&e.uint32(10).string(t.profile);for(const n of t.supportedCapabilities)kn.encode(n,e.uint32(18).fork()).join();for(const n of t.disabledCapabilities)kn.encode(n,e.uint32(26).fork()).join();return t.snapshot!==void 0&&e.uint32(42).string(t.snapshot),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Xw();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.profile=n.string();continue;case 2:if(o!==18)break;s.supportedCapabilities.push(kn.decode(n,n.uint32()));continue;case 3:if(o!==26)break;s.disabledCapabilities.push(kn.decode(n,n.uint32()));continue;case 5:if(o!==42)break;s.snapshot=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Qw(){return{capability:void 0,features:void 0,experimentFlags:void 0}}const kn={encode(t,e=new D){return t.capability!==void 0&&e.uint32(8).uint32(t.capability),t.features!==void 0&&e.uint32(16).uint32(t.features),t.experimentFlags!==void 0&&e.uint32(50).string(t.experimentFlags),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Qw();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.capability=n.uint32();continue;case 2:if(o!==16)break;s.features=n.uint32();continue;case 6:if(o!==50)break;s.experimentFlags=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Zw(){return{hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0}}const Tn={encode(t,e=new D){return t.hl!==void 0&&e.uint32(10).string(t.hl),t.gl!==void 0&&e.uint32(18).string(t.gl),t.remoteHost!==void 0&&e.uint32(34).string(t.remoteHost),t.deviceId!==void 0&&e.uint32(50).string(t.deviceId),t.debugDeviceIdOverride!==void 0&&e.uint32(66).string(t.debugDeviceIdOverride),t.carrierGeo!==void 0&&e.uint32(82).string(t.carrierGeo),t.crackedHl!==void 0&&e.uint32(88).bool(t.crackedHl),t.deviceMake!==void 0&&e.uint32(98).string(t.deviceMake),t.deviceModel!==void 0&&e.uint32(106).string(t.deviceModel),t.visitorData!==void 0&&e.uint32(114).string(t.visitorData),t.userAgent!==void 0&&e.uint32(122).string(t.userAgent),t.clientName!==void 0&&e.uint32(128).int32(t.clientName),t.clientVersion!==void 0&&e.uint32(138).string(t.clientVersion),t.osName!==void 0&&e.uint32(146).string(t.osName),t.osVersion!==void 0&&e.uint32(154).string(t.osVersion),t.projectId!==void 0&&e.uint32(162).string(t.projectId),t.acceptLanguage!==void 0&&e.uint32(170).string(t.acceptLanguage),t.acceptRegion!==void 0&&e.uint32(178).string(t.acceptRegion),t.originalUrl!==void 0&&e.uint32(186).string(t.originalUrl),t.rawDeviceId!==void 0&&e.uint32(202).string(t.rawDeviceId),t.configData!==void 0&&e.uint32(218).string(t.configData),t.spacecastToken!==void 0&&e.uint32(250).string(t.spacecastToken),t.internalGeo!==void 0&&e.uint32(274).string(t.internalGeo),t.screenWidthPoints!==void 0&&e.uint32(296).int32(t.screenWidthPoints),t.screenHeightPoints!==void 0&&e.uint32(304).int32(t.screenHeightPoints),t.screenWidthInches!==void 0&&e.uint32(317).float(t.screenWidthInches),t.screenHeightInches!==void 0&&e.uint32(325).float(t.screenHeightInches),t.screenPixelDensity!==void 0&&e.uint32(328).int32(t.screenPixelDensity),t.platform!==void 0&&e.uint32(336).int32(t.platform),t.spacecastClientInfo!==void 0&&la.encode(t.spacecastClientInfo,e.uint32(362).fork()).join(),t.clientFormFactor!==void 0&&e.uint32(368).int32(t.clientFormFactor),t.forwardedFor!==void 0&&e.uint32(386).string(t.forwardedFor),t.mobileDataPlanInfo!==void 0&&ha.encode(t.mobileDataPlanInfo,e.uint32(394).fork()).join(),t.gmscoreVersionCode!==void 0&&e.uint32(400).int32(t.gmscoreVersionCode),t.webpSupport!==void 0&&e.uint32(408).bool(t.webpSupport),t.cameraType!==void 0&&e.uint32(416).int32(t.cameraType),t.experimentsToken!==void 0&&e.uint32(434).string(t.experimentsToken),t.windowWidthPoints!==void 0&&e.uint32(440).int32(t.windowWidthPoints),t.windowHeightPoints!==void 0&&e.uint32(448).int32(t.windowHeightPoints),t.configInfo!==void 0&&fa.encode(t.configInfo,e.uint32(498).fork()).join(),t.unpluggedLocationInfo!==void 0&&pa.encode(t.unpluggedLocationInfo,e.uint32(506).fork()).join(),t.androidSdkVersion!==void 0&&e.uint32(512).int32(t.androidSdkVersion),t.screenDensityFloat!==void 0&&e.uint32(525).float(t.screenDensityFloat),t.firstTimeSignInExperimentIds!==void 0&&e.uint32(528).int32(t.firstTimeSignInExperimentIds),t.utcOffsetMinutes!==void 0&&e.uint32(536).int32(t.utcOffsetMinutes),t.animatedWebpSupport!==void 0&&e.uint32(544).bool(t.animatedWebpSupport),t.kidsAppInfo!==void 0&&ma.encode(t.kidsAppInfo,e.uint32(554).fork()).join(),t.musicAppInfo!==void 0&&ya.encode(t.musicAppInfo,e.uint32(562).fork()).join(),t.tvAppInfo!==void 0&&wa.encode(t.tvAppInfo,e.uint32(570).fork()).join(),t.internalGeoIp!==void 0&&e.uint32(578).string(t.internalGeoIp),t.unpluggedAppInfo!==void 0&&Ta.encode(t.unpluggedAppInfo,e.uint32(586).fork()).join(),t.locationInfo!==void 0&&Ca.encode(t.locationInfo,e.uint32(594).fork()).join(),t.contentSizeCategory!==void 0&&e.uint32(610).string(t.contentSizeCategory),t.fontScale!==void 0&&e.uint32(621).float(t.fontScale),t.userInterfaceTheme!==void 0&&e.uint32(624).int32(t.userInterfaceTheme),t.timeZone!==void 0&&e.uint32(642).string(t.timeZone),t.homeGroupInfo!==void 0&&va.encode(t.homeGroupInfo,e.uint32(650).fork()).join(),t.emlTemplateContext!==void 0&&e.uint32(674).bytes(t.emlTemplateContext),t.coldAppBundleConfigData!==void 0&&e.uint32(682).bytes(t.coldAppBundleConfigData),t.browserName!==void 0&&e.uint32(698).string(t.browserName),t.browserVersion!==void 0&&e.uint32(706).string(t.browserVersion),t.locationPlayabilityToken!==void 0&&e.uint32(714).string(t.locationPlayabilityToken),t.chipset!==void 0&&e.uint32(738).string(t.chipset),t.firmwareVersion!==void 0&&e.uint32(746).string(t.firmwareVersion),t.memoryTotalKbytes!==void 0&&e.uint32(760).int64(t.memoryTotalKbytes),t.mainAppWebInfo!==void 0&&aa.encode(t.mainAppWebInfo,e.uint32(770).fork()).join(),t.notificationPermissionInfo!==void 0&&ca.encode(t.notificationPermissionInfo,e.uint32(778).fork()).join(),t.deviceBrand!==void 0&&e.uint32(786).string(t.deviceBrand),t.glDeviceInfo!==void 0&&ua.encode(t.glDeviceInfo,e.uint32(818).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Zw();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.hl=n.string();continue;case 2:if(o!==18)break;s.gl=n.string();continue;case 4:if(o!==34)break;s.remoteHost=n.string();continue;case 6:if(o!==50)break;s.deviceId=n.string();continue;case 8:if(o!==66)break;s.debugDeviceIdOverride=n.string();continue;case 10:if(o!==82)break;s.carrierGeo=n.string();continue;case 11:if(o!==88)break;s.crackedHl=n.bool();continue;case 12:if(o!==98)break;s.deviceMake=n.string();continue;case 13:if(o!==106)break;s.deviceModel=n.string();continue;case 14:if(o!==114)break;s.visitorData=n.string();continue;case 15:if(o!==122)break;s.userAgent=n.string();continue;case 16:if(o!==128)break;s.clientName=n.int32();continue;case 17:if(o!==138)break;s.clientVersion=n.string();continue;case 18:if(o!==146)break;s.osName=n.string();continue;case 19:if(o!==154)break;s.osVersion=n.string();continue;case 20:if(o!==162)break;s.projectId=n.string();continue;case 21:if(o!==170)break;s.acceptLanguage=n.string();continue;case 22:if(o!==178)break;s.acceptRegion=n.string();continue;case 23:if(o!==186)break;s.originalUrl=n.string();continue;case 25:if(o!==202)break;s.rawDeviceId=n.string();continue;case 27:if(o!==218)break;s.configData=n.string();continue;case 31:if(o!==250)break;s.spacecastToken=n.string();continue;case 34:if(o!==274)break;s.internalGeo=n.string();continue;case 37:if(o!==296)break;s.screenWidthPoints=n.int32();continue;case 38:if(o!==304)break;s.screenHeightPoints=n.int32();continue;case 39:if(o!==317)break;s.screenWidthInches=n.float();continue;case 40:if(o!==325)break;s.screenHeightInches=n.float();continue;case 41:if(o!==328)break;s.screenPixelDensity=n.int32();continue;case 42:if(o!==336)break;s.platform=n.int32();continue;case 45:if(o!==362)break;s.spacecastClientInfo=la.decode(n,n.uint32());continue;case 46:if(o!==368)break;s.clientFormFactor=n.int32();continue;case 48:if(o!==386)break;s.forwardedFor=n.string();continue;case 49:if(o!==394)break;s.mobileDataPlanInfo=ha.decode(n,n.uint32());continue;case 50:if(o!==400)break;s.gmscoreVersionCode=n.int32();continue;case 51:if(o!==408)break;s.webpSupport=n.bool();continue;case 52:if(o!==416)break;s.cameraType=n.int32();continue;case 54:if(o!==434)break;s.experimentsToken=n.string();continue;case 55:if(o!==440)break;s.windowWidthPoints=n.int32();continue;case 56:if(o!==448)break;s.windowHeightPoints=n.int32();continue;case 62:if(o!==498)break;s.configInfo=fa.decode(n,n.uint32());continue;case 63:if(o!==506)break;s.unpluggedLocationInfo=pa.decode(n,n.uint32());continue;case 64:if(o!==512)break;s.androidSdkVersion=n.int32();continue;case 65:if(o!==525)break;s.screenDensityFloat=n.float();continue;case 66:if(o!==528)break;s.firstTimeSignInExperimentIds=n.int32();continue;case 67:if(o!==536)break;s.utcOffsetMinutes=n.int32();continue;case 68:if(o!==544)break;s.animatedWebpSupport=n.bool();continue;case 69:if(o!==554)break;s.kidsAppInfo=ma.decode(n,n.uint32());continue;case 70:if(o!==562)break;s.musicAppInfo=ya.decode(n,n.uint32());continue;case 71:if(o!==570)break;s.tvAppInfo=wa.decode(n,n.uint32());continue;case 72:if(o!==578)break;s.internalGeoIp=n.string();continue;case 73:if(o!==586)break;s.unpluggedAppInfo=Ta.decode(n,n.uint32());continue;case 74:if(o!==594)break;s.locationInfo=Ca.decode(n,n.uint32());continue;case 76:if(o!==610)break;s.contentSizeCategory=n.string();continue;case 77:if(o!==621)break;s.fontScale=n.float();continue;case 78:if(o!==624)break;s.userInterfaceTheme=n.int32();continue;case 80:if(o!==642)break;s.timeZone=n.string();continue;case 81:if(o!==650)break;s.homeGroupInfo=va.decode(n,n.uint32());continue;case 84:if(o!==674)break;s.emlTemplateContext=n.bytes();continue;case 85:if(o!==682)break;s.coldAppBundleConfigData=n.bytes();continue;case 87:if(o!==698)break;s.browserName=n.string();continue;case 88:if(o!==706)break;s.browserVersion=n.string();continue;case 89:if(o!==714)break;s.locationPlayabilityToken=n.string();continue;case 92:if(o!==738)break;s.chipset=n.string();continue;case 93:if(o!==746)break;s.firmwareVersion=n.string();continue;case 95:if(o!==760)break;s.memoryTotalKbytes=Ii(n.int64());continue;case 96:if(o!==770)break;s.mainAppWebInfo=aa.decode(n,n.uint32());continue;case 97:if(o!==778)break;s.notificationPermissionInfo=ca.decode(n,n.uint32());continue;case 98:if(o!==786)break;s.deviceBrand=n.string();continue;case 102:if(o!==818)break;s.glDeviceInfo=ua.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function e3(){return{graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0}}const aa={encode(t,e=new D){return t.graftUrl!==void 0&&e.uint32(10).string(t.graftUrl),t.pwaInstallabilityStatus!==void 0&&e.uint32(16).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(24).int32(t.webDisplayMode),t.isWebNativeShareAvailable!==void 0&&e.uint32(32).bool(t.isWebNativeShareAvailable),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(40).int32(t.storeDigitalGoodsApiSupportStatus),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=e3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.graftUrl=n.string();continue;case 2:if(o!==16)break;s.pwaInstallabilityStatus=n.int32();continue;case 3:if(o!==24)break;s.webDisplayMode=n.int32();continue;case 4:if(o!==32)break;s.isWebNativeShareAvailable=n.bool();continue;case 5:if(o!==40)break;s.storeDigitalGoodsApiSupportStatus=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function t3(){return{notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0}}const ca={encode(t,e=new D){return t.notificationsSetting!==void 0&&e.uint32(8).int32(t.notificationsSetting),t.lastDeviceOptInChangeTimeAgoSec!==void 0&&e.uint32(16).int64(t.lastDeviceOptInChangeTimeAgoSec),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=t3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.notificationsSetting=n.int32();continue;case 2:if(o!==16)break;s.lastDeviceOptInChangeTimeAgoSec=Ii(n.int64());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function n3(){return{glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0}}const ua={encode(t,e=new D){return t.glRenderer!==void 0&&e.uint32(10).string(t.glRenderer),t.glEsVersionMajor!==void 0&&e.uint32(16).int32(t.glEsVersionMajor),t.glEsVersionMinor!==void 0&&e.uint32(24).int32(t.glEsVersionMinor),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=n3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.glRenderer=n.string();continue;case 2:if(o!==16)break;s.glEsVersionMajor=n.int32();continue;case 3:if(o!==24)break;s.glEsVersionMinor=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function i3(){return{appliances:void 0,interactionLevel:void 0}}const la={encode(t,e=new D){return t.appliances!==void 0&&da.encode(t.appliances,e.uint32(10).fork()).join(),t.interactionLevel!==void 0&&e.uint32(16).int32(t.interactionLevel),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=i3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.appliances=da.decode(n,n.uint32());continue;case 2:if(o!==16)break;s.interactionLevel=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function s3(){return{contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0}}const da={encode(t,e=new D){return t.contentProfileToken!==void 0&&e.uint32(10).bytes(t.contentProfileToken),t.status!==void 0&&e.uint32(16).int32(t.status),t.hostname!==void 0&&e.uint32(26).string(t.hostname),t.active!==void 0&&e.uint32(32).bool(t.active),t.deviceId!==void 0&&e.uint32(42).string(t.deviceId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=s3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.contentProfileToken=n.bytes();continue;case 2:if(o!==16)break;s.status=n.int32();continue;case 3:if(o!==26)break;s.hostname=n.string();continue;case 4:if(o!==32)break;s.active=n.bool();continue;case 5:if(o!==42)break;s.deviceId=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function o3(){return{cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0}}const ha={encode(t,e=new D){return t.cpid!==void 0&&e.uint32(394).string(t.cpid),t.serializedDataPlanStatus!==void 0&&e.uint32(402).string(t.serializedDataPlanStatus),t.dataSavingQualityPickerEnabled!==void 0&&e.uint32(416).bool(t.dataSavingQualityPickerEnabled),t.mccmnc!==void 0&&e.uint32(426).string(t.mccmnc),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=o3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 49:if(o!==394)break;s.cpid=n.string();continue;case 50:if(o!==402)break;s.serializedDataPlanStatus=n.string();continue;case 52:if(o!==416)break;s.dataSavingQualityPickerEnabled=n.bool();continue;case 53:if(o!==426)break;s.mccmnc=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function r3(){return{coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0}}const fa={encode(t,e=new D){return t.coldConfigData!==void 0&&e.uint32(10).string(t.coldConfigData),t.coldHashData!==void 0&&e.uint32(26).string(t.coldHashData),t.hotHashData!==void 0&&e.uint32(42).string(t.hotHashData),t.appInstallData!==void 0&&e.uint32(50).string(t.appInstallData),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=r3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.coldConfigData=n.string();continue;case 3:if(o!==26)break;s.coldHashData=n.string();continue;case 5:if(o!==42)break;s.hotHashData=n.string();continue;case 6:if(o!==50)break;s.appInstallData=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function a3(){return{latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0}}const pa={encode(t,e=new D){return t.latitudeE7!==void 0&&e.uint32(8).int32(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(16).int32(t.longitudeE7),t.localTimestampMs!==void 0&&e.uint32(24).int64(t.localTimestampMs),t.ipAddress!==void 0&&e.uint32(34).string(t.ipAddress),t.timezone!==void 0&&e.uint32(42).string(t.timezone),t.prefer24HourTime!==void 0&&e.uint32(48).bool(t.prefer24HourTime),t.locationRadiusMeters!==void 0&&e.uint32(56).int32(t.locationRadiusMeters),t.isInitialLoad!==void 0&&e.uint32(64).bool(t.isInitialLoad),t.browserPermissionGranted!==void 0&&e.uint32(72).bool(t.browserPermissionGranted),t.clientPermissionState!==void 0&&e.uint32(80).int32(t.clientPermissionState),t.locationOverrideToken!==void 0&&e.uint32(90).string(t.locationOverrideToken),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=a3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.latitudeE7=n.int32();continue;case 2:if(o!==16)break;s.longitudeE7=n.int32();continue;case 3:if(o!==24)break;s.localTimestampMs=Ii(n.int64());continue;case 4:if(o!==34)break;s.ipAddress=n.string();continue;case 5:if(o!==42)break;s.timezone=n.string();continue;case 6:if(o!==48)break;s.prefer24HourTime=n.bool();continue;case 7:if(o!==56)break;s.locationRadiusMeters=n.int32();continue;case 8:if(o!==64)break;s.isInitialLoad=n.bool();continue;case 9:if(o!==72)break;s.browserPermissionGranted=n.bool();continue;case 10:if(o!==80)break;s.clientPermissionState=n.int32();continue;case 11:if(o!==90)break;s.locationOverrideToken=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function c3(){return{contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0}}const ma={encode(t,e=new D){return t.contentSettings!==void 0&&_a.encode(t.contentSettings,e.uint32(10).fork()).join(),t.parentCurationMode!==void 0&&e.uint32(16).int32(t.parentCurationMode),t.categorySettings!==void 0&&ba.encode(t.categorySettings,e.uint32(26).fork()).join(),t.userEducationSettings!==void 0&&ga.encode(t.userEducationSettings,e.uint32(34).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=c3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.contentSettings=_a.decode(n,n.uint32());continue;case 2:if(o!==16)break;s.parentCurationMode=n.int32();continue;case 3:if(o!==26)break;s.categorySettings=ba.decode(n,n.uint32());continue;case 4:if(o!==34)break;s.userEducationSettings=ga.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function u3(){return{kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0}}const _a={encode(t,e=new D){return t.kidsNoSearchMode!==void 0&&e.uint32(8).int32(t.kidsNoSearchMode),t.ageUpMode!==void 0&&e.uint32(16).int32(t.ageUpMode),t.contentDensity!==void 0&&e.uint32(24).int32(t.contentDensity),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=u3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.kidsNoSearchMode=n.int32();continue;case 2:if(o!==16)break;s.ageUpMode=n.int32();continue;case 3:if(o!==24)break;s.contentDensity=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function l3(){return{enabledCategories:void 0}}const ba={encode(t,e=new D){return t.enabledCategories!==void 0&&e.uint32(10).string(t.enabledCategories),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=l3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.enabledCategories=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function d3(){return{hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0}}const ga={encode(t,e=new D){return t.hasSeenHomeChipBarUserEducation!==void 0&&e.uint32(8).bool(t.hasSeenHomeChipBarUserEducation),t.hasSeenHomePivotBarUserEducation!==void 0&&e.uint32(16).bool(t.hasSeenHomePivotBarUserEducation),t.hasSeenParentMuirUserEducation!==void 0&&e.uint32(24).bool(t.hasSeenParentMuirUserEducation),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=d3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.hasSeenHomeChipBarUserEducation=n.bool();continue;case 2:if(o!==16)break;s.hasSeenHomePivotBarUserEducation=n.bool();continue;case 3:if(o!==24)break;s.hasSeenParentMuirUserEducation=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function h3(){return{playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0}}const ya={encode(t,e=new D){return t.playBackMode!==void 0&&e.uint32(8).int32(t.playBackMode),t.musicLocationMasterSwitch!==void 0&&e.uint32(16).int32(t.musicLocationMasterSwitch),t.musicActivityMasterSwitch!==void 0&&e.uint32(24).int32(t.musicActivityMasterSwitch),t.offlineMixtapeEnabled!==void 0&&e.uint32(32).bool(t.offlineMixtapeEnabled),t.autoOfflineEnabled!==void 0&&e.uint32(40).bool(t.autoOfflineEnabled),t.iosBackgroundRefreshStatus!==void 0&&e.uint32(48).int32(t.iosBackgroundRefreshStatus),t.smartDownloadsSongLimit!==void 0&&e.uint32(56).int32(t.smartDownloadsSongLimit),t.transitionedFromMixtapeToSmartDownloads!==void 0&&e.uint32(64).bool(t.transitionedFromMixtapeToSmartDownloads),t.pwaInstallabilityStatus!==void 0&&e.uint32(72).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(80).int32(t.webDisplayMode),t.musicTier!==void 0&&e.uint32(88).int32(t.musicTier),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(96).int32(t.storeDigitalGoodsApiSupportStatus),t.smartDownloadsTimeSinceLastOptOutSec!==void 0&&e.uint32(104).int64(t.smartDownloadsTimeSinceLastOptOutSec),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=h3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.playBackMode=n.int32();continue;case 2:if(o!==16)break;s.musicLocationMasterSwitch=n.int32();continue;case 3:if(o!==24)break;s.musicActivityMasterSwitch=n.int32();continue;case 4:if(o!==32)break;s.offlineMixtapeEnabled=n.bool();continue;case 5:if(o!==40)break;s.autoOfflineEnabled=n.bool();continue;case 6:if(o!==48)break;s.iosBackgroundRefreshStatus=n.int32();continue;case 7:if(o!==56)break;s.smartDownloadsSongLimit=n.int32();continue;case 8:if(o!==64)break;s.transitionedFromMixtapeToSmartDownloads=n.bool();continue;case 9:if(o!==72)break;s.pwaInstallabilityStatus=n.int32();continue;case 10:if(o!==80)break;s.webDisplayMode=n.int32();continue;case 11:if(o!==88)break;s.musicTier=n.int32();continue;case 12:if(o!==96)break;s.storeDigitalGoodsApiSupportStatus=n.int32();continue;case 13:if(o!==104)break;s.smartDownloadsTimeSinceLastOptOutSec=Ii(n.int64());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function f3(){return{mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0}}const wa={encode(t,e=new D){return t.mdxImpactedSessionsServerEvents!==void 0&&e.uint32(26).string(t.mdxImpactedSessionsServerEvents),t.enablePrivacyFilter!==void 0&&e.uint32(48).bool(t.enablePrivacyFilter),t.zylonLeftNav!==void 0&&e.uint32(56).bool(t.zylonLeftNav),t.certificationScope!==void 0&&e.uint32(74).string(t.certificationScope),t.livingRoomPoTokenId!==void 0&&e.uint32(82).string(t.livingRoomPoTokenId),t.jsEngineString!==void 0&&e.uint32(98).string(t.jsEngineString),t.voiceCapability!==void 0&&ka.encode(t.voiceCapability,e.uint32(106).fork()).join(),t.systemIntegrator!==void 0&&e.uint32(114).string(t.systemIntegrator),t.androidBuildFingerprint!==void 0&&e.uint32(146).string(t.androidBuildFingerprint),t.cobaltAppVersion!==void 0&&e.uint32(154).string(t.cobaltAppVersion),t.cobaltStarboardVersion!==void 0&&e.uint32(162).string(t.cobaltStarboardVersion),t.useStartPlaybackPreviewCommand!==void 0&&e.uint32(176).bool(t.useStartPlaybackPreviewCommand),t.shouldShowPersistentSigninOnHome!==void 0&&e.uint32(184).bool(t.shouldShowPersistentSigninOnHome),t.androidPlayServicesVersion!==void 0&&e.uint32(194).string(t.androidPlayServicesVersion),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=f3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 3:if(o!==26)break;s.mdxImpactedSessionsServerEvents=n.string();continue;case 6:if(o!==48)break;s.enablePrivacyFilter=n.bool();continue;case 7:if(o!==56)break;s.zylonLeftNav=n.bool();continue;case 9:if(o!==74)break;s.certificationScope=n.string();continue;case 10:if(o!==82)break;s.livingRoomPoTokenId=n.string();continue;case 12:if(o!==98)break;s.jsEngineString=n.string();continue;case 13:if(o!==106)break;s.voiceCapability=ka.decode(n,n.uint32());continue;case 14:if(o!==114)break;s.systemIntegrator=n.string();continue;case 18:if(o!==146)break;s.androidBuildFingerprint=n.string();continue;case 19:if(o!==154)break;s.cobaltAppVersion=n.string();continue;case 20:if(o!==162)break;s.cobaltStarboardVersion=n.string();continue;case 22:if(o!==176)break;s.useStartPlaybackPreviewCommand=n.bool();continue;case 23:if(o!==184)break;s.shouldShowPersistentSigninOnHome=n.bool();continue;case 24:if(o!==194)break;s.androidPlayServicesVersion=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function p3(){return{hasSoftMicSupport:void 0,hasHardMicSupport:void 0}}const ka={encode(t,e=new D){return t.hasSoftMicSupport!==void 0&&e.uint32(8).bool(t.hasSoftMicSupport),t.hasHardMicSupport!==void 0&&e.uint32(16).bool(t.hasHardMicSupport),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=p3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.hasSoftMicSupport=n.bool();continue;case 2:if(o!==16)break;s.hasHardMicSupport=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function m3(){return{enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0}}const Ta={encode(t,e=new D){return t.enableFilterMode!==void 0&&e.uint32(16).bool(t.enableFilterMode),t.iosNotificationPermission!==void 0&&e.uint32(24).bool(t.iosNotificationPermission),t.forceEnableEpg3!==void 0&&e.uint32(56).bool(t.forceEnableEpg3),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=m3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==16)break;s.enableFilterMode=n.bool();continue;case 3:if(o!==24)break;s.iosNotificationPermission=n.bool();continue;case 7:if(o!==56)break;s.forceEnableEpg3=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function _3(){return{locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0}}const Ca={encode(t,e=new D){return t.locationInfoStatus!==void 0&&e.uint32(8).int32(t.locationInfoStatus),t.ulrStatus!==void 0&&Ia.encode(t.ulrStatus,e.uint32(18).fork()).join(),t.latitudeE7!==void 0&&e.uint32(26).string(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(34).string(t.longitudeE7),t.horizontalAccuracyMeters!==void 0&&e.uint32(42).string(t.horizontalAccuracyMeters),t.locationFreshnessMs!==void 0&&e.uint32(50).string(t.locationFreshnessMs),t.locationPermissionAuthorizationStatus!==void 0&&e.uint32(56).int32(t.locationPermissionAuthorizationStatus),t.locationOverrideToken!==void 0&&e.uint32(66).string(t.locationOverrideToken),t.forceLocationPlayabilityTokenRefresh!==void 0&&e.uint32(72).bool(t.forceLocationPlayabilityTokenRefresh),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=_3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.locationInfoStatus=n.int32();continue;case 2:if(o!==18)break;s.ulrStatus=Ia.decode(n,n.uint32());continue;case 3:if(o!==26)break;s.latitudeE7=n.string();continue;case 4:if(o!==34)break;s.longitudeE7=n.string();continue;case 5:if(o!==42)break;s.horizontalAccuracyMeters=n.string();continue;case 6:if(o!==50)break;s.locationFreshnessMs=n.string();continue;case 7:if(o!==56)break;s.locationPermissionAuthorizationStatus=n.int32();continue;case 8:if(o!==66)break;s.locationOverrideToken=n.string();continue;case 9:if(o!==72)break;s.forceLocationPlayabilityTokenRefresh=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function b3(){return{reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0}}const Ia={encode(t,e=new D){return t.reportingEnabledSetting!==void 0&&e.uint32(8).int32(t.reportingEnabledSetting),t.historyEnabledSetting!==void 0&&e.uint32(16).int32(t.historyEnabledSetting),t.isAllowed!==void 0&&e.uint32(24).bool(t.isAllowed),t.isActive!==void 0&&e.uint32(32).bool(t.isActive),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=b3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.reportingEnabledSetting=n.int32();continue;case 2:if(o!==16)break;s.historyEnabledSetting=n.int32();continue;case 3:if(o!==24)break;s.isAllowed=n.bool();continue;case 4:if(o!==32)break;s.isActive=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function g3(){return{isPartOfGroup:void 0,isGroup:void 0}}const va={encode(t,e=new D){return t.isPartOfGroup!==void 0&&e.uint32(8).bool(t.isPartOfGroup),t.isGroup!==void 0&&e.uint32(24).bool(t.isGroup),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=g3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.isPartOfGroup=n.bool();continue;case 3:if(o!==24)break;s.isGroup=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Ii(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function y3(){return{challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0}}const xa={encode(t,e=new D){return t.challenge!==void 0&&e.uint32(10).string(t.challenge),t.webResponse!==void 0&&e.uint32(18).string(t.webResponse),t.androidResponse!==void 0&&e.uint32(26).string(t.androidResponse),t.iosResponse!==void 0&&e.uint32(34).bytes(t.iosResponse),t.error!==void 0&&e.uint32(40).int32(t.error),t.adblockReporting!==void 0&&Sa.encode(t.adblockReporting,e.uint32(50).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=y3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.challenge=n.string();continue;case 2:if(o!==18)break;s.webResponse=n.string();continue;case 3:if(o!==26)break;s.androidResponse=n.string();continue;case 4:if(o!==34)break;s.iosResponse=n.bytes();continue;case 5:if(o!==40)break;s.error=n.int32();continue;case 6:if(o!==50)break;s.adblockReporting=Sa.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function w3(){return{reportingStatus:void 0,broadSpectrumDetectionResult:void 0}}const Sa={encode(t,e=new D){return t.reportingStatus!==void 0&&e.uint32(8).uint64(t.reportingStatus),t.broadSpectrumDetectionResult!==void 0&&e.uint32(16).uint64(t.broadSpectrumDetectionResult),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=w3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.reportingStatus=Ea(n.uint64());continue;case 2:if(o!==16)break;s.broadSpectrumDetectionResult=Ea(n.uint64());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Ea(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function k3(){return{thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0}}const Aa={encode(t,e=new D){t.thirdPartyDigest!==void 0&&e.uint32(50).string(t.thirdPartyDigest),t.useSsl!==void 0&&e.uint32(56).bool(t.useSsl),t.returnErrorDetail!==void 0&&e.uint32(72).bool(t.returnErrorDetail),t.ifNoneMatch!==void 0&&e.uint32(98).string(t.ifNoneMatch),t.returnLogEntry!==void 0&&e.uint32(104).bool(t.returnLogEntry),t.isPrefetch!==void 0&&e.uint32(112).bool(t.isPrefetch);for(const n of t.internalExperimentFlags)it.encode(n,e.uint32(122).fork()).join();return t.returnDebugData!==void 0&&e.uint32(128).bool(t.returnDebugData),t.innertubez!==void 0&&e.uint32(146).string(t.innertubez),t.traceProto!==void 0&&e.uint32(184).bool(t.traceProto),t.returnLogEntryJson!==void 0&&e.uint32(192).bool(t.returnLogEntryJson),t.sherlogUsername!==void 0&&e.uint32(202).string(t.sherlogUsername),t.reauthRequestInfo!==void 0&&Pa.encode(t.reauthRequestInfo,e.uint32(234).fork()).join(),t.sessionInfo!==void 0&&Ra.encode(t.sessionInfo,e.uint32(242).fork()).join(),t.returnLogEntryProto!==void 0&&e.uint32(248).bool(t.returnLogEntryProto),t.externalPrequestContext!==void 0&&e.uint32(258).string(t.externalPrequestContext),t.attestationResponseData!==void 0&&xa.encode(t.attestationResponseData,e.uint32(274).fork()).join(),t.eats!==void 0&&e.uint32(282).bytes(t.eats),t.requestQos!==void 0&&Da.encode(t.requestQos,e.uint32(290).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=k3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 6:if(o!==50)break;s.thirdPartyDigest=n.string();continue;case 7:if(o!==56)break;s.useSsl=n.bool();continue;case 9:if(o!==72)break;s.returnErrorDetail=n.bool();continue;case 12:if(o!==98)break;s.ifNoneMatch=n.string();continue;case 13:if(o!==104)break;s.returnLogEntry=n.bool();continue;case 14:if(o!==112)break;s.isPrefetch=n.bool();continue;case 15:if(o!==122)break;s.internalExperimentFlags.push(it.decode(n,n.uint32()));continue;case 16:if(o!==128)break;s.returnDebugData=n.bool();continue;case 18:if(o!==146)break;s.innertubez=n.string();continue;case 23:if(o!==184)break;s.traceProto=n.bool();continue;case 24:if(o!==192)break;s.returnLogEntryJson=n.bool();continue;case 25:if(o!==202)break;s.sherlogUsername=n.string();continue;case 29:if(o!==234)break;s.reauthRequestInfo=Pa.decode(n,n.uint32());continue;case 30:if(o!==242)break;s.sessionInfo=Ra.decode(n,n.uint32());continue;case 31:if(o!==248)break;s.returnLogEntryProto=n.bool();continue;case 32:if(o!==258)break;s.externalPrequestContext=n.string();continue;case 34:if(o!==274)break;s.attestationResponseData=xa.decode(n,n.uint32());continue;case 35:if(o!==282)break;s.eats=n.bytes();continue;case 36:if(o!==290)break;s.requestQos=Da.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function T3(){return{criticality:void 0}}const Da={encode(t,e=new D){return t.criticality!==void 0&&e.uint32(8).int32(t.criticality),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=T3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.criticality=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function C3(){return{token:void 0}}const Ra={encode(t,e=new D){return t.token!==void 0&&e.uint32(10).string(t.token),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=C3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.token=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function I3(){return{encodedReauthProofToken:void 0}}const Pa={encode(t,e=new D){return t.encodedReauthProofToken!==void 0&&e.uint32(10).string(t.encodedReauthProofToken),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=I3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.encodedReauthProofToken=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function v3(){return{developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0}}const Ma={encode(t,e=new D){return t.developerKey!==void 0&&e.uint32(10).string(t.developerKey),t.appName!==void 0&&e.uint32(18).string(t.appName),t.appPublisher!==void 0&&e.uint32(26).string(t.appPublisher),t.embedUrl!==void 0&&e.uint32(34).string(t.embedUrl),t.appVersion!==void 0&&e.uint32(50).string(t.appVersion),t.embeddedPlayerContext!==void 0&&Ba.encode(t.embeddedPlayerContext,e.uint32(58).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=v3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.developerKey=n.string();continue;case 2:if(o!==18)break;s.appName=n.string();continue;case 3:if(o!==26)break;s.appPublisher=n.string();continue;case 4:if(o!==34)break;s.embedUrl=n.string();continue;case 6:if(o!==50)break;s.appVersion=n.string();continue;case 7:if(o!==58)break;s.embeddedPlayerContext=Ba.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function x3(){return{ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0}}const Ba={encode(t,e=new D){return t.ancestorOrigins!==void 0&&e.uint32(10).string(t.ancestorOrigins),t.embeddedPlayerEncryptedContext!==void 0&&e.uint32(18).string(t.embeddedPlayerEncryptedContext),t.ancestorOriginsSupported!==void 0&&e.uint32(24).bool(t.ancestorOriginsSupported),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=x3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.ancestorOrigins=n.string();continue;case 2:if(o!==18)break;s.embeddedPlayerEncryptedContext=n.string();continue;case 3:if(o!==24)break;s.ancestorOriginsSupported=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function S3(){return{onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0}}const La={encode(t,e=new D){t.onBehalfOfUser!==void 0&&e.uint32(26).string(t.onBehalfOfUser),t.enableSafetyMode!==void 0&&e.uint32(56).bool(t.enableSafetyMode);for(const n of t.credentialTransferTokens)Ua.encode(n,e.uint32(98).fork()).join();return t.delegatePurchases!==void 0&&Oa.encode(t.delegatePurchases,e.uint32(106).fork()).join(),t.kidsParent!==void 0&&Na.encode(t.kidsParent,e.uint32(114).fork()).join(),t.isIncognito!==void 0&&e.uint32(120).bool(t.isIncognito),t.lockedSafetyMode!==void 0&&e.uint32(128).bool(t.lockedSafetyMode),t.delegationContext!==void 0&&Va.encode(t.delegationContext,e.uint32(138).fork()).join(),t.serializedDelegationContext!==void 0&&e.uint32(146).string(t.serializedDelegationContext),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=S3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 3:if(o!==26)break;s.onBehalfOfUser=n.string();continue;case 7:if(o!==56)break;s.enableSafetyMode=n.bool();continue;case 12:if(o!==98)break;s.credentialTransferTokens.push(Ua.decode(n,n.uint32()));continue;case 13:if(o!==106)break;s.delegatePurchases=Oa.decode(n,n.uint32());continue;case 14:if(o!==114)break;s.kidsParent=Na.decode(n,n.uint32());continue;case 15:if(o!==120)break;s.isIncognito=n.bool();continue;case 16:if(o!==128)break;s.lockedSafetyMode=n.bool();continue;case 17:if(o!==138)break;s.delegationContext=Va.decode(n,n.uint32());continue;case 18:if(o!==146)break;s.serializedDelegationContext=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function E3(){return{}}const Na={encode(t,e=new D){return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=E3();for(;n.pos<i;){const o=n.uint32();if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function A3(){return{}}const Oa={encode(t,e=new D){return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=A3();for(;n.pos<i;){const o=n.uint32();if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function D3(){return{}}const Va={encode(t,e=new D){return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=D3();for(;n.pos<i;){const o=n.uint32();if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function R3(){return{}}const Ua={encode(t,e=new D){return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=R3();for(;n.pos<i;){const o=n.uint32();if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function P3(){return{client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]}}const Fa={encode(t,e=new D){t.client!==void 0&&Tn.encode(t.client,e.uint32(10).fork()).join(),t.user!==void 0&&La.encode(t.user,e.uint32(26).fork()).join(),t.capabilities!==void 0&&ra.encode(t.capabilities,e.uint32(34).fork()).join(),t.request!==void 0&&Aa.encode(t.request,e.uint32(42).fork()).join(),t.clickTracking!==void 0&&ja.encode(t.clickTracking,e.uint32(50).fork()).join(),t.thirdParty!==void 0&&Ma.encode(t.thirdParty,e.uint32(58).fork()).join(),t.remoteClient!==void 0&&Tn.encode(t.remoteClient,e.uint32(66).fork()).join(),t.adSignalsInfo!==void 0&&$a.encode(t.adSignalsInfo,e.uint32(74).fork()).join(),t.experimentalData!==void 0&&qa.encode(t.experimentalData,e.uint32(82).fork()).join(),t.clientScreenNonce!==void 0&&e.uint32(90).string(t.clientScreenNonce);for(const n of t.activePlayers)Ha.encode(n,e.uint32(98).fork()).join();return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=P3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.client=Tn.decode(n,n.uint32());continue;case 3:if(o!==26)break;s.user=La.decode(n,n.uint32());continue;case 4:if(o!==34)break;s.capabilities=ra.decode(n,n.uint32());continue;case 5:if(o!==42)break;s.request=Aa.decode(n,n.uint32());continue;case 6:if(o!==50)break;s.clickTracking=ja.decode(n,n.uint32());continue;case 7:if(o!==58)break;s.thirdParty=Ma.decode(n,n.uint32());continue;case 8:if(o!==66)break;s.remoteClient=Tn.decode(n,n.uint32());continue;case 9:if(o!==74)break;s.adSignalsInfo=$a.decode(n,n.uint32());continue;case 10:if(o!==82)break;s.experimentalData=qa.decode(n,n.uint32());continue;case 11:if(o!==90)break;s.clientScreenNonce=n.string();continue;case 12:if(o!==98)break;s.activePlayers.push(Ha.decode(n,n.uint32()));continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function M3(){return{params:[]}}const qa={encode(t,e=new D){for(const n of t.params)it.encode(n,e.uint32(10).fork()).join();return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=M3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.params.push(it.decode(n,n.uint32()));continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function B3(){return{playerContextParams:void 0}}const Ha={encode(t,e=new D){return t.playerContextParams!==void 0&&e.uint32(10).bytes(t.playerContextParams),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=B3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.playerContextParams=n.bytes();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function L3(){return{clickTrackingParams:void 0}}const ja={encode(t,e=new D){return t.clickTrackingParams!==void 0&&e.uint32(18).bytes(t.clickTrackingParams),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=L3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;s.clickTrackingParams=n.bytes();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function N3(){return{params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0}}const $a={encode(t,e=new D){for(const n of t.params)it.encode(n,e.uint32(10).fork()).join();return t.bid!==void 0&&e.uint32(18).string(t.bid),t.mutsuId!==void 0&&e.uint32(26).string(t.mutsuId),t.consentBumpState!==void 0&&e.uint32(34).string(t.consentBumpState),t.advertisingId!==void 0&&e.uint32(58).string(t.advertisingId),t.limitAdTracking!==void 0&&e.uint32(72).bool(t.limitAdTracking),t.attributionOsSupportedVersion!==void 0&&e.uint32(82).string(t.attributionOsSupportedVersion),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=N3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.params.push(it.decode(n,n.uint32()));continue;case 2:if(o!==18)break;s.bid=n.string();continue;case 3:if(o!==26)break;s.mutsuId=n.string();continue;case 4:if(o!==34)break;s.consentBumpState=n.string();continue;case 7:if(o!==58)break;s.advertisingId=n.string();continue;case 9:if(o!==72)break;s.limitAdTracking=n.bool();continue;case 10:if(o!==82)break;s.attributionOsSupportedVersion=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function O3(){return{context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0}}const V3={encode(t,e=new D){return t.context!==void 0&&Fa.encode(t.context,e.uint32(10).fork()).join(),t.encryptedVideoId!==void 0&&e.uint32(18).string(t.encryptedVideoId),t.title!==void 0&&Wa.encode(t.title,e.uint32(26).fork()).join(),t.description!==void 0&&Ya.encode(t.description,e.uint32(34).fork()).join(),t.privacy!==void 0&&Ka.encode(t.privacy,e.uint32(42).fork()).join(),t.tags!==void 0&&za.encode(t.tags,e.uint32(50).fork()).join(),t.category!==void 0&&Ga.encode(t.category,e.uint32(58).fork()).join(),t.license!==void 0&&Ja.encode(t.license,e.uint32(66).fork()).join(),t.ageRestriction!==void 0&&Za.encode(t.ageRestriction,e.uint32(90).fork()).join(),t.videoStill!==void 0&&ec.encode(t.videoStill,e.uint32(162).fork()).join(),t.madeForKids!==void 0&&Xa.encode(t.madeForKids,e.uint32(546).fork()).join(),t.racy!==void 0&&Qa.encode(t.racy,e.uint32(554).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=O3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.context=Fa.decode(n,n.uint32());continue;case 2:if(o!==18)break;s.encryptedVideoId=n.string();continue;case 3:if(o!==26)break;s.title=Wa.decode(n,n.uint32());continue;case 4:if(o!==34)break;s.description=Ya.decode(n,n.uint32());continue;case 5:if(o!==42)break;s.privacy=Ka.decode(n,n.uint32());continue;case 6:if(o!==50)break;s.tags=za.decode(n,n.uint32());continue;case 7:if(o!==58)break;s.category=Ga.decode(n,n.uint32());continue;case 8:if(o!==66)break;s.license=Ja.decode(n,n.uint32());continue;case 11:if(o!==90)break;s.ageRestriction=Za.decode(n,n.uint32());continue;case 20:if(o!==162)break;s.videoStill=ec.decode(n,n.uint32());continue;case 68:if(o!==546)break;s.madeForKids=Xa.decode(n,n.uint32());continue;case 69:if(o!==554)break;s.racy=Qa.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function U3(){return{newTitle:void 0}}const Wa={encode(t,e=new D){return t.newTitle!==void 0&&e.uint32(10).string(t.newTitle),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=U3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newTitle=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function F3(){return{newDescription:void 0}}const Ya={encode(t,e=new D){return t.newDescription!==void 0&&e.uint32(10).string(t.newDescription),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=F3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newDescription=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function q3(){return{newPrivacy:void 0,clearPrivacyDraft:void 0}}const Ka={encode(t,e=new D){return t.newPrivacy!==void 0&&e.uint32(8).int32(t.newPrivacy),t.clearPrivacyDraft!==void 0&&e.uint32(16).bool(t.clearPrivacyDraft),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=q3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.newPrivacy=n.int32();continue;case 2:if(o!==16)break;s.clearPrivacyDraft=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function H3(){return{newTags:[]}}const za={encode(t,e=new D){for(const n of t.newTags)e.uint32(10).string(n);return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=H3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newTags.push(n.string());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function j3(){return{newCategoryId:void 0}}const Ga={encode(t,e=new D){return t.newCategoryId!==void 0&&e.uint32(8).int32(t.newCategoryId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=j3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.newCategoryId=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function $3(){return{newLicenseId:void 0}}const Ja={encode(t,e=new D){return t.newLicenseId!==void 0&&e.uint32(10).string(t.newLicenseId),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=$3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newLicenseId=n.string();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function W3(){return{operation:void 0,newMfk:void 0}}const Xa={encode(t,e=new D){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newMfk!==void 0&&e.uint32(16).int32(t.newMfk),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=W3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.operation=n.int32();continue;case 2:if(o!==16)break;s.newMfk=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function Y3(){return{operation:void 0,newRacy:void 0}}const Qa={encode(t,e=new D){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newRacy!==void 0&&e.uint32(16).int32(t.newRacy),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=Y3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.operation=n.int32();continue;case 2:if(o!==16)break;s.newRacy=n.int32();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function K3(){return{newIsAgeRestricted:void 0}}const Za={encode(t,e=new D){return t.newIsAgeRestricted!==void 0&&e.uint32(8).bool(t.newIsAgeRestricted),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=K3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.newIsAgeRestricted=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function z3(){return{operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]}}const ec={encode(t,e=new D){t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newStillId!==void 0&&e.uint32(16).int32(t.newStillId),t.image!==void 0&&It.encode(t.image,e.uint32(26).fork()).join(),t.testImage!==void 0&&It.encode(t.testImage,e.uint32(34).fork()).join();for(const n of t.experimentImage)tc.encode(n,e.uint32(50).fork()).join();return e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=z3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;s.operation=n.int32();continue;case 2:if(o!==16)break;s.newStillId=n.int32();continue;case 3:if(o!==26)break;s.image=It.decode(n,n.uint32());continue;case 4:if(o!==34)break;s.testImage=It.decode(n,n.uint32());continue;case 6:if(o!==50)break;s.experimentImage.push(tc.decode(n,n.uint32()));continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function G3(){return{image:void 0}}const tc={encode(t,e=new D){return t.image!==void 0&&It.encode(t.image,e.uint32(10).fork()).join(),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=G3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.image=It.decode(n,n.uint32());continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function J3(){return{rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0}}const It={encode(t,e=new D){return t.rawBytes!==void 0&&e.uint32(10).bytes(t.rawBytes),t.dataUri!==void 0&&e.uint32(18).string(t.dataUri),t.frameTimestampUs!==void 0&&e.uint32(32).int64(t.frameTimestampUs),t.isVertical!==void 0&&e.uint32(40).bool(t.isVertical),e},decode(t,e){const n=t instanceof y?t:new y(t);let i=e===void 0?n.len:n.pos+e;const s=J3();for(;n.pos<i;){const o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;s.rawBytes=n.bytes();continue;case 2:if(o!==18)break;s.dataUri=n.string();continue;case 4:if(o!==32)break;s.frameTimestampUs=X3(n.int64());continue;case 5:if(o!==40)break;s.isVertical=n.bool();continue}if((o&7)===4||o===0)break;n.skip(o&7)}return s}};function X3(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}class Q3{#e;constructor(e){this.#e=e}async updateVideoMetadata(e,n){const i=this.#e;if(!i.logged_in)throw new _("You must be signed in to perform this operation.");const s={context:{client:{osName:"Android",clientName:parseInt(Rn.ANDROID),clientVersion:M.ANDROID.VERSION,androidSdkVersion:M.ANDROID.SDK_VERSION,visitorData:i.context.client.visitorData,osVersion:"13",acceptLanguage:i.context.client.hl,acceptRegion:i.context.client.gl,deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",screenHeightPoints:840,screenWidthPoints:432,configInfo:{appInstallData:i.context.client.configInfo?.appInstallData},timeZone:i.context.client.timeZone,chipset:"qcom;taro"},activePlayers:[]},encryptedVideoId:e};if(n.title&&(s.title={newTitle:n.title}),n.description&&(s.description={newDescription:n.description}),n.license&&(s.license={newLicenseId:n.license}),n.tags&&(s.tags={newTags:n.tags}),n.thumbnail&&(s.videoStill={operation:3,image:{rawBytes:n.thumbnail},experimentImage:[]}),Reflect.has(n,"category")&&(s.category={newCategoryId:n.category}),Reflect.has(n,"privacy"))switch(n.privacy){case"PUBLIC":s.privacy={newPrivacy:1};break;case"UNLISTED":s.privacy={newPrivacy:2};break;case"PRIVATE":s.privacy={newPrivacy:3};break;default:throw new Error("Invalid privacy setting")}Reflect.has(n,"made_for_kids")&&(s.madeForKids={operation:1,newMfk:n.made_for_kids?1:2}),Reflect.has(n,"age_restricted")&&(s.racy={operation:1,newRacy:n.age_restricted?1:2});const o=V3.encode(s);return await i.actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o.finish()})}async upload(e,n={}){if(!this.#e.logged_in)throw new _("You must be signed in to perform this operation.");const i=await this.#t(),s=await this.#n(i.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new _("Could not process video.");return await this.#s(i,s,n)}async#t(){const e=`innertube_android:${K.shim.uuidv4()}:0:v=3,api=1,cf=3`,n={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${K.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},i=await this.#e.http.fetch("/upload/youtubei",{baseURL:X.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(n)});if(!i.ok)throw new _("Could not get initial upload data");return{frontend_upload_id:e,upload_id:i.headers.get("x-guploader-uploadid"),upload_url:i.headers.get("x-goog-upload-url"),scotty_resource_id:i.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:i.headers.get("x-goog-upload-chunk-granularity")}}async#n(e,n){const i=await this.#e.http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:n});if(!i.ok)throw new _("Could not upload video");return await i.json()}async#s(e,n,i){return await this.#e.actions.execute("/upload/createvideo",{resourceId:{scottyResourceId:{id:n.scottyResourceId}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:i.title},description:{newDescription:i.description,shouldSegment:!0},privacy:{newPrivacy:i.privacy||"PRIVATE"},draftState:{isDraft:!!i.is_draft}}})}}class Z3{#e;constructor(e){this.#e=e}async getInfo(e=!1){if(!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");if(!e&&this.#e.session.context.user.onBehalfOfUser)throw new _('Boolean argument must be true when "on_behalf_of_user" is specified.');if(e)return(await new m({getAccountsListInnertubeEndpoint:{requestType:"ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER",callCircumstance:"SWITCHING_USERS_FULL"}}).call(this.#e,{client:"WEB",parse:!0})).actions_memo?.getType(xs)||[];const i=await new m({getAccountsListInnertubeEndpoint:{}}).call(this.#e,{client:"TV"});return new bw(i)}async getSettings(){const n=await new m({browseEndpoint:{browseId:"SPaccount_overview"}}).call(this.#e);return new Lo(this.#e,n)}}class ek{#e;constructor(e){this.#e=e}async create(e,n){if(j({title:e,video_ids:n}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const s=await new m({createPlaylistServiceEndpoint:{title:e,videoIds:n}}).call(this.#e);return{success:s.success,status_code:s.status_code,playlist_id:s.data.playlistId,data:s.data}}async delete(e){if(j({playlist_id:e}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const i=await new m({deletePlaylistServiceEndpoint:{sourcePlaylistId:e}}).call(this.#e);return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}}async addToLibrary(e){if(j({playlist_id:e}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");return await new m({likeEndpoint:{status:"LIKE",target:e}}).call(this.#e)}async removeFromLibrary(e){if(j({playlist_id:e}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");return await new m({likeEndpoint:{status:"INDIFFERENT",target:e}}).call(this.#e)}async addVideos(e,n){if(j({playlist_id:e,video_ids:n}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const s=await new m({playlistEditEndpoint:{playlistId:e,actions:n.map(o=>({action:"ACTION_ADD_VIDEO",addedVideoId:o}))}}).call(this.#e);return{playlist_id:e,action_result:s.data.actions}}async removeVideos(e,n,i=!1){if(j({playlist_id:e,video_ids:n}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const s=await this.#t(e);if(!s.info.is_editable)throw new _("This playlist cannot be edited.",e);const o={playlistId:e,actions:[]},r=async f=>{const d=i?"set_video_id":"id";if(f.videos.filter(b=>n.includes(b.key(d).string())).forEach(b=>o.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:b.key("set_video_id").string()})),o.actions.length<n.length){const b=await f.getContinuation();return r(b)}};if(await r(s),!o.actions.length)throw new _("Given video ids were not found in this playlist.",n);const l=await new m({playlistEditEndpoint:o}).call(this.#e);return{playlist_id:e,action_result:l.data.actions}}async moveVideo(e,n,i){if(j({playlist_id:e,moved_video_id:n,predecessor_video_id:i}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const s=await this.#t(e);if(!s.info.is_editable)throw new _("This playlist cannot be edited.",e);const o={playlistId:e,actions:[]};let r,a;const l=async p=>{const b=p.videos.find(g=>n===g.key("id").string()),w=p.videos.find(g=>i===g.key("id").string());if(r=r||b?.key("set_video_id").string(),a=a||w?.key("set_video_id").string(),!r||!a){const g=await p.getContinuation();return l(g)}};await l(s),o.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:r,movedSetVideoIdPredecessor:a});const d=await new m({playlistEditEndpoint:o}).call(this.#e);return{playlist_id:e,action_result:d.data.actions}}async#t(e){e.startsWith("VL")||(e=`VL${e}`);const i=await new m({browseEndpoint:{browseId:e}}).call(this.#e,{parse:!0});return new Mo(this.#e,i,!0)}async setName(e,n){if(j({playlist_id:e,name:n}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const i={playlist_id:e,actions:[]};i.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlistName:n});const o=await new m({playlistEditEndpoint:i}).call(this.#e);return{playlist_id:e,action_result:o.data.actions}}async setDescription(e,n){if(j({playlist_id:e,description:n}),!this.#e.session.logged_in)throw new _("You must be signed in to perform this operation.");const i={playlistId:e,actions:[]};i.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlistDescription:n});const o=await new m({playlistEditEndpoint:i}).call(this.#e);return{playlist_id:e,action_result:o.data.actions}}}class tk{#e;constructor(e){this.#e=e}async like(e){if(j({video_id:e}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");return new m({likeEndpoint:{status:"LIKE",target:e}}).call(this.#e,{client:"TV"})}async dislike(e){if(j({video_id:e}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");return new m({likeEndpoint:{status:"DISLIKE",target:e}}).call(this.#e,{client:"TV"})}async removeRating(e){if(j({video_id:e}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");return new m({likeEndpoint:{status:"INDIFFERENT",target:e}}).call(this.#e,{client:"TV"})}async subscribe(e){if(j({channel_id:e}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");return new m({subscribeEndpoint:{channelIds:[e],params:"EgIIAhgA"}}).call(this.#e)}async unsubscribe(e){if(j({channel_id:e}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");return new m({unsubscribeEndpoint:{channelIds:[e],params:"CgIIAhgA"}}).call(this.#e)}async comment(e,n){if(j({video_id:e,text:n}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");const i=s_.encode({videoId:e,params:{index:0},number:7}),s=encodeURIComponent(we(i.finish()));return new m({createCommentEndpoint:{commentText:n,createCommentParams:s}}).call(this.#e)}async translate(e,n,i={}){j({text:e,target_language:n});const s=Lc(22,{text:e,target_language:n,...i}),r=await new m({performCommentActionEndpoint:{action:s}}).call(this.#e),a=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:a.translatedContent.content,data:r.data}}async setNotificationPreferences(e,n){if(j({channel_id:e,type:n}),!this.#e.session.logged_in)throw new Error("You must be signed in to perform this operation.");const i={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(i).includes(n.toUpperCase()))throw new Error(`Invalid notification preference type: ${n}`);const s=$m.encode({channelId:e,prefId:{index:i[n.toUpperCase()]},number0:0,number1:4}),o=encodeURIComponent(we(s.finish()));return new m({modifyChannelNotificationPreferenceEndpoint:{params:o}}).call(this.#e)}}class Ho{#e;constructor(e){this.#e=e}static async create(e={}){return new Ho(await Gn.create(e))}async getInfo(e,n){j({target:e});const i={videoId:e instanceof m?e.payload?.videoId:e,playlistId:e instanceof m?e.payload?.playlistId:void 0,playlistIndex:e instanceof m?e.payload?.playlistIndex:void 0,params:e instanceof m?e.payload?.params:void 0,racyCheckOk:!0,contentCheckOk:!0},s=new m({watchEndpoint:i}),o=new m({watchNextEndpoint:i}),r=this.#e,a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:r.player?.signature_timestamp}},client:n?.client};n?.po_token?a.serviceIntegrityDimensions={poToken:n.po_token}:r.po_token&&(a.serviceIntegrityDimensions={poToken:r.po_token});const l=s.call(r.actions,a),f=o.call(r.actions),d=await Promise.all([l,f]),p=Fe(16);return new zn(d,r.actions,p)}async getBasicInfo(e,n){j({video_id:e});const i=new m({watchEndpoint:{videoId:e,racyCheckOk:!0,contentCheckOk:!0}}),s=this.#e,o={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:s.player?.signature_timestamp}},client:n?.client};n?.po_token?o.serviceIntegrityDimensions={poToken:n.po_token}:s.po_token&&(o.serviceIntegrityDimensions={poToken:s.po_token});const r=await i.call(s.actions,o),a=Fe(16);return new zn([r],s.actions,a)}async getShortsVideoInfo(e,n){j({video_id:e});const i=new m({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}),s=this.#e.actions,o=i.call(s,{client:n}),r=m_.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),a=encodeURIComponent(we(r.finish())),l=s.execute("/reel/reel_watch_sequence",{sequenceParams:a}),f=await Promise.all([o,l]),d=Fe(16);return new Nw([f[0]],s,d,f[1])}async search(e,n={}){j({query:e});const i={};if(i.filters={},n.sort_by&&(i.sortBy=Lm[n.sort_by.toUpperCase()]),n.upload_date&&(i.filters.uploadDate=Nm[n.upload_date.toUpperCase()]),n.type&&(i.filters.type=Om[n.type.toUpperCase()]),n.duration&&(i.filters.duration=Vm[n.duration.toUpperCase()]),n.features)for(const r of n.features)switch(r){case"360":i.filters.features360=!0;break;case"3d":i.filters.features3d=!0;break;case"4k":i.filters.features4k=!0;break;case"creative_commons":i.filters.featuresCreativeCommons=!0;break;case"hd":i.filters.featuresHd=!0;break;case"hdr":i.filters.featuresHdr=!0;break;case"live":i.filters.featuresLive=!0;break;case"location":i.filters.featuresLocation=!0;break;case"purchased":i.filters.featuresPurchased=!0;break;case"subtitles":i.filters.featuresSubtitles=!0;break;case"vr180":i.filters.featuresVr180=!0;break}const o=await new m({searchEndpoint:{query:e,params:n?encodeURIComponent(we(Bc.encode(i).finish())):void 0}}).call(this.#e.actions);return new Sw(this.actions,o)}async getSearchSuggestions(e,n){const i=this.#e,s=new URL(`${X.YT_SUGGESTIONS}/complete/search`);s.searchParams.set("client","youtube"),s.searchParams.set("gs_ri","youtube"),s.searchParams.set("gs_id","0"),s.searchParams.set("cp","0"),s.searchParams.set("ds","yt"),s.searchParams.set("sugexp",M.WEB.SUGG_EXP_ID),s.searchParams.set("hl",i.context.client.hl),s.searchParams.set("gl",i.context.client.gl),s.searchParams.set("q",e),n&&s.searchParams.set("pq",n);const r=await(await i.http.fetch_function(s,{headers:{Cookie:i.cookie||""}})).text();return JSON.parse(r.replace("window.google.ac.h(","").slice(0,-1))[1].map(l=>l[0])}async getComments(e,n,i){j({video_id:e});const s={TOP_COMMENTS:0,NEWEST_FIRST:1},o=Xm.encode({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:s[n||"TOP_COMMENTS"],type:2,commentId:i||""},target:"comments-section"}}),r=encodeURIComponent(we(o.finish())),l=await new m({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_WATCH_NEXT",token:r}}).call(this.#e.actions);return new Xt(this.actions,l.data)}async getHomeFeed(){const n=await new m({browseEndpoint:{browseId:"FEwhat_to_watch"}}).call(this.#e.actions);return new ww(this.actions,n)}async getGuide(){const e=await this.actions.execute("/guide");return new yw(e.data)}async getLibrary(){const n=await new m({browseEndpoint:{browseId:"FElibrary"}}).call(this.#e.actions);return new Tw(this.actions,n)}async getHistory(){const n=await new m({browseEndpoint:{browseId:"FEhistory"}}).call(this.#e.actions);return new Ti(this.actions,n)}async getTrending(){const n=await new m({browseEndpoint:{browseId:"FEtrending"}}).call(this.#e.actions);return new Nt(this.actions,n)}async getCourses(){const n=await new m({browseEndpoint:{browseId:"FEcourses_destination"}}).call(this.#e.actions,{parse:!0});return new ie(this.actions,n)}async getSubscriptionsFeed(){const n=await new m({browseEndpoint:{browseId:"FEsubscriptions"}}).call(this.#e.actions,{parse:!0});return new ie(this.actions,n)}async getChannelsFeed(){const n=await new m({browseEndpoint:{browseId:"FEchannels"}}).call(this.#e.actions,{parse:!0});return new ie(this.actions,n)}async getChannel(e){j({id:e});let i=await new m({browseEndpoint:{browseId:e}}).call(this.#e.actions,{parse:!0});return i.on_response_received_actions?.[0].is(xo)&&(i=await i.on_response_received_actions[0].endpoint.call(this.#e.actions,{parse:!0})),new gw(this.actions,i,!0)}async getNotifications(){const e=await this.actions.execute("/notification/get_notification_menu",{notificationsMenuRequestType:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"});return new Bo(this.actions,e)}async getUnseenNotificationsCount(){const e=await this.actions.execute("/notification/get_unseen_count");return e.data?.unseenCount||e.data?.actions?.[0].updateNotificationsUnseenCountAction?.unseenCount||0}async getPlaylists(){const n=await new m({browseEndpoint:{browseId:"FEplaylist_aggregation"}}).call(this.#e.actions,{parse:!0});return new ie(this.actions,n)}async getPlaylist(e){j({id:e}),e.startsWith("VL")||(e=`VL${e}`);const i=await new m({browseEndpoint:{browseId:e}}).call(this.#e.actions);return new Mo(this.actions,i)}async getHashtag(e){j({hashtag:e});const n=h_.encode({params:{hashtag:e,type:1}}),i=encodeURIComponent(we(n.finish())),o=await new m({browseEndpoint:{browseId:"FEhashtag",params:i}}).call(this.#e.actions);return new Po(this.actions,o)}async getStreamingData(e,n={}){const s=(await this.getBasicInfo(e,n)).chooseFormat(n);return s.url=await s.decipher(this.#e.player),s}async download(e,n){return(await this.getBasicInfo(e,n)).download(n)}async resolveURL(e){const n=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!n.endpoint)throw new _("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",n);return n.endpoint}async getPost(e,n){j({post_id:e,channel_id:n});const i=g_.encode({f1:{ucid1:n,postId:e,ucid2:n}}),s=encodeURIComponent(we(i.finish()).replace(/\+/g,"-").replace(/\//g,"_")),r=await new m({browseEndpoint:{browseId:"FEpost_detail",params:s}}).call(this.#e.actions,{parse:!0});return new ie(this.actions,r)}async getPostComments(e,n,i){j({post_id:e,channel_id:n});const s={TOP_COMMENTS:0,NEWEST_FIRST:1},o=I_.encode({title:"posts",commentDataContainer:{title:"comments-section",commentData:{sortBy:s[i||"TOP_COMMENTS"],f0:2,f1:0,channelId:n,postId:e},f0:0}}),r=k_.encode({f0:{location:"FEcomment_post_detail_page_web_top_level",protoData:encodeURIComponent(we(o.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}}),a=encodeURIComponent(we(r.finish())),f=await new m({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_BROWSE",token:a}}).call(this.#e.actions);return new Xt(this.actions,f.data)}async getAttestationChallenge(e,n){const i={engagementType:e};return n&&(i.ids=n),this.actions.execute("/att/get",{parse:!0,...i})}call(e,n){return e.call(this.actions,n)}get music(){return new Jw(this.#e)}get studio(){return new Q3(this.#e)}get kids(){return new Gw(this.#e)}get account(){return new Z3(this.#e.actions)}get playlist(){return new ek(this.#e.actions)}get interact(){return new tk(this.#e.actions)}get actions(){return this.#e.actions}get session(){return this.#e}}const nk="Cache";class ik{#e;#t;constructor(e=!1,n){this.#e=n||"",this.#t=e}get cache_dir(){return this.#t?this.#e:""}#n(){const e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((n,i)=>{const s=e.open("youtubei.js",1);s.onsuccess=function(){n(this.result)},s.onerror=function(o){i("indexedDB request error"),console.error(o)},s.onupgradeneeded=function(){const o=this.result.createObjectStore("kv-store",{keyPath:"k"});o.transaction.oncomplete=function(){n(this.db)}}}):oe(nk,"IndexedDB is not supported. No cache will be used.")}async get(e){const n=await this.#n();if(n)return new Promise((i,s)=>{const o=n.transaction("kv-store","readonly").objectStore("kv-store").get(e);o.onerror=s,o.onsuccess=function(){const r=this.result?.v;r instanceof ArrayBuffer?i(r):ArrayBuffer.isView(r)?i(r.buffer):i(void 0)}})}async set(e,n){const i=await this.#n();if(i)return new Promise((s,o)=>{const r=i.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:n});r.onerror=o,r.onsuccess=()=>s()})}async remove(e){const n=await this.#n();if(n)return new Promise((i,s)=>{const o=n.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);o.onerror=s,o.onsuccess=()=>i()})}}K.load({runtime:"browser",server:!1,Cache:ik,sha1Hash:$w,uuidv4(){return globalThis.crypto?.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>{const e=parseInt(t);return(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},eval:Ww,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});function sk(t){return{itag:t.itag,lastModified:t.last_modified_ms||t.lastModified||"0",xtags:t.xtags,width:t.width,height:t.height,mimeType:t.mime_type||t.mimeType,audioQuality:t.audio_quality||t.audioQuality,bitrate:t.bitrate,averageBitrate:t.average_bitrate||t.averageBitrate,quality:t.quality,qualityLabel:t.quality_label||t.qualityLabel,audioTrackId:t.audio_track?.id||t.audioTrackId,approxDurationMs:t.approx_duration_ms||parseInt(t.approxDurationMs||"0"),contentLength:parseInt(t.contentLength||"0")||t.content_length,isDrc:t.is_drc,isAutoDubbed:t.is_auto_dubbed,isDescriptive:t.is_descriptive,isDubbed:t.is_dubbed,language:t.language,isOriginal:t.is_original,isSecondary:t.is_secondary}}const hn=t=>t&&typeof t=="object"&&"seconds"in t?t.seconds??0:0;K.shim.eval=async(t,e)=>{const n=[];e.n&&n.push(`n: exportedVars.nFunction("${e.n}")`),e.sig&&n.push(`sig: exportedVars.sigFunction("${e.sig}")`);const i=`${t.output}
return { ${n.join(", ")} }`;return new Function(i)()};let Mi;const $e=async()=>(Mi||(Mi=await Ho.create({fetch:application.networkRequest,cookie:"CONSENT=YES+"})),Mi),ok=async()=>({videos:{items:(await(await $e()).getHomeFeed()).videos.filter(i=>"thumbnails"in i&&"author"in i).map(i=>({apiId:i.id,title:i.title.toString(),duration:hn(i.duration),channelName:i.author.name,channelApiId:i.author.id,images:i.thumbnails}))}}),rk=async t=>{console.log("Getting video info for id",t);const e=await $e(),n=await e.actions.execute("/player",{videoId:t,contentCheckOk:!0,racyCheckOk:!0,playbackContext:{contentPlaybackContext:{signatureTimestamp:e.session.player?.signature_timestamp}}}),i=Fe(16),s=new zn([n],e.actions,i);console.log("Got video info from innertube",s);const o=s.basic_info,r=!!o.is_live,a=!!o.is_post_live_dvr||!!o.is_live_content&&!!(s.streaming_data?.dash_manifest_url||s.streaming_data?.hls_manifest_url),l=await e.getInfo(t),f=l.primary_info,d=l.secondary_info?.owner,p=(l.watch_next_feed??[]).filter(w=>w.type==="CompactVideo").map(w=>{const g=w;return{apiId:g.id,title:g.title.toString(),duration:hn(g.duration),channelName:g.author.name,channelApiId:g.author.id,images:g.thumbnails}});if(s.streaming_data){let w="",g;r?g=s.streaming_data.dash_manifest_url?`${s.streaming_data.dash_manifest_url}/mpd_version/7`:s.streaming_data.hls_manifest_url:a?g=s.streaming_data.hls_manifest_url||(s.streaming_data.dash_manifest_url?`${s.streaming_data.dash_manifest_url}/mpd_version/7`:void 0):w=btoa(await s.toDash({manifest_options:{is_sabr:!0,captions_format:"vtt",include_thumbnails:!1}}));const I=await e.session.player.decipher(s.streaming_data?.server_abr_streaming_url),v={manifest:w,streamingUrl:I,formats:s.streaming_data.adaptive_formats.map(sk),ustreamerConfig:s.player_config?.media_common_config.media_ustreamer_request_config?.video_playback_ustreamer_config,clientInfo:{osName:e.session.context.client.osName,osVersion:e.session.context.client.osVersion,clientName:parseInt(Rn[e.session.context.client.clientName]),clientVersion:e.session.context.client.clientVersion},videoId:t,title:o.title??"",isLive:r,isPostLiveDVR:a,liveManifestUrl:g};se.setItem(dp,JSON.stringify(v))}const b={title:o.title??"",apiId:t,sources:[],duration:o.duration??0,views:o.view_count??0,likes:0,description:o.short_description??"",channelName:d?.author?.name??"",channelApiId:d?.author?.id??"",uploadDate:f?.published?.text?new Date(f.published.text).toISOString():void 0,recommendedVideos:p,images:o.thumbnail??[]};return console.log("Got video info",b),b},ak=async(t,e)=>{const n=await $e(),i=await n.actions.execute("/player",{videoId:t,contentCheckOk:!0,racyCheckOk:!0,playbackContext:{contentPlaybackContext:{signatureTimestamp:n.session.player?.signature_timestamp},reloadPlaybackContext:e}}),s=Fe(16),o=new zn([i],n.actions,s),r=await n.session.player.decipher(o.streaming_data?.server_abr_streaming_url),a=o.player_config?.media_common_config.media_ustreamer_request_config?.video_playback_ustreamer_config;return{streamingUrl:r,ustreamerConfig:a}},ck=async t=>(await(await $e()).getSearchSuggestions(t.query)).map(i=>typeof i=="string"?i:i.toString()),Af=async t=>{if(!t.apiId)return{comments:[],pageInfo:{resultsPerPage:0,offset:0}};try{const i=(await(await $e()).getComments(t.apiId)).contents.filter(o=>o.type==="CommentThread").map(o=>{const r=o.comment;return{apiId:r?.comment_id??"",videoCommentId:t.apiId,content:r?.content?.toString()??"",author:r?.author?.name??"",images:r?.author?.thumbnails??[],likes:r?.vote_count?.text&&parseInt(r.vote_count.text.replace(/[^0-9]/g,""))||0}}),s={resultsPerPage:i.length,offset:0};return{comments:i,pageInfo:s}}catch{return{comments:[],pageInfo:{resultsPerPage:0,offset:0}}}},uk=async t=>{if(!t.apiId)return{items:[],pageInfo:{resultsPerPage:0,offset:0}};const s=(await(await(await $e()).getChannel(t.apiId)).getVideos()).videos.filter(r=>"id"in r&&"author"in r).map(r=>({apiId:r.id,title:r.title.toString(),duration:hn(r.duration),channelName:r.author.name,channelApiId:r.author.id,images:r.thumbnails})),o={resultsPerPage:s.length,offset:0};return{items:s,pageInfo:o}},lk=async t=>{if(!t.apiId)return{items:[],pageInfo:{resultsPerPage:0,offset:0},playlist:{name:"",apiId:"",images:[]}};const n=await(await $e()).getPlaylist(t.apiId),i=n.items.filter(r=>"id"in r&&"author"in r).map(r=>({apiId:r.id,title:r.title.toString(),duration:hn(r.duration),channelName:r.author.name,channelApiId:r.author.id,images:r.thumbnails})),s={resultsPerPage:i.length,offset:0},o={name:n.info.title??"",apiId:t.apiId,images:n.info.thumbnails??[]};return{items:i,pageInfo:s,playlist:o}},dk=async t=>{const i=(await(await $e()).search(t.query,{type:"video"})).videos.filter(o=>"id"in o&&"author"in o).map(o=>({apiId:o.id,title:o.title.toString(),duration:hn(o.duration),channelName:o.author.name,channelApiId:o.author.id,images:o.thumbnails})),s={resultsPerPage:i.length,offset:0};return{items:i,pageInfo:s}},hk=async t=>{const i=(await(await $e()).search(t.query,{type:"channel"})).channels.map(o=>({apiId:o.id,name:o.author.name,images:o.author.thumbnails})),s={resultsPerPage:i.length,offset:0};return{items:i,pageInfo:s}},fk=async t=>{const i=(await(await $e()).search(t.query,{type:"playlist"})).playlists.filter(o=>"id"in o&&"author"in o).map(o=>({apiId:o.id,name:o.title.toString(),images:o.thumbnails})),s={resultsPerPage:i.length,offset:0};return{items:i,pageInfo:s}},wt=t=>{application.postUiMessage(t)},pk=async()=>{const e=document.location.host.split(".");e.shift();const n=e.join("."),i=`${document.location.protocol}//${n}`,s=await application.getPluginId(),o=await application.getLocale(),r=await application.getPlaylistsInfo(),a=se.getItem("apiKey")??"",l=se.getItem("clientId")??"",f=se.getItem("clientSecret")??"",d=se.getItem("usePlayer");wt({type:"info",origin:i,pluginId:s,apiKey:a,clientId:l,clientSecret:f,usePlayer:!d||d==="true",instance:"",locale:o,playlists:r})},mk=async t=>{const n=new URL(t).searchParams.get("list");if(n){const i=await Bf({apiId:n,isUserPlaylist:!1});return{...i.playlist,videos:i.items}}throw new Error("Couldn't retreive playlist")},Df=async t=>{const e=[];t.forEach(a=>{try{const l=/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu.be)\/(?:watch\?v=|embed\/|v\/)?([a-zA-Z0-9_-]+)(?:\S+)?$/,f=a.match(l);f&&e.push(f[1])}catch{}});const n=e.length,i=50;let s=0,o=i;const r=[];for(;s<n;){const a=e.slice(s,o),l=await pc(a);r.push(...l),s+=i,o+=i}return r};application.onUiMessage=async t=>{switch(t.type){case"check-login":const e=se.getItem("access_token");e&&wt({type:"login",accessToken:e}),await pk();break;case"login":hc(t.accessToken,t.refreshToken),application.onGetUserPlaylists=mc;break;case"logout":se.removeItem("access_token"),se.removeItem("refresh_token"),application.onGetUserPlaylists=void 0;break;case"set-keys":se.setItem("apiKey",t.apiKey),se.setItem("clientId",t.clientId),se.setItem("clientSecret",t.clientSecret),application.createNotification({message:"Api Keys saved!"});break;case"useplayer":se.setItem("usePlayer",String(t.usePlayer));break;case"endvideo":application.endVideo();break;case"getinstnace":wt({type:"sendinstance",instance:""});break;case"resolve-urls":const n=await Df(t.videoUrls.split(`
`));await application.addVideosToPlaylist(t.playlistId,n),application.createNotification({message:"Success!"});break;case"reload-player-request":const i=await ak(t.videoId,t.reloadContext);wt({type:"reload-player-response",streamingUrl:i.streamingUrl,ustreamerConfig:i.ustreamerConfig});break;case"proxy-fetch-request":try{const s={method:t.method,headers:t.headers};t.body&&(s.body=new Uint8Array(lp(t.body)));const o=await application.networkRequest(t.url,s),r=await o.arrayBuffer(),a={};o.headers.forEach((l,f)=>{a[f]=l}),wt({type:"proxy-fetch-response",requestId:t.requestId,status:o.status,statusText:o.statusText,headers:a,body:up(r)})}catch{wt({type:"proxy-fetch-response",requestId:t.requestId,status:0,statusText:"",headers:{},body:""})}break}};async function Rf(t){return dk(t)}async function Pf(t){return hk(t)}async function _k(t){return uk(t)}async function Mf(t){return fk(t)}async function Bf(t){return t.isUserPlaylist?Ip(t):lk(t)}async function bk(){try{return await Cp()}catch{return await ok()}}async function gk(t){return rk(t.apiId)}async function yk(t){return Af(t)}async function wk(t){const e={apiId:t.videoApiId,pageInfo:t.pageInfo};return Af(e)}async function kk(t){const e=Rf(t),n=Mf(t),i=Pf(t),[s,o,r]=await Promise.all([e,n,i]);return{videos:s,playlists:o,channels:r}}async function Tk(t,e){const n=/^.*(youtu.be\/|list=)([^#\&\?]*).*/,i=/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu.be)\/(?:watch\?v=|embed\/|v\/)?([a-zA-Z0-9_-]+)(?:\S+)?$/;if(!n.test(t)&&!i.test(t))return!1;switch(e){case"playlist":return new URL(t).searchParams.has("list");case"video":return!0;default:return!1}}async function Ck(t){return ck(t)}application.onSearchAll=kk;application.onSearchVideos=Rf;application.onSearchPlaylists=Mf;application.onSearchChannels=Pf;application.onGetChannelVideos=_k;application.onGetPlaylistVideos=Bf;application.onGetVideoComments=yk;application.onGetCommentReplies=wk;application.onGetTopItems=bk;application.onGetVideo=gk;application.onLookupPlaylistUrl=mk;application.onLookupVideoUrls=Df;application.onCanParseUrl=Tk;application.onGetSearchSuggestions=Ck;const Lf=t=>{localStorage.setItem("vite-ui-theme",t)};application.onChangeTheme=async t=>{Lf(t)};const Ik=async()=>{const t=await application.getTheme();Lf(t),se.getItem("access_token")&&(application.onGetUserPlaylists=mc)};Ik();
