(()=>{let e;var t,i,n,s,r,o,a,l,c,d,h,u,p,f,m,v,g,y,_,b,w,x,S,C,T,I,E,k,A,R,P,M,O,L,D,N,B,U,V,F,j,H,W,$,G,K,Y,q,z,J,X,Q,Z,ee,et,ei,en,es,er,eo,ea,el,ec,ed,eh,eu,ep,ef,em,ev,eg,ey,e_,eb,ew,ex,eS,eC,eT,eI,eE,ek,eA,eR,eP,eM,eO,eL,eD,eN,eB,eU,eV,eF,ej,eH,eW,e$,eG,eK,eY,eq,ez,eJ,eX,eQ,eZ,e0,e1,e2,e3,e6,e5,e4,e8,e9,e7,te,tt,ti,tn,ts,tr,to,ta,tl,tc,td,th,tu,tp,tf,tm,tv,tg,ty,t_,tb,tw,tx,tS,tC,tT,tI,tE,tk,tA,tR,tP,tM,tO,tL,tD,tN,tB,tU,tV,tF,tj,tH,tW,t$,tG,tK,tY,tq,tz,tJ,tX,tQ,tZ,t0,t1,t2,t3,t6,t5,t4,t8,t9,t7,ie,it,ii,is,ir=globalThis;function io(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}function ia(e,t){return function(){return e.apply(t,arguments)}}let{toString:il}=Object.prototype,{getPrototypeOf:ic}=Object,id=(t=Object.create(null),e=>{let i=il.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())}),ih=e=>(e=e.toLowerCase(),t=>id(t)===e),iu=e=>t=>typeof t===e,{isArray:ip}=Array,im=iu("undefined"),iv=ih("ArrayBuffer"),ig=iu("string"),iy=iu("function"),i_=iu("number"),ib=e=>null!==e&&"object"==typeof e,iw=e=>{if("object"!==id(e))return!1;let t=ic(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ix=ih("Date"),iS=ih("File"),iC=ih("Blob"),iT=ih("FileList"),iI=ih("URLSearchParams");function iE(e,t,{allOwnKeys:i=!1}={}){let n,s;if(null!=e){if("object"!=typeof e&&(e=[e]),ip(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let s;let r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}}function ik(e,t){let i;t=t.toLowerCase();let n=Object.keys(e),s=n.length;for(;s-- >0;)if(t===(i=n[s]).toLowerCase())return i;return null}let iA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:ir,iR=e=>!im(e)&&e!==iA,iP=(i="undefined"!=typeof Uint8Array&&ic(Uint8Array),e=>i&&e instanceof i),iM=ih("HTMLFormElement"),iO=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),iL=ih("RegExp"),iD=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),n={};iE(i,(i,s)=>{let r;!1!==(r=t(i,s,e))&&(n[s]=r||i)}),Object.defineProperties(e,n)},iN="abcdefghijklmnopqrstuvwxyz",iB="0123456789",iU={DIGIT:iB,ALPHA:iN,ALPHA_DIGIT:iN+iN.toUpperCase()+iB},iV=ih("AsyncFunction");var iF={isArray:ip,isArrayBuffer:iv,isBuffer:function(e){return null!==e&&!im(e)&&null!==e.constructor&&!im(e.constructor)&&iy(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||iy(e.append)&&("formdata"===(t=id(e))||"object"===t&&iy(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&iv(e.buffer)},isString:ig,isNumber:i_,isBoolean:e=>!0===e||!1===e,isObject:ib,isPlainObject:iw,isUndefined:im,isDate:ix,isFile:iS,isBlob:iC,isRegExp:iL,isFunction:iy,isStream:e=>ib(e)&&iy(e.pipe),isURLSearchParams:iI,isTypedArray:iP,isFileList:iT,forEach:iE,merge:function e(){let{caseless:t}=iR(this)&&this||{},i={},n=(n,s)=>{let r=t&&ik(i,s)||s;iw(i[r])&&iw(n)?i[r]=e(i[r],n):iw(n)?i[r]=e({},n):ip(n)?i[r]=n.slice():i[r]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&iE(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(iE(t,(t,n)=>{i&&iy(t)?e[n]=ia(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let s,r,o;let a={};if(t=t||{},null==e)return t;do{for(r=(s=Object.getOwnPropertyNames(e)).length;r-- >0;)o=s[r],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==i&&ic(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype)return t},kindOf:id,kindOfTest:ih,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let n=e.indexOf(t,i);return -1!==n&&n===i},toArray:e=>{if(!e)return null;if(ip(e))return e;let t=e.length;if(!i_(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let n=(e&&e[Symbol.iterator]).call(e);for(;(i=n.next())&&!i.done;){let n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let i;let n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:iM,hasOwnProperty:iO,hasOwnProp:iO,reduceDescriptors:iD,freezeMethods:e=>{iD(e,(t,i)=>{if(iy(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(iy(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(ip(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:ik,global:iA,isContextDefined:iR,ALPHABET:iU,generateString:(e=16,t=iU.ALPHA_DIGIT)=>{let i="",{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&iy(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,n)=>{if(ib(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let s=ip(e)?[]:{};return iE(e,(e,t)=>{let r=i(e,n+1);im(r)||(s[t]=r)}),t[n]=void 0,s}}return e};return i(e,0)},isAsyncFn:iV,isThenable:e=>e&&(ib(e)||iy(e))&&iy(e.then)&&iy(e.catch)};function ij(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s)}iF.inherits(ij,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:iF.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let iH=ij.prototype,iW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{iW[e]={value:e}}),Object.defineProperties(ij,iW),Object.defineProperty(iH,"isAxiosError",{value:!0}),ij.from=(e,t,i,n,s,r)=>{let o=Object.create(iH);return iF.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ij.call(o,e.message,t,i,n,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o},a=function(e){for(var t,i=e.length,n=i%3,s=[],r=0,o=i-n;r<o;r+=16383)s.push(function(e,t,i){for(var n,s=[],r=t;r<i;r+=3)s.push(i$[(n=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]))>>18&63]+i$[n>>12&63]+i$[n>>6&63]+i$[63&n]);return s.join("")}(e,r,r+16383>o?o:r+16383));return 1===n?s.push(i$[(t=e[i-1])>>2]+i$[t<<4&63]+"=="):2===n&&s.push(i$[(t=(e[i-2]<<8)+e[i-1])>>10]+i$[t>>4&63]+i$[t<<2&63]+"="),s.join("")};for(var i$=[],iG=[],iK="undefined"!=typeof Uint8Array?Uint8Array:Array,iY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iq=0,iz=iY.length;iq<iz;++iq)i$[iq]=iY[iq],iG[iY.charCodeAt(iq)]=iq;iG["-".charCodeAt(0)]=62,iG["_".charCodeAt(0)]=63,l=function(e,t,i,n,s){var r,o,a=8*s-n-1,l=(1<<a)-1,c=l>>1,d=-7,h=i?s-1:0,u=i?-1:1,p=e[t+h];for(h+=u,r=p&(1<<-d)-1,p>>=-d,d+=a;d>0;r=256*r+e[t+h],h+=u,d-=8);for(o=r&(1<<-d)-1,r>>=-d,d+=n;d>0;o=256*o+e[t+h],h+=u,d-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),r-=c}return(p?-1:1)*o*Math.pow(2,r-n)},c=function(e,t,i,n,s,r){var o,a,l,c=8*r-s-1,d=(1<<c)-1,h=d>>1,u=23===s?5960464477539062e-23:0,p=n?0:r-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=u/l:t+=u*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(t*l-1)*Math.pow(2,s),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;e[i+p]=255&a,p+=f,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[i+p]=255&o,p+=f,o/=256,c-=8);e[i+p-f]|=128*m};let iJ="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function iX(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,iQ.prototype),t}function iQ(e,t,i){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return i1(e)}return iZ(e,t,i)}function iZ(e,t,i){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!iQ.isEncoding(t))throw TypeError("Unknown encoding: "+t);let i=0|i5(e,t),n=iX(i),s=n.write(e,t);return s!==i&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ny(e,Uint8Array)){let t=new Uint8Array(e);return i3(t.buffer,t.byteOffset,t.byteLength)}return i2(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ny(e,ArrayBuffer)||e&&ny(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ny(e,SharedArrayBuffer)||e&&ny(e.buffer,SharedArrayBuffer)))return i3(e,t,i);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return iQ.from(n,t,i);let s=function(e){var t;if(iQ.isBuffer(e)){let t=0|i6(e.length),i=iX(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?iX(0):i2(e):"Buffer"===e.type&&Array.isArray(e.data)?i2(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return iQ.from(e[Symbol.toPrimitive]("string"),t,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function i0(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function i1(e){return i0(e),iX(e<0?0:0|i6(e))}function i2(e){let t=e.length<0?0:0|i6(e.length),i=iX(t);for(let n=0;n<t;n+=1)i[n]=255&e[n];return i}function i3(e,t,i){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),iQ.prototype),n}function i6(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function i5(e,t){if(iQ.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ny(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return nm(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return nv(e).length;default:if(s)return n?-1:nm(e).length;t=(""+t).toLowerCase(),s=!0}}function i4(e,t,i){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,i){let n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);let s="";for(let n=t;n<i;++n)s+=n_[e[n]];return s}(this,t,i);case"utf8":case"utf-8":return ne(this,t,i);case"ascii":return function(e,t,i){let n="";i=Math.min(e.length,i);for(let s=t;s<i;++s)n+=String.fromCharCode(127&e[s]);return n}(this,t,i);case"latin1":case"binary":return function(e,t,i){let n="";i=Math.min(e.length,i);for(let s=t;s<i;++s)n+=String.fromCharCode(e[s]);return n}(this,t,i);case"base64":var s,r;return s=t,r=i,0===s&&r===this.length?a(this):a(this.slice(s,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,i){let n=e.slice(t,i),s="";for(let e=0;e<n.length-1;e+=2)s+=String.fromCharCode(n[e]+256*n[e+1]);return s}(this,t,i);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function i8(e,t,i){let n=e[t];e[t]=e[i],e[i]=n}function i9(e,t,i,n,s){var r;if(0===e.length)return -1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),(r=i=+i)!=r&&(i=s?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(s)return -1;i=e.length-1}else if(i<0){if(!s)return -1;i=0}if("string"==typeof t&&(t=iQ.from(t,n)),iQ.isBuffer(t))return 0===t.length?-1:i7(e,t,i,n,s);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?s?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):i7(e,[t],i,n,s);throw TypeError("val must be string, number or Buffer")}function i7(e,t,i,n,s){let r,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,i/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){let n=-1;for(r=i;r<a;r++)if(c(e,r)===c(t,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===l)return n*o}else -1!==n&&(r-=r-n),n=-1}else for(i+l>a&&(i=a-l),r=i;r>=0;r--){let i=!0;for(let n=0;n<l;n++)if(c(e,r+n)!==c(t,n)){i=!1;break}if(i)return r}return -1}function ne(e,t,i){i=Math.min(e.length,i);let n=[],s=t;for(;s<i;){let t=e[s],r=null,o=t>239?4:t>223?3:t>191?2:1;if(s+o<=i){let i,n,a,l;switch(o){case 1:t<128&&(r=t);break;case 2:(192&(i=e[s+1]))==128&&(l=(31&t)<<6|63&i)>127&&(r=l);break;case 3:i=e[s+1],n=e[s+2],(192&i)==128&&(192&n)==128&&(l=(15&t)<<12|(63&i)<<6|63&n)>2047&&(l<55296||l>57343)&&(r=l);break;case 4:i=e[s+1],n=e[s+2],a=e[s+3],(192&i)==128&&(192&n)==128&&(192&a)==128&&(l=(15&t)<<18|(63&i)<<12|(63&n)<<6|63&a)>65535&&l<1114112&&(r=l)}}null===r?(r=65533,o=1):r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r),s+=o}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return i}(n)}function nt(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function ni(e,t,i,n,s,r){if(!iQ.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<r)throw RangeError('"value" argument is out of bounds');if(i+n>e.length)throw RangeError("Index out of range")}function nn(e,t,i,n,s){nh(t,n,s,e,i,7);let r=Number(t&BigInt(4294967295));e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o,i}function ns(e,t,i,n,s){nh(t,n,s,e,i,7);let r=Number(t&BigInt(4294967295));e[i+7]=r,r>>=8,e[i+6]=r,r>>=8,e[i+5]=r,r>>=8,e[i+4]=r;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=o,o>>=8,e[i+2]=o,o>>=8,e[i+1]=o,o>>=8,e[i]=o,i+8}function nr(e,t,i,n,s,r){if(i+n>e.length||i<0)throw RangeError("Index out of range")}function no(e,t,i,n,s){return t=+t,i>>>=0,s||nr(e,t,i,4,34028234663852886e22,-34028234663852886e22),c(e,t,i,n,23,4),i+4}function na(e,t,i,n,s){return t=+t,i>>>=0,s||nr(e,t,i,8,17976931348623157e292,-17976931348623157e292),c(e,t,i,n,52,8),i+8}iQ.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),iQ.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(iQ.prototype,"parent",{enumerable:!0,get:function(){if(iQ.isBuffer(this))return this.buffer}}),Object.defineProperty(iQ.prototype,"offset",{enumerable:!0,get:function(){if(iQ.isBuffer(this))return this.byteOffset}}),iQ.poolSize=8192,iQ.from=function(e,t,i){return iZ(e,t,i)},Object.setPrototypeOf(iQ.prototype,Uint8Array.prototype),Object.setPrototypeOf(iQ,Uint8Array),iQ.alloc=function(e,t,i){return(i0(e),e<=0)?iX(e):void 0!==t?"string"==typeof i?iX(e).fill(t,i):iX(e).fill(t):iX(e)},iQ.allocUnsafe=function(e){return i1(e)},iQ.allocUnsafeSlow=function(e){return i1(e)},iQ.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==iQ.prototype},iQ.compare=function(e,t){if(ny(e,Uint8Array)&&(e=iQ.from(e,e.offset,e.byteLength)),ny(t,Uint8Array)&&(t=iQ.from(t,t.offset,t.byteLength)),!iQ.isBuffer(e)||!iQ.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,r=Math.min(i,n);s<r;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0},iQ.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},iQ.concat=function(e,t){let i;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return iQ.alloc(0);if(void 0===t)for(i=0,t=0;i<e.length;++i)t+=e[i].length;let n=iQ.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let t=e[i];if(ny(t,Uint8Array))s+t.length>n.length?(iQ.isBuffer(t)||(t=iQ.from(t)),t.copy(n,s)):Uint8Array.prototype.set.call(n,t,s);else if(iQ.isBuffer(t))t.copy(n,s);else throw TypeError('"list" argument must be an Array of Buffers');s+=t.length}return n},iQ.byteLength=i5,iQ.prototype._isBuffer=!0,iQ.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)i8(this,t,t+1);return this},iQ.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)i8(this,t,t+3),i8(this,t+1,t+2);return this},iQ.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)i8(this,t,t+7),i8(this,t+1,t+6),i8(this,t+2,t+5),i8(this,t+3,t+4);return this},iQ.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?ne(this,0,e):i4.apply(this,arguments)},iQ.prototype.toLocaleString=iQ.prototype.toString,iQ.prototype.equals=function(e){if(!iQ.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===iQ.compare(this,e)},iQ.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},iJ&&(iQ.prototype[iJ]=iQ.prototype.inspect),iQ.prototype.compare=function(e,t,i,n,s){if(ny(e,Uint8Array)&&(e=iQ.from(e,e.offset,e.byteLength)),!iQ.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let r=s-n,o=i-t,a=Math.min(r,o),l=this.slice(n,s),c=e.slice(t,i);for(let e=0;e<a;++e)if(l[e]!==c[e]){r=l[e],o=c[e];break}return r<o?-1:o<r?1:0},iQ.prototype.includes=function(e,t,i){return -1!==this.indexOf(e,t,i)},iQ.prototype.indexOf=function(e,t,i){return i9(this,e,t,i,!0)},iQ.prototype.lastIndexOf=function(e,t,i){return i9(this,e,t,i,!1)},iQ.prototype.write=function(e,t,i,n){var s,r,o,a,l,c,d,h;if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let u=this.length-t;if((void 0===i||i>u)&&(i=u),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(e,t,i,n){let s;i=Number(i)||0;let r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;let o=t.length;for(n>o/2&&(n=o/2),s=0;s<n;++s){let n=parseInt(t.substr(2*s,2),16);if(n!=n)break;e[i+s]=n}return s}(this,e,t,i);case"utf8":case"utf-8":return s=t,r=i,ng(nm(e,this.length-s),this,s,r);case"ascii":case"latin1":case"binary":return o=t,a=i,ng(function(e){let t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(e),this,o,a);case"base64":return l=t,c=i,ng(nv(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,h=i,ng(function(e,t){let i,n;let s=[];for(let r=0;r<e.length&&!((t-=2)<0);++r)n=(i=e.charCodeAt(r))>>8,s.push(i%256),s.push(n);return s}(e,this.length-d),this,d,h);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},iQ.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},iQ.prototype.slice=function(e,t){let i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,iQ.prototype),n},iQ.prototype.readUintLE=iQ.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||nt(e,t,this.length);let n=this[e],s=1,r=0;for(;++r<t&&(s*=256);)n+=this[e+r]*s;return n},iQ.prototype.readUintBE=iQ.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||nt(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n},iQ.prototype.readUint8=iQ.prototype.readUInt8=function(e,t){return e>>>=0,t||nt(e,1,this.length),this[e]},iQ.prototype.readUint16LE=iQ.prototype.readUInt16LE=function(e,t){return e>>>=0,t||nt(e,2,this.length),this[e]|this[e+1]<<8},iQ.prototype.readUint16BE=iQ.prototype.readUInt16BE=function(e,t){return e>>>=0,t||nt(e,2,this.length),this[e]<<8|this[e+1]},iQ.prototype.readUint32LE=iQ.prototype.readUInt32LE=function(e,t){return e>>>=0,t||nt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},iQ.prototype.readUint32BE=iQ.prototype.readUInt32BE=function(e,t){return e>>>=0,t||nt(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},iQ.prototype.readBigUInt64LE=nb(function(e){nu(e>>>=0,"offset");let t=this[e],i=this[e+7];(void 0===t||void 0===i)&&np(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],s=this[++e]+256*this[++e]+65536*this[++e]+16777216*i;return BigInt(n)+(BigInt(s)<<BigInt(32))}),iQ.prototype.readBigUInt64BE=nb(function(e){nu(e>>>=0,"offset");let t=this[e],i=this[e+7];(void 0===t||void 0===i)&&np(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],s=16777216*this[++e]+65536*this[++e]+256*this[++e]+i;return(BigInt(n)<<BigInt(32))+BigInt(s)}),iQ.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||nt(e,t,this.length);let n=this[e],s=1,r=0;for(;++r<t&&(s*=256);)n+=this[e+r]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},iQ.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||nt(e,t,this.length);let n=t,s=1,r=this[e+--n];for(;n>0&&(s*=256);)r+=this[e+--n]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},iQ.prototype.readInt8=function(e,t){return(e>>>=0,t||nt(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},iQ.prototype.readInt16LE=function(e,t){e>>>=0,t||nt(e,2,this.length);let i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},iQ.prototype.readInt16BE=function(e,t){e>>>=0,t||nt(e,2,this.length);let i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},iQ.prototype.readInt32LE=function(e,t){return e>>>=0,t||nt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},iQ.prototype.readInt32BE=function(e,t){return e>>>=0,t||nt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},iQ.prototype.readBigInt64LE=nb(function(e){nu(e>>>=0,"offset");let t=this[e],i=this[e+7];return(void 0===t||void 0===i)&&np(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),iQ.prototype.readBigInt64BE=nb(function(e){nu(e>>>=0,"offset");let t=this[e],i=this[e+7];return(void 0===t||void 0===i)&&np(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+i)}),iQ.prototype.readFloatLE=function(e,t){return e>>>=0,t||nt(e,4,this.length),l(this,e,!0,23,4)},iQ.prototype.readFloatBE=function(e,t){return e>>>=0,t||nt(e,4,this.length),l(this,e,!1,23,4)},iQ.prototype.readDoubleLE=function(e,t){return e>>>=0,t||nt(e,8,this.length),l(this,e,!0,52,8)},iQ.prototype.readDoubleBE=function(e,t){return e>>>=0,t||nt(e,8,this.length),l(this,e,!1,52,8)},iQ.prototype.writeUintLE=iQ.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){let n=Math.pow(2,8*i)-1;ni(this,e,t,i,n,0)}let s=1,r=0;for(this[t]=255&e;++r<i&&(s*=256);)this[t+r]=e/s&255;return t+i},iQ.prototype.writeUintBE=iQ.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){let n=Math.pow(2,8*i)-1;ni(this,e,t,i,n,0)}let s=i-1,r=1;for(this[t+s]=255&e;--s>=0&&(r*=256);)this[t+s]=e/r&255;return t+i},iQ.prototype.writeUint8=iQ.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,1,255,0),this[t]=255&e,t+1},iQ.prototype.writeUint16LE=iQ.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},iQ.prototype.writeUint16BE=iQ.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},iQ.prototype.writeUint32LE=iQ.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},iQ.prototype.writeUint32BE=iQ.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},iQ.prototype.writeBigUInt64LE=nb(function(e,t=0){return nn(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),iQ.prototype.writeBigUInt64BE=nb(function(e,t=0){return ns(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),iQ.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*i-1);ni(this,e,t,i,n-1,-n)}let s=0,r=1,o=0;for(this[t]=255&e;++s<i&&(r*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/r>>0)-o&255;return t+i},iQ.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*i-1);ni(this,e,t,i,n-1,-n)}let s=i-1,r=1,o=0;for(this[t+s]=255&e;--s>=0&&(r*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/r>>0)-o&255;return t+i},iQ.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},iQ.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},iQ.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},iQ.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},iQ.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||ni(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},iQ.prototype.writeBigInt64LE=nb(function(e,t=0){return nn(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),iQ.prototype.writeBigInt64BE=nb(function(e,t=0){return ns(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),iQ.prototype.writeFloatLE=function(e,t,i){return no(this,e,t,!0,i)},iQ.prototype.writeFloatBE=function(e,t,i){return no(this,e,t,!1,i)},iQ.prototype.writeDoubleLE=function(e,t,i){return na(this,e,t,!0,i)},iQ.prototype.writeDoubleBE=function(e,t,i){return na(this,e,t,!1,i)},iQ.prototype.copy=function(e,t,i,n){if(!iQ.isBuffer(e))throw TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s},iQ.prototype.fill=function(e,t,i,n){let s;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!iQ.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{let r=iQ.isBuffer(e)?e:iQ.from(e,n),o=r.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=r[s%o]}return this};let nl={};function nc(e,t,i){nl[e]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function nd(e){let t="",i=e.length,n="-"===e[0]?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function nh(e,t,i,n,s,r){if(e>i||e<t){let n;let s="bigint"==typeof t?"n":"";throw n=r>3?0===t||t===BigInt(0)?`>= 0${s} and < 2${s} ** ${(r+1)*8}${s}`:`>= -(2${s} ** ${(r+1)*8-1}${s}) and < 2 ** ${(r+1)*8-1}${s}`:`>= ${t}${s} and <= ${i}${s}`,new nl.ERR_OUT_OF_RANGE("value",n,e)}nu(s,"offset"),(void 0===n[s]||void 0===n[s+r])&&np(s,n.length-(r+1))}function nu(e,t){if("number"!=typeof e)throw new nl.ERR_INVALID_ARG_TYPE(t,"number",e)}function np(e,t,i){if(Math.floor(e)!==e)throw nu(e,i),new nl.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new nl.ERR_BUFFER_OUT_OF_BOUNDS;throw new nl.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}nc("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nc("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),nc("ERR_OUT_OF_RANGE",function(e,t,i){let n=`The value of "${e}" is out of range.`,s=i;return Number.isInteger(i)&&Math.abs(i)>4294967296?s=nd(String(i)):"bigint"==typeof i&&(s=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(s=nd(s)),s+="n"),n+=` It must be ${t}. Received ${s}`},RangeError);let nf=/[^+/0-9A-Za-z-_]/g;function nm(e,t){let i;t=t||1/0;let n=e.length,s=null,r=[];for(let o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!s){if(i>56319||o+1===n){(t-=3)>-1&&r.push(239,191,189);continue}s=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),s=i;continue}i=(s-55296<<10|i-56320)+65536}else s&&(t-=3)>-1&&r.push(239,191,189);if(s=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return r}function nv(e){return function(e){var t,i,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var n=i===t?0:4-i%4;return[i,n]}(e),s=n[0],r=n[1],o=new iK((s+r)*3/4-r),a=0,l=r>0?s-4:s;for(i=0;i<l;i+=4)t=iG[e.charCodeAt(i)]<<18|iG[e.charCodeAt(i+1)]<<12|iG[e.charCodeAt(i+2)]<<6|iG[e.charCodeAt(i+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return 2===r&&(t=iG[e.charCodeAt(i)]<<2|iG[e.charCodeAt(i+1)]>>4,o[a++]=255&t),1===r&&(t=iG[e.charCodeAt(i)]<<10|iG[e.charCodeAt(i+1)]<<4|iG[e.charCodeAt(i+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o}(function(e){if((e=(e=e.split("=")[0]).trim().replace(nf,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ng(e,t,i,n){let s;for(s=0;s<n&&!(s+i>=t.length)&&!(s>=e.length);++s)t[s+i]=e[s];return s}function ny(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let n_=function(){let e="0123456789abcdef",t=Array(256);for(let i=0;i<16;++i){let n=16*i;for(let s=0;s<16;++s)t[n+s]=e[i]+e[s]}return t}();function nb(e){return"undefined"==typeof BigInt?nw:e}function nw(){throw Error("BigInt not supported")}function nx(e){return iF.isPlainObject(e)||iF.isArray(e)}function nS(e){return iF.endsWith(e,"[]")?e.slice(0,-2):e}function nC(e,t,i){return e?e.concat(t).map(function(e,t){return e=nS(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let nT=iF.toFlatObject(iF,{},null,function(e){return/^is[A-Z]/.test(e)});var nI=function(e,t,i){if(!iF.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(i=iF.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!iF.isUndefined(t[e])})).metaTokens,s=i.visitor||c,r=i.dots,o=i.indexes,a=(i.Blob||"undefined"!=typeof Blob&&Blob)&&iF.isSpecCompliantForm(t);if(!iF.isFunction(s))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(iF.isDate(e))return e.toISOString();if(!a&&iF.isBlob(e))throw new ij("Blob is not supported. Use a Buffer instead.");return iF.isArrayBuffer(e)||iF.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):iQ.from(e):e}function c(e,i,s){let a=e;if(e&&!s&&"object"==typeof e){if(iF.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else{var c;if(iF.isArray(e)&&(c=e,iF.isArray(c)&&!c.some(nx))||(iF.isFileList(e)||iF.endsWith(i,"[]"))&&(a=iF.toArray(e)))return i=nS(i),a.forEach(function(e,n){iF.isUndefined(e)||null===e||t.append(!0===o?nC([i],n,r):null===o?i:i+"[]",l(e))}),!1}}return!!nx(e)||(t.append(nC(s,i,r),l(e)),!1)}let d=[],h=Object.assign(nT,{defaultVisitor:c,convertValue:l,isVisitable:nx});if(!iF.isObject(e))throw TypeError("data must be an object");return!function e(i,n){if(!iF.isUndefined(i)){if(-1!==d.indexOf(i))throw Error("Circular reference detected in "+n.join("."));d.push(i),iF.forEach(i,function(i,r){!0===(!(iF.isUndefined(i)||null===i)&&s.call(t,i,iF.isString(r)?r.trim():r,n,h))&&e(i,n?n.concat(r):[r])}),d.pop()}}(e),t};function nE(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function nk(e,t){this._pairs=[],e&&nI(e,this,t)}let nA=nk.prototype;function nR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nP(e,t,i){let n;if(!t)return e;let s=i&&i.encode||nR,r=i&&i.serialize;if(n=r?r(t,i):iF.isURLSearchParams(t)?t.toString():new nk(t,i).toString(s)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}nA.append=function(e,t){this._pairs.push([e,t])},nA.toString=function(e){let t=e?function(t){return e.call(this,t,nE)}:nE;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var nM=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){iF.forEach(this.handlers,function(t){null!==t&&e(t)})}},nO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nL="undefined"!=typeof URLSearchParams?URLSearchParams:nk,nD="undefined"!=typeof FormData?FormData:null,nN="undefined"!=typeof Blob?Blob:null,nB={};io(nB,"hasBrowserEnv",()=>nU),io(nB,"hasStandardBrowserEnv",()=>nV),io(nB,"hasStandardBrowserWebWorkerEnv",()=>nF);let nU="undefined"!=typeof window&&"undefined"!=typeof document,nV=(n="undefined"!=typeof navigator&&navigator.product,nU&&0>["ReactNative","NativeScript","NS"].indexOf(n)),nF="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var nj={...nB,isBrowser:!0,classes:{URLSearchParams:nL,FormData:nD,Blob:nN},protocols:["http","https","file","blob","url","data"]},nH=function(e){if(iF.isFormData(e)&&iF.isFunction(e.entries)){let t={};return iF.forEachEntry(e,(e,i)=>{!function e(t,i,n,s){let r=t[s++],o=Number.isFinite(+r),a=s>=t.length;return(r=!r&&iF.isArray(n)?n.length:r,a)?iF.hasOwnProp(n,r)?n[r]=[n[r],i]:n[r]=i:(n[r]&&iF.isObject(n[r])||(n[r]=[]),e(t,i,n[r],s)&&iF.isArray(n[r])&&(n[r]=function(e){let t,i;let n={},s=Object.keys(e),r=s.length;for(t=0;t<r;t++)n[i=s[t]]=e[i];return n}(n[r]))),!o}(iF.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null};let nW={transitional:nO,adapter:["xhr","http"],transformRequest:[function(e,t){let i;let n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=iF.isObject(e);if(r&&iF.isHTMLForm(e)&&(e=new FormData(e)),iF.isFormData(e))return s&&s?JSON.stringify(nH(e)):e;if(iF.isArrayBuffer(e)||iF.isBuffer(e)||iF.isStream(e)||iF.isFile(e)||iF.isBlob(e))return e;if(iF.isArrayBufferView(e))return e.buffer;if(iF.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,nI(o,new nj.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return nj.isNode&&iF.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},a))).toString()}if((i=iF.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return nI(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,i){if(iF.isString(e))try{return(0,JSON.parse)(e),iF.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||nW.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&iF.isString(e)&&(i&&!this.responseType||n)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&n){if("SyntaxError"===e.name)throw ij.from(e,ij.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nj.classes.FormData,Blob:nj.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};iF.forEach(["delete","get","head","post","put","patch"],e=>{nW.headers[e]={}});let n$=iF.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var nG=e=>{let t,i,n;let s={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!t||s[t]&&n$[t]||("set-cookie"===t?s[t]?s[t].push(i):s[t]=[i]:s[t]=s[t]?s[t]+", "+i:i)}),s};let nK=Symbol("internals");function nY(e){return e&&String(e).trim().toLowerCase()}function nq(e){return!1===e||null==e?e:iF.isArray(e)?e.map(nq):String(e)}let nz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nJ(e,t,i,n,s){if(iF.isFunction(n))return n.call(this,t,i);if(s&&(t=i),iF.isString(t)){if(iF.isString(n))return -1!==t.indexOf(n);if(iF.isRegExp(n))return n.test(t)}}class nX{constructor(e){e&&this.set(e)}set(e,t,i){let n=this;function s(e,t,i){let s=nY(t);if(!s)throw Error("header name must be a non-empty string");let r=iF.findKey(n,s);r&&void 0!==n[r]&&!0!==i&&(void 0!==i||!1===n[r])||(n[r||t]=nq(e))}let r=(e,t)=>iF.forEach(e,(e,i)=>s(e,i,t));return iF.isPlainObject(e)||e instanceof this.constructor?r(e,t):iF.isString(e)&&(e=e.trim())&&!nz(e)?r(nG(e),t):null!=e&&s(t,e,i),this}get(e,t){if(e=nY(e)){let i=iF.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(e);if(iF.isFunction(t))return t.call(this,e,i);if(iF.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nY(e)){let i=iF.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||nJ(this,this[i],i,t)))}return!1}delete(e,t){let i=this,n=!1;function s(e){if(e=nY(e)){let s=iF.findKey(i,e);s&&(!t||nJ(i,i[s],s,t))&&(delete i[s],n=!0)}}return iF.isArray(e)?e.forEach(s):s(e),n}clear(e){let t=Object.keys(this),i=t.length,n=!1;for(;i--;){let s=t[i];(!e||nJ(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){let t=this,i={};return iF.forEach(this,(n,s)=>{let r=iF.findKey(i,s);if(r){t[r]=nq(n),delete t[s];return}let o=e?s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(s).trim();o!==s&&delete t[s],t[o]=nq(n),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return iF.forEach(this,(i,n)=>{null!=i&&!1!==i&&(t[n]=e&&iF.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[nK]=this[nK]={accessors:{}}).accessors,i=this.prototype;function n(e){let n=nY(e);t[n]||(!function(e,t){let i=iF.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,s){return this[n].call(this,t,e,i,s)},configurable:!0})})}(i,e),t[n]=!0)}return iF.isArray(e)?e.forEach(n):n(e),this}}function nQ(e,t){let i=this||nW,n=t||i,s=nX.from(n.headers),r=n.data;return iF.forEach(e,function(e){r=e.call(i,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function nZ(e){return!!(e&&e.__CANCEL__)}function n0(e,t,i){ij.call(this,null==e?"canceled":e,ij.ERR_CANCELED,t,i),this.name="CanceledError"}nX.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),iF.reduceDescriptors(nX.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),iF.freezeMethods(nX),iF.inherits(n0,ij,{__CANCEL__:!0});var n1=nj.hasStandardBrowserEnv?{write(e,t,i,n,s,r){let o=[e+"="+encodeURIComponent(t)];iF.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),iF.isString(n)&&o.push("path="+n),iF.isString(s)&&o.push("domain="+s),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function n2(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e:t}var n3=nj.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){let n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){let i=iF.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0},n6=function(e,t){let i;let n=Array(e=e||10),s=Array(e),r=0,o=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),c=s[o];i||(i=l),n[r]=a,s[r]=l;let d=o,h=0;for(;d!==r;)h+=n[d++],d%=e;if((r=(r+1)%e)===o&&(o=(o+1)%e),l-i<t)return;let u=c&&l-c;return u?Math.round(1e3*h/u):void 0}};function n5(e,t){let i=0,n=n6(50,250);return s=>{let r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-i,l=n(a);i=r;let c={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&r<=o?(o-r)/l:void 0,event:s};c[t?"download":"upload"]=!0,e(c)}}let n4={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let n,s,r=e.data,o=nX.from(e.headers).normalize(),{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if(iF.isFormData(r)){if(nj.hasStandardBrowserEnv||nj.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(s=o.getContentType())){let[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}}let d=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+i))}let h=n2(e.baseURL,e.url);function u(){if(!d)return;let n=nX.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,i){let n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new ij("Request failed with status code "+i.status,[ij.ERR_BAD_REQUEST,ij.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}(function(e){t(e),c()},function(e){i(e),c()},{data:a&&"text"!==a&&"json"!==a?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),nP(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=u:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(u)},d.onabort=function(){d&&(i(new ij("Request aborted",ij.ECONNABORTED,e,d)),d=null)},d.onerror=function(){i(new ij("Network Error",ij.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||nO;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new ij(t,n.clarifyTimeoutError?ij.ETIMEDOUT:ij.ECONNABORTED,e,d)),d=null},nj.hasStandardBrowserEnv&&(l&&iF.isFunction(l)&&(l=l(e)),l||!1!==l&&n3(h))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&n1.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in d&&iF.forEach(o.toJSON(),function(e,t){d.setRequestHeader(t,e)}),iF.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),a&&"json"!==a&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",n5(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",n5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=t=>{d&&(i(!t||t.type?new n0(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));let p=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);if(p&&-1===nj.protocols.indexOf(p)){i(new ij("Unsupported protocol "+p+":",ij.ERR_BAD_REQUEST,e));return}d.send(r||null)})}};iF.forEach(n4,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let n8=e=>`- ${e}`,n9=e=>iF.isFunction(e)||null===e||!1===e;var n7={getAdapter:e=>{let t,i;let{length:n}=e=iF.isArray(e)?e:[e],s={};for(let r=0;r<n;r++){let n;if(i=t=e[r],!n9(t)&&void 0===(i=n4[(n=String(t)).toLowerCase()]))throw new ij(`Unknown adapter '${n}'`);if(i)break;s[n||"#"+r]=i}if(!i){let e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new ij("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(n8).join("\n"):" "+n8(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:n4};function se(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new n0(null,e)}function st(e){return se(e),e.headers=nX.from(e.headers),e.data=nQ.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),n7.getAdapter(e.adapter||nW.adapter)(e).then(function(t){return se(e),t.data=nQ.call(e,e.transformResponse,t),t.headers=nX.from(t.headers),t},function(t){return!nZ(t)&&(se(e),t&&t.response&&(t.response.data=nQ.call(e,e.transformResponse,t.response),t.response.headers=nX.from(t.response.headers))),Promise.reject(t)})}let si=e=>e instanceof nX?e.toJSON():e;function sn(e,t){t=t||{};let i={};function n(e,t,i){return iF.isPlainObject(e)&&iF.isPlainObject(t)?iF.merge.call({caseless:i},e,t):iF.isPlainObject(t)?iF.merge({},t):iF.isArray(t)?t.slice():t}function s(e,t,i){return iF.isUndefined(t)?iF.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function r(e,t){if(!iF.isUndefined(t))return n(void 0,t)}function o(e,t){return iF.isUndefined(t)?iF.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,s,r){return r in t?n(i,s):r in e?n(void 0,i):void 0}let l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>s(si(e),si(t),!0)};return iF.forEach(Object.keys(Object.assign({},e,t)),function(n){let r=l[n]||s,o=r(e[n],t[n],n);iF.isUndefined(o)&&r!==a||(i[n]=o)}),i}let ss="1.6.2",sr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sr[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let so={};sr.transitional=function(e,t,i){function n(e,t){return"[Axios v"+ss+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,s,r)=>{if(!1===e)throw new ij(n(s," has been removed"+(t?" in "+t:"")),ij.ERR_DEPRECATED);return t&&!so[s]&&(so[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,s,r)}};var sa={assertOptions:function(e,t,i){if("object"!=typeof e)throw new ij("options must be an object",ij.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let r=n[s],o=t[r];if(o){let t=e[r],i=void 0===t||o(t,r,e);if(!0!==i)throw new ij("option "+r+" must be "+i,ij.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new ij("Unknown option "+r,ij.ERR_BAD_OPTION)}},validators:sr};let sl=sa.validators;class sc{constructor(e){this.defaults=e,this.interceptors={request:new nM,response:new nM}}request(e,t){let i,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:s,paramsSerializer:r,headers:o}=t=sn(this.defaults,t);void 0!==s&&sa.assertOptions(s,{silentJSONParsing:sl.transitional(sl.boolean),forcedJSONParsing:sl.transitional(sl.boolean),clarifyTimeoutError:sl.transitional(sl.boolean)},!1),null!=r&&(iF.isFunction(r)?t.paramsSerializer={serialize:r}:sa.assertOptions(r,{encode:sl.function,serialize:sl.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&iF.merge(o.common,o[t.method]);o&&iF.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=nX.concat(a,o);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let d=[];this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)});let h=0;if(!c){let e=[st.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,d),n=e.length,i=Promise.resolve(t);h<n;)i=i.then(e[h++],e[h++]);return i}n=l.length;let u=t;for(h=0;h<n;){let e=l[h++],t=l[h++];try{u=e(u)}catch(e){t.call(this,e);break}}try{i=st.call(this,u)}catch(e){return Promise.reject(e)}for(h=0,n=d.length;h<n;)i=i.then(d[h++],d[h++]);return i}getUri(e){return nP(n2((e=sn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}iF.forEach(["delete","get","head","options"],function(e){sc.prototype[e]=function(t,i){return this.request(sn(i||{},{method:e,url:t,data:(i||{}).data}))}}),iF.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,s){return this.request(sn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}sc.prototype[e]=t(),sc.prototype[e+"Form"]=t(!0)});class sd{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,n,s){i.reason||(i.reason=new n0(e,n,s),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new sd(function(t){e=t}),cancel:e}}}let sh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sh).forEach(([e,t])=>{sh[t]=e});let su=function e(t){let i=new sc(t),n=ia(sc.prototype.request,i);return iF.extend(n,sc.prototype,i,{allOwnKeys:!0}),iF.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(sn(t,i))},n}(nW);su.Axios=sc,su.CanceledError=n0,su.CancelToken=sd,su.isCancel=nZ,su.VERSION=ss,su.toFormData=nI,su.AxiosError=ij,su.Cancel=su.CanceledError,su.all=function(e){return Promise.all(e)},su.spread=function(e){return function(t){return e.apply(null,t)}},su.isAxiosError=function(e){return iF.isObject(e)&&!0===e.isAxiosError},su.mergeConfig=sn,su.AxiosHeaders=nX,su.formToJSON=e=>nH(iF.isHTMLForm(e)?new FormData(e):e),su.getAdapter=n7.getAdapter,su.HttpStatusCode=sh,su.default=su;let{Axios:sp,AxiosError:sf,CanceledError:sm,isCancel:sv,CancelToken:sg,VERSION:sy,all:s_,Cancel:sb,isAxiosError:sw,spread:sx,toFormData:sS,AxiosHeaders:sC,HttpStatusCode:sT,formToJSON:sI,getAdapter:sE,mergeConfig:sk}=su;JSON.parse('{"common":{"save":"save","clear":"Clear","getDifferentInstance":"Get Different Instance","advancedConfiguration":"Advanced Configuration","logout":"Logout","login":"Login","supplyOwnKeys":"Supplying your own keys","addRedirectUri":"{{redirectUri}} needs be added to \'Authorized Javascript URIs\'","apiKeysSaved":"Api Keys saved!","useYoutubePlayer":"Use Youtube Player","addVideosByUrl":"Add videos by Url (One Url per line)"}}');let sA={get length(){try{return localStorage.length}catch{return 0}},clear:function(){try{localStorage.clear()}catch{}},getItem:function(e){try{return localStorage.getItem(e)}catch{return null}},removeItem:function(e){try{localStorage.removeItem(e)}catch{}},setItem:function(e,t){try{localStorage.setItem(e,t)}catch{}},key:function(e){try{return localStorage.key(e)}catch{return null}}};(s=d||(d={})).Instances="instances",s.CurrentInstance="current-instance";let sR=e=>`https://www.youtube.com/watch?v=${e}`,sP=e=>`https://www.youtube.com/playlist?list=${e}`,sM=e=>`https://www.youtube.com/channel/${e}`,sO=async()=>{let e=(await su.get("https://api.invidious.io/instances.json")).data;return e=(e=e.filter(e=>!(e[0].includes(".onion")||e[0].includes(".i2p")))).filter(e=>e[1].cors),sA.setItem(d.Instances,JSON.stringify(e)),e},sL=async()=>{let e=sA.getItem(d.Instances),t=[],i=Math.floor(Math.random()*(t=e?JSON.parse(e):await sO()).length),n=t[i][1].uri;return sA.setItem(d.CurrentInstance,n),n},sD=async()=>{let e=sA.getItem(d.CurrentInstance);return e||(e=await sL()),e},sN=async e=>{let t=await sD();try{let i=`${t}${e}`;return await su.get(i)}catch{t=await sL();let i=`${t}${e}`;return await su.get(i)}},sB=async e=>{let t=`/api/v1/videos/${e}`,i=(await sN(t)).data;return{title:i.title,apiId:e,sources:[{source:`${i.dashUrl}?local=true`,type:"application/dash+xml"}],duration:i.lengthSeconds,views:i.viewCount,likes:i.likeCount,dislikes:i.dislikeCount,description:i.description,channelName:i.author,channelApiId:i.authorUrl.split("/").slice(-1)[0],recommendedVideos:i.recommendedVideos.map(e=>({title:e.title,apiId:e.videoId,images:e.videoThumbnails,duration:e.lengthSeconds,views:e.viewCount,channelName:e.author,channelApiId:e.authorId})),uploadDate:new Date(1e3*i.published).toISOString(),originalUrl:sR(e)}},sU=e=>({title:e.title,apiId:e.videoId,images:e.videoThumbnails,duration:e.lengthSeconds,views:e.viewCount,channelName:e.author,channelApiId:e.authorId,uploadDate:new Date(1e3*e.published).toISOString(),originalUrl:sR(e.videoId)}),sV=async()=>({videos:{items:(await sN("/api/v1/trending")).data.map(sU)}}),sF=async e=>{let t=`/api/v1/search?q=${e.query}&type=video`,i={resultsPerPage:20,offset:e.pageInfo?.offset||0};if(e.pageInfo?.nextPage){t+=`&page=${e.pageInfo.nextPage}`;let n=parseInt(e.pageInfo.nextPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else if(e.pageInfo?.prevPage){t+=`&page=${e.pageInfo.prevPage}`;let n=parseInt(e.pageInfo.prevPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else i.nextPage="2";let n=e.filterInfo?.filters;return n&&(t+=n.filter(e=>!!e.value).map(e=>`&${e.id}=${e.value}`).join("")),{items:(await sN(t)).data.map(sU),pageInfo:i,filterInfo:{filters:[{id:"date",displayName:"Date",type:"radio",value:"",options:[{displayName:"All Time",value:""},{displayName:"Year",value:"year"},{displayName:"Month",value:"month"},{displayName:"Week",value:"week"},{displayName:"Today",value:"today"},{displayName:"Hour",value:"hour"}]},{id:"duration",displayName:"Duration",type:"radio",value:"",options:[{displayName:"Any",value:""},{displayName:"Short",value:"short"},{displayName:"Long",value:"long"}]},{id:"sort_by",displayName:"Sort By",type:"select",value:"relevance",options:[{displayName:"Relevance",value:"relevance"},{displayName:"Rating",value:"rating"},{displayName:"Upload Date",value:"update_date"},{displayName:"View Count",value:"view_count"}]}]}}},sj=async e=>{let t=`/api/v1/search?q=${e.query}&type=playlist`,i={resultsPerPage:20,offset:e.pageInfo?.offset||0};if(e.pageInfo?.nextPage){t+=`&page=${e.pageInfo.nextPage}`;let n=parseInt(e.pageInfo.nextPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else if(e.pageInfo?.prevPage){t+=`&page=${e.pageInfo.prevPage}`;let n=parseInt(e.pageInfo.prevPage);i.prevPage=(n-1).toString(),i.nextPage=(n+1).toString()}else i.nextPage="2";return{items:(await sN(t)).data.map(e=>({name:e.title,apiId:e.playlistId,images:e.videos.length>0?e.videos[0].videoThumbnails:[],originalUrl:sP(e.playlistId)})),pageInfo:i}},sH=async e=>{let t=`/api/v1/search?q=${e.query}&type=channel`;return{items:(await sN(t)).data.map(e=>({name:e.author,apiId:e.authorId,images:e.authorThumbnails.map(e=>({...e,url:e.url.startsWith("http")?e.url:`https:${e.url}`})),originalUrl:sM(e.authorId)}))}},sW=async e=>{let t=`/api/v1/channels/${e.apiId}?field=author,authorId,authorThumbnails`,i=(await sN(t)).data,n={name:i.author,apiId:i.authorId,images:i.authorThumbnails.map(e=>({...e,url:e.url.startsWith("http")?e.url:`https:${e.url}`})),originalUrl:sM(i.authorId)},s=`/api/v1/channels/${e.apiId}/videos`,r={resultsPerPage:20,offset:e.pageInfo?.offset||0};if(e.pageInfo?.nextPage){s+=`?page=${e.pageInfo.nextPage}`;let t=parseInt(e.pageInfo.nextPage);r.prevPage=(t-1).toString(),r.nextPage=(t+1).toString()}else if(e.pageInfo?.prevPage){s+=`?page=${e.pageInfo.prevPage}`;let t=parseInt(e.pageInfo.prevPage);r.prevPage=(t-1).toString(),r.nextPage=(t+1).toString()}else r.nextPage="2";return{channel:n,items:(await sN(s)).data.videos.map(sU),pageInfo:r}},s$=async e=>{let t=`/api/v1/search/suggestions?q=${e.query}`;return(await sN(t)).data.suggestions},sG=async e=>{let t=`/api/v1/playlists/${e.apiId}`,i=(await sN(t)).data;return{playlist:{name:i.title,apiId:i.playlistId,images:i.videos.length>0?i.videos[0].videoThumbnails:[],originalUrl:sP(i.playlistId)},items:i.videos.map(e=>({title:e.title,apiId:e.videoId,images:e.videoThumbnails,duration:e.lengthSeconds,channelName:e.author,channelApiId:e.authorId,originalUrl:sR(e.videoId)}))}},sK=async e=>{let t=`/api/v1/comments/${e.apiId}`;e.pageInfo&&(t=`${t}?continuation=${e.pageInfo.nextPage}`);let i=await sN(t);return{comments:i.data.comments.map(t=>({apiId:t.commentId,videoCommentId:e.apiId,content:t.content,author:t.author,images:t.authorThumbnails.map(e=>({...e,url:e.url.startsWith("http")?e.url:`https:${e.url}`})),likes:t.likeCount,createdDate:new Date(1e3*t.published).toISOString(),replyCount:t.replies?.replyCount,replyPage:t.replies?.continuation})),pageInfo:{totalResults:i.data.commentCount||0,resultsPerPage:0,offset:0,nextPage:i.data.continuation}}},sY=["https://pipedapi.kavin.rocks","https://piped-api.garudalinux.org","https://pipedapi.in.projectsegfau.lt","https://watchapi.whatever.social","https://api-piped.mha.fi","https://pipedapi.syncpundit.io","https://pipedapi.moomoo.me"];async function sq(e,t=0){let i=sY[t];try{let t=`${i}/streams/${e}`,n=new Promise((e,t)=>{setTimeout(()=>t(),1e4)}),s=su.get(t);await Promise.race([s,n]);let r=(await s).data;return{title:r.title,apiId:e,sources:[{source:r.hls,type:"application/x-mpegURL"}],duration:r.duration,views:r.views,likes:r.likes,dislikes:r.dislikes,description:r.description,channelName:r.uploader,channelApiId:r.uploaderUrl.split("/").slice(-1)[0],uploadDate:new Date(r.uploadDate).toISOString(),recommendedVideos:r.relatedStreams.map(e=>({title:e.title,apiId:e.url.split("=").slice(-1)[0],images:[{url:e.thumbnail}],duration:e.duration,views:e.views,channelName:e.uploaderName,channelApiId:e.uploaderUrl?.split("/").slice(-1)[0]}))}}catch(i){if(t<sY.length)return sq(e,t+1);throw i}}var sz={};Object.defineProperty(sz,"__esModule",{value:!0}),sz.toSeconds=sz.end=sz.parse=sz.pattern=void 0;var sJ="".concat("\\d+","(?:[\\.,]").concat("\\d+",")?"),sX="(".concat("\\d+","Y)?(").concat("\\d+","M)?(").concat("\\d+","W)?(").concat("\\d+","D)?"),sQ="T(".concat(sJ,"H)?(").concat(sJ,"M)?(").concat(sJ,"S)?"),sZ="P(?:".concat(sX,"(?:").concat(sQ,")?)"),s0=["years","months","weeks","days","hours","minutes","seconds"],s1=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0});sz.pattern=new RegExp(sZ),sz.parse=function(e){var t=e.replace(/,/g,".").match(sz.pattern);if(!t)throw RangeError("invalid duration: ".concat(e));var i=t.slice(1);if(0===i.filter(function(e){return null!=e}).length)throw RangeError("invalid duration: ".concat(e));if(i.filter(function(e){return/\./.test(e||"")}).length>1)throw RangeError("only the smallest unit can be fractional");return i.reduce(function(e,t,i){return e[s0[i]]=parseFloat(t||"0")||0,e},{})},sz.end=function(e,t){void 0===t&&(t=new Date);var i=Object.assign({},s1,e),n=new Date(t.getTime());n.setFullYear(n.getFullYear()+i.years),n.setMonth(n.getMonth()+i.months),n.setDate(n.getDate()+i.days);var s=36e5*i.hours,r=6e4*i.minutes;return n.setMilliseconds(n.getMilliseconds()+1e3*i.seconds+s+r),n.setDate(n.getDate()+7*i.weeks),n},sz.toSeconds=function(e,t){void 0===t&&(t=new Date);var i=Object.assign({},s1,e),n=new Date(t.getTime()),s=(0,sz.end)(i,n),r=t.getTimezoneOffset(),o=s.getTimezoneOffset();return(s.getTime()-n.getTime())/1e3+(r-o)*60},sz.default={end:sz.end,toSeconds:sz.toSeconds,pattern:sz.pattern,parse:sz.parse};let s2="AIzaSyCCwk2lWH7eyv_48Jimp3hBFhR7CFZkWhM",s3=su.create(),s6=(e,t)=>{sA.setItem("access_token",e),t&&sA.setItem("refresh_token",t)},s5=async()=>{let e=sA.getItem("refresh_token");if(!e)return;let t=sA.getItem("clientId"),i=sA.getItem("clientSecret"),n=new URLSearchParams;n.append("refresh_token",e),n.append("grant_type","refresh_token"),t&&i&&(n.append("client_id",t),n.append("client_secret",i));let s=await su.post("https://oauth2.googleapis.com/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(s.data.access_token)return s6(s.data.access_token),s.data.access_token};s3.interceptors.request.use(e=>{let t=sA.getItem("access_token");return t&&(e.headers.Authorization="Bearer "+t),e},e=>{Promise.reject(e)}),s3.interceptors.response.use(e=>e,async e=>{let t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;let e=await s5();return s3.defaults.headers.common.Authorization="Bearer "+e,s3(t)}});let s4=()=>sA.getItem("apiKey");function s8(e){return(e.items||[]).map(e=>({apiId:e.id,duration:(0,sz.toSeconds)((0,sz.parse)(e.contentDetails?.duration||"0")),images:e.snippet?.thumbnails&&Object.values(e.snippet?.thumbnails).map(e=>({url:e.url||"",height:e.height||0,width:e.width||0})),title:e.snippet?.title||"",originalUrl:sR(e.id||"")}))}async function s9(){let e=s4()||s2,t=`https://www.googleapis.com/youtube/v3/videos?key=${e}&chart=mostPopular&part=snippet,contentDetails`;return{videos:{items:s8((await su.get(t)).data)}}}async function s7(e){let t=e.join(","),i=s4()||s2,n=`https://www.googleapis.com/youtube/v3/videos?key=${i}&part=snippet,contentDetails&id=${t}`;return s8((await su.get(n)).data)}async function re(e){let t=`https://www.googleapis.com/youtube/v3/playlistItems?part=contentDetails&maxResults=50&key=${s4()}&playlistId=${e.apiId}`;e.isUserPlaylist&&(t+="&mine=true"),e.pageInfo&&(e.pageInfo.nextPage?t+=`&pageToken=${e.pageInfo.nextPage}`:e.pageInfo.prevPage&&(t+=`&pageToken=${e.pageInfo.prevPage}`));let i=e.isUserPlaylist?s3:su,n=await i.get(t),s=n.data.items?.map(e=>e.contentDetails?.videoId).filter(e=>!!e)||[];return{items:await s7(s),pageInfo:{totalResults:n.data.pageInfo?.totalResults||0,resultsPerPage:n.data.pageInfo?.resultsPerPage||0,offset:e.pageInfo?e.pageInfo.offset:0,nextPage:n.data.nextPageToken,prevPage:n.data.prevPageToken}}}async function rt(e){let t=`https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&mine=true&key=${s4()}`,i=await s3.get(t);return{items:(i.data.items||[]).map(e=>({apiId:e.id,name:e.snippet?.title||"",images:[{width:e.snippet?.thumbnails?.default?.width||0,url:e.snippet?.thumbnails?.default?.url||"",height:e.snippet?.thumbnails?.default?.height||0}],isUserPlaylist:!0,originalUrl:sP(e.id||"")})),pageInfo:{totalResults:i.data.pageInfo?.totalResults||0,resultsPerPage:i.data.pageInfo?.resultsPerPage||0,offset:e.pageInfo?e.pageInfo.offset:0,nextPage:i.data.nextPageToken,prevPage:i.data.prevPageToken}}}var ri=Object.defineProperty,rn=(e,t)=>ri(e,"name",{value:t,configurable:!0}),rs=(e,t)=>{for(var i in t)ri(e,i,{get:t[i],enumerable:!0})};function rr(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]]);return i}function ro(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function ra(e,t,i,n){function s(e){return e instanceof i?e:new i(function(t){t(e)})}return rn(s,"adopt"),new(i||(i=Promise))(function(i,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?i(e.value):s(e.value).then(o,a)}rn(o,"fulfilled"),rn(a,"rejected"),rn(l,"step"),l((n=n.apply(e,t||[])).next())})}function rl(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rc(e){return this instanceof rc?(this.v=e,this):new rc(e)}function rd(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(e,t||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){s[e]&&(n[e]=function(t){return new Promise(function(i,n){r.push([e,t,i,n])>1||a(e,t)})})}function a(e,t){try{var i;(i=s[e](t)).value instanceof rc?Promise.resolve(i.value.v).then(l,c):d(r[0][2],i)}catch(e){d(r[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function rh(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=rl(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){!function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}(n,s,(t=e[i](t)).done,t.value)})}}}function ru(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function rp(e,t,i,n,s){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i}rn(rr,"__rest"),rn(ro,"__setFunctionName"),rn(ra,"__awaiter"),rn(rl,"__values"),rn(rc,"__await"),rn(rd,"__asyncGenerator"),rn(rh,"__asyncValues"),rn(ru,"__classPrivateFieldGet"),rn(rp,"__classPrivateFieldSet"),rs({},{ChannelError:()=>SV,InnertubeError:()=>SO,MissingParamError:()=>SD,OAuthError:()=>SN,ParsingError:()=>SL,Platform:()=>SM,PlayerError:()=>SB,SessionError:()=>SU,base64ToU8:()=>SZ,concatMemos:()=>SY,debugFetch:()=>SX,deepCompare:()=>SF,escapeStringRegexp:()=>SH,generateRandomString:()=>SG,generateSidAuth:()=>S$,getRandomUserAgent:()=>SW,getStringBetweenStrings:()=>Sj,hasKeys:()=>Sz,isTextRun:()=>S0,streamToIterable:()=>SJ,throwIfMissing:()=>Sq,timeToSeconds:()=>SK,u8ToBase64:()=>SQ}),rs({},{Maybe:()=>rv,Memo:()=>r_,SuperParsedResult:()=>rg,YTNode:()=>rm,observe:()=>ry});var rf=Symbol("ObservedArray.isObserved"),rm=class{constructor(){h.add(this),this.type=this.constructor.type}is(...e){return e.some(e=>ru(this,h,"m",u).call(this,e))}as(...e){if(!this.is(...e))throw new SL(`Cannot cast ${this.type} to one of ${e.map(e=>e.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new SL(`Missing key ${e}`);return new rv(this[e])}};rn(rm,"YTNode"),h=new WeakSet,u=rn(function(e){return this.type===e.type},"_YTNode_is"),rm.type="YTNode";var rv=class{constructor(e){p.add(this),f.set(this,void 0),rp(this,f,e,"f")}get typeof(){return typeof ru(this,f,"f")}string(){return ru(this,p,"m",v).call(this,"string")}isString(){return ru(this,p,"m",m).call(this,"string")}number(){return ru(this,p,"m",v).call(this,"number")}isNumber(){return ru(this,p,"m",m).call(this,"number")}bigint(){return ru(this,p,"m",v).call(this,"bigint")}isBigint(){return ru(this,p,"m",m).call(this,"bigint")}boolean(){return ru(this,p,"m",v).call(this,"boolean")}isBoolean(){return ru(this,p,"m",m).call(this,"boolean")}symbol(){return ru(this,p,"m",v).call(this,"symbol")}isSymbol(){return ru(this,p,"m",m).call(this,"symbol")}undefined(){return ru(this,p,"m",v).call(this,"undefined")}isUndefined(){return ru(this,p,"m",m).call(this,"undefined")}null(){if(null!==ru(this,f,"f"))throw TypeError(`Expected null, got ${typeof ru(this,f,"f")}`);return ru(this,f,"f")}isNull(){return null===ru(this,f,"f")}object(){return ru(this,p,"m",v).call(this,"object")}isObject(){return ru(this,p,"m",m).call(this,"object")}function(){return ru(this,p,"m",v).call(this,"function")}isFunction(){return ru(this,p,"m",m).call(this,"function")}array(){if(!Array.isArray(ru(this,f,"f")))throw TypeError(`Expected array, got ${typeof ru(this,f,"f")}`);return ru(this,f,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get:(t,i)=>Reflect.has(e,i)?Reflect.get(t,i):new rv(Reflect.get(t,i))})}isArray(){return Array.isArray(ru(this,f,"f"))}node(){if(!(ru(this,f,"f") instanceof rm))throw TypeError(`Expected YTNode, got ${ru(this,f,"f").constructor.name}`);return ru(this,f,"f")}isNode(){return ru(this,f,"f") instanceof rm}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw TypeError(`Expected ObservedArray, got ${typeof ru(this,f,"f")}`);return ru(this,f,"f")}isObserved(){var e;return null===(e=ru(this,f,"f"))||void 0===e?void 0:e[rf]}parsed(){if(!(ru(this,f,"f") instanceof rg))throw TypeError(`Expected SuperParsedResult, got ${typeof ru(this,f,"f")}`);return ru(this,f,"f")}isParsed(){return ru(this,f,"f") instanceof rg}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),ru(this,f,"f")}instanceof(e){if(!this.isInstanceof(e))throw TypeError(`Expected instance of ${e.name}, got ${ru(this,f,"f").constructor.name}`);return ru(this,f,"f")}isInstanceof(e){return ru(this,f,"f") instanceof e}};rn(rv,"Maybe"),f=new WeakMap,p=new WeakSet,m=rn(function(e){return typeof ru(this,f,"f")===e},"_Maybe_checkPrimative"),v=rn(function(e){if(!ru(this,p,"m",m).call(this,e))throw TypeError(`Expected ${e}, got ${this.typeof}`);return ru(this,f,"f")},"_Maybe_assertPrimative");var rg=class{constructor(e){g.set(this,void 0),rp(this,g,e,"f")}get is_null(){return null===ru(this,g,"f")}get is_array(){return!this.is_null&&Array.isArray(ru(this,g,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw TypeError("Expected an array, got a node");return ru(this,g,"f")}item(){if(!this.is_node)throw TypeError("Expected a node, got an array");return ru(this,g,"f")}};function ry(e){return new Proxy(e,{get:(e,t)=>"get"==t?(t,i)=>e.find((n,s)=>{let r=SF(t,n);return r&&i&&e.splice(s,1),r}):t==rf||("getAll"==t?(t,i)=>e.filter((n,s)=>{let r=SF(t,n);return r&&i&&e.splice(s,1),r}):"matchCondition"==t?t=>e.find(e=>t(e)):"filterType"==t?(...t)=>ry(e.filter(e=>!!e.is(...t))):"firstOfType"==t?(...t)=>e.find(e=>!!e.is(...t)):"first"==t?()=>e[0]:"as"==t?(...t)=>ry(e.map(e=>{if(e.is(...t))return e;throw new SL(`Expected node of any type ${t.map(e=>e.type).join(", ")}, got ${e.type}`)})):"remove"==t?t=>e.splice(t,1):Reflect.get(e,t))})}rn(rg,"SuperParsedResult"),g=new WeakMap,rn(ry,"observe");var r_=class extends Map{getType(...e){return ry((e=e.flat()).flatMap(e=>this.get(e.type)||[]))}};rn(r_,"Memo"),rs({},{Author:()=>SR,ChildElement:()=>hr,EmojiRun:()=>rB,Format:()=>oR,Text:()=>rF,TextRun:()=>rU,Thumbnail:()=>rN,VideoDetails:()=>oP});var rb={};rs(rb,{CLIENTS:()=>rS,INNERTUBE_HEADERS_BASE:()=>rT,OAUTH:()=>rx,STREAM_HEADERS:()=>rC,URLS:()=>rw});var rw=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),rx=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),rS=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),rC=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),rT=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),rI={};rs(rI,{addRuntimeParser:()=>bn,applyMutations:()=>bf,getDynamicParsers:()=>bs,getParserByName:()=>bt,hasParser:()=>bi,parse:()=>bl,parseActions:()=>bu,parseArray:()=>ba,parseC:()=>bc,parseFormats:()=>bp,parseItem:()=>bo,parseLC:()=>bd,parseRR:()=>bh,parseResponse:()=>br,sanitizeClassName:()=>be,setParserErrorHandler:()=>_6,shouldIgnore:()=>_7});var rE=class extends rm{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};rn(rE,"AudioOnlyPlayability"),rE.type="AudioOnlyPlayability";var rk=class extends rm{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new rF(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new rD(e.navigationEndpoint||e.serviceEndpoint||e.command)}};rn(rk,"Button"),rk.type="Button";var rA=rk,rR=class extends rm{constructor(e){var t;super(),this.label=new rF(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new rD(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType),Reflect.has(e,"descriptionText")&&(this.description=new rF(e.descriptionText))}};rn(rR,"DropdownItem"),rR.type="DropdownItem";var rP=class extends rm{constructor(e){super(),this.label=e.label||"",this.entries=rI.parseArray(e.entries,rR)}};rn(rP,"Dropdown"),rP.type="Dropdown";var rM=class extends rm{constructor(e){super(),this.title=new rF(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=rI.parseItem(e.privacyOption,rP),this.create_button=rI.parseItem(e.cancelButton,rA),this.cancel_button=rI.parseItem(e.cancelButton,rA)}};rn(rM,"CreatePlaylistDialog"),rM.type="CreatePlaylistDialog";var rO=class extends rm{constructor(e){super(),this.popup=rI.parseItem(e.popup),this.popup_type=e.popupType}};rn(rO,"OpenPopupAction"),rO.type="OpenPopupAction";var rL=class extends rm{constructor(e){var t,i,n,s,r,o,a,l;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new rO(e.openPopupAction));let c=Object.keys(e||{}).find(e=>e.endsWith("Endpoint")||e.endsWith("Command"));this.payload=c?Reflect.get(e,c):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=rI.parseItem(this.payload.dialog||this.payload.content)),(null==e?void 0:e.serviceEndpoint)&&(e=e.serviceEndpoint),this.metadata={},(null===(i=null===(t=null==e?void 0:e.commandMetadata)||void 0===t?void 0:t.webCommandMetadata)||void 0===i?void 0:i.url)&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(null===(s=null===(n=null==e?void 0:e.commandMetadata)||void 0===n?void 0:n.webCommandMetadata)||void 0===s?void 0:s.webPageType)&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(null===(o=null===(r=null==e?void 0:e.commandMetadata)||void 0===r?void 0:r.webCommandMetadata)||void 0===o?void 0:o.apiUrl)?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):c&&(this.metadata.api_url=this.getEndpoint(c)),(null===(l=null===(a=null==e?void 0:e.commandMetadata)||void 0===a?void 0:a.webCommandMetadata)||void 0===l?void 0:l.sendPost)&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),(null==e?void 0:e.createPlaylistEndpoint)&&(null==e?void 0:e.createPlaylistEndpoint.createPlaylistDialog)&&(this.dialog=rI.parseItem(null==e?void 0:e.createPlaylistEndpoint.createPlaylistDialog,rM))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,t){if(!e)throw Error("An active caller must be provided");if(!this.metadata.api_url)throw Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),t))}toURL(){if(this.metadata.url&&this.metadata.page_type)return"WEB_PAGE_TYPE_UNKNOWN"===this.metadata.page_type?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};rn(rL,"NavigationEndpoint"),rL.type="NavigationEndpoint";var rD=rL,rN=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return e&&e.thumbnails?e.thumbnails.map(e=>new rN(e)).sort((e,t)=>t.width-e.width):[]}};rn(rN,"Thumbnail");var rB=class{constructor(e){var t,i,n,s,r,o;this.text=(null===(t=e.emoji)||void 0===t?void 0:t.emojiId)||(null===(n=null===(i=e.emoji)||void 0===i?void 0:i.shortcuts)||void 0===n?void 0:n[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:(null===(s=e.emoji)||void 0===s?void 0:s.shortcuts)||[],search_terms:(null===(r=e.emoji)||void 0===r?void 0:r.searchTerms)||[],image:rN.fromResponse(e.emoji.image),is_custom:!!(null===(o=e.emoji)||void 0===o?void 0:o.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=rV(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};rn(rB,"EmojiRun");var rU=class{constructor(e){this.text=e.text,this.bold=!!e.bold,this.italics=!!e.italics,this.strikethrough=!!e.strikethrough,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new rD(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let t=rV(this.text),i=e.map(e=>`<${e}>`).join("")+t+e.map(e=>`</${e}>`).join(""),n=`<span style="white-space: pre-wrap;">${i}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:e}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let t=this.endpoint.toURL();if(t)return`<a href="${t}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${e}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${n}</a>`}}if(this.endpoint){let e=this.endpoint.toURL();if(e)return`<a href="${e}">${n}</a>`}return n}};function rV(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}rn(rU,"TextRun"),rn(rV,"escape");var rF=class{constructor(e){var t,i,n,s;"object"==typeof e&&null!==e&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(e=>e.emoji?new rB(e):new rU(e)),this.text=this.runs.map(e=>e.text).join("")):this.text=null==e?void 0:e.simpleText,"object"==typeof e&&null!==e&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new rD(e.navigationEndpoint)),"object"==typeof e&&null!==e&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new rD(e.titleNavigationEndpoint)),!this.endpoint&&(null===(i=null===(t=this.runs)||void 0===t?void 0:t[0])||void 0===i?void 0:i.endpoint)&&(this.endpoint=null===(s=null===(n=this.runs)||void 0===n?void 0:n[0])||void 0===s?void 0:s.endpoint)}static fromAttributed(e){let t=[],i=e.content,n=e.commandRuns,s=0;if(n){for(let r of n){let n=r.length,o=r.startIndex;if(o>s&&t.push({text:i.slice(s,o)}),Reflect.has(r,"onTap")){let s=null;if(Reflect.has(e,"attachmentRuns")){for(let t of e.attachmentRuns)if(t.startIndex-2==o){s=t;break}}s?t.push({text:i.slice(o,o+n),navigationEndpoint:r.onTap,attachment:s}):t.push({text:i.slice(o,o+n),navigationEndpoint:r.onTap})}s=o+n}s<i.length&&t.push({text:i.slice(s)})}else t.push({text:i});return new rF({runs:t})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return void 0===this.text}toString(){return this.text||"N/A"}};rn(rF,"Text");var rj=class extends rm{constructor(e){super(),this.cards=rI.parseArray(e.cards),this.header=new rF(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};rn(rj,"CardCollection"),rj.type="CardCollection";var rH=class extends rm{constructor(e){super(),this.elements=rI.parseArray(e.elements),this.start_ms=e.startMs}};rn(rH,"Endscreen"),rH.type="Endscreen";var rW=class extends rm{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:rN.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new rD(e.featuredChannel.navigationEndpoint),subscribe_button:rI.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};rn(rW,"PlayerAnnotationsExpanded"),rW.type="PlayerAnnotationsExpanded";var r$=class extends rm{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(e=>({base_url:e.baseUrl,name:new rF(e.name),vss_id:e.vssId,language_code:e.languageCode,kind:e.kind,is_translatable:e.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(e=>({audio_track_id:e.audioTrackId,captions_initial_state:e.captionsInitialState,default_caption_track_index:e.defaultCaptionTrackIndex,has_default_track:e.hasDefaultTrack,visibility:e.visibility,caption_track_indices:e.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(e=>({language_code:e.languageCode,language_name:new rF(e.languageName)})))}};rn(r$,"PlayerCaptionsTracklist"),r$.type="PlayerCaptionsTracklist";var rG=class extends rm{constructor(){super()}};rn(rG,"PlayerLiveStoryboardSpec"),rG.type="PlayerLiveStoryboardSpec";var rK=class extends rm{constructor(e){super();let t=e.spec.split("|"),i=new URL(t.shift());this.boards=t.map((e,t)=>{let[n,s,r,o,a,l,c,d]=e.split("#");i.searchParams.set("sigh",d);let h=Math.ceil(parseInt(r,10)/(parseInt(o,10)*parseInt(a,10)));return{template_url:i.toString().replace("$L",t).replace("$N",c),thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(s,10),thumbnail_count:parseInt(r,10),interval:parseInt(l,10),columns:parseInt(o,10),rows:parseInt(a,10),storyboard_count:h}})}};rn(rK,"PlayerStoryboardSpec"),rK.type="PlayerStoryboardSpec";var rY=class extends rm{constructor(e){super(),this.text=new rF(e.text),this.alert_type=e.type}};rn(rY,"Alert"),rY.type="Alert";var rq=class extends rm{constructor(e){super(),this.text=new rF(e.text),this.alert_type=e.type,this.dismiss_button=rI.parseItem(e.dismissButton,rA)}};rn(rq,"AlertWithButton"),rq.type="AlertWithButton";var rz=class extends rm{constructor(e){super(),this.placeholder_text=new rF(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};rn(rz,"ClipCreationTextInput"),rz.type="ClipCreationTextInput";var rJ=class extends rm{constructor(e){var t,i,n,s,r,o;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=null===(i=null===(t=e.startAccessibility)||void 0===t?void 0:t.accessibilityData)||void 0===i?void 0:i.label,this.end_label=null===(s=null===(n=e.endAccessibility)||void 0===n?void 0:n.accessibilityData)||void 0===s?void 0:s.label,this.duration_label=null===(o=null===(r=e.durationAccessibility)||void 0===r?void 0:r.accessibilityData)||void 0===o?void 0:o.label}};rn(rJ,"ClipCreationScrubber"),rJ.type="ClipCreationScrubber";var rX=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.body=new rF(e.body)}};rn(rX,"ClipAdState"),rX.type="ClipAdState";var rQ=class extends rm{constructor(e){super(),this.user_avatar=rN.fromResponse(e.userAvatar),this.title_input=rI.parseItem(e.titleInput,[rz]),this.scrubber=rI.parseItem(e.scrubber,[rJ]),this.save_button=rI.parseItem(e.saveButton,[rA]),this.display_name=new rF(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=rI.parseItem(e.cancelButton,[rA]),this.ad_state_overlay=rI.parseItem(e.adStateOverlay,[rX]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};rn(rQ,"ClipCreation"),rQ.type="ClipCreation";var rZ=class extends rm{constructor(e){super(),this.contents=rI.parse(e.contents,!0,[rQ])}};rn(rZ,"ClipSection"),rZ.type="ClipSection";var r0=class extends rm{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=rI.parseItem(e.button,rA)),this.endpoint=new rD(e.continuationEndpoint)}};rn(r0,"ContinuationItem"),r0.type="ContinuationItem";var r1=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.visibility_button=rI.parseItem(e.visibilityButton,rA)}};rn(r1,"EngagementPanelTitleHeader"),r1.type="EngagementPanelTitleHeader";var r2=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items),this.top_level_buttons=rI.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};rn(r2,"Menu"),r2.type="Menu";var r3=class extends rm{constructor(e){super(),this.info_text=new rF(e.infoText),this.menu=rI.parseItem(e.menu,r2)}};rn(r3,"MacroMarkersInfoItem"),r3.type="MacroMarkersInfoItem";var r6=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.time_description=new rF(e.timeDescription),this.thumbnail=rN.fromResponse(e.thumbnail),this.on_tap_endpoint=new rD(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};rn(r6,"MacroMarkersListItem"),r6.type="MacroMarkersListItem";var r5=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents,[r3,r6]),this.sync_button_label=new rF(e.syncButtonLabel)}};rn(r5,"MacroMarkersList"),r5.type="MacroMarkersList";var r4=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents)}};rn(r4,"ProductList"),r4.type="ProductList";var r8=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=rI.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=rI.parseItem(e.subMenu))}};rn(r8,"SectionList"),r8.type="SectionList";var r9=class extends rm{constructor(e){var t;super(),this.show_more_text=new rF(e.showMoreText),this.show_less_text=new rF(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=null===(t=e.attributedDescriptionBodyText)||void 0===t?void 0:t.content)}};rn(r9,"ExpandableVideoDescriptionBody"),r9.type="ExpandableVideoDescriptionBody";var r7=class extends rm{constructor(e){super(),this.thumbnails=rN.fromResponse(e.thumbnail),this.endpoint=new rD(e.searchEndpoint),this.query=new rF(e.query).toString()}};rn(r7,"SearchRefinementCard"),r7.type="SearchRefinementCard";var oe=class extends rm{constructor(e){super(),this.game=rI.parseItem(e.game)}};rn(oe,"GameCard"),oe.type="GameCard";var ot=class extends rm{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=rI.parseArray(e.items)}get contents(){return this.items}};rn(ot,"HorizontalList"),ot.type="HorizontalList";var oi=class extends rm{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new rF(e.header.collapsedTitle),collapsed_thumbnail:rN.fromResponse(e.header.collapsedThumbnail),collapsed_label:new rF(e.header.collapsedLabel),expanded_title:new rF(e.header.expandedTitle)}),this.expanded_content=rI.parseItem(e.expandedContent,[ou,ot]),this.expand_button=rI.parseItem(e.expandButton,rA),this.collapse_button=rI.parseItem(e.collapseButton,rA)}};rn(oi,"ExpandableMetadata"),oi.type="ExpandableMetadata";var on=class extends rm{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};rn(on,"MetadataBadge"),on.type="MetadataBadge";var os=on,or=class extends rm{constructor(e){super(),this.text=new rF(e.text).toString(),this.style=e.style}};rn(or,"ThumbnailOverlayTimeStatus"),or.type="ThumbnailOverlayTimeStatus";var oo=class extends rm{constructor(e){var t,i,n;super();let s=(null===(t=e.thumbnailOverlays.find(e=>e.thumbnailOverlayTimeStatusRenderer))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new rF(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new rF(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(e=>({text:new rF(e.snippetText),hover_text:new rF(e.snippetHoverText)}))),this.expandable_metadata=rI.parseItem(e.expandableMetadata,oi),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=rI.parseItem(e.richThumbnail)),this.author=new SR(e.ownerText,e.ownerBadges,null===(n=null===(i=e.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===n?void 0:n.thumbnail),this.badges=rI.parseArray(e.badges,os),this.endpoint=new rD(e.navigationEndpoint),this.published=new rF(e.publishedTimeText),this.view_count=new rF(e.viewCountText),this.short_view_count=new rF(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new rF(e.lengthText).toString():new rF(s).toString(),seconds:SK(e.lengthText?new rF(e.lengthText).toString():new rF(s).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=rI.parseItem(e.menu,r2),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(e=>e.text.toString()).join(""):(null===(e=this.description_snippet)||void 0===e?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(e=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===e.style||"LIVE"===e.label)return!0})||(null===(e=this.thumbnail_overlays.firstOfType(or))||void 0===e?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>"PREMIERE"===e.label)}get is_4k(){return this.badges.some(e=>"4K"===e.label)}get has_captions(){return this.badges.some(e=>"CC"===e.label)}get best_thumbnail(){return this.thumbnails[0]}};rn(oo,"Video"),oo.type="Video";var oa=oo,ol=class extends oa{constructor(e){super(e)}};rn(ol,"VideoCard"),ol.type="VideoCard";var oc=class extends rm{constructor(e){super(),this.image=e.image.sources.map(e=>new rN(e)).sort((e,t)=>t.width-e.width),this.style=e.style}};rn(oc,"ContentPreviewImageView"),oc.type="ContentPreviewImageView";var od=class extends rm{constructor(e){var t;super(),(null===(t=e.image)||void 0===t?void 0:t.sources)?this.image={sources:e.image.sources.map(e=>new rN(e)).sort((e,t)=>t.width-e.width)}:this.image=rI.parseItem(e.image,oc),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new rD(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};rn(od,"VideoAttributeView"),od.type="VideoAttributeView";var oh=class extends rm{constructor(e){super(),this.cards=rI.parseArray(e.cards,[od,r7,r6,oe,ol]),this.header=rI.parseItem(e.header),this.previous_button=rI.parseItem(e.previousButton,rA),this.next_button=rI.parseItem(e.nextButton,rA)}};rn(oh,"HorizontalCardList"),oh.type="HorizontalCardList";var ou=oh,op=class extends rm{constructor(e){super(),this.label=new rF(e.label),this.value=new rF(e.value),this.accessibility_text=e.accessibilityText}};rn(op,"Factoid"),op.type="Factoid";var of=class extends rm{constructor(e){super(),this.factoid=rI.parseItem(e.factoid,op)}};rn(of,"UploadTimeFactoid"),of.type="UploadTimeFactoid";var om=class extends rm{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=rI.parseItem(e.factoid,[op]),this.view_count_type=e.viewCountType}};rn(om,"ViewCountFactoid"),om.type="ViewCountFactoid";var ov=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.channel=new rF(e.channel),this.channel_navigation_endpoint=new rD(e.channelNavigationEndpoint),this.channel_thumbnail=rN.fromResponse(e.channelThumbnail),this.publish_date=new rF(e.publishDate),this.views=new rF(e.views),this.factoids=rI.parseArray(e.factoid,[op,om,of])}};rn(ov,"VideoDescriptionHeader"),ov.type="VideoDescriptionHeader";var og=class extends rm{constructor(e){super(),this.section_title=new rF(e.sectionTitle),this.creator_videos_button=rI.parseItem(e.creatorVideosButton,rA),this.creator_about_button=rI.parseItem(e.creatorAboutButton,rA),this.section_subtitle=new rF(e.sectionSubtitle),this.channel_avatar=rN.fromResponse(e.channelAvatar),this.channel_endpoint=new rD(e.channelEndpoint)}};rn(og,"VideoDescriptionInfocardsSection"),og.type="VideoDescriptionInfocardsSection";var oy=class extends rm{constructor(e){super(),this.title=new rF(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new rF(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new rF(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};rn(oy,"InfoRow"),oy.type="InfoRow";var o_=class extends rm{constructor(e){super(),this.id=e.videoId,this.thumbnails=rN.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=rI.parse(e.richThumbnail)),this.title=new rF(e.title),this.author=new SR(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new rF(e.viewCountText),this.short_view_count=new rF(e.shortViewCountText),this.published=new rF(e.publishedTimeText),this.badges=rI.parseArray(e.badges,os),this.duration={text:new rF(e.lengthText).toString(),seconds:SK(new rF(e.lengthText).toString())},this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.endpoint=new rD(e.navigationEndpoint),this.menu=rI.parseItem(e.menu,r2)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>"Fundraiser"===e.label)}get is_live(){return this.badges.some(e=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===e.style||"LIVE"===e.label)return!0})}get is_new(){return this.badges.some(e=>"New"===e.label)}get is_premiere(){return this.badges.some(e=>"PREMIERE"===e.style)}};rn(o_,"CompactVideo"),o_.type="CompactVideo";var ob=class extends rm{constructor(e){super(),this.info_rows=rI.parseArray(e.infoRows,oy),this.video_lockup=rI.parseItem(e.videoLockup,o_)}};rn(ob,"CarouselLockup"),ob.type="CarouselLockup";var ow=class extends rm{constructor(e){super(),this.carousel_lockups=rI.parseArray(e.carouselLockups,ob),this.section_title=new rF(e.sectionTitle)}};rn(ow,"VideoDescriptionMusicSection"),ow.type="VideoDescriptionMusicSection";var ox=class extends rm{constructor(e){super(),this.section_title=new rF(e.sectionTitle),this.sub_header_text=new rF(e.subHeaderText),this.primary_button=rI.parseItem(e.primaryButton,rA)}};rn(ox,"VideoDescriptionTranscriptSection"),ox.type="VideoDescriptionTranscriptSection";var oS=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail),this.title=new rF(e.title),this.short_byline_text=new rF(e.shortBylineText),this.video_count_short_text=new rF(e.videoCountShortText),this.endpoint=new rD(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};rn(oS,"StructuredDescriptionPlaylistLockup"),oS.type="StructuredDescriptionPlaylistLockup";var oC=class extends rm{constructor(e){super(),this.section_title=new rF(e.sectionTitle),this.media_lockups=rI.parseArray(e.mediaLockups,[oS])}};rn(oC,"VideoDescriptionCourseSection"),oC.type="VideoDescriptionCourseSection";var oT=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.items=rI.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new rD(e.endpoint))}get contents(){return this.items}};rn(oT,"ReelShelf"),oT.type="ReelShelf";var oI=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items,[ov,r9,ow,og,oC,ox,ox,ou,oT])}};rn(oI,"StructuredDescriptionContent"),oI.type="StructuredDescriptionContent";var oE=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header,r1),this.content=rI.parseItem(e.content,[od,r8,r0,rZ,oI,r5,r4]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};rn(oE,"EngagementPanelSectionList"),oE.type="EngagementPanelSectionList";var ok=class extends rm{constructor(e){super(),this.title=new rF(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new rD(e.selectedCommand)),this.selected=!!this.endpoint}};rn(ok,"MusicMultiSelectMenuItem"),ok.type="MusicMultiSelectMenuItem";var oA=class{constructor(e,t){var i,n,s,r,o,a;if(y.set(this,void 0),t&&rp(this,y,t,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf="FORMAT_STREAM_TYPE_OTF"===e.type,this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:null===(i=e.colorInfo.primaries)||void 0===i?void 0:i.replace("COLOR_PRIMARIES_",""),transfer_characteristics:null===(n=e.colorInfo.transferCharacteristics)||void 0===n?void 0:n.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:null===(s=e.colorInfo.matrixCoefficients)||void 0===s?void 0:s.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let t=new URLSearchParams(this.cipher||this.signature_cipher),i=null===(r=new URLSearchParams(t.get("url")||this.url).get("xtags"))||void 0===r?void 0:r.split(":"),n=null===(o=null==i?void 0:i.find(e=>e.startsWith("acont=")))||void 0===o?void 0:o.split("=")[1];this.language=(null===(a=null==i?void 0:i.find(e=>e.startsWith("lang=")))||void 0===a?void 0:a.split("=")[1])||null,this.is_dubbed="dubbed"===n,this.is_descriptive="descriptive"===n,this.is_original="original"===n||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new SO("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,ru(this,y,"f"))}};rn(oA,"Format"),y=new WeakMap;var oR=oA,oP=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=rN.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};rn(oP,"VideoDetails");var oM={};rs(oM,{AboutChannel:()=>oU,AboutChannelView:()=>oN,AccountChannel:()=>oF,AccountItemSection:()=>oG,AccountItemSectionHeader:()=>oH,AccountSectionList:()=>oY,AddBannerToLiveChatCommand:()=>uq,AddChatItemAction:()=>uJ,AddLiveChatTickerItemAction:()=>uQ,Alert:()=>rY,AlertWithButton:()=>rq,AnalyticsMainAppKeyMetrics:()=>aa,AnalyticsRoot:()=>ac,AnalyticsShortsCarouselCard:()=>ah,AnalyticsVideo:()=>ap,AnalyticsVodCarouselCard:()=>am,AnchoredSection:()=>_c,AppendContinuationItemsAction:()=>oz,AudioOnlyPlayability:()=>rE,AuthorCommentBadge:()=>lL,AutomixPreviewVideo:()=>aw,BackstageImage:()=>aS,BackstagePost:()=>aP,BackstagePostThread:()=>aO,BrowseFeedActions:()=>aD,BrowserMediaSession:()=>aB,Button:()=>rA,ButtonView:()=>aV,C4TabbedHeader:()=>aQ,CallToActionButton:()=>a0,Card:()=>a2,CardCollection:()=>rj,CarouselHeader:()=>a6,CarouselItem:()=>a4,CarouselLockup:()=>ob,Channel:()=>a9,ChannelAboutFullMetadata:()=>le,ChannelAgeGate:()=>li,ChannelExternalLinkView:()=>oL,ChannelFeaturedContent:()=>ls,ChannelHeaderLinks:()=>aH,ChannelHeaderLinksView:()=>a$,ChannelMetadata:()=>lo,ChannelMobileHeader:()=>ll,ChannelOptions:()=>ld,ChannelOwnerEmptyState:()=>lu,ChannelSubMenu:()=>lf,ChannelTagline:()=>aK,ChannelThumbnailWithLink:()=>lv,ChannelVideoPlayer:()=>ly,Chapter:()=>lb,ChildVideo:()=>lx,ChipCloud:()=>lI,ChipCloudChip:()=>lC,ClipAdState:()=>rX,ClipCreation:()=>rQ,ClipCreationScrubber:()=>rJ,ClipCreationTextInput:()=>rz,ClipSection:()=>rZ,CollaboratorInfoCardContent:()=>lk,CollageHeroImage:()=>lR,Command:()=>lM,Comment:()=>dn,CommentActionButtons:()=>aA,CommentDialog:()=>dl,CommentReplies:()=>dd,CommentReplyDialog:()=>lN,CommentSimplebox:()=>db,CommentThread:()=>dx,CommentsEntryPointHeader:()=>dv,CommentsEntryPointTeaser:()=>df,CommentsHeader:()=>dy,CommentsSimplebox:()=>du,CompactChannel:()=>dC,CompactLink:()=>dI,CompactMix:()=>dL,CompactMovie:()=>dN,CompactPlaylist:()=>dU,CompactStation:()=>dF,CompactVideo:()=>o_,ConfirmDialog:()=>dH,ContentMetadataView:()=>d$,ContentPreviewImageView:()=>oc,ContinuationItem:()=>r0,ConversationBar:()=>dq,CopyLink:()=>dJ,CreatePlaylistDialog:()=>rM,CreatorHeart:()=>aE,CtaGoToCreatorStudio:()=>ag,DataModelSection:()=>ar,DecoratedPlayerBar:()=>d5,DefaultPromoPanel:()=>d8,DidYouMean:()=>d7,DimChatItemAction:()=>u0,DownloadButton:()=>ht,Dropdown:()=>rP,DropdownItem:()=>rR,DynamicTextView:()=>hn,Element:()=>ha,EmergencyOnebox:()=>hc,EmojiPicker:()=>dr,EmojiPickerCategory:()=>hh,EmojiPickerCategoryButton:()=>hp,EmojiPickerUpsellCategory:()=>hm,EndScreenPlaylist:()=>h_,EndScreenVideo:()=>hw,Endscreen:()=>rH,EndscreenElement:()=>hg,EngagementPanelSectionList:()=>oE,EngagementPanelTitleHeader:()=>r1,ExpandableMetadata:()=>oi,ExpandableTab:()=>hS,ExpandableVideoDescriptionBody:()=>r9,ExpandedShelfContents:()=>hT,Factoid:()=>op,FancyDismissibleDialog:()=>hE,FeedFilterChipBar:()=>hA,FeedNudge:()=>hP,FeedTabbedHeader:()=>hO,FlexibleActionsView:()=>hD,GameCard:()=>oe,GameDetails:()=>hB,Grid:()=>hV,GridChannel:()=>hj,GridHeader:()=>hW,GridMix:()=>hG,GridMovie:()=>hY,GridPlaylist:()=>hz,GridShow:()=>h1,GridVideo:()=>h3,GuideCollapsibleEntry:()=>h8,GuideCollapsibleSectionEntry:()=>h7,GuideDownloadsEntry:()=>ut,GuideEntry:()=>h5,GuideSection:()=>un,GuideSubscriptionsSection:()=>ur,HashtagHeader:()=>ua,HashtagTile:()=>uc,HeatMarker:()=>dQ,Heatmap:()=>d0,HeroPlaylistThumbnail:()=>uh,HighlightsCarousel:()=>uf,HistorySuggestion:()=>uy,HorizontalCardList:()=>ou,HorizontalList:()=>ot,HorizontalMovieList:()=>ub,IconLink:()=>ux,IncludingResultsFor:()=>uC,InfoPanelContainer:()=>uk,InfoPanelContent:()=>uI,InfoRow:()=>oy,InteractiveTabbedHeader:()=>uR,ItemSection:()=>uU,ItemSectionHeader:()=>uM,ItemSectionTab:()=>uL,ItemSectionTabbedHeader:()=>uN,KidsBlocklistPicker:()=>_p,KidsBlocklistPickerItem:()=>_h,KidsCategoriesHeader:()=>_g,KidsCategoryTab:()=>_m,KidsHomeScreen:()=>__,LikeButton:()=>uF,LiveChat:()=>uH,LiveChatActionPanel:()=>pw,LiveChatAuthorBadge:()=>p1,LiveChatAutoModMessage:()=>u2,LiveChatBanner:()=>uK,LiveChatBannerHeader:()=>u$,LiveChatBannerPoll:()=>u6,LiveChatDialog:()=>p3,LiveChatHeader:()=>p5,LiveChatItemList:()=>p8,LiveChatMembershipItem:()=>u4,LiveChatMessageInput:()=>p7,LiveChatPaidMessage:()=>u9,LiveChatPaidSticker:()=>pe,LiveChatParticipant:()=>ft,LiveChatParticipantsList:()=>fn,LiveChatPlaceholderItem:()=>pi,LiveChatProductItem:()=>ps,LiveChatRestrictedParticipation:()=>po,LiveChatTextMessage:()=>pc,LiveChatTickerPaidMessageItem:()=>ph,LiveChatTickerPaidStickerItem:()=>pp,LiveChatTickerSponsorItem:()=>pm,LiveChatViewerEngagementMessage:()=>pg,MacroMarkersInfoItem:()=>r3,MacroMarkersList:()=>r5,MacroMarkersListItem:()=>r6,MarkChatItemAsDeletedAction:()=>pS,MarkChatItemsByAuthorAsDeletedAction:()=>pT,Menu:()=>r2,MenuNavigationItem:()=>fr,MenuPopup:()=>fc,MenuServiceItem:()=>fa,MenuServiceItemDownload:()=>fh,MerchandiseItem:()=>fS,MerchandiseShelf:()=>fT,Message:()=>dK,MetadataBadge:()=>os,MetadataRow:()=>fE,MetadataRowContainer:()=>fA,MetadataRowHeader:()=>fP,MetadataScreen:()=>fO,MicroformatData:()=>fD,Mix:()=>fB,Movie:()=>fV,MovingThumbnail:()=>fj,MultiMarkersPlayerBar:()=>d3,MultiPageMenu:()=>fp,MultiPageMenuNotificationSection:()=>fm,MusicCardShelf:()=>fZ,MusicCardShelfHeaderBasic:()=>fW,MusicCarouselShelf:()=>mr,MusicCarouselShelfBasicHeader:()=>f1,MusicDescriptionShelf:()=>ma,MusicDetailHeader:()=>mc,MusicDownloadStateBadge:()=>mh,MusicEditablePlaylistDetailHeader:()=>mp,MusicElementHeader:()=>mm,MusicHeader:()=>mg,MusicImmersiveHeader:()=>m_,MusicInlineBadge:()=>fG,MusicItemThumbnailOverlay:()=>fz,MusicLargeCardItemCarousel:()=>mS,MusicMenuItemDivider:()=>fg,MusicMultiRowListItem:()=>f3,MusicMultiSelectMenu:()=>f_,MusicMultiSelectMenuItem:()=>ok,MusicNavigationButton:()=>f5,MusicPlayButton:()=>fY,MusicPlaylistShelf:()=>mT,MusicQueue:()=>mO,MusicResponsiveListItem:()=>mt,MusicResponsiveListItemFixedColumn:()=>f8,MusicResponsiveListItemFlexColumn:()=>f7,MusicShelf:()=>mD,MusicSideAlignedItem:()=>mB,MusicSortFilterButton:()=>mV,MusicTastebuilderShelf:()=>mW,MusicTastebuilderShelfThumbnail:()=>mj,MusicThumbnail:()=>fX,MusicTwoRowItem:()=>mn,MusicVisualHeader:()=>mG,NavigationEndpoint:()=>rD,Notification:()=>mY,OpenPopupAction:()=>rO,PageHeader:()=>mX,PageHeaderView:()=>mz,PageIntroduction:()=>mZ,PdgCommentChip:()=>lU,PivotButton:()=>m1,PlayerAnnotationsExpanded:()=>rW,PlayerCaptionsTracklist:()=>r$,PlayerControlsOverlay:()=>m5,PlayerErrorMessage:()=>m8,PlayerLegacyDesktopYpcOffer:()=>m7,PlayerLegacyDesktopYpcTrailer:()=>vn,PlayerLiveStoryboardSpec:()=>rG,PlayerMicroformat:()=>vr,PlayerOverflow:()=>m3,PlayerOverlay:()=>vh,PlayerOverlayAutoplay:()=>va,PlayerStoryboardSpec:()=>rK,Playlist:()=>dM,PlaylistCustomThumbnail:()=>dk,PlaylistHeader:()=>vp,PlaylistInfoCardContent:()=>vm,PlaylistMetadata:()=>vg,PlaylistPanel:()=>mP,PlaylistPanelVideo:()=>mE,PlaylistPanelVideoWrapper:()=>mA,PlaylistSidebar:()=>v_,PlaylistSidebarPrimaryInfo:()=>vw,PlaylistSidebarSecondaryInfo:()=>vS,PlaylistVideo:()=>vT,PlaylistVideoList:()=>vE,PlaylistVideoThumbnail:()=>dR,Poll:()=>vA,PollHeader:()=>p_,Post:()=>vP,PostMultiImage:()=>vO,ProductList:()=>r4,ProductListHeader:()=>vD,ProductListItem:()=>vB,ProfileColumn:()=>vV,ProfileColumnStats:()=>vj,ProfileColumnStatsEntry:()=>vW,ProfileColumnUserInfo:()=>vG,Quiz:()=>vY,RecognitionShelf:()=>vz,ReelItem:()=>vX,ReelPlayerHeader:()=>vZ,ReelPlayerOverlay:()=>v1,ReelShelf:()=>oT,RelatedChipCloud:()=>v3,RemoveBannerForLiveChatCommand:()=>pE,RemoveChatItemAction:()=>pA,RemoveChatItemByAuthorAction:()=>pP,ReplaceChatItemAction:()=>pO,ReplayChatItemAction:()=>pD,RichGrid:()=>v5,RichItem:()=>v8,RichListHeader:()=>v7,RichMetadata:()=>gt,RichMetadataRow:()=>gn,RichSection:()=>gr,RichShelf:()=>ga,SearchBox:()=>gc,SearchFilter:()=>gh,SearchFilterGroup:()=>gp,SearchFilterOptionsDialog:()=>gm,SearchHeader:()=>gg,SearchRefinementCard:()=>r7,SearchSubMenu:()=>g_,SearchSuggestion:()=>uv,SearchSuggestionsSection:()=>gw,SecondarySearchContainer:()=>gS,SectionList:()=>r8,SegmentedLikeDislikeButton:()=>gT,SettingBoolean:()=>gE,SettingsCheckbox:()=>gA,SettingsOptions:()=>gO,SettingsSidebar:()=>gD,SettingsSwitch:()=>gP,SharedPost:()=>gB,Shelf:()=>gV,ShowCustomThumbnail:()=>hX,ShowLiveChatActionPanelAction:()=>pB,ShowLiveChatDialogAction:()=>pV,ShowLiveChatTooltipCommand:()=>pj,ShowingResultsFor:()=>gj,SimpleCardContent:()=>gW,SimpleCardTeaser:()=>gG,SimpleMenuHeader:()=>fw,SimpleTextSection:()=>gY,SingleActionEmergencySupport:()=>gz,SingleColumnBrowseResults:()=>gZ,SingleColumnMusicWatchNextResults:()=>g1,SingleHeroImage:()=>g3,SlimOwner:()=>g5,SlimVideoMetadata:()=>g8,SortFilterSubMenu:()=>oX,SponsorCommentBadge:()=>lF,StatRow:()=>a_,StructuredDescriptionContent:()=>oI,StructuredDescriptionPlaylistLockup:()=>oS,SubFeedOption:()=>g7,SubFeedSelector:()=>yt,SubscribeButton:()=>aJ,SubscriptionNotificationToggleButton:()=>aq,Tab:()=>gX,Tabbed:()=>yn,TabbedSearchResults:()=>yr,TextHeader:()=>ya,ThumbnailLandscapePortrait:()=>yc,ThumbnailOverlayBottomPanel:()=>hZ,ThumbnailOverlayEndorsement:()=>yh,ThumbnailOverlayHoverText:()=>yp,ThumbnailOverlayInlineUnplayable:()=>ym,ThumbnailOverlayLoadingPreview:()=>yg,ThumbnailOverlayNowPlaying:()=>y_,ThumbnailOverlayPinking:()=>yw,ThumbnailOverlayPlaybackStatus:()=>yS,ThumbnailOverlayResumePlayback:()=>yT,ThumbnailOverlaySidePanel:()=>yE,ThumbnailOverlayTimeStatus:()=>or,ThumbnailOverlayToggleButton:()=>yA,TimedMarkerDecoration:()=>yP,TitleAndButtonListHeader:()=>yO,ToggleButton:()=>aT,ToggleMenuServiceItem:()=>yD,Tooltip:()=>yB,TopicChannelDetails:()=>yV,Transcript:()=>at,TranscriptFooter:()=>oZ,TranscriptSearchBox:()=>o1,TranscriptSearchPanel:()=>o7,TranscriptSectionHeader:()=>o3,TranscriptSegment:()=>o5,TranscriptSegmentList:()=>o8,TwoColumnBrowseResults:()=>yj,TwoColumnSearchResults:()=>yW,TwoColumnWatchNextResults:()=>yG,UniversalWatchCard:()=>yY,UpdateDateTextAction:()=>pW,UpdateDescriptionAction:()=>pG,UpdateEngagementPanelAction:()=>an,UpdateLiveChatPollAction:()=>pY,UpdateTitleAction:()=>pz,UpdateToggleButtonTextAction:()=>pX,UpdateViewershipAction:()=>pZ,UploadTimeFactoid:()=>of,UpsellDialog:()=>yz,VerticalList:()=>yX,VerticalWatchCardList:()=>yZ,Video:()=>oa,VideoAttributeView:()=>od,VideoCard:()=>ol,VideoDescriptionCourseSection:()=>oC,VideoDescriptionHeader:()=>ov,VideoDescriptionInfocardsSection:()=>og,VideoDescriptionMusicSection:()=>ow,VideoDescriptionTranscriptSection:()=>ox,VideoInfoCardContent:()=>y1,VideoOwner:()=>y3,VideoPrimaryInfo:()=>y5,VideoSecondaryInfo:()=>y8,ViewCountFactoid:()=>om,WatchCardCompactVideo:()=>y7,WatchCardHeroVideo:()=>_t,WatchCardRichHeader:()=>_n,WatchCardSectionSequence:()=>_r,WatchNextEndScreen:()=>vc,WatchNextTabbedResults:()=>_a,YpcTrailer:()=>vt});var oO=class extends rm{constructor(e){super(),this.title=rF.fromAttributed(e.title),this.link=rF.fromAttributed(e.link),this.favicon=e.favicon.sources.map(e=>new rN(e)).sort((e,t)=>t.width-e.width)}};rn(oO,"ChannelExternalLinkView"),oO.type="ChannelExternalLinkView";var oL=oO,oD=class extends rm{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=rF.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=rF.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=rF.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=rF.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new rD(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=rF.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=rI.parseArray(e.links,oL):this.links=[]}};rn(oD,"AboutChannelView"),oD.type="AboutChannelView";var oN=oD,oB=class extends rm{constructor(e){super(),this.metadata=rI.parseItem(e.metadata,oN),this.share_channel=rI.parseItem(e.shareChannel,rA)}};rn(oB,"AboutChannel"),oB.type="AboutChannel";var oU=oB,oV=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.endpoint=new rD(e.navigationEndpoint)}};rn(oV,"AccountChannel"),oV.type="AccountChannel";var oF=oV,oj=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(oj,"AccountItemSectionHeader"),oj.type="AccountItemSectionHeader";var oH=oj,oW=class extends rm{constructor(e){super(),this.account_name=new rF(e.accountName),this.account_photo=rN.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new rD(e.serviceEndpoint),this.account_byline=new rF(e.accountByline)}};rn(oW,"AccountItem"),oW.type="AccountItem";var o$=class extends rm{constructor(e){super(),this.contents=ry(e.contents.map(e=>new oW(e.accountItem))),this.header=rI.parseItem(e.header,oH)}};rn(o$,"AccountItemSection"),o$.type="AccountItemSection";var oG=o$,oK=class extends rm{constructor(e){super(),this.contents=rI.parseItem(e.contents[0],oG),this.footers=rI.parseItem(e.footers[0],oF)}};rn(oK,"AccountSectionList"),oK.type="AccountSectionList";var oY=oK,oq=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.continuationItems),this.target=e.target}};rn(oq,"AppendContinuationItemsAction"),oq.type="AppendContinuationItemsAction";var oz=oq,oJ=class extends rm{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(e=>{var t,i;return{title:e.title,selected:e.selected,continuation:null===(i=null===(t=e.continuation)||void 0===t?void 0:t.reloadContinuationData)||void 0===i?void 0:i.continuation,endpoint:new rD(e.serviceEndpoint||e.navigationEndpoint),subtitle:e.subtitle||null}}))}};rn(oJ,"SortFilterSubMenu"),oJ.type="SortFilterSubMenu";var oX=oJ,oQ=class extends rm{constructor(e){super(),this.language_menu=rI.parseItem(e.languageMenu,oX)}};rn(oQ,"TranscriptFooter"),oQ.type="TranscriptFooter";var oZ=oQ,o0=class extends rm{constructor(e){super(),this.formatted_placeholder=new rF(e.formattedPlaceholder),this.clear_button=rI.parseItem(e.clearButton,rA),this.endpoint=new rD(e.onTextChangeCommand),this.search_button=rI.parseItem(e.searchButton,rA)}};rn(o0,"TranscriptSearchBox"),o0.type="TranscriptSearchBox";var o1=o0,o2=class extends rm{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new rF(e.snippet)}};rn(o2,"TranscriptSectionHeader"),o2.type="TranscriptSectionHeader";var o3=o2,o6=class extends rm{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new rF(e.snippet),this.start_time_text=new rF(e.startTimeText),this.target_id=e.targetId}};rn(o6,"TranscriptSegment"),o6.type="TranscriptSegment";var o5=o6,o4=class extends rm{constructor(e){super(),this.initial_segments=rI.parseArray(e.initialSegments,[o5,o3]),this.no_result_label=new rF(e.noResultLabel),this.retry_label=new rF(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};rn(o4,"TranscriptSegmentList"),o4.type="TranscriptSegmentList";var o8=o4,o9=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header,o1),this.body=rI.parseItem(e.body,o8),this.footer=rI.parseItem(e.footer,oZ),this.target_id=e.targetId}};rn(o9,"TranscriptSearchPanel"),o9.type="TranscriptSearchPanel";var o7=o9,ae=class extends rm{constructor(e){super(),this.content=rI.parseItem(e.content,o7)}};rn(ae,"Transcript"),ae.type="Transcript";var at=ae,ai=class extends rm{constructor(e){super(),this.target_id=e.targetId,this.content=rI.parseItem(e.content,at)}};rn(ai,"UpdateEngagementPanelAction"),ai.type="UpdateEngagementPanelAction";var an=ai,as=class extends rm{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let t=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:t.linesData[0].x,y:t.linesData[0].y,style:{line_width:t.linesData[0].style.lineWidth,line_color:t.linesData[0].style.lineColor}},domain_axis:{tick_values:t.domainAxis.tickValues,custom_formatter:t.domainAxis.customFormatter},measure_axis:{tick_values:t.measureAxis.tickValues,custom_formatter:t.measureAxis.customFormatter}}}}};rn(as,"DataModelSection"),as.type="DataModelSection";var ar=as,ao=class extends rm{constructor(e){super(),this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(e=>new ar(e))}};rn(ao,"AnalyticsMainAppKeyMetrics"),ao.type="AnalyticsMainAppKeyMetrics";var aa=ao,al=class extends rm{constructor(e){super();let t=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=t.map(e=>({title:e.cardData.title,rows:e.cardData.rows.map(e=>({label:e.label,display_value:e.displayValue,display_value_a11y:e.displayValueA11y,bar_ratio:e.barRatio,bar_color:e.barColor,bar_opacity:e.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};rn(al,"AnalyticsRoot"),al.type="AnalyticsRoot";var ac=al,ad=class extends rm{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(e=>({description:e.shortsDescription,thumbnail_url:e.thumbnailUrl,endpoint:new rD(e.videoEndpoint)}))}};rn(ad,"AnalyticsShortsCarouselCard"),ad.type="AnalyticsShortsCarouselCard";var ah=ad,au=class extends rm{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("")[0].trim(),published:e.videoDescription.split("")[1].trim(),thumbnails:rN.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};rn(au,"AnalyticsVideo"),au.type="AnalyticsVideo";var ap=au,af=class extends rm{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(e=>new ap(e)))}};rn(af,"AnalyticsVodCarouselCard"),af.type="AnalyticsVodCarouselCard";var am=af,av=class extends rm{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};rn(av,"CtaGoToCreatorStudio"),av.type="CtaGoToCreatorStudio";var ag=av,ay=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.contents=new rF(e.contents)}};rn(ay,"StatRow"),ay.type="StatRow";var a_=ay,ab=class extends rm{constructor(e){var t,i;super(),(null===(i=null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.automixPlaylistVideoRenderer)||void 0===i?void 0:i.navigationEndpoint)&&(this.playlist_video={endpoint:new rD(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};rn(ab,"AutomixPreviewVideo"),ab.type="AutomixPreviewVideo";var aw=ab,ax=class extends rm{constructor(e){super(),this.image=rN.fromResponse(e.image),this.endpoint=new rD(e.command)}};rn(ax,"BackstageImage"),ax.type="BackstageImage";var aS=ax,aC=class extends rm{constructor(e){var t,i,n,s,r,o,a,l,c;super(),this.text=new rF(e.defaultText),this.toggled_text=new rF(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=null===(t=e.defaultIcon)||void 0===t?void 0:t.iconType;let d=(null===(s=null===(n=null===(i=null==e?void 0:e.defaultText)||void 0===i?void 0:i.accessibility)||void 0===n?void 0:n.accessibilityData)||void 0===s?void 0:s.label)||(null===(o=null===(r=null==e?void 0:e.accessibilityData)||void 0===r?void 0:r.accessibilityData)||void 0===o?void 0:o.label)||(null===(a=null==e?void 0:e.accessibility)||void 0===a?void 0:a.label);"LIKE"==this.icon_type&&(this.like_count=parseInt(d.replace(/\D/g,"")),this.short_like_count=new rF(e.defaultText).toString()),this.endpoint=new rD((null===(c=null===(l=e.defaultServiceEndpoint)||void 0===l?void 0:l.commandExecutorCommand)||void 0===c?void 0:c.commands)?e.defaultServiceEndpoint.commandExecutorCommand.commands.pop():e.defaultServiceEndpoint),this.toggled_endpoint=new rD(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};rn(aC,"ToggleButton"),aC.type="ToggleButton";var aT=aC,aI=class extends rm{constructor(e){var t,i;super(),this.creator_thumbnail=rN.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:null===(i=null===(t=e.heartColor)||void 0===t?void 0:t.basicColorPaletteData)||void 0===i?void 0:i.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};rn(aI,"CreatorHeart"),aI.type="CreatorHeart";var aE=aI,ak=class extends rm{constructor(e){super(),this.like_button=rI.parseItem(e.likeButton,aT),this.dislike_button=rI.parseItem(e.dislikeButton,aT),this.reply_button=rI.parseItem(e.replyButton,rA),this.creator_heart=rI.parseItem(e.creatorHeart,aE)}};rn(ak,"CommentActionButtons"),ak.type="CommentActionButtons";var aA=ak,aR=class extends rm{constructor(e){super(),this.id=e.postId,this.author=new SR(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new rF(e.contentText),this.published=new rF(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new rF(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=rI.parseItem(e.actionMenu,r2)),Reflect.has(e,"actionButtons")&&(this.action_buttons=rI.parseItem(e.actionButtons,aA)),Reflect.has(e,"voteButton")&&(this.vote_button=rI.parseItem(e.voteButton,rA)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new rD(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=rI.parseItem(e.backstageAttachment)),this.surface=e.surface}};rn(aR,"BackstagePost"),aR.type="BackstagePost";var aP=aR,aM=class extends rm{constructor(e){super(),this.post=rI.parseItem(e.post)}};rn(aM,"BackstagePostThread"),aM.type="BackstagePostThread";var aO=aM,aL=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents)}};rn(aL,"BrowseFeedActions"),aL.type="BrowseFeedActions";var aD=aL,aN=class extends rm{constructor(e){super(),this.album=new rF(e.album),this.thumbnails=rN.fromResponse(e.thumbnailDetails)}};rn(aN,"BrowserMediaSession"),aN.type="BrowserMediaSession";var aB=aN,aU=class extends rm{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new rD(e.onTap)}};rn(aU,"ButtonView"),aU.type="ButtonView";var aV=aU,aF=class extends rm{constructor(e){super(),this.endpoint=new rD(e.navigationEndpoint),this.icon=rN.fromResponse(e.icon),this.title=new rF(e.title)}};rn(aF,"HeaderLink"),aF.type="HeaderLink";var aj=class extends rm{constructor(e){var t,i;super(),this.primary=ry((null===(t=e.primaryLinks)||void 0===t?void 0:t.map(e=>new aF(e)))||[]),this.secondary=ry((null===(i=e.secondaryLinks)||void 0===i?void 0:i.map(e=>new aF(e)))||[])}};rn(aj,"ChannelHeaderLinks"),aj.type="ChannelHeaderLinks";var aH=aj,aW=class extends rm{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=rF.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=rF.fromAttributed(e.more))}};rn(aW,"ChannelHeaderLinksView"),aW.type="ChannelHeaderLinksView";var a$=aW,aG=class extends rm{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:rI.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,oE),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new rD(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};rn(aG,"ChannelTagline"),aG.type="ChannelTagline";var aK=aG,aY=class extends rm{constructor(e){super(),this.states=e.states.map(e=>({id:e.stateId,next_id:e.nextStateId,state:rI.parse(e.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};rn(aY,"SubscriptionNotificationToggleButton"),aY.type="SubscriptionNotificationToggleButton";var aq=aY,az=class extends rm{constructor(e){var t,i;super(),this.title=new rF(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new rF(e.subscribedButtonText),this.unsubscribed_text=new rF(e.unsubscribedButtonText),this.notification_preference_button=rI.parseItem(e.notificationPreferenceButton,aq),this.endpoint=new rD((null===(t=e.serviceEndpoints)||void 0===t?void 0:t[0])||(null===(i=e.onSubscribeEndpoints)||void 0===i?void 0:i[0]))}};rn(az,"SubscribeButton"),az.type="SubscribeButton";var aJ=az,aX=class extends rm{constructor(e){super(),this.author=new SR({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=rN.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=rN.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=rN.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new rF(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new rF(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=rI.parseItem(e.sponsorButton,rA)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=rI.parseItem(e.subscribeButton,[aJ,rA])),Reflect.has(e,"headerLinks")&&(this.header_links=rI.parseItem(e.headerLinks,[aH,a$])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new rF(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=rI.parseItem(e.tagline,aK))}};rn(aX,"C4TabbedHeader"),aX.type="C4TabbedHeader";var aQ=aX,aZ=class extends rm{constructor(e){super(),this.label=new rF(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};rn(aZ,"CallToActionButton"),aZ.type="CallToActionButton";var a0=aZ,a1=class extends rm{constructor(e){super(),this.teaser=rI.parseItem(e.teaser),this.content=rI.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(e=>({start_card_active_ms:e.startCardActiveMs,end_card_active_ms:e.endCardActiveMs,teaser_duration_ms:e.teaserDurationMs,icon_after_teaser_ms:e.iconAfterTeaserMs}))}};rn(a1,"Card"),a1.type="Card";var a2=a1,a3=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents)}};rn(a3,"CarouselHeader"),a3.type="CarouselHeader";var a6=a3,a5=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=rN.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};rn(a5,"CarouselItem"),a5.type="CarouselItem";var a4=a5,a8=class extends rm{constructor(e){super(),this.id=e.channelId,this.author=new SR(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new rF(e.subscriberCountText),this.video_count=new rF(e.videoCountText),this.long_byline=new rF(e.longBylineText),this.short_byline=new rF(e.shortBylineText),this.endpoint=new rD(e.navigationEndpoint),this.subscribe_button=rI.parseItem(e.subscribeButton,[aJ,rA]),this.description_snippet=new rF(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};rn(a8,"Channel"),a8.type="Channel";var a9=a8,a7=class extends rm{constructor(e){var t,i;super(),this.id=e.channelId,this.name=new rF(e.title),this.avatar=rN.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=null!==(i=null===(t=e.primaryLinks)||void 0===t?void 0:t.map(e=>({endpoint:new rD(e.navigationEndpoint),icon:rN.fromResponse(e.icon),title:new rF(e.title)})))&&void 0!==i?i:[],this.view_count=new rF(e.viewCountText),this.joined_date=new rF(e.joinedDateText),this.description=new rF(e.description),this.email_reveal=new rD(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new rF(e.country),this.buttons=rI.parseArray(e.actionButtons,rA)}get views(){return this.view_count}get joined(){return this.joined_date}};rn(a7,"ChannelAboutFullMetadata"),a7.type="ChannelAboutFullMetadata";var le=a7,lt=class extends rm{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=rN.fromResponse(e.avatar),this.header=new rF(e.header),this.main_text=new rF(e.mainText),this.sign_in_button=rI.parseItem(e.signInButton,rA),this.secondary_text=new rF(e.secondaryText)}};rn(lt,"ChannelAgeGate"),lt.type="ChannelAgeGate";var li=lt,ln=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.items=rI.parseArray(e.items)}};rn(ln,"ChannelFeaturedContent"),ln.type="ChannelFeaturedContent";var ls=ln,lr=class extends rm{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=rN.fromResponse(e.avatar),this.music_artist_name="string"==typeof e.musicArtistName&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};rn(lr,"ChannelMetadata"),lr.type="ChannelMetadata";var lo=lr,la=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(la,"ChannelMobileHeader"),la.type="ChannelMobileHeader";var ll=la,lc=class extends rm{constructor(e){super(),this.avatar=rN.fromResponse(e.avatar),this.endpoint=new rD(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(e=>new rF(e))}};rn(lc,"ChannelOptions"),lc.type="ChannelOptions";var ld=lc,lh=class extends rm{constructor(e){super(),this.illustration=rN.fromResponse(e.illustration),this.description=new rF(e.description)}};rn(lh,"ChannelOwnerEmptyState"),lh.type="ChannelOwnerEmptyState";var lu=lh,lp=class extends rm{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(e=>({endpoint:new rD(e.navigationEndpoint||e.endpoint),selected:e.selected,title:e.title})),this.sort_setting=rI.parseItem(e.sortSetting)}};rn(lp,"ChannelSubMenu"),lp.type="ChannelSubMenu";var lf=lp,lm=class extends rm{constructor(e){var t,i;super(),this.thumbnails=rN.fromResponse(e.thumbnail),this.endpoint=new rD(e.navigationEndpoint),this.label=null===(i=null===(t=e.accessibility)||void 0===t?void 0:t.accessibilityData)||void 0===i?void 0:i.label}};rn(lm,"ChannelThumbnailWithLink"),lm.type="ChannelThumbnailWithLink";var lv=lm,lg=class extends rm{constructor(e){super(),this.id=e.videoId,this.title=new rF(e.title),this.description=new rF(e.description),this.view_count=new rF(e.viewCountText),this.published_time=new rF(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};rn(lg,"ChannelVideoPlayer"),lg.type="ChannelVideoPlayer";var ly=lg,l_=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=rN.fromResponse(e.thumbnail)}};rn(l_,"Chapter"),l_.type="Chapter";var lb=l_,lw=class extends rm{constructor(e){super(),this.id=e.videoId,this.title=new rF(e.title),this.duration={text:e.lengthText.simpleText,seconds:SK(e.lengthText.simpleText)},this.endpoint=new rD(e.navigationEndpoint)}};rn(lw,"ChildVideo"),lw.type="ChildVideo";var lx=lw,lS=class extends rm{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new rD(e.navigationEndpoint)),this.text=new rF(e.text).toString()}};rn(lS,"ChipCloudChip"),lS.type="ChipCloudChip";var lC=lS,lT=class extends rm{constructor(e){super(),this.chips=rI.parseArray(e.chips,lC),this.next_button=rI.parseItem(e.nextButton,rA),this.previous_button=rI.parseItem(e.previousButton,rA),this.horizontal_scrollable=e.horizontalScrollable}};rn(lT,"ChipCloud"),lT.type="ChipCloud";var lI=lT,lE=class extends rm{constructor(e){super(),this.channel_avatar=rN.fromResponse(e.channelAvatar),this.custom_text=new rF(e.customText),this.channel_name=new rF(e.channelName),this.subscriber_count=new rF(e.subscriberCountText),this.endpoint=new rD(e.endpoint)}};rn(lE,"CollaboratorInfoCardContent"),lE.type="CollaboratorInfoCardContent";var lk=lE,lA=class extends rm{constructor(e){super(),this.left=rN.fromResponse(e.leftThumbnail),this.top_right=rN.fromResponse(e.topRightThumbnail),this.bottom_right=rN.fromResponse(e.bottomRightThumbnail),this.endpoint=new rD(e.navigationEndpoint)}};rn(lA,"CollageHeroImage"),lA.type="CollageHeroImage";var lR=lA,lP=class extends rm{constructor(e){super(),this.endpoint=new rD(e)}};rn(lP,"Command"),lP.type="Command";var lM=lP,lO=class extends rm{constructor(e){super(),_.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,"Verified"===this.tooltip&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),rp(this,_,e,"f")}get orig_badge(){return ru(this,_,"f")}};rn(lO,"AuthorCommentBadge"),_=new WeakMap,lO.type="AuthorCommentBadge";var lL=lO,lD=class extends rm{constructor(e){super(),this.reply_button=rI.parseItem(e.replyButton,rA),this.cancel_button=rI.parseItem(e.cancelButton,rA),this.author_thumbnail=rN.fromResponse(e.authorThumbnail),this.placeholder=new rF(e.placeholderText),this.error_message=new rF(e.errorMessage)}};rn(lD,"CommentReplyDialog"),lD.type="CommentReplyDialog";var lN=lD,lB=class extends rm{constructor(e){var t,i;super(),this.text=new rF(e.chipText),this.color_pallette={background_color:null===(t=e.chipColorPalette)||void 0===t?void 0:t.backgroundColor,foreground_title_color:null===(i=e.chipColorPalette)||void 0===i?void 0:i.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};rn(lB,"PdgCommentChip"),lB.type="PdgCommentChip";var lU=lB,lV=class extends rm{constructor(e){super(),this.custom_badge=rN.fromResponse(e.customBadge),this.tooltip=e.tooltip}};rn(lV,"SponsorCommentBadge"),lV.type="SponsorCommentBadge";var lF=lV;rs({},{decodeVisitorData:()=>cZ,encodeChannelAnalyticsParams:()=>c0,encodeCommentActionParams:()=>c4,encodeCommentParams:()=>c5,encodeCommentsSectionParams:()=>c6,encodeCustomThumbnailPayload:()=>c7,encodeHashtag:()=>de,encodeMessageParams:()=>c3,encodeMusicSearchFilters:()=>c2,encodeNotificationPref:()=>c8,encodeReelSequence:()=>dt,encodeSearchFilters:()=>c1,encodeVideoMetadataPayload:()=>c9,encodeVisitorData:()=>cQ}),(r=b||(b={}))[r.Varint=0]="Varint",r[r.Fixed64=1]="Fixed64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Fixed32=5]="Fixed32";var lj=class extends Uint32Array{constructor(e=0,t=0){super([e,t])}toString(e=!0){let[t,i]=this;if(0===t&&0===i)return"0";if(e&&i>2147483647)return"-"+lG(lz(this),lW).toString(!1);let n=[],s=new lj(t,i);for(;lq(s,lH);){let[e,t]=lY(s);n.push(t),s=e}return n.reverse().join("")}static parse(e){let t=parseInt(e,10),i=t<0;if(Number.isNaN(t))return new lj(0);if(e.length<10)return t<0?lG(lz(new lj(-t)),lW):new lj(t);let n=new lj,s=lW;for(let t of e.split("").reverse())parseInt(t)&&(n=lG(n,lK(new lj(parseInt(t)),s))),s=lK(s,new lj(10));return i?lG(lz(n),lW):n}};rn(lj,"Long");var lH=new lj(0),lW=new lj(1);function l$(e){let[t,i]=e;return[65535&t,t>>>16,65535&i,i>>>16]}function lG(e,t){let[i,n,s,r]=l$(e),[o,a,l,c]=l$(t),d=0,h=0,u,p;return u=0+((p=0+(i+o))>>>16),p&=65535,u+=n+a,h+=u>>>16,u&=65535,h+=s+l,d+=h>>>16,h&=65535,d+=r+c,new lj(u<<16|p,(d&=65535)<<16|h)}function lK(e,t){let[i,n,s,r]=l$(e),[o,a,l,c]=l$(t),d=0,h=0,u,p;return u=0+((p=0+i*o)>>>16),p&=65535,u+=i*a+n*o,h+=u>>>16,u&=65535,h+=i*l+s*o+n*a,d+=h>>>16,h&=65535,d+=i*c+n*l+s*a+r*o,new lj(u<<16|p,(d&=65535)<<16|h)}function lY(e){let[t,i]=e;return[new lj((i%10*4294967296+t)/10|0,i/10|0),(i%10*4294967296+t)%10]}function lq(e,t){let[i,n]=e,[s,r]=t;return n!==r?n-r:i-s}function lz(e){let[t,i]=e;return new lj(~t,~i)}function lJ(e){let t=[],i="number"==typeof e?new lj(e):e;for(;i[0]||i[1];){let[e,n]=i,s=127&e,r=n>>>7,o=(i=new lj(e>>>7|(127&n)<<25,r))[0]||i[1]?128|s:s;t.push(o)}return t.length<1?new Uint8Array(1):Uint8Array.from(t)}function lX(e){let t=new lj(0),i=0;for(;;){let n=e.getUint8(i);if(t=lQ(t,lZ(new lj(127&n),7*i)),++i,!(n>>>7))return[i,t]}}function lQ(e,t){return new lj(e[0]|t[0],e[1]|t[1])}function lZ(e,t){return 0===t?e:t>=32?new lj(0,e[0]<<t-32):new lj(e[0]<<t,e[1]<<t|e[0]>>>32-t)}function l0(e){let t=[];return e.forEach(([e,i])=>{switch(t.push(lJ(e<<3|i.type)),i.type){case b.Varint:t.push(lJ(i.value));break;case b.Fixed64:{let e=new Uint8Array(8),n=new DataView(e.buffer);n.setUint32(0,i.value[0],!0),n.setUint32(4,i.value[1],!0),t.push(e);break}case b.LengthDelimited:t.push(lJ(i.value.byteLength)),t.push(i.value);break;case b.Fixed32:{let e=new Uint8Array(4);new DataView(e.buffer).setUint32(0,i.value,!0),t.push(e)}}}),l1(t)}function l1(e){let t=e.reduce((e,t)=>e+t.byteLength,0),i=new Uint8Array(t);return e.reduce((e,t)=>(i.set(t,e),e+t.byteLength),0),i}function l2(e){if(e instanceof lj){let t=new lj(e[0]<<1,e[1]<<1|e[0]>>>31),i=e[1]>>>31?new lj(4294967295,4294967295):new lj;return new lj(t[0]^i[0],t[1]^i[1])}return(2*e^e>>31)>>>0}function l3(e){if(e instanceof lj){let t=new lj(e[0]>>>1|e[1]<<31,e[1]>>>1),i=1&e[0]?new lj(4294967295,4294967295):new lj;return new lj(t[0]^i[0],t[1]^i[1])}return e>>>1^-(1&e)}rn(l$,"makeChunk"),rn(lG,"add"),rn(lK,"mul"),rn(lY,"divByTen"),rn(lq,"compare"),rn(lz,"negate"),rn(lJ,"encode"),rn(lX,"decode"),rn(lQ,"or"),rn(lZ,"leftshift"),rn(l0,"serialize"),rn(l1,"concat"),rn(l2,"encode"),rn(l3,"decode");var l6={int32:e=>0|e[0],int64:e=>e.toString(!0),uint32:e=>e[0]>>>0,uint64:e=>e.toString(!1),sint32:e=>l3(e[0]),sint64:e=>l3(e).toString(!0),bool:e=>0!==e[0]},l5={int32:e=>new lj(e),int64:e=>lj.parse(e),uint32:e=>new lj(e),uint64:e=>lj.parse(e),sint32:e=>l2(new lj(e)),sint64:e=>l2(lj.parse(e)),bool:e=>new lj(+e)},l4=Object.fromEntries(Object.entries(l6).map(([e,t])=>[e,e=>{if(e.type===b.Varint)return t(e.value)}])),l8=Object.fromEntries(Object.entries(l5).map(([e,t])=>[e,e=>({type:b.Varint,value:t(e)})])),l9=Object.assign(Object.assign({},l4),{double:e=>{if(e.type===b.Fixed64)return new DataView(e.value.buffer).getFloat64(0,!0)},float:e=>{if(e.type===b.Fixed32)return new DataView(new Uint32Array([e.value]).buffer).getFloat32(0,!0)},fixed32:e=>{if(e.type===b.Fixed32)return e.value>>>0},fixed64:e=>{if(e.type===b.Fixed64)return e.value.toString(!1)},sfixed32:e=>{if(e.type===b.Fixed32)return 0|e.value},sfixed64:e=>{if(e.type===b.Fixed64)return e.value.toString(!0)},string:e=>{if(e.type===b.LengthDelimited)return new TextDecoder().decode(e.value)},bytes:e=>{if(e.type===b.LengthDelimited)return e.value}}),l7=Object.assign(Object.assign({},l8),{double:e=>{let t=new lj;return new DataView(t.buffer).setFloat64(0,e,!0),{type:b.Fixed64,value:t}},float:e=>{let t=new Uint32Array(1),i=new DataView(t.buffer);return i.setFloat32(0,e,!0),{type:b.Fixed32,value:i.getUint32(0,!0)}},fixed32:e=>({type:b.Fixed32,value:e>>>0}),fixed64:e=>({type:b.Fixed64,value:lj.parse(e)}),sfixed32:e=>({type:b.Fixed32,value:0|e}),sfixed64:e=>({type:b.Fixed64,value:lj.parse(e)}),string:e=>{let t=new TextEncoder;return{type:b.LengthDelimited,value:t.encode(e)}},bytes:e=>({type:b.LengthDelimited,value:e})});Object.assign(Object.assign({},Object.fromEntries(Object.keys(l6).map(e=>[e,function*(t){for(let i of t){let t=l9[e](i);if(null!=t)yield t;else for(let t of cs(i))yield l6[e](t)}}]))),{*double(e){for(let t of e){let e=l9.double(t);null!=e?yield e:yield*ci(t)}},*float(e){for(let t of e){let e=l9.float(t);null!=e?yield e:yield*cn(t)}},*fixed32(e){for(let t of e){let e=l9.fixed32(t);if(null!=e)yield e;else for(let e of cr(t))yield e>>>0}},*fixed64(e){for(let t of e){let e=l9.fixed64(t);if(null!=e)yield e;else for(let e of co(t))yield e.toString(!1)}},*sfixed32(e){for(let t of e){let e=l9.sfixed32(t);if(null!=e)yield e;else for(let e of cr(t))yield 0|e}},*sfixed64(e){for(let t of e){let e=l9.sfixed64(t);if(null!=e)yield e;else for(let e of co(t))yield e.toString(!0)}}});var ce=Object.fromEntries(Object.keys(l5).map(e=>[e,function(t){return{type:b.LengthDelimited,value:l1(t.map(t=>lJ(l5[e](t))))}}]));function ct(e,t){return rn(function(i){let n=new Uint8Array(i.length*e),s=new DataView(n.buffer);for(let n=0;n<i.length;++n)t(s,n*e,i[n]);return{type:b.LengthDelimited,value:n}},"pack")}function*ci(e){if(e.type!==b.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getFloat64(i,!0);i+=4,yield e}}function*cn(e){if(e.type!==b.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getFloat32(i,!0);i+=4,yield e}}function*cs(e){if(e.type!==b.LengthDelimited)return;let{value:t}=e,i=0,n=t.byteOffset;for(;i<t.length;){let e=lX(new DataView(t.buffer,n+i));i+=e[0],yield e[1]}}function*cr(e){if(e.type!==b.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getUint32(i,!0);i+=4,yield e}}function*co(e){if(e.type!==b.LengthDelimited)return;let{value:t}=e,i=0,n=new DataView(t.buffer,t.byteOffset);for(;i<t.length;){let e=n.getUint32(i,!0);i+=4;let t=n.getUint32(i,!0);i+=4,yield new lj(e,t)}}function ca(e){let t=0,i=e.byteOffset,n=[],s=new DataView(e.buffer,i);for(;t<e.length;){let r=lX(new DataView(e.buffer,i+t)),o=r[1][0];t+=r[0];let a=7&o,l=o>>>3;switch(a){default:throw Error(`Unknown wire type ${a}`);case b.Varint:{let[s,r]=lX(new DataView(e.buffer,i+t));n.push([l,{type:a,value:r}]),t+=s;break}case b.Fixed64:let c=s.getUint32(t,!0),d=s.getUint32(t+=4,!0);t+=4,n.push([l,{type:a,value:new lj(c,d)}]);break;case b.LengthDelimited:{let[s,r]=lX(new DataView(e.buffer,i+t));n.push([l,{type:a,value:e.subarray(t+=s,t+=r[0])}]);break}case b.StartGroup:case b.EndGroup:n.push([l,{type:a}]);break;case b.Fixed32:n.push([l,{type:a,value:s.getUint32(t,!0)}]),t+=4}}return n}function cl(){return{id:"",timestamp:0}}function cc(e){let t=[];if(void 0!==e.id){let i=e.id;t.push([1,l7.string(i)])}if(void 0!==e.timestamp){let i=e.timestamp;t.push([5,l7.int32(i)])}return l0(t)}function cd(e){let t=cl(),i=ca(e),n=new Map(i);e:{let e=n.get(1);if(void 0===e)break e;let i=l9.string(e);if(void 0===i)break e;t.id=i}e:{let e=n.get(5);if(void 0===e)break e;let i=l9.int32(e);if(void 0===i)break e;t.timestamp=i}return t}function ch(e){let t=[];if(void 0!==e.channelId){let i=e.channelId;t.push([1001,l7.string(i)])}return l0(t)}function cu(e){let t=[];if(void 0!==e.params){let i=e.params;t.push([32,{type:b.LengthDelimited,value:ch(i)}])}return l0(t)}function cp(e){let t=[];if(void 0!==e.uploadDate){let i=e.uploadDate;t.push([1,l7.int32(i)])}if(void 0!==e.type){let i=e.type;t.push([2,l7.int32(i)])}if(void 0!==e.duration){let i=e.duration;t.push([3,l7.int32(i)])}if(void 0!==e.featuresHd){let i=e.featuresHd;t.push([4,l7.int32(i)])}if(void 0!==e.featuresSubtitles){let i=e.featuresSubtitles;t.push([5,l7.int32(i)])}if(void 0!==e.featuresCreativeCommons){let i=e.featuresCreativeCommons;t.push([6,l7.int32(i)])}if(void 0!==e.features3d){let i=e.features3d;t.push([7,l7.int32(i)])}if(void 0!==e.featuresLive){let i=e.featuresLive;t.push([8,l7.int32(i)])}if(void 0!==e.featuresPurchased){let i=e.featuresPurchased;t.push([9,l7.int32(i)])}if(void 0!==e.features4k){let i=e.features4k;t.push([14,l7.int32(i)])}if(void 0!==e.features360){let i=e.features360;t.push([15,l7.int32(i)])}if(void 0!==e.featuresLocation){let i=e.featuresLocation;t.push([23,l7.int32(i)])}if(void 0!==e.featuresHdr){let i=e.featuresHdr;t.push([25,l7.int32(i)])}if(void 0!==e.featuresVr180){let i=e.featuresVr180;t.push([26,l7.int32(i)])}return l0(t)}function cf(e){let t=[];if(void 0!==e.sortBy){let i=e.sortBy;t.push([1,l7.int32(i)])}if(void 0!==e.filters){let i=e.filters;t.push([2,{type:b.LengthDelimited,value:cp(i)}])}if(void 0!==e.noFilter){let i=e.noFilter;t.push([19,l7.int32(i)])}return l0(t)}function cm(e){let t=[];if(void 0!==e.song){let i=e.song;t.push([1,l7.int32(i)])}if(void 0!==e.video){let i=e.video;t.push([2,l7.int32(i)])}if(void 0!==e.album){let i=e.album;t.push([3,l7.int32(i)])}if(void 0!==e.artist){let i=e.artist;t.push([4,l7.int32(i)])}if(void 0!==e.playlist){let i=e.playlist;t.push([5,l7.int32(i)])}return l0(t)}function cv(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([17,{type:b.LengthDelimited,value:cm(i)}])}return l0(t)}function cg(e){let t=[];if(void 0!==e.filters){let i=e.filters;t.push([2,{type:b.LengthDelimited,value:cv(i)}])}return l0(t)}function cy(e){let t=[];if(void 0!==e.channelId){let i=e.channelId;t.push([1,l7.string(i)])}if(void 0!==e.videoId){let i=e.videoId;t.push([2,l7.string(i)])}return l0(t)}function c_(e){let t=[];if(void 0!==e.ids){let i=e.ids;t.push([5,{type:b.LengthDelimited,value:cy(i)}])}return l0(t)}function cb(e){let t=[];if(void 0!==e.params){let i=e.params;t.push([1,{type:b.LengthDelimited,value:c_(i)}])}if(void 0!==e.number0){let i=e.number0;t.push([2,l7.int32(i)])}if(void 0!==e.number1){let i=e.number1;t.push([3,l7.int32(i)])}return l0(t)}function cw(e){let t=[];if(void 0!==e.videoId){let i=e.videoId;t.push([2,l7.string(i)])}return l0(t)}function cx(e){let t=[];if(void 0!==e.unkParam){let i=e.unkParam;t.push([1,l7.int32(i)])}return l0(t)}function cS(e){let t=[];if(void 0!==e.commentId){let i=e.commentId;t.push([2,l7.string(i)])}if(void 0!==e.unkopts){let i=e.unkopts;t.push([4,{type:b.LengthDelimited,value:cx(i)}])}if(void 0!==e.channelId){let i=e.channelId;t.push([5,l7.string(i)])}if(void 0!==e.videoId){let i=e.videoId;t.push([6,l7.string(i)])}if(void 0!==e.unkParam1){let i=e.unkParam1;t.push([8,l7.int32(i)])}if(void 0!==e.unkParam2){let i=e.unkParam2;t.push([9,l7.int32(i)])}return l0(t)}function cC(e){let t=[];if(void 0!==e.videoId){let i=e.videoId;t.push([4,l7.string(i)])}if(void 0!==e.sortBy){let i=e.sortBy;t.push([6,l7.int32(i)])}if(void 0!==e.type){let i=e.type;t.push([15,l7.int32(i)])}return l0(t)}function cT(e){let t=[];if(void 0!==e.unkToken){let i=e.unkToken;t.push([1,l7.string(i)])}if(void 0!==e.repliesOpts){let i=e.repliesOpts;t.push([3,{type:b.LengthDelimited,value:cS(i)}])}if(void 0!==e.opts){let i=e.opts;t.push([4,{type:b.LengthDelimited,value:cC(i)}])}if(void 0!==e.page){let i=e.page;t.push([5,l7.int32(i)])}if(void 0!==e.target){let i=e.target;t.push([8,l7.string(i)])}return l0(t)}function cI(e){let t=[];if(void 0!==e.ctx){let i=e.ctx;t.push([2,{type:b.LengthDelimited,value:cw(i)}])}if(void 0!==e.unkParam){let i=e.unkParam;t.push([3,l7.int32(i)])}if(void 0!==e.params){let i=e.params;t.push([6,{type:b.LengthDelimited,value:cT(i)}])}return l0(t)}function cE(e){let t=[];if(void 0!==e.index){let i=e.index;t.push([1,l7.int32(i)])}return l0(t)}function ck(e){let t=[];if(void 0!==e.videoId){let i=e.videoId;t.push([2,l7.string(i)])}if(void 0!==e.params){let i=e.params;t.push([5,{type:b.LengthDelimited,value:cE(i)}])}if(void 0!==e.number){let i=e.number;t.push([10,l7.int32(i)])}return l0(t)}function cA(e){let t=[];if(void 0!==e.text){let i=e.text;t.push([1,l7.string(i)])}return l0(t)}function cR(e){let t=[];if(void 0!==e.comment){let i=e.comment;t.push([1,{type:b.LengthDelimited,value:cA(i)}])}return l0(t)}function cP(e){let t=[];if(void 0!==e.commentId){let i=e.commentId;t.push([2,l7.string(i)])}if(void 0!==e.params){let i=e.params;t.push([3,{type:b.LengthDelimited,value:cR(i)}])}if(void 0!==e.targetLanguage){let i=e.targetLanguage;t.push([4,l7.string(i)])}return l0(t)}function cM(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,l7.int32(i)])}if(void 0!==e.unkNum){let i=e.unkNum;t.push([2,l7.int32(i)])}if(void 0!==e.commentId){let i=e.commentId;t.push([3,l7.string(i)])}if(void 0!==e.videoId){let i=e.videoId;t.push([5,l7.string(i)])}if(void 0!==e.channelId){let i=e.channelId;t.push([23,l7.string(i)])}if(void 0!==e.translateCommentParams){let i=e.translateCommentParams;t.push([31,{type:b.LengthDelimited,value:cP(i)}])}return l0(t)}function cO(e){let t=[];if(void 0!==e.index){let i=e.index;t.push([1,l7.int32(i)])}return l0(t)}function cL(e){let t=[];if(void 0!==e.channelId){let i=e.channelId;t.push([1,l7.string(i)])}if(void 0!==e.prefId){let i=e.prefId;t.push([2,{type:b.LengthDelimited,value:cO(i)}])}if(void 0!==e.number0){let i=e.number0;t.push([3,l7.int32(i)])}if(void 0!==e.number1){let i=e.number1;t.push([4,l7.int32(i)])}return l0(t)}function cD(e){let t=[];if(void 0!==e.unkparam){let i=e.unkparam;t.push([16,l7.int32(i)])}if(void 0!==e.clientVersion){let i=e.clientVersion;t.push([17,l7.string(i)])}if(void 0!==e.clientName){let i=e.clientName;t.push([18,l7.string(i)])}return l0(t)}function cN(e){let t=[];if(void 0!==e.client){let i=e.client;t.push([1,{type:b.LengthDelimited,value:cD(i)}])}return l0(t)}function cB(e){let t=[];if(void 0!==e.text){let i=e.text;t.push([1,l7.string(i)])}return l0(t)}function cU(e){let t=[];if(void 0!==e.text){let i=e.text;t.push([1,l7.string(i)])}return l0(t)}function cV(e){let t=[];for(let i of e.list)t.push([1,l7.string(i)]);return l0(t)}function cF(e){let t=[];if(void 0!==e.id){let i=e.id;t.push([1,l7.int32(i)])}return l0(t)}function cj(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,l7.string(i)])}return l0(t)}function cH(e){let t=[];if(void 0!==e.imageData){let i=e.imageData;t.push([1,l7.bytes(i)])}return l0(t)}function cW(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,l7.int32(i)])}if(void 0!==e.thumbnail){let i=e.thumbnail;t.push([3,{type:b.LengthDelimited,value:cH(i)}])}return l0(t)}function c$(e){let t=[];if(void 0!==e.type){let i=e.type;t.push([1,l7.int32(i)])}return l0(t)}function cG(e){let t=[];if(void 0!==e.unkparam){let i=e.unkparam;t.push([1,l7.int32(i)])}if(void 0!==e.choice){let i=e.choice;t.push([2,l7.int32(i)])}return l0(t)}function cK(e){let t=[];if(void 0!==e.unkparam){let i=e.unkparam;t.push([1,l7.int32(i)])}if(void 0!==e.choice){let i=e.choice;t.push([2,l7.int32(i)])}return l0(t)}function cY(e){let t=[];if(void 0!==e.context){let i=e.context;t.push([1,{type:b.LengthDelimited,value:cN(i)}])}if(void 0!==e.target){let i=e.target;t.push([2,l7.string(i)])}if(void 0!==e.title){let i=e.title;t.push([3,{type:b.LengthDelimited,value:cB(i)}])}if(void 0!==e.description){let i=e.description;t.push([4,{type:b.LengthDelimited,value:cU(i)}])}if(void 0!==e.tags){let i=e.tags;t.push([6,{type:b.LengthDelimited,value:cV(i)}])}if(void 0!==e.category){let i=e.category;t.push([7,{type:b.LengthDelimited,value:cF(i)}])}if(void 0!==e.license){let i=e.license;t.push([8,{type:b.LengthDelimited,value:cj(i)}])}if(void 0!==e.videoThumbnail){let i=e.videoThumbnail;t.push([20,{type:b.LengthDelimited,value:cW(i)}])}if(void 0!==e.privacy){let i=e.privacy;t.push([38,{type:b.LengthDelimited,value:c$(i)}])}if(void 0!==e.madeForKids){let i=e.madeForKids;t.push([68,{type:b.LengthDelimited,value:cG(i)}])}if(void 0!==e.ageRestricted){let i=e.ageRestricted;t.push([69,{type:b.LengthDelimited,value:cK(i)}])}return l0(t)}function cq(e){let t=[];if(void 0!==e.hashtag){let i=e.hashtag;t.push([1,l7.string(i)])}if(void 0!==e.type){let i=e.type;t.push([3,l7.int32(i)])}return l0(t)}function cz(e){let t=[];if(void 0!==e.params){let i=e.params;t.push([93,{type:b.LengthDelimited,value:cq(i)}])}return l0(t)}function cJ(e){let t=[];if(void 0!==e.number){let i=e.number;t.push([3,l7.int32(i)])}return l0(t)}function cX(e){let t=[];if(void 0!==e.shortId){let i=e.shortId;t.push([1,l7.string(i)])}if(void 0!==e.params){let i=e.params;t.push([5,{type:b.LengthDelimited,value:cJ(i)}])}if(void 0!==e.feature2){let i=e.feature2;t.push([10,l7.int32(i)])}if(void 0!==e.feature3){let i=e.feature3;t.push([13,l7.int32(i)])}return l0(t)}function cQ(e,t){return encodeURIComponent(SQ(cc({id:e,timestamp:t})).replace(/\+/g,"-").replace(/\//g,"_"))}function cZ(e){return cd(SZ(decodeURIComponent(e)))}function c0(e){return encodeURIComponent(SQ(cu({params:{channelId:e}})))}function c1(e){let t={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},i={};if(e?i.filters={}:i.noFilter=0,i.filters&&(e.upload_date&&(i.filters.uploadDate=({all:void 0,hour:1,today:2,week:3,month:4,year:5})[e.upload_date]),e.type&&(i.filters.type=({all:void 0,video:1,channel:2,playlist:3,movie:4})[e.type]),e.duration&&(i.filters.duration=({all:void 0,short:1,long:2,medium:3})[e.duration]),e.sort_by&&"relevance"!==e.sort_by&&(i.sortBy=({relevance:void 0,rating:1,upload_date:2,view_count:3})[e.sort_by]),e.features))for(let n of e.features)i.filters[t[n]]=1;return encodeURIComponent(SQ(cf(i)))}function c2(e){var t;let i={filters:{type:{}}};return e.type&&"all"!==e.type&&(null===(t=i.filters)||void 0===t?void 0:t.type)&&(i.filters.type[e.type]=1),encodeURIComponent(SQ(cg(i)))}function c3(e,t){return btoa(encodeURIComponent(SQ(cb({params:{ids:{channelId:e,videoId:t}},number0:1,number1:4}))))}function c6(e,t={}){return encodeURIComponent(SQ(cI({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[t.sort_by||"TOP_COMMENTS"],type:t.type||2},target:"comments-section"}})))}function c5(e){return encodeURIComponent(SQ(ck({videoId:e,params:{index:0},number:7})))}function c4(e,t={}){let i={type:e,commentId:t.comment_id||" ",videoId:t.video_id||" ",channelId:" ",unkNum:2};if(t.hasOwnProperty("text")){if("string"!=typeof t.target_language)throw Error("target_language must be a string");t.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:t.text}},commentId:t.comment_id||" ",targetLanguage:t.target_language}}return encodeURIComponent(SQ(cM(i)))}function c8(e,t){return encodeURIComponent(SQ(cL({channelId:e,prefId:{index:t},number0:0,number1:4})))}function c9(e,t){let i={context:{client:{unkparam:14,clientName:rS.ANDROID.NAME,clientVersion:rS.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(t,"title")&&(i.title={text:t.title||""}),Reflect.has(t,"description")&&(i.description={text:t.description||""}),Reflect.has(t,"license")&&(i.license={type:t.license||""}),Reflect.has(t,"tags")&&(i.tags={list:t.tags||[]}),Reflect.has(t,"category")&&(i.category={id:t.category||0}),Reflect.has(t,"privacy"))switch(t.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw Error("Invalid visibility option")}return Reflect.has(t,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:t.made_for_kids?1:2}),Reflect.has(t,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:t.age_restricted?1:2}),cY(i)}function c7(e,t){return cY({context:{client:{unkparam:14,clientName:rS.ANDROID.NAME,clientVersion:rS.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:t}}})}function de(e){return encodeURIComponent(SQ(cz({params:{hashtag:e,type:1}})))}function dt(e){return encodeURIComponent(SQ(cX({shortId:e,params:{number:5},feature2:25,feature3:0})))}rn(ct,"getFixedPackFn"),Object.assign(Object.assign({},ce),{double:ct(8,(e,t,i)=>{e.setFloat64(t,i,!0)}),float:ct(4,(e,t,i)=>{e.setFloat32(t,i,!0)}),fixed32:ct(4,(e,t,i)=>{e.setUint32(t,i,!0)}),fixed64:ct(8,(e,t,i)=>{let n=lj.parse(i);e.setUint32(t,n[0],!0),e.setUint32(t+4,n[1],!0)}),sfixed32:ct(4,(e,t,i)=>{e.setInt32(t,i,!0)}),sfixed64:ct(8,(e,t,i)=>{let n=lj.parse(i);e.setUint32(t,n[0],!0),e.setUint32(t+4,n[1],!0)})}),rn(ci,"unpackDouble"),rn(cn,"unpackFloat"),rn(cs,"unpackVarint"),rn(cr,"unpackFixed32"),rn(co,"unpackFixed64"),rn(ca,"deserialize"),rn(cl,"getDefaultValue"),rn(cc,"encodeBinary"),rn(cd,"decodeBinary"),rn(ch,"encodeBinary"),rn(cu,"encodeBinary"),rn(cp,"encodeBinary"),rn(cf,"encodeBinary"),rn(cm,"encodeBinary"),rn(cv,"encodeBinary"),rn(cg,"encodeBinary"),rn(cy,"encodeBinary"),rn(c_,"encodeBinary"),rn(cb,"encodeBinary"),rn(cw,"encodeBinary"),rn(cx,"encodeBinary"),rn(cS,"encodeBinary"),rn(cC,"encodeBinary"),rn(cT,"encodeBinary"),rn(cI,"encodeBinary"),rn(cE,"encodeBinary"),rn(ck,"encodeBinary"),rn(cA,"encodeBinary"),rn(cR,"encodeBinary"),rn(cP,"encodeBinary"),rn(cM,"encodeBinary"),rn(cO,"encodeBinary"),rn(cL,"encodeBinary"),rn(cD,"encodeBinary"),rn(cN,"encodeBinary"),rn(cB,"encodeBinary"),rn(cU,"encodeBinary"),rn(cV,"encodeBinary"),rn(cF,"encodeBinary"),rn(cj,"encodeBinary"),rn(cH,"encodeBinary"),rn(cW,"encodeBinary"),rn(c$,"encodeBinary"),rn(cG,"encodeBinary"),rn(cK,"encodeBinary"),rn(cY,"encodeBinary"),rn(cq,"encodeBinary"),rn(cz,"encodeBinary"),rn(cJ,"encodeBinary"),rn(cX,"encodeBinary"),rn(cQ,"encodeVisitorData"),rn(cZ,"decodeVisitorData"),rn(c0,"encodeChannelAnalyticsParams"),rn(c1,"encodeSearchFilters"),rn(c2,"encodeMusicSearchFilters"),rn(c3,"encodeMessageParams"),rn(c6,"encodeCommentsSectionParams"),rn(c5,"encodeCommentParams"),rn(c4,"encodeCommentActionParams"),rn(c8,"encodeNotificationPref"),rn(c9,"encodeVideoMetadataPayload"),rn(c7,"encodeCustomThumbnailPayload"),rn(de,"encodeHashtag"),rn(dt,"encodeReelSequence");var di=class extends rm{constructor(e){var t,i,n,s,r,o,a;super(),w.set(this,void 0),this.content=new rF(e.contentText),this.published=new rF(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=rN.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=rI.parseItem(e.sponsorCommentBadge,lF),this.paid_comment_chip=rI.parseItem(e.paidCommentChipRenderer,lU),this.author_badge=rI.parseItem(e.authorCommentBadge,lL),this.author=new SR(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:null===(t=this.author_badge)||void 0===t?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=rI.parseItem(e.actionMenu,r2),this.action_buttons=rI.parseItem(e.actionButtons,aA),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new rF(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(null===(n=null===(i=this.action_buttons)||void 0===i?void 0:i.like_button)||void 0===n?void 0:n.is_toggled),this.is_disliked=!!(null===(r=null===(s=this.action_buttons)||void 0===s?void 0:s.dislike_button)||void 0===r?void 0:r.is_toggled),this.is_hearted=!!(null===(a=null===(o=this.action_buttons)||void 0===o?void 0:o.creator_heart)||void 0===a?void 0:a.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return ra(this,void 0,void 0,function*(){if(!ru(this,w,"f"))throw new SO("An active caller must be provide to perform this operation.");let t=null===(e=this.action_buttons)||void 0===e?void 0:e.like_button;if(!t)throw new SO("Like button was not found.",{comment_id:this.comment_id});if(t.is_toggled)throw new SO("This comment is already liked",{comment_id:this.comment_id});return yield t.endpoint.call(ru(this,w,"f"),{parse:!1})})}dislike(){var e;return ra(this,void 0,void 0,function*(){if(!ru(this,w,"f"))throw new SO("An active caller must be provide to perform this operation.");let t=null===(e=this.action_buttons)||void 0===e?void 0:e.dislike_button;if(!t)throw new SO("Dislike button was not found.",{comment_id:this.comment_id});if(t.is_toggled)throw new SO("This comment is already disliked",{comment_id:this.comment_id});return yield t.endpoint.call(ru(this,w,"f"),{parse:!1})})}reply(e){var t,i,n;return ra(this,void 0,void 0,function*(){if(!ru(this,w,"f"))throw new SO("An active caller must be provide to perform this operation.");if(!(null===(t=this.action_buttons)||void 0===t?void 0:t.reply_button))throw new SO("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=null===(i=this.action_buttons)||void 0===i?void 0:i.reply_button;if(!(null===(n=s.endpoint)||void 0===n?void 0:n.dialog))throw new SO("Reply button endpoint did not have a dialog.");let r=s.endpoint.dialog.as(lN).reply_button;if(!r)throw new SO("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!r.endpoint)throw new SO("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield r.endpoint.call(ru(this,w,"f"),{commentText:e})})}translate(e){var t,i,n,s,r,o;return ra(this,void 0,void 0,function*(){if(!ru(this,w,"f"))throw new SO("An active caller must be provide to perform this operation.");let a=c4(22,{text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id}),l=yield ru(this,w,"f").execute("comment/perform_comment_action",{action:a,client:"ANDROID"}),c=null===(i=null===(t=l.data.frameworkUpdates)||void 0===t?void 0:t.entityBatchUpdate)||void 0===i?void 0:i.mutations,d=null===(o=null===(r=null===(s=null===(n=null==c?void 0:c[0])||void 0===n?void 0:n.payload)||void 0===s?void 0:s.commentEntityPayload)||void 0===r?void 0:r.translatedContent)||void 0===o?void 0:o.content;return Object.assign(Object.assign({},l),{content:d})})}setActions(e){rp(this,w,e,"f")}};rn(di,"Comment"),w=new WeakMap,di.type="Comment";var dn=di,ds=class extends rm{constructor(e){super(),this.id=e.id,this.categories=rI.parseArray(e.categories),this.category_buttons=rI.parseArray(e.categoryButtons),this.search_placeholder=new rF(e.searchPlaceholderText),this.search_no_results=new rF(e.searchNoResultsText),this.pick_skin_tone=new rF(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};rn(ds,"EmojiPicker"),ds.type="EmojiPicker";var dr=ds,da=class extends rm{constructor(e){super(),this.editable_text=new rF(e.editableText),this.author_thumbnail=rN.fromResponse(e.authorThumbnail),this.submit_button=rI.parseItem(e.submitButton,rA),this.cancel_button=rI.parseItem(e.cancelButton,rA),this.placeholder=new rF(e.placeholderText),this.emoji_button=rI.parseItem(e.emojiButton,rA),this.emoji_picker=rI.parseItem(e.emojiPicker,dr)}};rn(da,"CommentDialog"),da.type="CommentDialog";var dl=da,dc=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents),this.view_replies=rI.parseItem(e.viewReplies,rA),this.hide_replies=rI.parseItem(e.hideReplies,rA),this.view_replies_creator_thumbnail=rN.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};rn(dc,"CommentReplies"),dc.type="CommentReplies";var dd=dc,dh=class extends rm{constructor(e){super(),this.simplebox_avatar=rN.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new rF(e.simpleboxPlaceholder)}};rn(dh,"CommentsSimplebox"),dh.type="CommentsSimplebox";var du=dh,dp=class extends rm{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=rN.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new rF(e.teaserContent))}};rn(dp,"CommentsEntryPointTeaser"),dp.type="CommentsEntryPointTeaser";var df=dp,dm=class extends rm{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new rF(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new rF(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=rN.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new rF(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=rI.parseItem(e.contentRenderer,[df,du])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new rF(e.simpleboxPlaceholder))}};rn(dm,"CommentsEntryPointHeader"),dm.type="CommentsEntryPointHeader";var dv=dm,dg=class extends rm{constructor(e){super(),this.title=new rF(e.titleText),this.count=new rF(e.countText),this.comments_count=new rF(e.commentsCount),this.create_renderer=rI.parseItem(e.createRenderer),this.sort_menu=rI.parseItem(e.sortMenu,oX),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(e=>({emoji_id:e.emojiId,shortcuts:e.shortcuts,search_terms:e.searchTerms,image:rN.fromResponse(e.image),is_custom_emoji:e.isCustomEmoji})))}};rn(dg,"CommentsHeader"),dg.type="CommentsHeader";var dy=dg,d_=class extends rm{constructor(e){super(),this.submit_button=rI.parseItem(e.submitButton,rA),this.cancel_button=rI.parseItem(e.cancelButton,rA),this.author_thumbnail=rN.fromResponse(e.authorThumbnail),this.placeholder=new rF(e.placeholderText),this.avatar_size=e.avatarSize}};rn(d_,"CommentSimplebox"),d_.type="CommentSimplebox";var db=d_,dw=class extends rm{constructor(e){super(),x.set(this,void 0),S.set(this,void 0),this.comment=rI.parseItem(e.comment,dn),this.comment_replies_data=rI.parseItem(e.replies,dd),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return ra(this,void 0,void 0,function*(){if(!ru(this,x,"f"))throw new SO("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new SO("This comment has no replies.",this);let t=null===(e=this.comment_replies_data.contents)||void 0===e?void 0:e.firstOfType(r0);if(!t)throw new SO("Replies continuation not found.");let i=yield t.endpoint.call(ru(this,x,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new SO("Unexpected response.",i);return this.replies=ry(i.on_response_received_endpoints_memo.getType(dn).map(e=>(e.setActions(ru(this,x,"f")),e))),rp(this,S,null==i?void 0:i.on_response_received_endpoints_memo.getType(r0).first(),"f"),this})}getContinuation(){var e;return ra(this,void 0,void 0,function*(){if(!this.replies)throw new SO("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!ru(this,S,"f"))throw new SO("Continuation not found.");if(!ru(this,x,"f"))throw new SO("Actions instance not set for this thread.");let t=null===(e=ru(this,S,"f").button)||void 0===e?void 0:e.as(rA);if(!t)throw new SO('"Load more" button not found.');let i=yield t.endpoint.call(ru(this,x,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new SO("Unexpected response.",i);return this.replies=ry(i.on_response_received_endpoints_memo.getType(dn).map(e=>(e.setActions(ru(this,x,"f")),e))),rp(this,S,i.on_response_received_endpoints_memo.getType(r0).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new SO("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!ru(this,S,"f")}setActions(e){rp(this,x,e,"f")}};rn(dw,"CommentThread"),x=new WeakMap,S=new WeakMap,dw.type="CommentThread";var dx=dw,dS=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.channel_id=e.channelId,this.thumbnail=rN.fromResponse(e.thumbnail),this.display_name=new rF(e.displayName),this.video_count=new rF(e.videoCountText),this.subscriber_count=new rF(e.subscriberCountText),this.endpoint=new rD(e.navigationEndpoint),this.tv_banner=rN.fromResponse(e.tvBanner),this.menu=rI.parseItem(e.menu,r2)}};rn(dS,"CompactChannel"),dS.type="CompactChannel";var dC=dS,dT=class extends rm{constructor(e){super(),this.title=new rF(e.title).toString(),this.endpoint=new rD(e.navigationEndpoint),this.style=e.style}};rn(dT,"CompactLink"),dT.type="CompactLink";var dI=dT,dE=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail)}};rn(dE,"PlaylistCustomThumbnail"),dE.type="PlaylistCustomThumbnail";var dk=dE,dA=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail)}};rn(dA,"PlaylistVideoThumbnail"),dA.type="PlaylistVideoThumbnail";var dR=dA,dP=class extends rm{constructor(e){var t;super(),this.id=e.playlistId,this.title=new rF(e.title),this.author=(null===(t=e.shortBylineText)||void 0===t?void 0:t.simpleText)?new rF(e.shortBylineText):new SR(e.longBylineText,e.ownerBadges,null),this.thumbnails=rN.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(e=>e.thumbnails).flat(1)}),this.video_count=new rF(e.thumbnailText),this.video_count_short=new rF(e.videoCountShortText),this.first_videos=rI.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=rI.parseItem(e.menu),this.badges=rI.parseArray(e.ownerBadges),this.endpoint=new rD(e.navigationEndpoint),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=rI.parseItem(e.thumbnailRenderer,[dR,dk])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new rF(e.viewPlaylistText))}};rn(dP,"Playlist"),dP.type="Playlist";var dM=dP,dO=class extends dM{constructor(e){super(e)}};rn(dO,"CompactMix"),dO.type="CompactMix";var dL=dO,dD=class extends rm{constructor(e){var t;super();let i=(null===(t=e.thumbnailOverlays.find(e=>e.thumbnailOverlayTimeStatusRenderer))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new rF(e.title),this.top_metadata_items=new rF(e.topMetadataItems),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.author=new SR(e.shortBylineText);let n=e.lengthText?new rF(e.lengthText).toString():new rF(i).toString();this.duration={text:n,seconds:SK(n)},this.endpoint=new rD(e.navigationEndpoint),this.badges=rI.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=rI.parseItem(e.menu,r2)}};rn(dD,"CompactMovie"),dD.type="CompactMovie";var dN=dD,dB=class extends dM{constructor(e){super(e)}};rn(dB,"CompactPlaylist"),dB.type="CompactPlaylist";var dU=dB,dV=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.description=new rF(e.description),this.video_count=new rF(e.videoCountText),this.endpoint=new rD(e.navigationEndpoint),this.thumbnail=rN.fromResponse(e.thumbnail)}};rn(dV,"CompactStation"),dV.type="CompactStation";var dF=dV,dj=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.confirm_button=rI.parseItem(e.confirmButton,rA),this.cancel_button=rI.parseItem(e.cancelButton,rA),this.dialog_messages=e.dialogMessages.map(e=>new rF(e))}};rn(dj,"ConfirmDialog"),dj.type="ConfirmDialog";var dH=dj,dW=class extends rm{constructor(e){super(),this.metadata_rows=e.metadataRows.map(e=>({metadata_parts:e.metadataParts.map(e=>({text:rF.fromAttributed(e.text)}))})),this.delimiter=e.delimiter}};rn(dW,"ContentMetadataView"),dW.type="ContentMetadataView";var d$=dW,dG=class extends rm{constructor(e){super(),this.text=new rF(e.text)}};rn(dG,"Message"),dG.type="Message";var dK=dG,dY=class extends rm{constructor(e){super(),this.availability_message=rI.parseItem(e.availabilityMessage,dK)}};rn(dY,"ConversationBar"),dY.type="ConversationBar";var dq=dY,dz=class extends rm{constructor(e){super(),this.copy_button=rI.parseItem(e.copyButton,rA),this.short_url=e.shortUrl,this.style=e.style}};rn(dz,"CopyLink"),dz.type="CopyLink";var dJ=dz,dX=class extends rm{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};rn(dX,"HeatMarker"),dX.type="HeatMarker";var dQ=dX,dZ=class extends rm{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=rI.parseArray(e.heatMarkers,dQ),this.heat_markers_decorations=rI.parseArray(e.heatMarkersDecorations)}};rn(dZ,"Heatmap"),dZ.type="Heatmap";var d0=dZ,d1=class extends rm{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=rI.parseItem(e.value.heatmap,d0)),Reflect.has(e.value,"chapters")&&(this.value.chapters=rI.parseArray(e.value.chapters,lb)))}};rn(d1,"Marker"),d1.type="Marker";var d2=class extends rm{constructor(e){var t;super(),this.markers_map=ry((null===(t=e.markersMap)||void 0===t?void 0:t.map(e=>new d1(e)))||[])}};rn(d2,"MultiMarkersPlayerBar"),d2.type="MultiMarkersPlayerBar";var d3=d2,d6=class extends rm{constructor(e){super(),this.player_bar=rI.parseItem(e.playerBar,d3),this.player_bar_action_button=rI.parseItem(e.playerBarActionButton,rA)}};rn(d6,"DecoratedPlayerBar"),d6.type="DecoratedPlayerBar";var d5=d6,d4=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.description=new rF(e.description),this.endpoint=new rD(e.navigationEndpoint),this.large_form_factor_background_thumbnail=rI.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=rI.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};rn(d4,"DefaultPromoPanel"),d4.type="DefaultPromoPanel";var d8=d4,d9=class extends rm{constructor(e){super(),this.text=new rF(e.didYouMean).toString(),this.corrected_query=new rF(e.correctedQuery),this.endpoint=new rD(e.navigationEndpoint||e.correctedQueryEndpoint)}};rn(d9,"DidYouMean"),d9.type="DidYouMean";var d7=d9,he=class extends rm{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new rD(e.command),this.target_id=e.targetId}};rn(he,"DownloadButton"),he.type="DownloadButton";var ht=he,hi=class extends rm{constructor(e){super(),this.text=e.text.content}};rn(hi,"DynamicTextView"),hi.type="DynamicTextView";var hn=hi,hs=class extends rm{constructor(e){var t;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=null===(t=e.type.textType.text)||void 0===t?void 0:t.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(e=>new hs(e)))}};rn(hs,"ChildElement"),hs.type="ChildElement";var hr=hs,ho=class extends rm{constructor(e){var t;if(super(),Reflect.has(e,"elementRenderer"))return rI.parseItem(e,ho);let i=e.newElement.type.componentType;this.model=rI.parseItem(null==i?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ry((null===(t=e.newElement.childElements)||void 0===t?void 0:t.map(e=>new hr(e)))||[]))}};rn(ho,"Element"),ho.type="Element";var ha=ho,hl=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.first_option=rI.parseItem(e.firstOption),this.menu=rI.parseItem(e.menu,r2)}};rn(hl,"EmergencyOnebox"),hl.type="EmergencyOnebox";var hc=hl,hd=class extends rm{constructor(e){super(),this.category_id=e.categoryId,this.title=new rF(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};rn(hd,"EmojiPickerCategory"),hd.type="EmojiPickerCategory";var hh=hd,hu=class extends rm{constructor(e){var t;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType),this.tooltip=e.tooltip}};rn(hu,"EmojiPickerCategoryButton"),hu.type="EmojiPickerCategoryButton";var hp=hu,hf=class extends rm{constructor(e){super(),this.category_id=e.categoryId,this.title=new rF(e.title),this.upsell=new rF(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new rD(e.command),this.emoji_ids=e.emojiIds}};rn(hf,"EmojiPickerUpsellCategory"),hf.type="EmojiPickerUpsellCategory";var hm=hf,hv=class extends rm{constructor(e){super(),this.style=e.style,this.title=new rF(e.title),this.endpoint=new rD(e.endpoint),Reflect.has(e,"image")&&(this.image=rN.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=rN.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new rF(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new rF(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=rI.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new rF(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};rn(hv,"EndscreenElement"),hv.type="EndscreenElement";var hg=hv,hy=class extends rm{constructor(e){super(),this.id=e.playlistId,this.title=new rF(e.title),this.author=new rF(e.longBylineText),this.endpoint=new rD(e.navigationEndpoint),this.thumbnails=rN.fromResponse(e.thumbnail),this.video_count=new rF(e.videoCountText)}};rn(hy,"EndScreenPlaylist"),hy.type="EndScreenPlaylist";var h_=hy,hb=class extends rm{constructor(e){super(),this.id=e.videoId,this.title=new rF(e.title),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.author=new SR(e.shortBylineText,e.ownerBadges),this.endpoint=new rD(e.navigationEndpoint),this.short_view_count=new rF(e.shortViewCountText),this.badges=rI.parseArray(e.badges),this.duration={text:new rF(e.lengthText).toString(),seconds:e.lengthInSeconds}}};rn(hb,"EndScreenVideo"),hb.type="EndScreenVideo";var hw=hb,hx=class extends rm{constructor(e){super(),this.title=e.title,this.endpoint=new rD(e.endpoint),this.selected=e.selected,this.content=rI.parseItem(e.content)}};rn(hx,"ExpandableTab"),hx.type="ExpandableTab";var hS=hx,hC=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items)}get contents(){return this.items}};rn(hC,"ExpandedShelfContents"),hC.type="ExpandedShelfContents";var hT=hC,hI=class extends rm{constructor(e){super(),this.dialog_message=new rF(e.dialogMessage),this.confirm_label=new rF(e.confirmLabel)}};rn(hI,"FancyDismissibleDialog"),hI.type="FancyDismissibleDialog";var hE=hI,hk=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents,lC)}};rn(hk,"FeedFilterChipBar"),hk.type="FeedFilterChipBar";var hA=hk,hR=class extends rm{constructor(e){super(),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.endpoint=new rD(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};rn(hR,"FeedNudge"),hR.type="FeedNudge";var hP=hR,hM=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(hM,"FeedTabbedHeader"),hM.type="FeedTabbedHeader";var hO=hM,hL=class extends rm{constructor(e){super(),this.actions_rows=e.actionsRows.map(e=>({actions:rI.parseArray(e.actions,aV)})),this.style=e.style}};rn(hL,"FlexibleActionsView"),hL.type="FlexibleActionsView";var hD=hL,hN=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.box_art=rN.fromResponse(e.boxArt),this.box_art_overlay_text=new rF(e.boxArtOverlayText),this.endpoint=new rD(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};rn(hN,"GameDetails"),hN.type="GameDetails";var hB=hN,hU=class extends rm{constructor(e){var t,i,n;super(),this.items=rI.parseArray(e.items),Reflect.has(e,"header")&&(this.header=rI.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||null}get contents(){return this.items}};rn(hU,"Grid"),hU.type="Grid";var hV=hU,hF=class extends rm{constructor(e){super(),this.id=e.channelId,this.author=new SR(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new rF(e.subscriberCountText),this.video_count=new rF(e.videoCountText),this.endpoint=new rD(e.navigationEndpoint),this.subscribe_button=rI.parseItem(e.subscribeButton)}};rn(hF,"GridChannel"),hF.type="GridChannel";var hj=hF,hH=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(hH,"GridHeader"),hH.type="GridHeader";var hW=hH,h$=class extends rm{constructor(e){var t,i;super(),this.id=e.playlistId,this.title=new rF(e.title),this.author=(null===(t=e.shortBylineText)||void 0===t?void 0:t.simpleText)?new rF(e.shortBylineText):(null===(i=e.longBylineText)||void 0===i?void 0:i.simpleText)?new rF(e.longBylineText):null,this.thumbnails=rN.fromResponse(e.thumbnail),this.video_count=new rF(e.videoCountText),this.video_count_short=new rF(e.videoCountShortText),this.endpoint=new rD(e.navigationEndpoint),this.secondary_endpoint=new rD(e.secondaryNavigationEndpoint),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays)}};rn(h$,"GridMix"),h$.type="GridMix";var hG=h$,hK=class extends rm{constructor(e){var t;super();let i=null===(t=e.thumbnailOverlays.find(e=>e.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new rF(e.title),this.thumbnails=rN.fromResponse(e.thumbnail),this.duration=e.lengthText?new rF(e.lengthText):(null==i?void 0:i.text)?new rF(i.text):null,this.endpoint=new rD(e.navigationEndpoint),this.badges=rI.parseArray(e.badges,os),this.metadata=new rF(e.metadata),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays)}};rn(hK,"GridMovie"),hK.type="GridMovie";var hY=hK,hq=class extends rm{constructor(e){var t;super(),this.id=e.playlistId,this.title=new rF(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new SR(e.shortBylineText,e.ownerBadges)),this.badges=rI.parseArray(e.ownerBadges),this.endpoint=new rD(e.navigationEndpoint),this.view_playlist=new rF(e.viewPlaylistText),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_renderer=rI.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...(null===(t=e.sidebarThumbnails)||void 0===t?void 0:t.map(e=>rN.fromResponse(e)))||[])||null,this.video_count=new rF(e.thumbnailText),this.video_count_short=new rF(e.videoCountShortText)}};rn(hq,"GridPlaylist"),hq.type="GridPlaylist";var hz=hq,hJ=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail)}};rn(hJ,"ShowCustomThumbnail"),hJ.type="ShowCustomThumbnail";var hX=hJ,hQ=class extends rm{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new rF(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};rn(hQ,"ThumbnailOverlayBottomPanel"),hQ.type="ThumbnailOverlayBottomPanel";var hZ=hQ,h0=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.thumbnail_renderer=bo(e.thumbnailRenderer,hX),this.endpoint=new rD(e.navigationEndpoint),this.long_byline_text=new rF(e.longBylineText),this.thumbnail_overlays=ba(e.thumbnailOverlays,hZ),this.author=new SR(e.shortBylineText,void 0)}};rn(h0,"GridShow"),h0.type="GridShow";var h1=h0,h2=class extends rm{constructor(e){var t,i;super();let n=null===(t=e.thumbnailOverlays.find(e=>e.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new rF(e.title),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.rich_thumbnail=rI.parseItem(e.richThumbnail),this.published=new rF(e.publishedTimeText),this.duration=e.lengthText?new rF(e.lengthText):(null==n?void 0:n.text)?new rF(n.text):null,this.author=e.shortBylineText&&new SR(e.shortBylineText,e.ownerBadges),this.views=new rF(e.viewCountText),this.short_view_count=new rF(e.shortViewCountText),this.endpoint=new rD(e.navigationEndpoint),this.menu=rI.parseItem(e.menu,r2),Reflect.has(e,"buttons")&&(this.buttons=rI.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new rF(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(null===(i=e.upcomingEventData)||void 0===i?void 0:i.isReminderSet))}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}};rn(h2,"GridVideo"),h2.type="GridVideo";var h3=h2,h6=class extends rm{constructor(e){super(),this.title=new rF(e.formattedTitle),this.endpoint=new rD(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=rN.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};rn(h6,"GuideEntry"),h6.type="GuideEntry";var h5=h6,h4=class extends rm{constructor(e){super(),this.expander_item=bo(e.expanderItem,h5),this.collapser_item=bo(e.collapserItem,h5),this.expandable_items=ba(e.expandableItems)}};rn(h4,"GuideCollapsibleEntry"),h4.type="GuideCollapsibleEntry";var h8=h4,h9=class extends rm{constructor(e){super(),this.header_entry=bo(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=ba(e.sectionItems)}};rn(h9,"GuideCollapsibleSectionEntry"),h9.type="GuideCollapsibleSectionEntry";var h7=h9,ue=class extends h5{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};rn(ue,"GuideDownloadsEntry"),ue.type="GuideDownloadsEntry";var ut=ue,ui=class extends rm{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new rF(e.formattedTitle)),this.items=ba(e.items)}};rn(ui,"GuideSection"),ui.type="GuideSection";var un=ui,us=class extends un{};rn(us,"GuideSubscriptionsSection"),us.type="GuideSubscriptionsSection";var ur=us,uo=class extends rm{constructor(e){super(),this.hashtag=new rF(e.hashtag),this.hashtag_info=new rF(e.hashtagInfoText)}};rn(uo,"HashtagHeader"),uo.type="HashtagHeader";var ua=uo,ul=class extends rm{constructor(e){super(),this.hashtag=new rF(e.hashtag),this.hashtag_info_text=new rF(e.hashtagInfoText),this.hashtag_thumbnail=rN.fromResponse(e.hashtagThumbnail),this.endpoint=new rD(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new rF(e.hashtagVideoCount),this.hashtag_channel_count=new rF(e.hashtagChannelCount)}};rn(ul,"HashtagTile"),ul.type="HashtagTile";var uc=ul,ud=class extends rm{constructor(e){super(),this.thumbnails=rN.fromResponse(e.thumbnail),this.on_tap_endpoint=new rD(e.onTap)}};rn(ud,"HeroPlaylistThumbnail"),ud.type="HeroPlaylistThumbnail";var uh=ud,uu=class extends rm{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new rD(e.thumbnail.onTap),on_long_press_endpoint:new rD(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new rD(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new rD(e.textOnTap)}};rn(uu,"Panel"),uu.type="Panel";var up=class extends rm{constructor(e){super(),this.panels=ry(e.highlightsCarousel.panels.map(e=>new uu(e)))}};rn(up,"HighlightsCarousel"),up.type="HighlightsCarousel";var uf=up,um=class extends rm{constructor(e){super(),this.suggestion=new rF(e.suggestion),this.endpoint=new rD(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new rD(e.serviceEndpoint))}};rn(um,"SearchSuggestion"),um.type="SearchSuggestion";var uv=um,ug=class extends uv{constructor(e){super(e)}};rn(ug,"HistorySuggestion"),ug.type="HistorySuggestion";var uy=ug,u_=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items),this.previous_button=rI.parseItem(e.previousButton,rA),this.next_button=rI.parseItem(e.nextButton,rA)}get contents(){return this.items}};rn(u_,"HorizontalMovieList"),u_.type="HorizontalMovieList";var ub=u_,uw=class extends rm{constructor(e){var t;super(),this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new rF(e.tooltip).toString()),this.endpoint=new rD(e.navigationEndpoint)}};rn(uw,"IconLink"),uw.type="IconLink";var ux=uw,uS=class extends rm{constructor(e){super(),this.including_results_for=new rF(e.includingResultsFor),this.corrected_query=new rF(e.correctedQuery),this.corrected_query_endpoint=new rD(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new rF(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new rF(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new rD(e.originalQueryEndpoint):void 0}};rn(uS,"IncludingResultsFor"),uS.type="IncludingResultsFor";var uC=uS,uT=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.source=new rF(e.source),this.paragraphs=e.paragraphs.map(e=>new rF(e)),this.thumbnail=rN.fromResponse(e.thumbnail),this.source_endpoint=new rD(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};rn(uT,"InfoPanelContent"),uT.type="InfoPanelContent";var uI=uT,uE=class extends rm{constructor(e){var t;super(),this.title=new rF(e.title),this.menu=rI.parseItem(e.menu,r2),this.content=rI.parseItem(e.content,uI),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=null===(t=e.icon)||void 0===t?void 0:t.iconType)}};rn(uE,"InfoPanelContainer"),uE.type="InfoPanelContainer";var uk=uE,uA=class extends rm{constructor(e){super(),this.header_type=e.type,this.title=new rF(e.title),this.description=new rF(e.description),this.metadata=new rF(e.metadata),this.badges=rI.parseArray(e.badges,os),this.box_art=rN.fromResponse(e.boxArt),this.banner=rN.fromResponse(e.banner),this.buttons=rI.parseArray(e.buttons,[aJ,rA]),this.auto_generated=new rF(e.autoGenerated)}};rn(uA,"InteractiveTabbedHeader"),uA.type="InteractiveTabbedHeader";var uR=uA,uP=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(uP,"ItemSectionHeader"),uP.type="ItemSectionHeader";var uM=uP,uO=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.selected=!!e.selected,this.endpoint=new rD(e.endpoint)}};rn(uO,"ItemSectionTab"),uO.type="Tab";var uL=uO,uD=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.tabs=rI.parseArray(e.tabs,uL),Reflect.has(e,"endItems")&&(this.end_items=rI.parseArray(e.endItems))}};rn(uD,"ItemSectionTabbedHeader"),uD.type="ItemSectionTabbedHeader";var uN=uD,uB=class extends rm{constructor(e){var t,i,n;super(),this.header=rI.parseItem(e.header,[dy,uM,uN]),this.contents=rI.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)}};rn(uB,"ItemSection"),uB.type="ItemSection";var uU=uB,uV=class extends rm{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(e=>new rD(e)))}};rn(uV,"LikeButton"),uV.type="LikeButton";var uF=uV,uj=class extends rm{constructor(e){var t,i;super(),this.header=rI.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=null===(i=null===(t=e.continuations[0])||void 0===t?void 0:t.reloadContinuationData)||void 0===i?void 0:i.continuation,this.client_messages={reconnect_message:new rF(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new rF(e.clientMessages.unableToReconnectMessage),fatal_error:new rF(e.clientMessages.fatalError),reconnected_message:new rF(e.clientMessages.reconnectedMessage),generic_error:new rF(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};rn(uj,"LiveChat"),uj.type="LiveChat";var uH=uj,uW=class extends rm{constructor(e){super(),this.text=new rF(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=rI.parseItem(e.contextMenuButton,rA)}};rn(uW,"LiveChatBannerHeader"),uW.type="LiveChatBannerHeader";var u$=uW,uG=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header,u$),this.contents=rI.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};rn(uG,"LiveChatBanner"),uG.type="LiveChatBanner";var uK=uG,uY=class extends rm{constructor(e){super(),this.banner=rI.parseItem(e.bannerRenderer,uK)}};rn(uY,"AddBannerToLiveChatCommand"),uY.type="AddBannerToLiveChatCommand";var uq=uY,uz=class extends rm{constructor(e){super(),this.item=rI.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};rn(uz,"AddChatItemAction"),uz.type="AddChatItemAction";var uJ=uz,uX=class extends rm{constructor(e){super(),this.item=rI.parseItem(e.item),this.duration_sec=e.durationSec}};rn(uX,"AddLiveChatTickerItemAction"),uX.type="AddLiveChatTickerItemAction";var uQ=uX,uZ=class extends rm{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};rn(uZ,"DimChatItemAction"),uZ.type="DimChatItemAction";var u0=uZ,u1=class extends rm{constructor(e){super(),this.menu_endpoint=new rD(e.contextMenuEndpoint),this.moderation_buttons=rI.parseArray(e.moderationButtons,rA),this.auto_moderated_item=rI.parseItem(e.autoModeratedItem),this.header_text=new rF(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};rn(u1,"LiveChatAutoModMessage"),u1.type="LiveChatAutoModMessage";var u2=u1,u3=class extends rm{constructor(e){super(),this.poll_question=new rF(e.pollQuestion),this.author_photo=rN.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(e=>({option_id:e.pollOptionId,text:new rF(e.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=rI.parseItem(e.contextMenuButton,rA)}};rn(u3,"LiveChatBannerPoll"),u3.type="LiveChatBannerPoll";var u6=u3,u5=class extends rm{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new rF(e.headerSubtext),this.author=new SR(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new rD(e.contextMenuEndpoint)}};rn(u5,"LiveChatMembershipItem"),u5.type="LiveChatMembershipItem";var u4=u5,u8=class extends rm{constructor(e){super(),this.message=new rF(e.message),this.author=new SR(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new rF(e.purchaseAmountText).toString(),this.menu_endpoint=new rD(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new rF(e.timestampText).toString(),this.id=e.id}};rn(u8,"LiveChatPaidMessage"),u8.type="LiveChatPaidMessage";var u9=u8,u7=class extends rm{constructor(e){super(),this.id=e.id,this.author=new SR(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=rN.fromResponse(e.sticker),this.purchase_amount=new rF(e.purchaseAmountText).toString(),this.menu_endpoint=new rD(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};rn(u7,"LiveChatPaidSticker"),u7.type="LiveChatPaidSticker";var pe=u7,pt=class extends rm{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};rn(pt,"LiveChatPlaceholderItem"),pt.type="LiveChatPlaceholderItem";var pi=pt,pn=class extends rm{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=rN.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=rI.parseItem(e.informationButton),this.endpoint=new rD(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=rN.fromResponse(e.authorPhoto),this.information_dialog=rI.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new rF(e.creatorCustomMessage)}};rn(pn,"LiveChatProductItem"),pn.type="LiveChatProductItem";var ps=pn,pr=class extends rm{constructor(e){super(),this.message=new rF(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};rn(pr,"LiveChatRestrictedParticipation"),pr.type="LiveChatRestrictedParticipation";var po=pr,pa=class extends rm{constructor(e){super(),this.message=new rF(e.message),this.inline_action_buttons=rI.parseArray(e.inlineActionButtons,rA),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};rn(pa,"LiveChatMessageBase"),pa.type="LiveChatMessageBase";var pl=class extends pa{constructor(e){super(e),this.author=new SR(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new rD(e.contextMenuEndpoint)}};rn(pl,"LiveChatTextMessage"),pl.type="LiveChatTextMessage";var pc=pl,pd=class extends rm{constructor(e){var t,i;super(),this.author=new SR(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new rF(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=rI.parseItem(null===(i=null===(t=e.showItemEndpoint)||void 0===t?void 0:t.showLiveChatItemEndpoint)||void 0===i?void 0:i.renderer),this.show_item_endpoint=new rD(e.showItemEndpoint),this.id=e.id}};rn(pd,"LiveChatTickerPaidMessageItem"),pd.type="LiveChatTickerPaidMessageItem";var ph=pd,pu=class extends ph{};rn(pu,"LiveChatTickerPaidStickerItem"),pu.type="LiveChatTickerPaidStickerItem";var pp=pu,pf=class extends rm{constructor(e){super(),this.id=e.id,this.detail=new rF(e.detailText),this.author=new SR(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};rn(pf,"LiveChatTickerSponsorItem"),pf.type="LiveChatTickerSponsorItem";var pm=pf,pv=class extends pa{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=rI.parseItem(e.actionButton)}};rn(pv,"LiveChatViewerEngagementMessage"),pv.type="LiveChatViewerEngagementMessage";var pg=pv,py=class extends rm{constructor(e){super(),this.poll_question=new rF(e.pollQuestion),this.thumbnails=rN.fromResponse(e.thumbnail),this.metadata=new rF(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=rI.parseItem(e.contextMenuButton,rA)}};rn(py,"PollHeader"),py.type="PollHeader";var p_=py,pb=class extends rm{constructor(e){super(),this.id=e.id,this.contents=rI.parse(e.contents),this.target_id=e.targetId}};rn(pb,"LiveChatActionPanel"),pb.type="LiveChatActionPanel";var pw=pb,px=class extends rm{constructor(e){super(),this.deleted_state_message=new rF(e.deletedStateMessage),this.target_item_id=e.targetItemId}};rn(px,"MarkChatItemAsDeletedAction"),px.type="MarkChatItemAsDeletedAction";var pS=px,pC=class extends rm{constructor(e){super(),this.deleted_state_message=new rF(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};rn(pC,"MarkChatItemsByAuthorAsDeletedAction"),pC.type="MarkChatItemsByAuthorAsDeletedAction";var pT=pC,pI=class extends rm{constructor(e){super(),this.target_action_id=e.targetActionId}};rn(pI,"RemoveBannerForLiveChatCommand"),pI.type="RemoveBannerForLiveChatCommand";var pE=pI,pk=class extends rm{constructor(e){super(),this.target_item_id=e.targetItemId}};rn(pk,"RemoveChatItemAction"),pk.type="RemoveChatItemAction";var pA=pk,pR=class extends rm{constructor(e){super(),this.external_channel_id=e.externalChannelId}};rn(pR,"RemoveChatItemByAuthorAction"),pR.type="RemoveChatItemByAuthorAction";var pP=pR,pM=class extends rm{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=rI.parseItem(e.replacementItem)}};rn(pM,"ReplaceChatItemAction"),pM.type="ReplaceChatItemAction";var pO=pM,pL=class extends rm{constructor(e){var t;super(),this.actions=rI.parseArray(null===(t=e.actions)||void 0===t?void 0:t.map(e=>(delete e.clickTrackingParams,e))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};rn(pL,"ReplayChatItemAction"),pL.type="ReplayChatItemAction";var pD=pL,pN=class extends rm{constructor(e){super(),this.panel_to_show=rI.parseItem(e.panelToShow,pw)}};rn(pN,"ShowLiveChatActionPanelAction"),pN.type="ShowLiveChatActionPanelAction";var pB=pN,pU=class extends rm{constructor(e){super(),this.dialog=rI.parseItem(e.dialog)}};rn(pU,"ShowLiveChatDialogAction"),pU.type="ShowLiveChatDialogAction";var pV=pU,pF=class extends rm{constructor(e){super(),this.tooltip=rI.parseItem(e.tooltip)}};rn(pF,"ShowLiveChatTooltipCommand"),pF.type="ShowLiveChatTooltipCommand";var pj=pF,pH=class extends rm{constructor(e){super(),this.date_text=new rF(e.dateText).toString()}};rn(pH,"UpdateDateTextAction"),pH.type="UpdateDateTextAction";var pW=pH,p$=class extends rm{constructor(e){super(),this.description=new rF(e.description)}};rn(p$,"UpdateDescriptionAction"),p$.type="UpdateDescriptionAction";var pG=p$,pK=class extends rm{constructor(e){super(),this.poll_to_update=rI.parseItem(e.pollToUpdate)}};rn(pK,"UpdateLiveChatPollAction"),pK.type="UpdateLiveChatPollAction";var pY=pK,pq=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(pq,"UpdateTitleAction"),pq.type="UpdateTitleAction";var pz=pq,pJ=class extends rm{constructor(e){super(),this.default_text=new rF(e.defaultText).toString(),this.toggled_text=new rF(e.toggledText).toString(),this.button_id=e.buttonId}};rn(pJ,"UpdateToggleButtonTextAction"),pJ.type="UpdateToggleButtonTextAction";var pX=pJ,pQ=class extends rm{constructor(e){super();let t=e.viewCount.videoViewCountRenderer;this.view_count=new rF(t.viewCount),this.extra_short_view_count=new rF(t.extraShortViewCount),this.original_view_count=parseInt(t.originalViewCount),this.unlabeled_view_count_value=new rF(t.unlabeledViewCountValue),this.is_live=t.isLive}};rn(pQ,"UpdateViewershipAction"),pQ.type="UpdateViewershipAction";var pZ=pQ,p0=class extends os{constructor(e){super(e),this.custom_thumbnail=rN.fromResponse(e.customThumbnail)}};rn(p0,"LiveChatAuthorBadge"),p0.type="LiveChatAuthorBadge";var p1=p0,p2=class extends rm{constructor(e){super(),this.confirm_button=rI.parseItem(e.confirmButton,rA),this.dialog_messages=e.dialogMessages.map(e=>new rF(e))}};rn(p2,"LiveChatDialog"),p2.type="LiveChatDialog";var p3=p2,p6=class extends rm{constructor(e){super(),this.overflow_menu=rI.parseItem(e.overflowMenu,r2),this.collapse_button=rI.parseItem(e.collapseButton,rA),this.view_selector=rI.parseItem(e.viewSelector,oX)}};rn(p6,"LiveChatHeader"),p6.type="LiveChatHeader";var p5=p6,p4=class extends rm{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=rI.parseItem(e.moreCommentsBelowButton,rA)}};rn(p4,"LiveChatItemList"),p4.type="LiveChatItemList";var p8=p4,p9=class extends rm{constructor(e){super(),this.author_name=new rF(e.authorName),this.author_photo=rN.fromResponse(e.authorPhoto),this.send_button=rI.parseItem(e.sendButton,rA),this.target_id=e.targetId}};rn(p9,"LiveChatMessageInput"),p9.type="LiveChatMessageInput";var p7=p9,fe=class extends rm{constructor(e){super(),this.name=new rF(e.authorName),this.photo=rN.fromResponse(e.authorPhoto),this.badges=rI.parseArray(e.authorBadges)}};rn(fe,"LiveChatParticipant"),fe.type="LiveChatParticipant";var ft=fe,fi=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.participants=rI.parseArray(e.participants,ft)}};rn(fi,"LiveChatParticipantsList"),fi.type="LiveChatParticipantsList";var fn=fi,fs=class extends rA{constructor(e){super(e)}};rn(fs,"MenuNavigationItem"),fs.type="MenuNavigationItem";var fr=fs,fo=class extends rA{constructor(e){super(e)}};rn(fo,"MenuServiceItem"),fo.type="MenuServiceItem";var fa=fo,fl=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items,[fr,fa])}};rn(fl,"MenuPopup"),fl.type="MenuPopup";var fc=fl,fd=class extends rm{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new rD(e.navigationEndpoint||e.serviceEndpoint)}};rn(fd,"MenuServiceItemDownload"),fd.type="MenuServiceItemDownload";var fh=fd,fu=class extends rm{constructor(e){super(),this.header=rI.parse(e.header),this.sections=rI.parse(e.sections),this.style=e.style}};rn(fu,"MultiPageMenu"),fu.type="MultiPageMenu";var fp=fu,ff=class extends rm{constructor(e){super(),this.items=rI.parse(e.items)}get contents(){return this.items}};rn(ff,"MultiPageMenuNotificationSection"),ff.type="MultiPageMenuNotificationSection";var fm=ff,fv=class extends rm{constructor(e){super()}};rn(fv,"MusicMenuItemDivider"),fv.type="MusicMenuItemDivider";var fg=fv,fy=class extends rm{constructor(e){var t;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new rF(null===(t=e.title.musicMenuTitleRenderer)||void 0===t?void 0:t.primaryText)),this.options=rI.parseArray(e.options,[ok,fg])}};rn(fy,"MusicMultiSelectMenu"),fy.type="MusicMultiSelectMenu";var f_=fy,fb=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.buttons=rI.parse(e.buttons)}};rn(fb,"SimpleMenuHeader"),fb.type="SimpleMenuHeader";var fw=fb,fx=class extends rm{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=rN.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new rD(e.buttonCommand)}};rn(fx,"MerchandiseItem"),fx.type="MerchandiseItem";var fS=fx,fC=class extends rm{constructor(e){super(),this.title=e.title,this.menu=rI.parseItem(e.actionButton),this.items=rI.parseArray(e.items)}get contents(){return this.items}};rn(fC,"MerchandiseShelf"),fC.type="MerchandiseShelf";var fT=fC,fI=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.contents=e.contents.map(e=>new rF(e))}};rn(fI,"MetadataRow"),fI.type="MetadataRow";var fE=fI,fk=class extends rm{constructor(e){super(),this.rows=rI.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};rn(fk,"MetadataRowContainer"),fk.type="MetadataRowContainer";var fA=fk,fR=class extends rm{constructor(e){super(),this.content=new rF(e.content),this.has_divider_line=e.hasDividerLine}};rn(fR,"MetadataRowHeader"),fR.type="MetadataRowHeader";var fP=fR,fM=class extends rm{constructor(e){super(),this.section_list=rI.parseItem(e)}};rn(fM,"MetadataScreen"),fM.type="MetadataScreen";var fO=fM,fL=class extends rm{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=rN.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};rn(fL,"MicroformatData"),fL.type="MicroformatData";var fD=fL,fN=class extends dM{constructor(e){super(e)}};rn(fN,"Mix"),fN.type="Mix";var fB=fN,fU=class extends rm{constructor(e){var t,i,n;super();let s=(null===(t=e.thumbnailOverlays.find(e=>e.thumbnailOverlayTimeStatusRenderer))||void 0===t?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new rF(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new rF(e.descriptionSnippet)),this.top_metadata_items=new rF(e.topMetadataItems),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.author=new SR(e.longBylineText,e.ownerBadges,null===(n=null===(i=e.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===n?void 0:n.thumbnail),this.duration={text:e.lengthText?new rF(e.lengthText).toString():new rF(s).toString(),seconds:SK(e.lengthText?new rF(e.lengthText).toString():new rF(s).toString())},this.endpoint=new rD(e.navigationEndpoint),this.badges=rI.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=rI.parseItem(e.menu,r2)}};rn(fU,"Movie"),fU.type="Movie";var fV=fU,fF=class extends rm{constructor(e){var t;return super(),null===(t=e.movingThumbnailDetails)||void 0===t?void 0:t.thumbnails.map(e=>new rN(e)).sort((e,t)=>t.width-e.width)}};rn(fF,"MovingThumbnail"),fF.type="MovingThumbnail";var fj=fF,fH=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(fH,"MusicCardShelfHeaderBasic"),fH.type="MusicCardShelfHeaderBasic";var fW=fH,f$=class extends rm{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};rn(f$,"MusicInlineBadge"),f$.type="MusicInlineBadge";var fG=f$,fK=class extends rm{constructor(e){var t,i;super(),this.endpoint=new rD(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=null===(t=e.accessibilityPlayData.accessibilityData)||void 0===t?void 0:t.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=null===(i=e.accessibilityPauseData.accessibilityData)||void 0===i?void 0:i.label),this.icon_color=e.iconColor}};rn(fK,"MusicPlayButton"),fK.type="MusicPlayButton";var fY=fK,fq=class extends rm{constructor(e){super(),this.content=rI.parseItem(e.content,fY),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};rn(fq,"MusicItemThumbnailOverlay"),fq.type="MusicItemThumbnailOverlay";var fz=fq,fJ=class extends rm{constructor(e){super(),this.contents=rN.fromResponse(e.thumbnail)}};rn(fJ,"MusicThumbnail"),fJ.type="MusicThumbnail";var fX=fJ,fQ=class extends rm{constructor(e){super(),this.thumbnail=rI.parseItem(e.thumbnail,fX),this.title=new rF(e.title),this.subtitle=new rF(e.subtitle),this.buttons=rI.parseArray(e.buttons,rA),this.menu=rI.parseItem(e.menu,r2),this.on_tap=new rD(e.onTap),this.header=rI.parseItem(e.header,fW),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=rI.parseArray(e.subtitleBadges,fG),this.thumbnail_overlay=rI.parseItem(e.thumbnailOverlay,fz),Reflect.has(e,"contents")&&(this.contents=rI.parseArray(e.contents))}};rn(fQ,"MusicCardShelf"),fQ.type="MusicCardShelf";var fZ=fQ,f0=class extends rm{constructor(e){super(),this.title=new rF(e.title),Reflect.has(e,"strapline")&&(this.strapline=new rF(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=rI.parseItem(e.thumbnail,fX)),Reflect.has(e,"moreContentButton")&&(this.more_content=rI.parseItem(e.moreContentButton,rA)),Reflect.has(e,"endIcons")&&(this.end_icons=rI.parseArray(e.endIcons,ux))}};rn(f0,"MusicCarouselShelfBasicHeader"),f0.type="MusicCarouselShelfBasicHeader";var f1=f0,f2=class extends rm{constructor(e){super(),this.thumbnail=rI.parseItem(e.thumbnail,fX),this.overlay=rI.parseItem(e.overlay,fz),this.on_tap=new rD(e.onTap),this.menu=rI.parseItem(e.menu,r2),this.subtitle=new rF(e.subtitle),this.title=new rF(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new rF(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new rF(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};rn(f2,"MusicMultiRowListItem"),f2.type="MusicMultiRowListItem";var f3=f2,f6=class extends rm{constructor(e){super(),this.button_text=new rF(e.buttonText).toString(),this.endpoint=new rD(e.clickCommand)}};rn(f6,"MusicNavigationButton"),f6.type="MusicNavigationButton";var f5=f6,f4=class extends rm{constructor(e){super(),this.title=new rF(e.text),this.display_priority=e.displayPriority}};rn(f4,"MusicResponsiveListItemFixedColumn"),f4.type="musicResponsiveListItemFlexColumnRenderer";var f8=f4,f9=class extends rm{constructor(e){super(),this.title=new rF(e.text),this.display_priority=e.displayPriority}};rn(f9,"MusicResponsiveListItemFlexColumn"),f9.type="MusicResponsiveListItemFlexColumn";var f7=f9,me=class extends rm{constructor(e){var t,i,n,s,r,o;super(),C.add(this),T.set(this,void 0),this.flex_columns=rI.parseArray(e.flexColumns,f7),this.fixed_columns=rI.parseArray(e.fixedColumns,f8),rp(this,T,{video_id:(null===(t=null==e?void 0:e.playlistItemData)||void 0===t?void 0:t.videoId)||null,playlist_set_video_id:(null===(i=null==e?void 0:e.playlistItemData)||void 0===i?void 0:i.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new rD(e.navigationEndpoint));let a=null===(o=null===(r=null===(s=null===(n=this.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.browseEndpointContextSupportedConfigs)||void 0===r?void 0:r.browseEndpointContextMusicConfig)||void 0===o?void 0:o.pageType;switch(!a&&this.flex_columns.find(e=>{var t,i,n,s;return(null===(s=null===(n=null===(i=null===(t=e.title.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseEndpointContextSupportedConfigs)||void 0===n?void 0:n.browseEndpointContextMusicConfig)||void 0===s?void 0:s.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(a="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),a){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",ru(this,C,"m",O).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",ru(this,C,"m",L).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",ru(this,C,"m",R).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",ru(this,C,"m",P).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",ru(this,C,"m",M).call(this);break;default:this.flex_columns[1]?ru(this,C,"m",E).call(this):ru(this,C,"m",I).call(this)}Reflect.has(e,"index")&&(this.index=new rF(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=rI.parseItem(e.thumbnail,fX)),Reflect.has(e,"badges")&&(this.badges=rI.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=rI.parseItem(e.menu,r2)),Reflect.has(e,"overlay")&&(this.overlay=rI.parseItem(e.overlay,fz))}get thumbnails(){var e;return(null===(e=this.thumbnail)||void 0===e?void 0:e.contents)||[]}};rn(me,"MusicResponsiveListItem"),T=new WeakMap,C=new WeakSet,I=rn(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),E=rn(function(){var e,t;(null===(t=null===(e=this.flex_columns.at(1))||void 0===e?void 0:e.title.runs)||void 0===t?void 0:t.some(e=>e.text.match(/(.*?) views/)))?(this.item_type="video",ru(this,C,"m",A).call(this)):(this.item_type="song",ru(this,C,"m",k).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),k=rn(function(){var e,t,i,n,s,r,o,a,l,c,d,h,u,p,f;this.id=ru(this,T,"f").video_id||(null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.videoId),this.title=this.flex_columns.first().title.toString();let m=(null===(s=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find(e=>/^\d+$/.test(e.text.replace(/:/g,""))))||void 0===s?void 0:s.text)||(null===(o=null===(r=this.fixed_columns.first())||void 0===r?void 0:r.title)||void 0===o?void 0:o.toString());m&&(this.duration={text:m,seconds:SK(m)});let v=(null===(l=null===(a=this.flex_columns.at(1))||void 0===a?void 0:a.title.runs)||void 0===l?void 0:l.find(e=>S0(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("MPR")))||(null===(d=null===(c=this.flex_columns.at(2))||void 0===c?void 0:c.title.runs)||void 0===d?void 0:d.find(e=>S0(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("MPR")));v&&S0(v)&&(this.album={id:null===(u=null===(h=v.endpoint)||void 0===h?void 0:h.payload)||void 0===u?void 0:u.browseId,name:v.text,endpoint:v.endpoint});let g=null===(f=null===(p=this.flex_columns.at(1))||void 0===p?void 0:p.title.runs)||void 0===f?void 0:f.filter(e=>S0(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));g&&(this.artists=g.map(e=>{var t,i;return{name:e.text,channel_id:S0(e)?null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:S0(e)?e.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),A=rn(function(){var e,t,i,n,s,r,o,a,l,c;this.id=ru(this,T,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=null===(i=null===(t=null===(e=this.flex_columns.at(1))||void 0===e?void 0:e.title.runs)||void 0===t?void 0:t.find(e=>e.text.match(/(.*?) views/)))||void 0===i?void 0:i.toString();let d=null===(s=null===(n=this.flex_columns.at(1))||void 0===n?void 0:n.title.runs)||void 0===s?void 0:s.filter(e=>S0(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));d&&(this.authors=d.map(e=>{var t,i;return{name:e.text,channel_id:S0(e)?null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:S0(e)?e.endpoint:void 0}}));let h=(null===(o=null===(r=this.flex_columns[1].title.runs)||void 0===r?void 0:r.find(e=>/^\d+$/.test(e.text.replace(/:/g,""))))||void 0===o?void 0:o.text)||(null===(c=null===(l=null===(a=this.fixed_columns.first())||void 0===a?void 0:a.title.runs)||void 0===l?void 0:l.find(e=>/^\d+$/.test(e.text.replace(/:/g,""))))||void 0===c?void 0:c.text);h&&(this.duration={text:h,seconds:SK(h)})},"_MusicResponsiveListItem_parseVideo"),R=rn(function(){var e,t,i,n,s,r;this.id=null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title,this.subscribers=(null===(r=null===(s=null===(n=this.subtitle)||void 0===n?void 0:n.runs)||void 0===s?void 0:s.find(e=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(e.text)))||void 0===r?void 0:r.text)||""},"_MusicResponsiveListItem_parseArtist"),P=rn(function(){var e,t,i,n;this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(e=this.flex_columns.at(1))||void 0===e?void 0:e.title,this.song_count=(null===(n=null===(i=null===(t=this.subtitle)||void 0===t?void 0:t.runs)||void 0===i?void 0:i.find(e=>/^\d+(,\d+)? songs?$/i.test(e.text)))||void 0===n?void 0:n.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),M=rn(function(){var e,t;this.id=ru(this,T,"f").video_id||(null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),O=rn(function(){var e,t,i,n,s,r,o,a,l;this.id=null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.browseId,this.title=this.flex_columns.first().title.toString();let c=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find(e=>S0(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));c&&S0(c)&&(this.author={name:c.text,channel_id:null===(r=null===(s=c.endpoint)||void 0===s?void 0:s.payload)||void 0===r?void 0:r.browseId,endpoint:c.endpoint}),this.year=null===(l=null===(a=null===(o=this.flex_columns.at(1))||void 0===o?void 0:o.title.runs)||void 0===a?void 0:a.find(e=>/^[12][0-9]{3}$/.test(e.text)))||void 0===l?void 0:l.text},"_MusicResponsiveListItem_parseAlbum"),L=rn(function(){var e,t,i,n,s,r,o,a;this.id=null===(t=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===t?void 0:t.browseId,this.title=this.flex_columns.first().title.toString();let l=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find(e=>e.text.match(/\d+ (song|songs)/));this.item_count=l?l.text:void 0;let c=null===(r=null===(s=this.flex_columns.at(1))||void 0===s?void 0:s.title.runs)||void 0===r?void 0:r.find(e=>S0(e)&&e.endpoint&&e.endpoint.payload.browseId.startsWith("UC"));c&&S0(c)&&(this.author={name:c.text,channel_id:null===(a=null===(o=c.endpoint)||void 0===o?void 0:o.payload)||void 0===a?void 0:a.browseId,endpoint:c.endpoint})},"_MusicResponsiveListItem_parsePlaylist"),me.type="MusicResponsiveListItem";var mt=me,mi=class extends rm{constructor(e){var t,i,n,s,r,o,a,l,c,d,h,u,p,f,m,v,g,y,_,b,w,x;switch(super(),this.title=new rF(e.title),this.endpoint=new rD(e.navigationEndpoint),this.id=(null===(i=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||(null===(s=null===(n=this.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.videoId),this.subtitle=new rF(e.subtitle),this.badges=rI.parse(e.subtitleBadges),null===(l=null===(a=null===(o=null===(r=this.endpoint)||void 0===r?void 0:r.payload)||void 0===o?void 0:o.browseEndpointContextSupportedConfigs)||void 0===a?void 0:a.browseEndpointContextMusicConfig)||void 0===l?void 0:l.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:(null===(d=null===(c=this.endpoint)||void 0===c?void 0:c.metadata)||void 0===d?void 0:d.api_url)==="/next"?this.item_type="endpoint":(null===(h=this.subtitle.runs)||void 0===h?void 0:h[0])?"Song"!==this.subtitle.runs[0].text?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown"}if("artist"==this.item_type)this.subscribers=(null===(p=null===(u=this.subtitle.runs)||void 0===u?void 0:u.find(e=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(e.text)))||void 0===p?void 0:p.text)||"";else if("playlist"==this.item_type){let e=null===(f=this.subtitle.runs)||void 0===f?void 0:f.find(e=>e.text.match(/\d+ songs|song/));this.item_count=e?e.text:null}else if("album"==this.item_type){let e=null===(m=this.subtitle.runs)||void 0===m?void 0:m.filter(e=>{var t,i;return null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId.startsWith("UC")});e&&(this.artists=e.map(e=>{var t,i;return{name:e.text,channel_id:null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId,endpoint:e.endpoint}})),this.year=null===(v=this.subtitle.runs)||void 0===v?void 0:v.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if("video"==this.item_type){this.views=(null===(y=null===(g=this===null||void 0===this?void 0:this.subtitle.runs)||void 0===g?void 0:g.find(e=>null==e?void 0:e.text.match(/(.*?) views/)))||void 0===y?void 0:y.text)||"N/A";let e=null===(_=this.subtitle.runs)||void 0===_?void 0:_.find(e=>{var t,i,n;return null===(n=null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("UC")});e&&(this.author={name:null==e?void 0:e.text,channel_id:null===(w=null===(b=null==e?void 0:e.endpoint)||void 0===b?void 0:b.payload)||void 0===w?void 0:w.browseId,endpoint:null==e?void 0:e.endpoint})}else if("song"==this.item_type){let e=null===(x=this.subtitle.runs)||void 0===x?void 0:x.filter(e=>{var t,i;return null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId.startsWith("UC")});e&&(this.artists=e.map(e=>{var t,i;return{name:null==e?void 0:e.text,channel_id:null===(i=null===(t=null==e?void 0:e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId,endpoint:null==e?void 0:e.endpoint}}))}this.thumbnail=rN.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=rI.parseItem(e.thumbnailOverlay,fz),this.menu=rI.parseItem(e.menu,r2)}};rn(mi,"MusicTwoRowItem"),mi.type="MusicTwoRowItem";var mn=mi,ms=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header,f1),this.contents=rI.parseArray(e.contents,[mn,mt,f3,f5]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};rn(ms,"MusicCarouselShelf"),ms.type="MusicCarouselShelf";var mr=ms,mo=class extends rm{constructor(e){super(),this.description=new rF(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new rF(e.footer)}};rn(mo,"MusicDescriptionShelf"),mo.type="MusicDescriptionShelf";var ma=mo,ml=class extends rm{constructor(e){var t,i,n,s,r,o,a,l,c;super(),this.title=new rF(e.title),this.description=new rF(e.description),this.subtitle=new rF(e.subtitle),this.second_subtitle=new rF(e.secondSubtitle),this.year=(null===(i=null===(t=this.subtitle.runs)||void 0===t?void 0:t.find(e=>/^[12][0-9]{3}$/.test(e.text)))||void 0===i?void 0:i.text)||"",this.song_count=(null===(s=null===(n=this.second_subtitle.runs)||void 0===n?void 0:n[0])||void 0===s?void 0:s.text)||"",this.total_duration=(null===(o=null===(r=this.second_subtitle.runs)||void 0===r?void 0:r[2])||void 0===o?void 0:o.text)||"",this.thumbnails=rN.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=rI.parseArray(e.subtitleBadges);let d=null===(a=this.subtitle.runs)||void 0===a?void 0:a.find(e=>{var t,i;return null===(i=null===(t=null==e?void 0:e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId.startsWith("UC")});d&&(this.author={name:d.text,channel_id:null===(c=null===(l=d.endpoint)||void 0===l?void 0:l.payload)||void 0===c?void 0:c.browseId,endpoint:d.endpoint}),this.menu=rI.parseItem(e.menu)}};rn(ml,"MusicDetailHeader"),ml.type="MusicDetailHeader";var mc=ml,md=class extends rm{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};rn(md,"MusicDownloadStateBadge"),md.type="MusicDownloadStateBadge";var mh=md,mu=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header)}};rn(mu,"MusicEditablePlaylistDetailHeader"),mu.type="MusicEditablePlaylistDetailHeader";var mp=mu,mf=class extends rm{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?rI.parseItem(e,ha):null}};rn(mf,"MusicElementHeader"),mf.type="MusicElementHeader";var mm=mf,mv=class extends rm{constructor(e){super(),Reflect.has(e,"header")&&(this.header=rI.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new rF(e.title))}};rn(mv,"MusicHeader"),mv.type="MusicHeader";var mg=mv,my=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.description=new rF(e.description),this.thumbnail=rI.parseItem(e.thumbnail,fX)}};rn(my,"MusicImmersiveHeader"),my.type="MusicImmersiveHeader";var m_=my,mb=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new rD(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};rn(mb,"ActionButton"),mb.type="ActionButton";var mw=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(e=>new mb(e))}};rn(mw,"Panel"),mw.type="Panel";var mx=class extends rm{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(e=>new mw(e))}};rn(mx,"MusicLargeCardItemCarousel"),mx.type="MusicLargeCardItemCarousel";var mS=mx,mC=class extends rm{constructor(e){var t,i,n;super(),this.playlist_id=e.playlistId,this.contents=rI.parseArray(e.contents,mt),this.collapsed_item_count=e.collapsedItemCount,this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||null}};rn(mC,"MusicPlaylistShelf"),mC.type="MusicPlaylistShelf";var mT=mC,mI=class extends rm{constructor(e){var t,i,n,s,r;super(),this.title=new rF(e.title),this.thumbnail=rN.fromResponse(e.thumbnail),this.endpoint=new rD(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new rF(e.lengthText).toString(),seconds:SK(new rF(e.lengthText).toString())};let o=null===(t=new rF(e.longBylineText).runs)||void 0===t?void 0:t.find(e=>{var t,i,n;return null===(n=null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("MPR")}),a=null===(i=new rF(e.longBylineText).runs)||void 0===i?void 0:i.filter(e=>{var t,i,n;return null===(n=null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("UC")});this.author=new rF(e.shortBylineText).toString(),o&&(this.album={id:null===(s=null===(n=o.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.browseId,name:o.text,year:null===(r=new rF(e.longBylineText).runs)||void 0===r?void 0:r.slice(-1)[0].text,endpoint:o.endpoint}),a&&(this.artists=a.map(e=>{var t,i;return{name:e.text,channel_id:null===(i=null===(t=e.endpoint)||void 0===t?void 0:t.payload)||void 0===i?void 0:i.browseId,endpoint:e.endpoint}})),this.badges=rI.parseArray(e.badges),this.menu=rI.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};rn(mI,"PlaylistPanelVideo"),mI.type="PlaylistPanelVideo";var mE=mI,mk=class extends rm{constructor(e){super(),this.primary=rI.parseItem(e.primaryRenderer,mE),Reflect.has(e,"counterpart")&&(this.counterpart=ry(e.counterpart.map(e=>rI.parseItem(e.counterpartRenderer,mE))||[]))}};rn(mk,"PlaylistPanelVideoWrapper"),mk.type="PlaylistPanelVideoWrapper";var mA=mk,mR=class extends rm{constructor(e){var t,i,n,s,r,o;super(),this.title=e.title,this.title_text=new rF(e.titleText),this.contents=rI.parseArray(e.contents,[mA,mE,aw]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextRadioContinuationData)||void 0===n?void 0:n.continuation)||(null===(o=null===(r=null===(s=e.continuations)||void 0===s?void 0:s[0])||void 0===r?void 0:r.nextContinuationData)||void 0===o?void 0:o.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};rn(mR,"PlaylistPanel"),mR.type="PlaylistPanel";var mP=mR,mM=class extends rm{constructor(e){super(),this.content=rI.parseItem(e.content,mP)}};rn(mM,"MusicQueue"),mM.type="MusicQueue";var mO=mM,mL=class extends rm{constructor(e){var t,i,n,s;super(),this.title=new rF(e.title),this.contents=rI.parseArray(e.contents,mt),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new rD(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=(null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(s=null===(n=e.continuations)||void 0===n?void 0:n[0].reloadContinuationData)||void 0===s?void 0:s.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new rF(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=rI.parseItem(e.bottomButton,rA)),Reflect.has(e,"subheaders")&&(this.subheaders=rI.parseArray(e.subheaders))}};rn(mL,"MusicShelf"),mL.type="MusicShelf";var mD=mL,mN=class extends rm{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=rI.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=rI.parseArray(e.endItems))}};rn(mN,"MusicSideAlignedItem"),mN.type="MusicSideAlignedItem";var mB=mN,mU=class extends rm{constructor(e){super(),this.title=new rF(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=rI.parseItem(e.menu,f_)}};rn(mU,"MusicSortFilterButton"),mU.type="MusicSortFilterButton";var mV=mU,mF=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail)}};rn(mF,"MusicTastebuilderShelfThumbnail"),mF.type="MusicTastebuilderShelfThumbnail";var mj=mF,mH=class extends rm{constructor(e){super(),this.thumbnail=rI.parseItem(e.thumbnail,mj),this.primary_text=new rF(e.primaryText),this.secondary_text=new rF(e.secondaryText),this.action_button=rI.parseItem(e.actionButton,rA),this.is_visible=e.isVisible}};rn(mH,"MusicTasteBuilderShelf"),mH.type="MusicTasteBuilderShelf";var mW=mH,m$=class extends rm{constructor(e){var t,i;super(),this.title=new rF(e.title),this.thumbnail=e.thumbnail?rN.fromResponse(null===(t=e.thumbnail.musicThumbnailRenderer)||void 0===t?void 0:t.thumbnail):[],this.menu=rI.parseItem(e.menu,r2),this.foreground_thumbnail=e.foregroundThumbnail?rN.fromResponse(null===(i=e.foregroundThumbnail.musicThumbnailRenderer)||void 0===i?void 0:i.thumbnail):[]}};rn(m$,"MusicVisualHeader"),m$.type="MusicVisualHeader";var mG=m$,mK=class extends rm{constructor(e){super(),this.thumbnails=rN.fromResponse(e.thumbnail),this.video_thumbnails=rN.fromResponse(e.videoThumbnail),this.short_message=new rF(e.shortMessage),this.sent_time=new rF(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new rD(e.navigationEndpoint),this.record_click_endpoint=new rD(e.recordClickEndpoint),this.menu=rI.parseItem(e.contextualMenu),this.read=e.read}};rn(mK,"Notification"),mK.type="Notification";var mY=mK,mq=class extends rm{constructor(e){super(),this.title=rI.parseItem(e.title,hn),this.image=rI.parseItem(e.image,oc),this.metadata=rI.parseItem(e.metadata,d$),this.actions=rI.parseItem(e.actions,hD)}};rn(mq,"PageHeaderView"),mq.type="PageHeaderView";var mz=mq,mJ=class extends rm{constructor(e){super(),this.page_title=e.pageTitle,this.content=rI.parseItem(e.content,mz)}};rn(mJ,"PageHeader"),mJ.type="PageHeader";var mX=mJ,mQ=class extends rm{constructor(e){super(),this.header_text=new rF(e.headerText).toString(),this.body_text=new rF(e.bodyText).toString(),this.page_title=new rF(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};rn(mQ,"PageIntroduction"),mQ.type="PageIntroduction";var mZ=mQ,m0=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail),this.endpoint=new rD(e.onClickCommand),this.content_description=new rF(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new rF(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};rn(m0,"PivotButton"),m0.type="PivotButton";var m1=m0,m2=class extends rm{constructor(e){super(),this.endpoint=new rD(e.endpoint),this.enable_listen_first=e.enableListenFirst}};rn(m2,"PlayerOverflow"),m2.type="PlayerOverflow";var m3=m2,m6=class extends rm{constructor(e){super(),this.overflow=rI.parseItem(e.overflow,m3)}};rn(m6,"PlayerControlsOverlay"),m6.type="PlayerControlsOverlay";var m5=m6,m4=class extends rm{constructor(e){super(),this.subreason=new rF(e.subreason),this.reason=new rF(e.reason),this.proceed_button=rI.parseItem(e.proceedButton,rA),this.thumbnails=rN.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};rn(m4,"PlayerErrorMessage"),m4.type="PlayerErrorMessage";var m8=m4,m9=class extends rm{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};rn(m9,"PlayerLegacyDesktopYpcOffer"),m9.type="PlayerLegacyDesktopYpcOffer";var m7=m9,ve=class extends rm{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};rn(ve,"YpcTrailer"),ve.type="YpcTrailer";var vt=ve,vi=class extends rm{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=rI.parseItem(e.ypcTrailer,vt)}};rn(vi,"PlayerLegacyDesktopYpcTrailer"),vi.type="PlayerLegacyDesktopYpcTrailer";var vn=vi,vs=class extends rm{constructor(e){var t;super(),this.title=new rF(e.title),this.description=new rF(e.description),this.thumbnails=rN.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(null===(t=e.liveBroadcastDetails)||void 0===t?void 0:t.startTimestamp)?new Date(e.liveBroadcastDetails.startTimestamp):null}};rn(vs,"PlayerMicroformat"),vs.type="PlayerMicroformat";var vr=vs,vo=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.video_id=e.videoId,this.video_title=new rF(e.videoTitle),this.short_view_count=new rF(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new rF(e.publishedTimeText),this.background=rN.fromResponse(e.background),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.author=new SR(e.byline),this.cancel_button=rI.parseItem(e.cancelButton,rA),this.next_button=rI.parseItem(e.nextButton,rA),this.close_button=rI.parseItem(e.closeButton,rA)}};rn(vo,"PlayerOverlayAutoplay"),vo.type="PlayerOverlayAutoplay";var va=vo,vl=class extends rm{constructor(e){super(),this.results=rI.parseArray(e.results,[hw,h_]),this.title=new rF(e.title).toString()}};rn(vl,"WatchNextEndScreen"),vl.type="WatchNextEndScreen";var vc=vl,vd=class extends rm{constructor(e){super(),this.end_screen=rI.parseItem(e.endScreen,vc),this.autoplay=rI.parseItem(e.autoplay,va),this.share_button=rI.parseItem(e.shareButton,rA),this.add_to_menu=rI.parseItem(e.addToMenu,r2),this.fullscreen_engagement=rI.parseItem(e.fullscreenEngagement),this.actions=rI.parseArray(e.actions),this.browser_media_session=rI.parseItem(e.browserMediaSession),this.decorated_player_bar=rI.parseItem(e.decoratedPlayerBarRenderer,d5)}};rn(vd,"PlayerOverlay"),vd.type="PlayerOverlay";var vh=vd,vu=class extends rm{constructor(e){super(),this.id=e.playlistId,this.title=new rF(e.title),this.subtitle=e.subtitle?new rF(e.subtitle):null,this.stats=e.stats.map(e=>new rF(e)),this.brief_stats=e.briefStats.map(e=>new rF(e)),this.author=e.ownerText||e.ownerEndpoint?new SR(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new rF(e.descriptionText),this.num_videos=new rF(e.numVideosText),this.view_count=new rF(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=rI.parseItem(e.saveButton),this.shuffle_play_button=rI.parseItem(e.shufflePlayButton),this.menu=rI.parseItem(e.moreActionsMenu),this.banner=rI.parseItem(e.playlistHeaderBanner)}};rn(vu,"PlaylistHeader"),vu.type="PlaylistHeader";var vp=vu,vf=class extends rm{constructor(e){super(),this.title=new rF(e.playlistTitle),this.thumbnails=rN.fromResponse(e.thumbnail),this.video_count=new rF(e.playlistVideoCount),this.channel_name=new rF(e.channelName),this.endpoint=new rD(e.action)}};rn(vf,"PlaylistInfoCardContent"),vf.type="PlaylistInfoCardContent";var vm=vf,vv=class extends rm{constructor(e){super(),this.title=e.title,this.description=e.description||null}};rn(vv,"PlaylistMetadata"),vv.type="PlaylistMetadata";var vg=vv,vy=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items)}get contents(){return this.items}};rn(vy,"PlaylistSidebar"),vy.type="PlaylistSidebar";var v_=vy,vb=class extends rm{constructor(e){super(),this.stats=e.stats.map(e=>new rF(e)),this.thumbnail_renderer=rI.parseItem(e.thumbnailRenderer),this.title=new rF(e.title),this.menu=rI.parseItem(e.menu),this.endpoint=new rD(e.navigationEndpoint),this.description=new rF(e.description)}};rn(vb,"PlaylistSidebarPrimaryInfo"),vb.type="PlaylistSidebarPrimaryInfo";var vw=vb,vx=class extends rm{constructor(e){super(),this.owner=rI.parseItem(e.videoOwner),this.button=rI.parseItem(e.button)}};rn(vx,"PlaylistSidebarSecondaryInfo"),vx.type="PlaylistSidebarSecondaryInfo";var vS=vx,vC=class extends rm{constructor(e){super(),this.id=e.videoId,this.index=new rF(e.index),this.title=new rF(e.title),this.author=new SR(e.shortBylineText),this.thumbnails=rN.fromResponse(e.thumbnail),this.thumbnail_overlays=rI.parseArray(e.thumbnailOverlays),this.set_video_id=null==e?void 0:e.setVideoId,this.endpoint=new rD(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=rI.parseItem(e.menu,r2),this.video_info=new rF(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let t=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);t&&(this.upcoming=new Date(t)),this.duration={text:new rF(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return(null===(e=this.thumbnail_overlays.firstOfType(or))||void 0===e?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return(null===(e=this.thumbnail_overlays.firstOfType(or))||void 0===e?void 0:e.style)==="UPCOMING"}};rn(vC,"PlaylistVideo"),vC.type="PlaylistVideo";var vT=vC,vI=class extends rm{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=rI.parseArray(e.contents)}};rn(vI,"PlaylistVideoList"),vI.type="PlaylistVideoList";var vE=vI,vk=class extends rm{constructor(e){super(),this.choices=e.choices.map(e=>({text:new rF(e.text),select_endpoint:e.selectServiceEndpoint?new rD(e.selectServiceEndpoint):null,deselect_endpoint:e.deselectServiceEndpoint?new rD(e.deselectServiceEndpoint):null,vote_ratio_if_selected:(null==e?void 0:e.voteRatioIfSelected)||null,vote_percentage_if_selected:new rF(e.votePercentageIfSelected),vote_ratio_if_not_selected:(null==e?void 0:e.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new rF(e.votePercentageIfSelected),image:e.image?rN.fromResponse(e.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new rF(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};rn(vk,"Poll"),vk.type="Poll";var vA=vk,vR=class extends aP{constructor(e){super(e)}};rn(vR,"Post"),vR.type="Post";var vP=vR,vM=class extends rm{constructor(e){super(),this.images=rI.parseArray(e.images,aS)}};rn(vM,"PostMultiImage"),vM.type="PostMultiImage";var vO=vM,vL=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};rn(vL,"ProductListHeader"),vL.type="ProductListHeader";var vD=vL,vN=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=rN.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new rD(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=rI.parseItem(e.viewButton,rA)}};rn(vN,"ProductListItem"),vN.type="ProductListItem";var vB=vN,vU=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items)}get contents(){return this.items}};rn(vU,"ProfileColumn"),vU.type="ProfileColumn";var vV=vU,vF=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items)}get contents(){return this.items}};rn(vF,"ProfileColumnStats"),vF.type="ProfileColumnStats";var vj=vF,vH=class extends rm{constructor(e){super(),this.label=new rF(e.label),this.value=new rF(e.value)}};rn(vH,"ProfileColumnStatsEntry"),vH.type="ProfileColumnStatsEntry";var vW=vH,v$=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.thumbnails=rN.fromResponse(e.thumbnail)}};rn(v$,"ProfileColumnUserInfo"),v$.type="ProfileColumnUserInfo";var vG=v$,vK=class extends rm{constructor(e){super(),this.choices=e.choices.map(e=>({text:new rF(e.text),is_correct:e.isCorrect})),this.total_votes=new rF(e.totalVotes)}};rn(vK,"Quiz"),vK.type="Quiz";var vY=vK,vq=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.subtitle=new rF(e.subtitle),this.avatars=e.avatars.map(e=>new rN(e)),this.button=rI.parseItem(e.button,rA),this.surface=e.surface}};rn(vq,"RecognitionShelf"),vq.type="RecognitionShelf";var vz=vq,vJ=class extends rm{constructor(e){super(),this.id=e.videoId,this.title=new rF(e.headline),this.thumbnails=rN.fromResponse(e.thumbnail),this.views=new rF(e.viewCountText),this.endpoint=new rD(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};rn(vJ,"ReelItem"),vJ.type="ReelItem";var vX=vJ,vQ=class extends rm{constructor(e){super(),this.reel_title_text=new rF(e.reelTitleText),this.timestamp_text=new rF(e.timestampText),this.channel_title_text=new rF(e.channelTitleText),this.channel_thumbnail=rN.fromResponse(e.channelThumbnail),this.author=new SR(e.channelNavigationEndpoint,void 0)}};rn(vQ,"ReelPlayerHeader"),vQ.type="ReelPlayerHeader";var vZ=vQ,v0=class extends rm{constructor(e){super(),this.like_button=rI.parseItem(e.likeButton,uF),this.reel_player_header_supported_renderers=rI.parseItem(e.reelPlayerHeaderSupportedRenderers,vZ),this.menu=rI.parseItem(e.menu,r2),this.next_item_button=rI.parseItem(e.nextItemButton,rA),this.prev_item_button=rI.parseItem(e.prevItemButton,rA),this.subscribe_button_renderer=rI.parseItem(e.subscribeButtonRenderer,rA),this.style=e.style,this.view_comments_button=rI.parseItem(e.viewCommentsButton,rA),this.share_button=rI.parseItem(e.shareButton,rA),this.pivot_button=rI.parseItem(e.pivotButton,m1),this.info_panel=rI.parseItem(e.infoPanel,uk)}};rn(v0,"ReelPlayerOverlay"),v0.type="ReelPlayerOverlay";var v1=v0,v2=class extends rm{constructor(e){super(),this.content=rI.parseItem(e.content)}};rn(v2,"RelatedChipCloud"),v2.type="RelatedChipCloud";var v3=v2,v6=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header),this.contents=rI.parseArray(e.contents)}};rn(v6,"RichGrid"),v6.type="RichGrid";var v5=v6,v4=class extends rm{constructor(e){super(),this.content=rI.parseItem(e.content)}};rn(v4,"RichItem"),v4.type="RichItem";var v8=v4,v9=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.subtitle=new rF(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};rn(v9,"RichListHeader"),v9.type="RichListHeader";var v7=v9,ge=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail),this.title=new rF(e.title),this.subtitle=new rF(e.subtitle),this.call_to_action=new rF(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new rD(e.endpoint)}};rn(ge,"RichMetadata"),ge.type="RichMetadata";var gt=ge,gi=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents)}};rn(gi,"RichMetadataRow"),gi.type="RichMetadataRow";var gn=gi,gs=class extends rm{constructor(e){super(),this.content=rI.parseItem(e.content)}};rn(gs,"RichSection"),gs.type="RichSection";var gr=gs,go=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.contents=rI.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new rD(e.endpoint))}};rn(go,"RichShelf"),go.type="RichShelf";var ga=go,gl=class extends rm{constructor(e){super(),this.endpoint=new rD(e.endpoint),this.search_button=rI.parseItem(e.searchButton,rA),this.clear_button=rI.parseItem(e.clearButton,rA),this.placeholder_text=new rF(e.placeholderText)}};rn(gl,"SearchBox"),gl.type="SearchBox";var gc=gl,gd=class extends rm{constructor(e){super(),this.label=new rF(e.label),this.endpoint=new rD(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return"FILTER_STATUS_DISABLED"===this.status}get selected(){return"FILTER_STATUS_SELECTED"===this.status}};rn(gd,"SearchFilter"),gd.type="SearchFilter";var gh=gd,gu=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.filters=rI.parseArray(e.filters,gh)}};rn(gu,"SearchFilterGroup"),gu.type="SearchFilterGroup";var gp=gu,gf=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.groups=rI.parseArray(e.groups,gp)}};rn(gf,"SearchFilterOptionsDialog"),gf.type="SearchFilterOptionsDialog";var gm=gf,gv=class extends rm{constructor(e){super(),this.chip_bar=rI.parseItem(e.chipBar,lI),this.search_filter_button=rI.parseItem(e.searchFilterButton,rA)}};rn(gv,"SearchHeader"),gv.type="SearchHeader";var gg=gv,gy=class extends rm{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new rF(e.title)),Reflect.has(e,"groups")&&(this.groups=rI.parseArray(e.groups,gp)),Reflect.has(e,"button")&&(this.button=rI.parseItem(e.button,aT))}};rn(gy,"SearchSubMenu"),gy.type="SearchSubMenu";var g_=gy,gb=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents)}};rn(gb,"SearchSuggestionsSection"),gb.type="SearchSuggestionsSection";var gw=gb,gx=class extends rm{constructor(e){super(),this.contents=rI.parseArray(e.contents)}};rn(gx,"SecondarySearchContainer"),gx.type="SecondarySearchContainer";var gS=gx,gC=class extends rm{constructor(e){super(),this.like_button=rI.parseItem(e.likeButton,[aT,rA]),this.dislike_button=rI.parseItem(e.dislikeButton,[aT,rA])}};rn(gC,"SegmentedLikeDislikeButton"),gC.type="SegmentedLikeDislikeButton";var gT=gC,gI=class extends rm{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new rF(e.title)),Reflect.has(e,"summary")&&(this.summary=new rF(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new rD(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new rD(e.disableServiceEndpoint)),this.item_id=e.itemId}};rn(gI,"SettingBoolean"),gI.type="SettingBoolean";var gE=gI,gk=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.help_text=new rF(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};rn(gk,"SettingsCheckbox"),gk.type="SettingsCheckbox";var gA=gk,gR=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.subtitle=new rF(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new rD(e.enableServiceEndpoint),this.disable_endpoint=new rD(e.disableServiceEndpoint)}};rn(gR,"SettingsSwitch"),gR.type="SettingsSwitch";var gP=gR,gM=class extends rm{constructor(e){super(),this.title=new rF(e.title),Reflect.has(e,"text")&&(this.text=new rF(e.text).toString()),Reflect.has(e,"options")&&(this.options=rI.parseArray(e.options,[gP,rP,dJ,gA,ld]))}};rn(gM,"SettingsOptions"),gM.type="SettingsOptions";var gO=gM,gL=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.items=rI.parseArray(e.items,dI)}get contents(){return this.items}};rn(gL,"SettingsSidebar"),gL.type="SettingsSidebar";var gD=gL,gN=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail),this.content=new rF(e.content),this.published=new rF(e.publishedTimeText),this.menu=bo(e.actionMenu,r2),this.original_post=bo(e.originalPost,aP),this.id=e.postId,this.endpoint=new rD(e.navigationEndpoint),this.expand_button=bo(e.expandButton,rA),this.author=new SR(e.displayName,void 0)}};rn(gN,"SharedPost"),gN.type="SharedPost";var gB=gN,gU=class extends rm{constructor(e){super(),this.title=new rF(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new rD(e.endpoint)),this.content=rI.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=rI.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=rI.parseItem(e.playAllButton,rA))}};rn(gU,"Shelf"),gU.type="Shelf";var gV=gU,gF=class extends rm{constructor(e){super(),this.corrected_query=new rF(e.correctedQuery),this.original_query=new rF(e.originalQuery),this.corrected_query_endpoint=new rD(e.correctedQueryEndpoint),this.original_query_endpoint=new rD(e.originalQueryEndpoint),this.search_instead_for=new rF(e.searchInsteadFor),this.showing_results_for=new rF(e.showingResultsFor)}};rn(gF,"ShowingResultsFor"),gF.type="ShowingResultsFor";var gj=gF,gH=class extends rm{constructor(e){super(),this.image=rN.fromResponse(e.image),this.title=new rF(e.title),this.display_domain=new rF(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new rF(e.callToAction),this.endpoint=new rD(e.command)}};rn(gH,"SimpleCardContent"),gH.type="SimpleCardContent";var gW=gH,g$=class extends rm{constructor(e){super(),this.message=new rF(e.message),this.prominent=e.prominent}};rn(g$,"SimpleCardTeaser"),g$.type="SimpleCardTeaser";var gG=g$,gK=class extends rm{constructor(e){super(),this.lines=e.lines.map(e=>new rF(e)),this.style=e.layoutStyle}};rn(gK,"SimpleTextSection"),gK.type="SimpleTextSection";var gY=gK,gq=class extends rm{constructor(e){super(),this.action_text=new rF(e.actionText),this.nav_text=new rF(e.navigationText),this.details=new rF(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new rD(e.navigationEndpoint)}};rn(gq,"SingleActionEmergencySupport"),gq.type="SingleActionEmergencySupport";var gz=gq,gJ=class extends rm{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new rD(e.endpoint),this.content=rI.parseItem(e.content,[r8,mO,v5])}};rn(gJ,"Tab"),gJ.type="Tab";var gX=gJ,gQ=class extends rm{constructor(e){super(),this.tabs=rI.parseArray(e.tabs,gX)}};rn(gQ,"SingleColumnBrowseResults"),gQ.type="SingleColumnBrowseResults";var gZ=gQ,g0=class extends rm{constructor(e){super(),this.contents=rI.parse(e)}};rn(g0,"SingleColumnMusicWatchNextResults"),g0.type="SingleColumnMusicWatchNextResults";var g1=g0,g2=class extends rm{constructor(e){super(),this.thumbnails=rN.fromResponse(e.thumbnail),this.style=e.style}};rn(g2,"SingleHeroImage"),g2.type="SingleHeroImage";var g3=g2,g6=class extends rm{constructor(e){super(),this.thumbnail=rN.fromResponse(e.thumbnail),this.title=new rF(e.title),this.endpoint=new rD(e.navigationEndpoint),this.subscribe_button=rI.parseItem(e.subscribeButton,aJ)}};rn(g6,"SlimOwner"),g6.type="SlimOwner";var g5=g6,g4=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.collapsed_subtitle=new rF(e.collapsedSubtitle),this.expanded_subtitle=new rF(e.expandedSubtitle),this.owner=rI.parseItem(e.owner),this.description=new rF(e.description),this.video_id=e.videoId,this.date=new rF(e.dateText)}};rn(g4,"SlimVideoMetadata"),g4.type="SlimVideoMetadata";var g8=g4,g9=class extends rm{constructor(e){super(),this.name=new rF(e.name),this.is_selected=e.isSelected,this.endpoint=new rD(e.navigationEndpoint)}};rn(g9,"SubFeedOption"),g9.type="SubFeedOption";var g7=g9,ye=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.options=rI.parseArray(e.options,g7)}};rn(ye,"SubFeedSelector"),ye.type="SubFeedSelector";var yt=ye,yi=class extends rm{constructor(e){super(),this.contents=rI.parse(e)}};rn(yi,"Tabbed"),yi.type="Tabbed";var yn=yi,ys=class extends rm{constructor(e){super(),this.tabs=rI.parseArray(e.tabs,gX)}};rn(ys,"TabbedSearchResults"),ys.type="TabbedSearchResults";var yr=ys,yo=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.style=e.style}};rn(yo,"TextHeader"),yo.type="TextHeader";var ya=yo,yl=class extends rm{constructor(e){super(),this.landscape=rN.fromResponse(e.landscape),this.portrait=rN.fromResponse(e.portrait)}};rn(yl,"ThumbnailLandscapePortrait"),yl.type="ThumbnailLandscapePortrait";var yc=yl,yd=class extends rm{constructor(e){super(),this.text=new rF(e.text).toString()}};rn(yd,"ThumbnailOverlayEndorsement"),yd.type="ThumbnailOverlayEndorsement";var yh=yd,yu=class extends rm{constructor(e){super(),this.text=new rF(e.text),this.icon_type=e.icon.iconType}};rn(yu,"ThumbnailOverlayHoverText"),yu.type="ThumbnailOverlayHoverText";var yp=yu,yf=class extends rm{constructor(e){super(),this.text=new rF(e.text).toString(),this.icon_type=e.icon.iconType}};rn(yf,"ThumbnailOverlayInlineUnplayable"),yf.type="ThumbnailOverlayInlineUnplayable";var ym=yf,yv=class extends rm{constructor(e){super(),this.text=new rF(e.text)}};rn(yv,"ThumbnailOverlayLoadingPreview"),yv.type="ThumbnailOverlayLoadingPreview";var yg=yv,yy=class extends rm{constructor(e){super(),this.text=new rF(e.text).toString()}};rn(yy,"ThumbnailOverlayNowPlaying"),yy.type="ThumbnailOverlayNowPlaying";var y_=yy,yb=class extends rm{constructor(e){super(),this.hack=e.hack}};rn(yb,"ThumbnailOverlayPinking"),yb.type="ThumbnailOverlayPinking";var yw=yb,yx=class extends rm{constructor(e){super(),this.texts=e.texts.map(e=>new rF(e))}};rn(yx,"ThumbnailOverlayPlaybackStatus"),yx.type="ThumbnailOverlayPlaybackStatus";var yS=yx,yC=class extends rm{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};rn(yC,"ThumbnailOverlayResumePlayback"),yC.type="ThumbnailOverlayResumePlayback";var yT=yC,yI=class extends rm{constructor(e){super(),this.text=new rF(e.text),this.icon_type=e.icon.iconType}};rn(yI,"ThumbnailOverlaySidePanel"),yI.type="ThumbnailOverlaySidePanel";var yE=yI,yk=class extends rm{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new rD(e.toggledServiceEndpoint),this.untoggled_endpoint=new rD(e.untoggledServiceEndpoint)}};rn(yk,"ThumbnailOverlayToggleButton"),yk.type="ThumbnailOverlayToggleButton";var yA=yk,yR=class extends rm{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new rF(e.label),this.icon=e.icon}};rn(yR,"TimedMarkerDecoration"),yR.type="TimedMarkerDecoration";var yP=yR,yM=class extends rm{constructor(e){super(),this.title=new rF(e.title)}};rn(yM,"TitleAndButtonListHeader"),yM.type="TitleAndButtonListHeader";var yO=yM,yL=class extends rm{constructor(e){super(),this.text=new rF(e.defaultText),this.toggled_text=new rF(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new rD(e.defaultServiceEndpoint),this.toggled_endpoint=new rD(e.toggledServiceEndpoint)}};rn(yL,"ToggleMenuServiceItem"),yL.type="ToggleMenuServiceItem";var yD=yL,yN=class extends rm{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(e=>new rD(e)),accept:new rD(e.promoConfig.acceptCommand),dismiss:new rD(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new rF(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};rn(yN,"Tooltip"),yN.type="Tooltip";var yB=yN,yU=class extends rm{constructor(e){var t;super(),this.title=new rF(e.title),this.avatar=rN.fromResponse(null!==(t=e.thumbnail)&&void 0!==t?t:e.avatar),this.subtitle=new rF(e.subtitle),this.subscribe_button=rI.parseItem(e.subscribeButton,aJ),this.endpoint=new rD(e.navigationEndpoint)}};rn(yU,"TopicChannelDetails"),yU.type="TopicChannelDetails";var yV=yU,yF=class extends rm{constructor(e){super(),this.tabs=rI.parse(e.tabs),this.secondary_contents=rI.parse(e.secondaryContents)}};rn(yF,"TwoColumnBrowseResults"),yF.type="TwoColumnBrowseResults";var yj=yF,yH=class extends rm{constructor(e){super(),this.primary_contents=rI.parse(e.primaryContents),this.secondary_contents=rI.parse(e.secondaryContents)}};rn(yH,"TwoColumnSearchResults"),yH.type="TwoColumnSearchResults";var yW=yH,y$=class extends rm{constructor(e){var t,i,n,s,r;super(),D.add(this),this.results=rI.parseArray(null===(t=e.results)||void 0===t?void 0:t.results.contents),this.secondary_results=rI.parseArray(null===(i=e.secondaryResults)||void 0===i?void 0:i.secondaryResults.results),this.conversation_bar=rI.parseItem(null==e?void 0:e.conversationBar);let o=null===(n=e.playlist)||void 0===n?void 0:n.playlist;o&&(this.playlist={id:o.playlistId,title:o.title,author:(null===(s=o.shortBylineText)||void 0===s?void 0:s.simpleText)?new rF(o.shortBylineText):new SR(o.longBylineText),contents:rI.parseArray(o.contents),current_index:o.currentIndex,is_infinite:!!o.isInfinite,menu:rI.parseItem(o.menu,r2)});let a=null===(r=e.autoplay)||void 0===r?void 0:r.autoplay;a&&(this.autoplay={sets:a.sets.map(e=>ru(this,D,"m",N).call(this,e))},a.modifiedSets&&(this.autoplay.modified_sets=a.modifiedSets.map(e=>ru(this,D,"m",N).call(this,e))),a.countDownSecs&&(this.autoplay.count_down_secs=a.countDownSecs))}};rn(y$,"TwoColumnWatchNextResults"),D=new WeakSet,N=rn(function(e){let t={autoplay_video:new rD(e.autoplayVideo)};return e.nextButtonVideo&&(t.next_button_video=new rD(e.nextButtonVideo)),t},"_TwoColumnWatchNextResults_parseAutoplaySet"),y$.type="TwoColumnWatchNextResults";var yG=y$,yK=class extends rm{constructor(e){super(),this.header=rI.parseItem(e.header),this.call_to_action=rI.parseItem(e.callToAction),this.sections=rI.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new rF(e.collapsedLabel))}};rn(yK,"UniversalWatchCard"),yK.type="UniversalWatchCard";var yY=yK,yq=class extends rm{constructor(e){super(),this.message_title=new rF(e.dialogMessageTitle),this.message_text=new rF(e.dialogMessageText),this.action_button=rI.parseItem(e.actionButton,rA),this.dismiss_button=rI.parseItem(e.dismissButton,rA),this.is_visible=e.isVisible}};rn(yq,"UpsellDialog"),yq.type="UpsellDialog";var yz=yq,yJ=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new rF(e.collapsedStateButtonText)}get contents(){return this.items}};rn(yJ,"VerticalList"),yJ.type="VerticalList";var yX=yJ,yQ=class extends rm{constructor(e){super(),this.items=rI.parseArray(e.items),this.view_all_text=new rF(e.viewAllText),this.view_all_endpoint=new rD(e.viewAllEndpoint)}get contents(){return this.items}};rn(yQ,"VerticalWatchCardList"),yQ.type="VerticalWatchCardList";var yZ=yQ,y0=class extends rm{constructor(e){super(),this.title=new rF(e.videoTitle),this.channel_name=new rF(e.channelName),this.view_count=new rF(e.viewCountText),this.video_thumbnails=rN.fromResponse(e.videoThumbnail),this.duration=new rF(e.lengthString),this.endpoint=new rD(e.action)}};rn(y0,"VideoInfoCardContent"),y0.type="VideoInfoCardContent";var y1=y0,y2=class extends rm{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new rF(e.subscriberCountText),this.author=new SR(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};rn(y2,"VideoOwner"),y2.type="VideoOwner";var y3=y2,y6=class extends rm{constructor(e){var t,i,n,s;super(),this.title=new rF(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new rF(e.superTitleLink)),this.view_count=new rF(null===(i=null===(t=e.viewCount)||void 0===t?void 0:t.videoViewCountRenderer)||void 0===i?void 0:i.viewCount),this.short_view_count=new rF(null===(s=null===(n=e.viewCount)||void 0===n?void 0:n.videoViewCountRenderer)||void 0===s?void 0:s.shortViewCount),this.badges=rI.parseArray(e.badges,os),this.published=new rF(e.dateText),this.relative_date=new rF(e.relativeDateText),this.menu=rI.parseItem(e.videoActions,r2)}};rn(y6,"VideoPrimaryInfo"),y6.type="VideoPrimaryInfo";var y5=y6,y4=class extends rm{constructor(e){super(),this.owner=rI.parseItem(e.owner,y3),this.description=new rF(e.description),Reflect.has(e,"attributedDescription")&&(this.description=rF.fromAttributed(e.attributedDescription)),this.subscribe_button=rI.parseItem(e.subscribeButton,[aJ,rA]),this.metadata=rI.parseItem(e.metadataRowContainer,fA),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};rn(y4,"VideoSecondaryInfo"),y4.type="VideoSecondaryInfo";var y8=y4,y9=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.subtitle=new rF(e.subtitle),this.duration={text:new rF(e.lengthText).toString(),seconds:SK(e.lengthText.simpleText)},this.style=e.style}};rn(y9,"WatchCardCompactVideo"),y9.type="WatchCardCompactVideo";var y7=y9,_e=class extends rm{constructor(e){var t;super(),this.endpoint=new rD(e.navigationEndpoint),this.call_to_action_button=rI.parseItem(e.callToActionButton),this.hero_image=rI.parseItem(e.heroImage),this.label=(null===(t=e.lengthText)||void 0===t?void 0:t.accessibility.accessibilityData.label)||""}};rn(_e,"WatchCardHeroVideo"),_e.type="WatchCardHeroVideo";var _t=_e,_i=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.title_endpoint=new rD(e.titleNavigationEndpoint),this.subtitle=new rF(e.subtitle),this.author=new SR(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};rn(_i,"WatchCardRichHeader"),_i.type="WatchCardRichHeader";var _n=_i,_s=class extends rm{constructor(e){super(),this.lists=rI.parseArray(e.lists)}};rn(_s,"WatchCardSectionSequence"),_s.type="WatchCardSectionSequence";var _r=_s,_o=class extends yj{constructor(e){super(e)}};rn(_o,"WatchNextTabbedResults"),_o.type="WatchNextTabbedResults";var _a=_o,_l=class extends rm{constructor(e){var t,i;super(),this.title=e.title,this.content=rI.parseItem(e.content,r8),this.endpoint=new rD(e.navigationEndpoint),this.category_assets={asset_key:null===(t=e.categoryAssets)||void 0===t?void 0:t.assetKey,background_color:null===(i=e.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=e.categoryType}};rn(_l,"AnchoredSection"),_l.type="AnchoredSection";var _c=_l,_d=class extends rm{constructor(e){super(),B.set(this,void 0),this.child_display_name=new rF(e.childDisplayName),this.child_account_description=new rF(e.childAccountDescription),this.avatar=rN.fromResponse(e.avatar),this.block_button=rI.parseItem(e.blockButton,[aT]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return ra(this,void 0,void 0,function*(){if(!ru(this,B,"f"))throw new SO("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new SO("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new SO("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(ru(this,B,"f"),{parse:!1})})}setActions(e){rp(this,B,e,"f")}};rn(_d,"KidsBlocklistPickerItem"),B=new WeakMap,_d.type="KidsBlocklistPickerItem";var _h=_d,_u=class extends rm{constructor(e){super(),this.title=new rF(e.title),this.child_rows=rI.parse(e.childRows,!0,[_h]),this.done_button=rI.parseItem(e.doneButton,[rA]),this.successful_toast_action_message=new rF(e.successfulToastActionMessage)}};rn(_u,"KidsBlocklistPicker"),_u.type="KidsBlocklistPicker";var _p=_u,_f=class extends rm{constructor(e){var t,i;super(),this.title=new rF(e.title),this.category_assets={asset_key:null===(t=e.categoryAssets)||void 0===t?void 0:t.assetKey,background_color:null===(i=e.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=e.categoryType,this.endpoint=new rD(e.endpoint)}};rn(_f,"KidsCategoryTab"),_f.type="KidsCategoryTab";var _m=_f,_v=class extends rm{constructor(e){super(),this.category_tabs=rI.parseArray(e.categoryTabs,_m),this.privacy_button=rI.parseItem(e.privacyButtonRenderer,rA)}};rn(_v,"KidsCategoriesHeader"),_v.type="kidsCategoriesHeader";var _g=_v,_y=class extends rm{constructor(e){super(),this.anchors=rI.parseArray(e.anchors,_c)}};rn(_y,"KidsHomeScreen"),_y.type="kidsHomeScreen";var __=_y;rs({},{camelToSnake:()=>_x,createRuntimeClass:()=>_M,generateRuntimeClass:()=>_O,generateTypescriptClass:()=>_L,inferType:()=>_S,introspect:()=>_R,isIgnoredKey:()=>_P,isMiscType:()=>_T,isRenderer:()=>_I,isRendererList:()=>_C,mergeKeyInfo:()=>_F,parse:()=>_V,toParser:()=>_N,toTypeDeclaration:()=>_D});var _b=new Set(["trackingParams","accessibility","accessibilityData"]),_w={};function _x(e){return e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function _S(e,t){let i=!1;if("object"==typeof t&&null!=t){if(i=_I(t))return _w[i]=Reflect.get(t,Reflect.ownKeys(t)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=_C(t)){for(let[e,t]of Object.entries(i))_w[e]=t;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=_T(e,t))return i}let n=typeof t;return"object"===n?{type:"object",keys:Object.entries(t).map(([e,t])=>[e,_S(e,t)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}function _C(e){return!!(Array.isArray(e)&&e.every(e=>_I(e)))&&Object.fromEntries(e.map(e=>{let t=Reflect.ownKeys(e)[0].toString();return[be(t),e[t]]}))}function _T(e,t){if("object"==typeof t&&null!==t){if(e.endsWith("Endpoint")||e.endsWith("Command")||"endpoint"===e)return{type:"misc",endpoint:new rD(t),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(t,"simpleText")||Reflect.has(t,"runs")){let e=new rF(t);return{type:"misc",misc_type:"Text",optional:!1,endpoint:e.endpoint,text:e.toString()}}if(Reflect.has(t,"thumbnails")&&Array.isArray(Reflect.get(t,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function _I(e){if("object"!=typeof e)return!1;let t=Reflect.ownKeys(e);return!!(1===t.length&&t[0].toString().includes("Renderer"))&&be(t[0].toString())}function _E(e){if("object"!=typeof e||null===e)throw new SO("Generator: Cannot introspect non-object",{classdata:e});return Reflect.ownKeys(e).filter(e=>!_P(e)).filter(e=>"string"==typeof e).map(t=>{let i=Reflect.get(e,t),n=_S(t,i);return[t,n]})}function _k(e){var t;let i;let n=e.filter(([,e])=>{var t;return"misc"===e.type&&("NavigationEndpoint"===e.misc_type||"Text"===e.misc_type)&&(null===(t=e.endpoint)||void 0===t?void 0:t.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,e],[,t])=>"misc"!==e.type||"misc"!==t.type||"Text"!==e.misc_type||"Text"!==t.misc_type?0:t.text.length-e.text.length),s=new Set,r=n[0];if(r){s.add(r[0]);let n=e.map(([e])=>e).filter(e=>e.endsWith("Badges")||"badges"===e),o=null!==(t=n.filter(e=>e.startsWith("owner")||e.startsWith("author"))[0])&&void 0!==t?t:n[0],a=e.find(([e])=>e===o),l=!!a&&"renderer_list"===a[1].type&&Reflect.has(a[1].renderers,"MetadataBadge");l&&o&&s.add(o),i={type:"misc",misc_type:"Author",optional:!1,params:[r[0],l?o:void 0]}}return i&&e.push(["author",i]),e.filter(([e])=>!s.has(e))}function _A(e){return _k(_E(e))}function _R(e){let t=_A(e),i=new Map;for(let[,e]of t)if("renderer"===e.type||"renderer_list"===e.type)for(let t of e.renderers){let e=_w[t];e&&i.set(t,e)}return{key_info:t,unimplemented_dependencies:Array.from(i).filter(([e])=>!bi(e))}}function _P(e){return"string"==typeof e&&_b.has(e)}function _M(e,t,i){var n,s;i({error_type:"class_not_found",classname:e,key_info:t});let r=(ro(n=rn(class extends rm{static set key_info(e){rp(this,n,new Map(e),"f",s)}static get key_info(){return[...ru(this,n,"f",s).entries()]}constructor(t){super();let{key_info:n,unimplemented_dependencies:s}=_R(t),{resolved_key_info:o,changed_keys:a}=_F(r.key_info,n);for(let[t,n]of(a.length>0&&(r.key_info=o,i({error_type:"class_changed",classname:e,key_info:r.key_info,changed_keys:a})),s))_O(t,n,i);for(let[e,i]of n){let n=_x(e);"misc"===i.type&&"NavigationEndpoint"===i.misc_type&&(n="endpoint"),Reflect.set(this,n,_V(e,i,t))}}},"_a"),"node"),n.type=e,s={value:new Map},n);return r.key_info=t,Object.defineProperty(r,"name",{value:e,writable:!1}),r}function _O(e,t,i){let{key_info:n,unimplemented_dependencies:s}=_R(t),r=_M(e,n,i);for(let[t,n]of(bn(e,r),s))_O(t,n,i);return r}function _L(e,t){let i=[],n=["super();"];for(let[e,s]of t){let t=_x(e);"misc"===s.type&&"NavigationEndpoint"===s.misc_type&&(t="endpoint"),i.push(`${t}${s.optional?"?":""}: ${_D(s)};`),n.push(`this.${t} = ${_N(e,s)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${i.join("\n  ")}

  constructor(data: RawNode) {
    ${n.join("\n    ")}
  }
}
`}function _D(e,t=0){switch(e.type){case"renderer":return`${e.renderers.map(e=>`YTNodes.${e}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(e=>`YTNodes.${e}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([e,i])=>`${" ".repeat((t+2)*2)}${_x(e)}${i.optional?"?":""}: ${_D(i,t+1)}`).join(",\n")}
${" ".repeat((t+1)*2)}}`;case"misc":if("Thumbnail"===e.misc_type)return"Thumbnail[]";return e.misc_type;case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}function _N(e,t,i=["data"],n=1){let s="undefined";switch(t.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${e}, [ ${t.renderers.map(e=>`YTNodes.${e}`).join(", ")} ])`;break;case"renderer_list":s=`Parser.parse(${i.join(".")}.${e}, true, [ ${t.renderers.map(e=>`YTNodes.${e}`).join(", ")} ])`;break;case"object":{let r=[...i,e];s=`{
${t.keys.map(([e,t])=>`${" ".repeat((n+2)*2)}${_x(e)}: ${_N(e,t,r,n+1)}`).join(",\n")}
${" ".repeat((n+1)*2)}}`}break;case"misc":switch(t.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${e})`;break;case"Author":{let e=`new Author(${i.join(".")}.${t.params[0]}, ${t.params[1]?`${i.join(".")}.${t.params[1]}`:"undefined"})`;if(t.optional)return`Reflect.has(${i.join(".")}, '${t.params[0]}') ? ${e} : undefined`;return e}default:s=`new ${t.misc_type}(${i.join(".")}.${e})`}if("undefined"===s)throw Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":s=`${i.join(".")}.${e}`}return t.optional?`Reflect.has(${i.join(".")}, '${e}') ? ${s} : undefined`:s}function _B(e,t){let i=e;for(let e of t)i=i[e];return i}function _U(e,t){let i=e;for(let e of t)if(!Reflect.has(i,e))return!1;else i=i[e];return!0}function _V(e,t,i,n=["data"]){let s=!t.optional||_U({data:i},[...n,e]);switch(t.type){case"renderer":return s?bo(_B({data:i},[...n,e]),t.renderers.map(e=>bt(e))):void 0;case"renderer_list":return s?bl(_B({data:i},[...n,e]),!0,t.renderers.map(e=>bt(e))):void 0;case"object":{let r={},o=[...n,e];for(let[e,n]of t.keys)r[e]=s?_V(e,n,i,o):void 0;return r}case"misc":switch(t.misc_type){case"NavigationEndpoint":return s?new rD(_B({data:i},[...n,e])):void 0;case"Text":return s?new rF(_B({data:i},[...n,e])):void 0;case"Thumbnail":return s?rN.fromResponse(_B({data:i},[...n,e])):void 0;case"Author":return!t.optional||_U({data:i},[...n,t.params[0]])?new SR(_B({data:i},[...n,t.params[0]]),t.params[1]?_B({data:i},[...n,t.params[1]]):void 0):void 0}throw Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return _B({data:i},[...n,e])}}function _F(e,t){let i=new Map,n=new Set(e.map(([e])=>e)),s=new Set(t.map(([e])=>e)),r=t.filter(([e])=>!n.has(e)),o=e.filter(([e])=>!s.has(e)),a=e.filter(([e])=>s.has(e)),l=new Map(t);for(let[e,t]of a){let n=l.get(e);if(n){if(t.type!==n.type){i.set(e,{type:"unknown",optional:!0});continue}switch(t.type){case"object":{if("object"!==n.type)continue;let{resolved_key_info:s}=_F(t.keys,n.keys),r={type:"object",keys:s,optional:t.optional||n.optional};JSON.stringify(r)!==JSON.stringify(t)&&i.set(e,r)}break;case"renderer":{if("renderer"!==n.type)continue;let s={type:"renderer",renderers:Object.assign(Object.assign({},t.renderers),n.renderers),optional:t.optional||n.optional};JSON.stringify(Object.assign(Object.assign({},s),{renderers:Object.keys(s.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},t),{renderers:Object.keys(t.renderers)}))&&i.set(e,s)}break;case"renderer_list":{if("renderer_list"!==n.type)continue;let s={type:"renderer_list",renderers:Object.assign(Object.assign({},t.renderers),n.renderers),optional:t.optional||n.optional};JSON.stringify(Object.assign(Object.assign({},s),{renderers:Object.keys(s.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},t),{renderers:Object.keys(t.renderers)}))&&i.set(e,s)}break;case"misc":if("misc"!==n.type)continue;switch(t.misc_type!==n.misc_type&&i.set(e,{type:"unknown",optional:!0}),t.misc_type){case"Author":{if("Author"!==n.misc_type)break;let s=t.params[1]||n.params[1],r={type:"misc",misc_type:"Author",optional:t.optional||n.optional,params:[n.params[0],s]};JSON.stringify(r)!==JSON.stringify(t)&&i.set(e,r)}}break;case"primative":{if("primative"!==n.type)continue;let s={type:"primative",typeof:Array.from(new Set([...n.typeof,...t.typeof])),optional:t.optional||n.optional};JSON.stringify(s)!==JSON.stringify(t)&&i.set(e,s)}}}}for(let[e,t]of r)i.set(e,Object.assign(Object.assign({},t),{optional:!0}));for(let[e,t]of o)i.set(e,Object.assign(Object.assign({},t),{optional:!0}));let c=e.filter(([e])=>!i.has(e));return{resolved_key_info:[...new Map([...c,...i]).entries()],changed_keys:[...i.entries()]}}rn(_x,"camelToSnake"),rn(_S,"inferType"),rn(_C,"isRendererList"),rn(_T,"isMiscType"),rn(_I,"isRenderer"),rn(_E,"introspectKeysFirstPass"),rn(_k,"introspectKeysSecondPass"),rn(_A,"introspect2"),rn(_R,"introspect"),rn(_P,"isIgnoredKey"),rn(_M,"createRuntimeClass"),rn(_O,"generateRuntimeClass"),rn(_L,"generateTypescriptClass"),rn(_D,"toTypeDeclaration"),rn(_N,"toParser"),rn(_B,"accessDataFromKeyPath"),rn(_U,"hasDataFromKeyPath"),rn(_V,"parse"),rn(_F,"mergeKeyInfo");var _j=class extends rm{constructor(e){var t,i,n;super(),this.contents=ba(e.contents),Array.isArray(e.continuations)&&(this.continuation=null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)}};rn(_j,"ItemSectionContinuation"),_j.type="itemSectionContinuation";var _H=class extends rm{constructor(e){super(),this.endpoint=new rD(e.endpoint)}};rn(_H,"NavigateAction"),_H.type="navigateAction";var _W=class extends rm{constructor(e){super(),this.miniplayer_command=new rD(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};rn(_W,"ShowMiniplayerCommand"),_W.type="showMiniplayerCommand";var _$=class extends rm{constructor(e){super(),this.target_id=e.targetId,this.contents=bl(e.continuationItems,!0),this.slot=null==e?void 0:e.slot}};rn(_$,"ReloadContinuationItemsCommand"),_$.type="reloadContinuationItemsCommand";var _G=class extends rm{constructor(e){var t,i,n,s,r,o;super(),this.contents=bl(e.contents,!0),this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||(null===(o=null===(r=null===(s=e.continuations)||void 0===s?void 0:s[0])||void 0===r?void 0:r.reloadContinuationData)||void 0===o?void 0:o.continuation)||null}};rn(_G,"SectionListContinuation"),_G.type="sectionListContinuation";var _K=class extends rm{constructor(e){var t;super(),this.contents=bl(e.contents,!0),this.continuation=(null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData.continuation)||null}};rn(_K,"MusicPlaylistShelfContinuation"),_K.type="musicPlaylistShelfContinuation";var _Y=class extends rm{constructor(e){var t,i,n,s;super(),this.contents=ba(e.contents),this.continuation=(null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(s=null===(n=e.continuations)||void 0===n?void 0:n[0].reloadContinuationData)||void 0===s?void 0:s.continuation)||null}};rn(_Y,"MusicShelfContinuation"),_Y.type="musicShelfContinuation";var _q=class extends rm{constructor(e){var t;super(),this.items=bl(e.items,!0),this.continuation=(null===(t=e.continuations)||void 0===t?void 0:t[0].nextContinuationData.continuation)||null}get contents(){return this.items}};rn(_q,"GridContinuation"),_q.type="gridContinuation";var _z=class extends rm{constructor(e){var t,i,n,s,r,o;super(),this.contents=ba(e.contents),this.continuation=(null===(n=null===(i=null===(t=e.continuations)||void 0===t?void 0:t[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||(null===(o=null===(r=null===(s=e.continuations)||void 0===s?void 0:s[0])||void 0===r?void 0:r.nextRadioContinuationData)||void 0===o?void 0:o.continuation)||null}};rn(_z,"PlaylistPanelContinuation"),_z.type="playlistPanelContinuation";var _J=class extends rm{constructor(e){var t,i,n;super(),this.continuation_type=e.type,this.timeout_ms=null===(t=e.continuation)||void 0===t?void 0:t.timeoutMs,this.time_until_last_message_ms=null===(i=e.continuation)||void 0===i?void 0:i.timeUntilLastMessageMsec,this.token=null===(n=e.continuation)||void 0===n?void 0:n.continuation}};rn(_J,"Continuation"),_J.type="continuation";var _X=class extends rm{constructor(e){var t,i,n,s,r,o,a,l;let c,d;super(),this.actions=bl(null===(t=e.actions)||void 0===t?void 0:t.map(e=>(delete e.clickTrackingParams,e)),!0)||ry([]),this.action_panel=bo(e.actionPanel),this.item_list=bo(e.itemList,p8),this.header=bo(e.header,p5),this.participants_list=bo(e.participantsList,fn),this.popout_message=bo(e.popoutMessage,dK),this.emojis=(null===(i=e.emojis)||void 0===i?void 0:i.map(e=>({emoji_id:e.emojiId,shortcuts:e.shortcuts,search_terms:e.searchTerms,image:rN.fromResponse(e.image),is_custom_emoji:e.isCustomEmoji})))||[],(null===(n=e.continuations)||void 0===n?void 0:n[0].timedContinuationData)?(d="timed",c=null===(s=e.continuations)||void 0===s?void 0:s[0].timedContinuationData):(null===(r=e.continuations)||void 0===r?void 0:r[0].invalidationContinuationData)?(d="invalidation",c=null===(o=e.continuations)||void 0===o?void 0:o[0].invalidationContinuationData):(null===(a=e.continuations)||void 0===a?void 0:a[0].liveChatReplayContinuationData)&&(d="replay",c=null===(l=e.continuations)||void 0===l?void 0:l[0].liveChatReplayContinuationData),this.continuation=new _J({continuation:c,type:d}),this.viewer_name=e.viewerName}};rn(_X,"LiveChatContinuation"),_X.type="liveChatContinuation";var _Q=class extends rm{constructor(e){super(),this.request=e.request,this.token=e.token}};rn(_Q,"ContinuationCommand"),_Q.type="ContinuationCommand";var _Z=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),_0=new Map(Object.entries(oM)),_1=new Map,_2=null,_3=rn(e=>{var{classname:t}=e,i=rr(e,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new SO(`Something went wrong at ${t}!
This is a bug, please report it at ${SM.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new SL(`Type mismatch, got ${t} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new SO(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${SM.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new SO(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${SM.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new SO(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${SM.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${SM.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${_L(t,i.key_info)}`));break;case"class_changed":console.warn(`${t} changed!
The following keys where altered: ${i.changed_keys.map(([e])=>_x(e)).join(", ")}
The class has changed to:
${_L(t,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler")}},"ERROR_HANDLER");function _6(e){_3=e}function _5(){_2=null}function _4(){_2=new r_}function _8(e,t){if(!_2)return;let i=_2.get(e);if(!i)return _2.set(e,[t]);i.push(t)}function _9(){if(!_2)throw Error("Parser#getMemo() called before Parser#createMemo()");return _2}function _7(e){return _Z.has(e)}function be(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function bt(e){let t=_0.get(e);if(!t){let t=Error(`Module not found: ${e}`);throw t.code="MODULE_NOT_FOUND",t}return t}function bi(e){return _0.has(e)}function bn(e,t){_0.set(e,t),_1.set(e,t)}function bs(){return Object.fromEntries(_1)}function br(e){var t,i;let n={};_4();let s=bl(e.contents),r=_9();s&&(n.contents=s,n.contents_memo=r),_5(),_4();let o=e.onResponseReceivedActions?bh(e.onResponseReceivedActions):null,a=_9();o&&(n.on_response_received_actions=o,n.on_response_received_actions_memo=a),_5(),_4();let l=e.onResponseReceivedEndpoints?bh(e.onResponseReceivedEndpoints):null,c=_9();l&&(n.on_response_received_endpoints=l,n.on_response_received_endpoints_memo=c),_5(),_4();let d=e.onResponseReceivedCommands?bh(e.onResponseReceivedCommands):null,h=_9();d&&(n.on_response_received_commands=d,n.on_response_received_commands_memo=h),_5(),_4();let u=e.continuationContents?bd(e.continuationContents):null,p=_9();u&&(n.continuation_contents=u,n.continuation_contents_memo=p),_5(),_4();let f=e.actions?bu(e.actions):null,m=_9();f&&(n.actions=f,n.actions_memo=m),_5(),_4();let v=e.liveChatItemContextMenuSupportedRenderers?bo(e.liveChatItemContextMenuSupportedRenderers):null,g=_9();v&&(n.live_chat_item_context_menu_supported_renderers=v,n.live_chat_item_context_menu_supported_renderers_memo=g),_5(),_4();let y=e.header?bl(e.header):null,_=_9();y&&(n.header=y,n.header_memo=_),_5(),_4();let b=e.sidebar?bo(e.sidebar):null,w=_9();b&&(n.sidebar=b,n.sidebar_memo=w),_5(),_4();let x=bl(e.items);x&&(n.items=x,n.items_memo=_9()),_5(),_4();let S=bl(e.entries);S&&(n.entries=S,n.entries_memo=_9()),_5(),bf(r,null===(i=null===(t=e.frameworkUpdates)||void 0===t?void 0:t.entityBatchUpdate)||void 0===i?void 0:i.mutations);let C=e.continuation?bc(e.continuation):null;C&&(n.continuation=C);let T=e.continuationEndpoint?bd(e.continuationEndpoint):null;T&&(n.continuationEndpoint=T);let I=bl(e.metadata);I&&(n.metadata=I);let E=bo(e.microformat);E&&(n.microformat=E);let k=bo(e.overlay);k&&(n.overlay=k);let A=ba(e.alerts,[rY,rq]);A.length&&(n.alerts=A);let R=e.refinements;R&&(n.refinements=R);let P=e.estimatedResults?parseInt(e.estimatedResults):null;P&&(n.estimated_results=P);let M=bl(e.playerOverlays);M&&(n.player_overlays=M);let O=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;O&&(n.playback_tracking=O);let L=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed,audio_only_playablility:bo(e.playabilityStatus.audioOnlyPlayability,rE),error_screen:bo(e.playabilityStatus.errorScreen)}:null;if(L&&(n.playability_status=L),e.streamingData){let t=new Map,i={expires:new Date(Date.now()+1e3*parseInt(e.streamingData.expiresInSeconds)),formats:bp(e.streamingData.formats,t),adaptive_formats:bp(e.streamingData.adaptiveFormats,t),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null};n.streaming_data=i}let D=e.currentVideoEndpoint?new rD(e.currentVideoEndpoint):null;D&&(n.current_video_endpoint=D);let N=e.endpoint?new rD(e.endpoint):null;N&&(n.endpoint=N);let B=bo(e.captions,r$);B&&(n.captions=B);let U=e.videoDetails?new oP(e.videoDetails):null;U&&(n.video_details=U);let V=ba(e.annotations,rW);V.length&&(n.annotations=V);let F=bo(e.storyboards,[rK,rG]);F&&(n.storyboards=F);let j=bo(e.endscreen,rH);j&&(n.endscreen=j);let H=bo(e.cards,rj);H&&(n.cards=H);let W=ba(e.engagementPanels,oE);return W.length&&(n.engagement_panels=W),n}function bo(e,t){if(!e)return null;let i=Object.keys(e);if(!i.length)return null;let n=be(i[0]);if(!_7(n))try{let s=bi(n)?bt(n):_O(n,e[i[0]],_3);if(t){if(Array.isArray(t)){if(!t.some(e=>e.type===s.type))return _3({classdata:e[i[0]],classname:n,error_type:"typecheck",expected:t.map(e=>e.type)}),null}else if(s.type!==t.type)return _3({classdata:e[i[0]],classname:n,error_type:"typecheck",expected:t.type}),null}let r=new s(e[i[0]]);return _8(n,r),r}catch(t){_3({classname:n,classdata:e[i[0]],error:t,error_type:"parse"})}return null}function ba(e,t){if(Array.isArray(e)){let i=[];for(let n of e){let e=bo(n,t);e&&i.push(e)}return ry(i)}if(!e)return ry([]);throw new SL("Expected array but got a single item")}function bl(e,t,i){if(!e)return null;if(Array.isArray(e)){let n=[];for(let t of e){let e=bo(t,i);e&&n.push(e)}let s=ry(n);return t?s:new rg(s)}if(t)throw new SL("Expected array but got a single item");return new rg(bo(e,i))}function bc(e){return e.timedContinuationData?new _J({continuation:e.timedContinuationData,type:"timed"}):null}function bd(e){return e.itemSectionContinuation?new _j(e.itemSectionContinuation):e.sectionListContinuation?new _G(e.sectionListContinuation):e.liveChatContinuation?new _X(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new _K(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new _Y(e.musicShelfContinuation):e.gridContinuation?new _q(e.gridContinuation):e.playlistPanelContinuation?new _z(e.playlistPanelContinuation):e.continuationCommand?new _Q(e.continuationCommand):null}function bh(e){return ry(e.map(e=>e.navigateAction?new _H(e.navigateAction):e.showMiniplayerCommand?new _W(e.showMiniplayerCommand):e.reloadContinuationItemsCommand?new _$(e.reloadContinuationItemsCommand):e.appendContinuationItemsAction?new oz(e.appendContinuationItemsAction):void 0).filter(e=>e))}function bu(e){return Array.isArray(e)?bl(e.map(e=>(delete e.clickTrackingParams,e))):new rg(bo(e))}function bp(e,t){return(null==e?void 0:e.map(e=>new oR(e,t)))||[]}function bf(e,t){let i=e.getType(ok);if(i.length>0&&!t)_3({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let e=[];for(let n of i){let i=t.find(e=>{var t,i;return(null===(i=null===(t=e.payload)||void 0===t?void 0:t.musicFormBooleanChoice)||void 0===i?void 0:i.id)===n.form_item_entity_key}),s=null==i?void 0:i.payload.musicFormBooleanChoice;(null==s?void 0:s.selected)!==void 0&&(null==s?void 0:s.opaqueToken)?n.selected=s.selected:e.push(`'${n.title}'`)}e.length>0&&_3({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:e.length,titles:e})}}rn(_6,"setParserErrorHandler"),rn(_5,"_clearMemo"),rn(_4,"_createMemo"),rn(_8,"_addToMemo"),rn(_9,"_getMemo"),rn(_7,"shouldIgnore"),rn(be,"sanitizeClassName"),rn(bt,"getParserByName"),rn(bi,"hasParser"),rn(bn,"addRuntimeParser"),rn(bs,"getDynamicParsers"),rn(br,"parseResponse"),rn(bo,"parseItem"),rn(ba,"parseArray"),rn(bl,"parse"),rn(bc,"parseC"),rn(bd,"parseLC"),rn(bh,"parseRR"),rn(bu,"parseActions"),rn(bp,"parseFormats"),rn(bf,"applyMutations"),rs({},{AccountInfo:()=>bv,Analytics:()=>by,Channel:()=>bT,ChannelListContinuation:()=>bI,Comments:()=>bA,FilteredChannelList:()=>bE,Guide:()=>bP,HashtagFeed:()=>bD,History:()=>bO,HomeFeed:()=>bL,ItemMenu:()=>bB,Library:()=>bj,LiveChat:()=>bz,NotificationsMenu:()=>bX,Playlist:()=>bV,Search:()=>bZ,Settings:()=>b1,SmoothedQueue:()=>bY,TimeWatched:()=>b3,VideoInfo:()=>wD});var bm=class{constructor(e){if(U.set(this,void 0),rp(this,U,rI.parseResponse(e.data),"f"),!ru(this,U,"f").contents)throw new SO("Page contents not found");let t=ru(this,U,"f").contents.array().as(oY).first();if(!t)throw new SO("Account section list not found");this.contents=t.contents,this.footers=t.footers}get page(){return ru(this,U,"f")}};rn(bm,"AccountInfo"),U=new WeakMap;var bv=bm,bg=class{constructor(e){var t;V.set(this,void 0),rp(this,V,rI.parseResponse(e.data),"f"),this.sections=null===(t=ru(this,V,"f").contents_memo)||void 0===t?void 0:t.getType(ha).map(e=>e.model).flatMap(e=>e||[])}get page(){return ru(this,V,"f")}};rn(bg,"Analytics"),V=new WeakMap;var by=bg,b_=class{constructor(e,t,i=!1){F.add(this),j.set(this,void 0),H.set(this,void 0),W.set(this,void 0),$.set(this,void 0),ru(this,F,"m",G).call(this,t)||i?rp(this,j,t,"f"):rp(this,j,rI.parseResponse(t.data),"f");let n=SY(...[ru(this,j,"f").contents_memo,ru(this,j,"f").continuation_contents_memo,ru(this,j,"f").on_response_received_commands_memo,ru(this,j,"f").on_response_received_endpoints_memo,ru(this,j,"f").on_response_received_actions_memo,ru(this,j,"f").sidebar_memo,ru(this,j,"f").header_memo]);if(!n)throw new SO("No memo found in feed");rp(this,$,n,"f"),rp(this,W,e,"f")}static getVideosFromMemo(e){return e.getType(oa,h3,vX,o_,vT,mE,y7)}static getPlaylistsFromMemo(e){return e.getType(dM,hz)}get videos(){return b_.getVideosFromMemo(ru(this,$,"f"))}get posts(){return ru(this,$,"f").getType(aP,vP,gB)}get channels(){return ru(this,$,"f").getType(a9,hj)}get playlists(){return b_.getPlaylistsFromMemo(ru(this,$,"f"))}get memo(){return ru(this,$,"f")}get page_contents(){var e;let t=null===(e=ru(this,$,"f").getType(gX))||void 0===e?void 0:e.first().content,i=ru(this,$,"f").getType(_$).first(),n=ru(this,$,"f").getType(oz).first();return t||i||n}get shelves(){return ru(this,$,"f").getType(gV,ga,oT)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,t;if(!(null===(e=ru(this,j,"f").contents)||void 0===e?void 0:e.is_node))return;let i=null===(t=ru(this,j,"f").contents)||void 0===t?void 0:t.item();if(i.is(yj,yW))return i.secondary_contents}get actions(){return ru(this,W,"f")}get page(){return ru(this,j,"f")}get has_continuation(){return ru(this,F,"m",K).call(this).length>0}getContinuationData(){return ra(this,void 0,void 0,function*(){if(ru(this,H,"f")){if(0===ru(this,H,"f").length)throw new SO("There are no continuations.");return yield ru(this,H,"f")[0].endpoint.call(ru(this,W,"f"),{parse:!0})}if(rp(this,H,ru(this,F,"m",K).call(this),"f"),ru(this,H,"f"))return this.getContinuationData()})}getContinuation(){return ra(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new SO("Could not get continuation data");return new b_(this.actions,e,!0)})}};rn(b_,"Feed"),j=new WeakMap,H=new WeakMap,W=new WeakMap,$=new WeakMap,F=new WeakSet,G=rn(function(e){return!("data"in e)},"_Feed_isParsed"),K=rn(function(){if(ru(this,j,"f").header_memo){let e=ru(this,j,"f").header_memo.getType(r0);return ru(this,$,"f").getType(r0).filter(t=>!e.includes(t))}return ru(this,$,"f").getType(r0)},"_Feed_getBodyContinuations");var bb=b_,bw=class extends bb{constructor(e,t,i=!1){var n;super(e,t,i),Y.set(this,void 0),q.set(this,void 0),rp(this,q,e,"f"),rp(this,Y,null===(n=this.page.contents_memo)||void 0===n?void 0:n.getType(gX),"f")}get tabs(){var e,t;return null!==(t=null===(e=ru(this,Y,"f"))||void 0===e?void 0:e.map(e=>e.title.toString()))&&void 0!==t?t:[]}getTabByName(e){var t;return ra(this,void 0,void 0,function*(){let i=null===(t=ru(this,Y,"f"))||void 0===t?void 0:t.find(t=>t.title.toLowerCase()===e.toLowerCase());if(!i)throw new SO(`Tab "${e}" not found`);if(i.selected)return this;let n=yield i.endpoint.call(ru(this,q,"f"));return new bw(ru(this,q,"f"),n,!1)})}getTabByURL(e){var t;return ra(this,void 0,void 0,function*(){let i=null===(t=ru(this,Y,"f"))||void 0===t?void 0:t.find(t=>{var i;return(null===(i=t.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===e});if(!i)throw new SO(`Tab "${e}" not found`);if(i.selected)return this;let n=yield i.endpoint.call(ru(this,q,"f"));return new bw(ru(this,q,"f"),n,!1)})}hasTabWithURL(e){var t,i;return null!==(i=null===(t=ru(this,Y,"f"))||void 0===t?void 0:t.some(t=>{var i;return(null===(i=t.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===e}))&&void 0!==i&&i}get title(){var e,t,i;return null===(i=null===(t=null===(e=this.page.contents_memo)||void 0===e?void 0:e.getType(gX))||void 0===t?void 0:t.find(e=>e.selected))||void 0===i?void 0:i.title.toString()}};rn(bw,"TabbedFeed"),Y=new WeakMap,q=new WeakMap;var bx=bw,bS=class extends bb{constructor(e,t,i=!1){super(e,t,i),z.set(this,void 0)}get filter_chips(){var e,t;if(ru(this,z,"f"))return ru(this,z,"f")||[];if((null===(e=this.memo.getType(hA))||void 0===e?void 0:e.length)>1)throw new SO("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if((null===(t=this.memo.getType(hA))||void 0===t?void 0:t.length)===0)throw new SO("There are no feed filter chipbars");return rp(this,z,this.memo.getType(lC),"f"),ru(this,z,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var t;return ra(this,void 0,void 0,function*(){let i;if("string"==typeof e){if(!this.filters.includes(e))throw new SO("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(t=>t.text.toString()===e)}else if("ChipCloudChip"===e.type)i=e;else throw new SO("Invalid filter");if(!i)throw new SO("Filter not found");if(i.is_selected)return this;let n=yield null===(t=i.endpoint)||void 0===t?void 0:t.call(this.actions,{parse:!0});if(!n)throw new SO("Failed to get filtered feed");return new bb(this.actions,n,!0)})}};rn(bS,"FilterableFeed"),z=new WeakMap;var bC=bS,bT=class extends bx{constructor(e,t,i=!1){var n,s,r,o,a,l;super(e,t,i),this.header=null===(s=null===(n=this.page.header)||void 0===n?void 0:n.item())||void 0===s?void 0:s.as(aQ,a6,uR,mX);let c=null===(r=this.page.metadata)||void 0===r?void 0:r.item().as(lo),d=null===(o=this.page.microformat)||void 0===o?void 0:o.as(fD);if(this.page.alerts){let e=this.page.alerts.first();if((null==e?void 0:e.alert_type)==="ERROR")throw new SV(e.text.toString())}if(!c&&!this.page.contents)throw new SO("Invalid channel",this);this.metadata=Object.assign(Object.assign({},c),d||{}),this.subscribe_button=null===(a=this.page.header_memo)||void 0===a?void 0:a.getType(aJ).first(),this.current_tab=null===(l=this.page.contents)||void 0===l?void 0:l.item().as(yj).tabs.array().filterType(gX,hS).get({selected:!0})}applyFilter(e){var t;return ra(this,void 0,void 0,function*(){let i;let n=this.memo.getType(hA).first();if("string"==typeof e){if(!(i=null==n?void 0:n.contents.get({text:e})))throw new SO(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof lC&&(i=e);if(!i)throw new SO("Invalid filter",e);let s=yield null===(t=i.endpoint)||void 0===t?void 0:t.call(this.actions,{parse:!0});if(!s)throw new SO("No page returned",{filter:i});return new bE(this.actions,s,!0)})}applySort(e){var t,i;return ra(this,void 0,void 0,function*(){let n=this.memo.getType(oX).first();if(!n)throw new SO("No sort filter sub menu found");let s=null===(t=null==n?void 0:n.sub_menu_items)||void 0===t?void 0:t.find(t=>t.title===e);if(!s)throw new SO(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let r=yield null===(i=s.endpoint)||void 0===i?void 0:i.call(this.actions,{parse:!0});return new bT(this.actions,r,!0)})}applyContentTypeFilter(e){var t,i,n,s;return ra(this,void 0,void 0,function*(){let r=null===(n=null===(i=null===(t=this.current_tab)||void 0===t?void 0:t.content)||void 0===i?void 0:i.as(r8).sub_menu)||void 0===n?void 0:n.as(lf);if(!r)throw new SO("Sub menu not found");let o=r.content_type_sub_menu_items.find(t=>t.title===e);if(!o)throw new SO(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(o.selected)return this;let a=yield null===(s=o.endpoint)||void 0===s?void 0:s.call(this.actions,{parse:!0});return new bT(this.actions,a,!0)})}get filters(){var e,t;return(null===(t=null===(e=this.memo.getType(hA))||void 0===e?void 0:e[0])||void 0===t?void 0:t.contents.filterType(lC).map(e=>e.text))||[]}get sort_filters(){var e;let t=this.memo.getType(oX).first();return(null===(e=null==t?void 0:t.sub_menu_items)||void 0===e?void 0:e.map(e=>e.title))||[]}get content_type_filters(){var e,t,i;let n=null===(i=null===(t=null===(e=this.current_tab)||void 0===e?void 0:e.content)||void 0===t?void 0:t.as(r8).sub_menu)||void 0===i?void 0:i.as(lf);return(null==n?void 0:n.content_type_sub_menu_items.map(e=>e.title))||[]}getHome(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new bT(this.actions,e.page,!0)})}getVideos(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new bT(this.actions,e.page,!0)})}getShorts(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new bT(this.actions,e.page,!0)})}getLiveStreams(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new bT(this.actions,e.page,!0)})}getReleases(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new bT(this.actions,e.page,!0)})}getPodcasts(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new bT(this.actions,e.page,!0)})}getPlaylists(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new bT(this.actions,e.page,!0)})}getCommunity(){return ra(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new bT(this.actions,e.page,!0)})}getAbout(){var e,t,i;return ra(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(le)[0];if((null===(e=this.header)||void 0===e?void 0:e.is(aQ))&&this.header.tagline){if(this.header.tagline.more_endpoint instanceof rD){let e=yield this.header.tagline.more_endpoint.call(this.actions);return new bx(this.actions,e,!1).memo.getType(le)[0]}let e=null===(i=null===(t=this.page.header_memo)||void 0===t?void 0:t.getType(r0)[0])||void 0===i?void 0:i.endpoint;if(!e)throw new SO("Failed to extract continuation to get channel about");let n=yield e.call(this.actions,{parse:!0});if(!n.on_response_received_endpoints_memo)throw new SO("Unexpected response while fetching channel about",{response:n});return n.on_response_received_endpoints_memo.getType(oU)[0]}throw new SO("About not found")})}search(e){var t,i;return ra(this,void 0,void 0,function*(){let n=null===(t=this.memo.getType(hS))||void 0===t?void 0:t[0];if(!n)throw new SO("Search tab not found",this);let s=yield null===(i=n.endpoint)||void 0===i?void 0:i.call(this.actions,{query:e,parse:!0});return new bT(this.actions,s,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,t;return this.hasTabWithURL("about")||!!((null===(e=this.header)||void 0===e?void 0:e.is(aQ))&&(null===(t=this.header.tagline)||void 0===t?void 0:t.more_endpoint))}get has_search(){var e;return(null===(e=this.memo.getType(hS))||void 0===e?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return ra(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!t)throw new SO("Could not get continuation data");return new bI(this.actions,t,!0)})}};rn(bT,"Channel");var bI=class extends bb{constructor(e,t,i=!1){var n,s;super(e,t,i),this.contents=(null===(n=this.page.on_response_received_actions)||void 0===n?void 0:n.first())||(null===(s=this.page.on_response_received_endpoints)||void 0===s?void 0:s.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return ra(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!t)throw new SO("Could not get continuation data");return new bI(this.actions,t,!0)})}};rn(bI,"ChannelListContinuation");var bE=class extends bC{constructor(e,t,i=!1){super(e,t,i),this.applied_filter=this.memo.getType(lC).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return ra(this,void 0,void 0,function*(){let i=yield t.getFilteredFeed.call(this,e);return new bE(this.actions,i.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return ra(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!(null==t?void 0:t.on_response_received_actions_memo))throw new SO("Unexpected continuation data",t);return t.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(hA)),t.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(lC)),new bE(this.actions,t,!0)})}};rn(bE,"FilteredChannelList");var bk=class{constructor(e,t,i=!1){var n,s,r;J.set(this,void 0),X.set(this,void 0),Q.set(this,void 0),rp(this,J,i?t:rI.parseResponse(t),"f"),rp(this,X,e,"f");let o=ru(this,J,"f").on_response_received_endpoints;if(!o)throw new SO("Comments page did not have any content.");let a=o.at(0),l=o.at(1);this.header=null===(n=null==a?void 0:a.contents)||void 0===n?void 0:n.firstOfType(dy);let c=(null===(s=null==l?void 0:l.contents)||void 0===s?void 0:s.filterType(dx))||[];this.contents=ry(c.map(e=>{var t;return null===(t=e.comment)||void 0===t||t.setActions(ru(this,X,"f")),e.setActions(ru(this,X,"f")),e})),rp(this,Q,null===(r=null==l?void 0:l.contents)||void 0===r?void 0:r.firstOfType(r0),"f")}applySort(e){var t,i,n,s;return ra(this,void 0,void 0,function*(){let r;if(!this.header)throw new SO("Page header is missing. Cannot apply sort option.");if("TOP_COMMENTS"===e?r=null===(i=null===(t=this.header.sort_menu)||void 0===t?void 0:t.sub_menu_items)||void 0===i?void 0:i.at(0):"NEWEST_FIRST"===e&&(r=null===(s=null===(n=this.header.sort_menu)||void 0===n?void 0:n.sub_menu_items)||void 0===s?void 0:s.at(1)),!r)throw new SO("Could not find target button.");if(r.selected)return this;let o=yield r.endpoint.call(ru(this,X,"f"),{parse:!0});return new bk(ru(this,X,"f"),o,!0)})}createComment(e){var t;return ra(this,void 0,void 0,function*(){if(!this.header)throw new SO("Page header is missing. Cannot create comment.");let i=null===(t=this.header.create_renderer)||void 0===t?void 0:t.as(db).submit_button;if(!i)throw new SO("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new SO("Button does not have an endpoint.");return yield i.endpoint.call(ru(this,X,"f"),{commentText:e})})}getContinuation(){return ra(this,void 0,void 0,function*(){if(!ru(this,Q,"f"))throw new SO("Continuation not found");let e=yield ru(this,Q,"f").endpoint.call(ru(this,X,"f"),{parse:!0}),t=Object.assign({},ru(this,J,"f"));if(!t.on_response_received_endpoints||!e.on_response_received_endpoints)throw new SO("Invalid reponse format, missing on_response_received_endpoints.");return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new bk(ru(this,X,"f"),t,!0)})}get has_continuation(){return!!ru(this,Q,"f")}get page(){return ru(this,J,"f")}};rn(bk,"Comments"),J=new WeakMap,X=new WeakMap,Q=new WeakMap;var bA=bk,bR=class{constructor(e){Z.set(this,void 0),rp(this,Z,rI.parseResponse(e),"f"),this.contents=ru(this,Z,"f").items.array().as(un,ur)}get page(){return ru(this,Z,"f")}};rn(bR,"Guide"),Z=new WeakMap;var bP=bR,bM=class extends bb{constructor(e,t,i=!1){super(e,t,i),this.sections=this.memo.getType(uU),this.feed_actions=this.memo.getType(aD).first()}getContinuation(){return ra(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw Error("No continuation data found");return new bM(this.actions,e,!0)})}};rn(bM,"History");var bO=bM,bL=class extends bC{constructor(e,t,i=!1){super(e,t,i),this.header=this.memo.getType(hO).first(),this.contents=this.memo.getType(v5).first()||this.page.on_response_received_actions.first()}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return ra(this,void 0,void 0,function*(){let i=yield t.getFilteredFeed.call(this,e);return new bL(this.actions,i.page,!0)})}getContinuation(){var e;let t=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return ra(this,void 0,void 0,function*(){let i=yield t.getContinuation.call(this);return i.page.header=this.page.header,null===(e=i.page.header_memo)||void 0===e||e.set(this.header.type,[this.header]),new bL(this.actions,i.page,!0)})}};rn(bL,"HomeFeed");var bD=class extends bC{constructor(e,t){if(super(e,t),!this.page.contents_memo)throw new SO("Unexpected response",this.page);let i=this.page.contents_memo.getType(gX).first();if(!i.content)throw new SO("Content tab has no content",i);this.page.header&&(this.header=this.page.header.item().as(ua,mX)),this.contents=i.content.as(v5)}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return ra(this,void 0,void 0,function*(){let i=yield t.getFilteredFeed.call(this,e);return new bD(this.actions,i.page)})}};rn(bD,"HashtagFeed");var bN=class{constructor(e,t){ee.set(this,void 0),et.set(this,void 0),ei.set(this,void 0),rp(this,ee,e,"f"),rp(this,et,t,"f");let i=null==e?void 0:e.live_chat_item_context_menu_supported_renderers;if(!i||!i.is(r2))throw new SO('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');rp(this,ei,i.as(r2).items,"f")}selectItem(e){return ra(this,void 0,void 0,function*(){let t;if(e instanceof rA){if(!e.endpoint)throw new SO("Item does not have an endpoint.");t=e.endpoint}else{let i=ru(this,ei,"f").find(t=>!!t.is(fa)&&t.as(fa).icon_type===e);if(!i||!i.is(fa))throw new SO(`Button "${e}" not found.`);t=i.endpoint}if(!t)throw new SO("Target button does not have an endpoint.");return yield t.call(ru(this,et,"f"),{parse:!0})})}items(){return ru(this,ei,"f")}page(){return ru(this,ee,"f")}};rn(bN,"ItemMenu"),ee=new WeakMap,et=new WeakMap,ei=new WeakMap;var bB=bN,bU=class extends bb{constructor(e,t,i=!1){var n,s,r,o,a;super(e,t,i),en.add(this);let l=this.memo.getType(vp).first(),c=this.memo.getType(vw).first(),d=this.memo.getType(vS).first(),h=null===(n=this.page.alerts)||void 0===n?void 0:n.firstOfType(rY);if(h&&"ERROR"===h.alert_type)throw new SO(h.text.toString(),h);if(!c&&!d&&0===Object.keys(this.page).length)throw new SO("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},null===(s=this.page.metadata)||void 0===s?void 0:s.item().as(vg)),{subtitle:l?l.subtitle:null,author:null!==(o=null===(r=null==d?void 0:d.owner)||void 0===r?void 0:r.as(y3).author)&&void 0!==o?o:null==l?void 0:l.author,thumbnails:null===(a=null==c?void 0:c.thumbnail_renderer)||void 0===a?void 0:a.as(dR,dk).thumbnail,total_items:ru(this,en,"m",es).call(this,0,c),views:ru(this,en,"m",es).call(this,1,c),last_updated:ru(this,en,"m",es).call(this,2,c),can_share:null==l?void 0:l.can_share,can_delete:null==l?void 0:l.can_delete,is_editable:null==l?void 0:l.is_editable,privacy:null==l?void 0:l.privacy}),this.menu=null==c?void 0:c.menu,this.endpoint=null==c?void 0:c.endpoint,this.messages=this.memo.getType(dK)}get items(){return this.videos}getContinuation(){return ra(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new SO("Could not get continuation data");return new bU(this.actions,e,!0)})}};rn(bU,"Playlist"),en=new WeakSet,es=rn(function(e,t){var i;return t&&t.stats&&(null===(i=t.stats[e])||void 0===i?void 0:i.toString())||"N/A"},"_Playlist_getStat");var bV=bU,bF=class extends bb{constructor(e,t){if(super(e,t),er.add(this),!this.page.contents_memo)throw new SO("Page contents not found");this.header=this.memo.getType(mX).first();let i=this.page.contents_memo.getType(gV);this.sections=i.map(e=>{var t;return{type:e.icon_type,title:e.title,contents:(null===(t=e.content)||void 0===t?void 0:t.key("items").array())||[],getAll:()=>ru(this,er,"m",eo).call(this,e)}})}get history(){return this.sections.find(e=>"WATCH_HISTORY"===e.type)}get watch_later(){return this.sections.find(e=>"WATCH_LATER"===e.type)}get liked_videos(){return this.sections.find(e=>"LIKE"===e.type)}get playlists_section(){return this.sections.find(e=>"PLAYLISTS"===e.type)}get clips(){return this.sections.find(e=>"CONTENT_CUT"===e.type)}};rn(bF,"Library"),er=new WeakSet,eo=rn(function(e){var t;return ra(this,void 0,void 0,function*(){if(!(null===(t=e.menu)||void 0===t?void 0:t.as(r2).hasKey("top_level_buttons")))throw new SO(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(r2).top_level_buttons.firstOfType(rA);if(!i)throw new SO("Did not find target button.");let n=yield i.as(rA).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new bV(this.actions,n,!0);case"WATCH_HISTORY":return new bO(this.actions,n,!0);case"CONTENT_CUT":return new bb(this.actions,n,!0);default:throw new SO("Target shelf not implemented.")}})},"_Library_getAll");var bj=bF,bH=class extends EventTarget{constructor(){super(),ea.set(this,new Map)}emit(e,...t){let i=new SM.shim.CustomEvent(e,{detail:t});this.dispatchEvent(i)}on(e,t){let i=rn(e=>{e instanceof SM.shim.CustomEvent?t(...e.detail):t(e)},"wrapper");ru(this,ea,"f").set(t,i),this.addEventListener(e,i)}once(e,t){let i=rn(i=>{i instanceof SM.shim.CustomEvent?t(...i.detail):t(i),this.off(e,t)},"wrapper");ru(this,ea,"f").set(t,i),this.addEventListener(e,i)}off(e,t){let i=ru(this,ea,"f").get(t);i&&(this.removeEventListener(e,i),ru(this,ea,"f").delete(t))}};rn(bH,"EventEmitterLike"),ea=new WeakMap;var bW=bH;function b$(e){let t=[];for(let i of e)if(Array.isArray(i))for(let e of i)t.push(e);else t.push(i);return t}rn(b$,"flattenQueue");var bG=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};rn(bG,"DelayQueue");var bK=class{constructor(){el.set(this,void 0),ec.set(this,void 0),ed.set(this,void 0),eh.set(this,void 0),eu.set(this,void 0),ep.set(this,void 0),rp(this,el,null,"f"),rp(this,ec,null,"f"),rp(this,ed,null,"f"),rp(this,eh,[],"f"),rp(this,eu,null,"f"),rp(this,ep,new bG,"f")}enqueueActionGroup(e){if(null!==ru(this,el,"f")){let e=Date.now()-ru(this,el,"f");ru(this,ep,"f").back.push(e),5<ru(this,ep,"f").front.length+ru(this,ep,"f").back.length&&(ru(this,ep,"f").front.length||(ru(this,ep,"f").front=ru(this,ep,"f").back,ru(this,ep,"f").front.reverse(),ru(this,ep,"f").back=[]),ru(this,ep,"f").front.pop()),rp(this,ec,Math.max(...ru(this,ep,"f").getValues()),"f")}rp(this,el,Date.now(),"f"),ru(this,eh,"f").push(e),null===ru(this,eu,"f")&&rp(this,eu,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(rp(this,eu,null,"f"),ru(this,eh,"f").length){let e=1e4;null!==ru(this,ec,"f")&&null!==ru(this,el,"f")&&(e=ru(this,ec,"f")-Date.now()+ru(this,el,"f")),e=ru(this,eh,"f").length<e/80?1:Math.ceil(ru(this,eh,"f").length/(e/80));let t=b$(ru(this,eh,"f").splice(0,e));ru(this,ed,"f")&&ru(this,ed,"f").call(this,t),null!==ru(this,eh,"f")&&(e=1==e?Math.max(80,e=Math.min(1e3,e=ru(this,ec,"f")/ru(this,eh,"f").length*(Math.random()+.5))):80,rp(this,eu,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){null!==ru(this,eu,"f")&&(clearTimeout(ru(this,eu,"f")),rp(this,eu,null,"f")),rp(this,eh,[],"f")}set callback(e){rp(this,ed,e,"f")}get callback(){return ru(this,ed,"f")}get action_queue(){return ru(this,eh,"f")}get estimated_update_interval(){return ru(this,ec,"f")}get last_update_time(){return ru(this,el,"f")}get next_update_id(){return ru(this,eu,"f")}get poll_response_delay_queue(){return ru(this,ep,"f")}};rn(bK,"SmoothedQueue"),el=new WeakMap,ec=new WeakMap,ed=new WeakMap,eh=new WeakMap,eu=new WeakMap,ep=new WeakMap;var bY=bK,bq=class extends bW{constructor(e){var t,i;super(),ef.add(this),em.set(this,void 0),ev.set(this,void 0),eg.set(this,void 0),ey.set(this,void 0),e_.set(this,void 0),eb.set(this,0),this.running=!1,this.is_replay=!1,rp(this,ev,e.basic_info.id,"f"),rp(this,eg,e.basic_info.channel_id,"f"),rp(this,em,e.actions,"f"),rp(this,ey,null===(t=e.livechat)||void 0===t?void 0:t.continuation,"f"),this.is_replay=(null===(i=e.livechat)||void 0===i?void 0:i.is_replay)||!1,this.smoothed_queue=new bY,this.smoothed_queue.callback=e=>ra(this,void 0,void 0,function*(){e.length?e.length<10?yield ru(this,ef,"m",ex).call(this,e):this.is_replay?(ru(this,ef,"m",ex).call(this,e),yield ru(this,ef,"m",eC).call(this,2e3)):ru(this,ef,"m",ex).call(this,e):yield ru(this,ef,"m",eC).call(this,2e3),this.running&&ru(this,ef,"m",ew).call(this)})}on(e,t){super.on(e,t)}once(e,t){super.once(e,t)}start(){this.running||(this.running=!0,ru(this,ef,"m",ew).call(this),ru(this,ef,"m",eS).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return ra(this,void 0,void 0,function*(){let t=yield ru(this,em,"f").execute("/live_chat/send_message",{params:c3(ru(this,eg,"f"),ru(this,ev,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:SM.shim.uuidv4(),client:"ANDROID",parse:!0});if(!t.actions)throw new SO("Unexpected response from send_message",t);return t.actions.array().as(uJ)})}applyFilter(e){var t,i,n,s,r,o,a;if(!this.initial_info)throw new SO("Cannot apply filter before initial info is retrieved.");let l=null===(n=null===(i=null===(t=this.initial_info)||void 0===t?void 0:t.header)||void 0===i?void 0:i.view_selector)||void 0===n?void 0:n.sub_menu_items;if("TOP_CHAT"===e){if(null===(s=null==l?void 0:l.at(0))||void 0===s?void 0:s.selected)return;rp(this,ey,null===(r=null==l?void 0:l.at(0))||void 0===r?void 0:r.continuation,"f")}else{if(null===(o=null==l?void 0:l.at(1))||void 0===o?void 0:o.selected)return;rp(this,ey,null===(a=null==l?void 0:l.at(1))||void 0===a?void 0:a.continuation,"f")}}getItemMenu(e){return ra(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(rD))throw new SO("This item does not have a menu.",e);let t=yield e.key("menu_endpoint").instanceof(rD).call(ru(this,em,"f"),{parse:!0});if(!t)throw new SO("Could not retrieve item menu.",e);return new bB(t,ru(this,em,"f"))})}selectButton(e){return ra(this,void 0,void 0,function*(){return yield e.endpoint.call(ru(this,em,"f"),{parse:!0})})}};rn(bq,"LiveChat"),em=new WeakMap,ev=new WeakMap,eg=new WeakMap,ey=new WeakMap,e_=new WeakMap,eb=new WeakMap,ef=new WeakSet,ew=rn(function e(){ra(this,void 0,void 0,function*(){var t,i;try{let t=yield ru(this,em,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:ru(this,ey,"f"),parse:!0}),i=t.continuation_contents;if(i||(this.emit("error",new SO("Unexpected live chat incremental continuation response",t)),this.emit("end"),this.stop()),!(i instanceof _X)){this.stop(),this.emit("end");return}rp(this,ey,i.continuation.token,"f"),i.header?(this.initial_info=i,this.emit("start",i),this.running&&ru(this,ef,"m",e).call(this)):this.smoothed_queue.enqueueActionGroup(i.actions),rp(this,eb,0,"f")}catch(n){this.emit("error",n),(rp(this,eb,(i=ru(this,eb,"f"),t=i++,i),"f"),t<10)?(yield ru(this,ef,"m",eC).call(this,2e3),ru(this,ef,"m",e).call(this)):(this.emit("error",new SO("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),ex=rn(function(e){return ra(this,void 0,void 0,function*(){let t=e.length<125?1:Math.ceil(e.length/125),i=t=1==t?Math.max(80,t=Math.min(1e3,t=1e4/e.length*(Math.random()+.5))):80;for(let t of e)yield ru(this,ef,"m",eC).call(this,i),this.emit("chat-update",t)})},"_LiveChat_emitSmoothedActions"),eS=rn(function e(){ra(this,void 0,void 0,function*(){var t,i,n,s,r,o,a,l,c,d,h;try{let u={videoId:ru(this,ev,"f")};ru(this,e_,"f")&&(u.continuation=ru(this,e_,"f"));let p=yield ru(this,em,"f").execute("/updated_metadata",u),f=rI.parseResponse(p.data);rp(this,e_,null===(t=f.continuation)||void 0===t?void 0:t.token,"f"),this.metadata={title:(null===(i=f.actions)||void 0===i?void 0:i.array().firstOfType(pz))||(null===(n=this.metadata)||void 0===n?void 0:n.title),description:(null===(s=f.actions)||void 0===s?void 0:s.array().firstOfType(pG))||(null===(r=this.metadata)||void 0===r?void 0:r.description),views:(null===(o=f.actions)||void 0===o?void 0:o.array().firstOfType(pZ))||(null===(a=this.metadata)||void 0===a?void 0:a.views),likes:(null===(l=f.actions)||void 0===l?void 0:l.array().firstOfType(pX))||(null===(c=this.metadata)||void 0===c?void 0:c.likes),date:(null===(d=f.actions)||void 0===d?void 0:d.array().firstOfType(pW))||(null===(h=this.metadata)||void 0===h?void 0:h.date)},this.emit("metadata-update",this.metadata),yield ru(this,ef,"m",eC).call(this,5e3),this.running&&ru(this,ef,"m",e).call(this)}catch(t){yield ru(this,ef,"m",eC).call(this,2e3),this.running&&ru(this,ef,"m",e).call(this)}})},"_LiveChat_pollMetadata"),eC=rn(function(e){return ra(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(()=>t(),e))})},"_LiveChat_wait");var bz=bq,bJ=class{constructor(e,t){eT.set(this,void 0),eI.set(this,void 0),rp(this,eI,e,"f"),rp(this,eT,rI.parseResponse(t.data),"f"),this.header=ru(this,eT,"f").actions_memo.getType(fw).first(),this.contents=ru(this,eT,"f").actions_memo.getType(mY)}getContinuation(){return ra(this,void 0,void 0,function*(){let e=ru(this,eT,"f").actions_memo.getType(r0).first();if(!e)throw new SO("Continuation not found");let t=yield e.endpoint.call(ru(this,eI,"f"),{parse:!1});return new bJ(ru(this,eI,"f"),t)})}get page(){return ru(this,eT,"f")}};rn(bJ,"NotificationsMenu"),eT=new WeakMap,eI=new WeakMap;var bX=bJ,bQ=class extends bb{constructor(e,t,i=!1){var n,s,r,o,a,l;super(e,t,i);let c=(null===(n=this.page.contents_memo)||void 0===n?void 0:n.getType(r8).first().contents)||(null===(s=this.page.on_response_received_commands)||void 0===s?void 0:s.first().contents);if(!c)throw new SO("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(gg)),this.results=null===(r=c.find(e=>e.is(uU)&&e.contents&&e.contents.length>0))||void 0===r?void 0:r.as(uU).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=null===(o=this.page.contents_memo)||void 0===o?void 0:o.getType(g_).first(),this.watch_card=null===(a=this.page.contents_memo)||void 0===a?void 0:a.getType(yY).first(),this.refinement_cards=null===(l=this.results)||void 0===l?void 0:l.firstOfType(ou)}selectRefinementCard(e){var t,i;return ra(this,void 0,void 0,function*(){let n;if("string"==typeof e){if(!this.refinement_cards)throw new SO("No refinement cards found.");if(!(n=null===(i=null===(t=this.refinement_cards)||void 0===t?void 0:t.cards.get({query:e}))||void 0===i?void 0:i.as(r7)))throw new SO(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if("SearchRefinementCard"===e.type)n=e;else throw new SO("Invalid refinement card!");let s=yield n.endpoint.call(this.actions,{parse:!0});return new bQ(this.actions,s,!0)})}get refinement_card_queries(){var e;return(null===(e=this.refinement_cards)||void 0===e?void 0:e.cards.as(r7).map(e=>e.query))||[]}getContinuation(){return ra(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new SO("Could not get continuation data");return new bQ(this.actions,e,!0)})}};rn(bQ,"Search");var bZ=bQ,b0=class{constructor(e,t){var i,n,s,r;if(eE.set(this,void 0),ek.set(this,void 0),rp(this,ek,e,"f"),rp(this,eE,rI.parseResponse(t.data),"f"),this.sidebar=null===(i=ru(this,eE,"f").sidebar)||void 0===i?void 0:i.as(gD),!ru(this,eE,"f").contents)throw new SO("Page contents not found");let o=ru(this,eE,"f").contents.item().as(yj).tabs.array().as(gX).get({selected:!0});if(!o)throw new SO("Target tab not found");let a=null===(n=o.content)||void 0===n?void 0:n.as(r8).contents.as(uU);this.introduction=null===(r=null===(s=null==a?void 0:a.shift())||void 0===s?void 0:s.contents)||void 0===r?void 0:r.firstOfType(mZ),this.sections=null==a?void 0:a.map(e=>{var t;return{title:(null===(t=e.header)||void 0===t?void 0:t.title.toString())||null,contents:e.contents}})}selectSidebarItem(e){return ra(this,void 0,void 0,function*(){let t;if(!this.sidebar)throw new SO("Sidebar not available");if("string"==typeof e){if(!(t=this.sidebar.items.get({title:e})))throw new SO(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(null==e?void 0:e.is(dI))t=e;else throw new SO("Invalid item",{target_item:e});let i=yield t.endpoint.call(ru(this,ek,"f"),{parse:!1});return new b0(ru(this,ek,"f"),i)})}getSettingOption(e){var t;if(!this.sections)throw new SO("Sections not available");for(let i of this.sections)if(i.contents)for(let n of i.contents){let i=n.as(gO).options;if(i){for(let n of i)if(n.is(gP)&&(null===(t=n.title)||void 0===t?void 0:t.toString())===e)return n}}throw new SO(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new SO("Sections not available");let e=[];for(let t of this.sections)if(t.contents)for(let i of t.contents)i.as(gO).options&&(e=e.concat(i.as(gO).options));return e.map(e=>{var t;return null===(t=e.title)||void 0===t?void 0:t.toString()}).filter(e=>e)}get sidebar_items(){if(!this.sidebar)throw new SO("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return ru(this,eE,"f")}};rn(b0,"Settings"),eE=new WeakMap,ek=new WeakMap;var b1=b0,b2=class{constructor(e){var t;if(eA.set(this,void 0),rp(this,eA,rI.parseResponse(e.data),"f"),!ru(this,eA,"f").contents)throw new SO("Page contents not found");let i=ru(this,eA,"f").contents.item().as(gZ).tabs.get({selected:!0});if(!i)throw new SO("Could not find target tab.");this.contents=null===(t=i.content)||void 0===t?void 0:t.as(r8).contents.as(uU)}get page(){return ru(this,eA,"f")}};rn(b2,"TimeWatched"),eA=new WeakMap;var b3=b2,b6={};rs(b6,{Feed:()=>bb,FilterableFeed:()=>bC,MediaInfo:()=>wO,TabbedFeed:()=>bx}),rs({},{chooseFormat:()=>wR,download:()=>wA,toDash:()=>wk});var b5={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function b4(e){return e.replace(/([&"<>'])/g,(e,t)=>b5[t])}function b8(e){return"mpd"===e?"MPD":"base-url"===e?"BaseURL":e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}function b9(e,t,...i){let n=i.flat().map(e=>"string"==typeof e?b7(e):e);return"function"==typeof e?e(Object.assign(Object.assign({},t),{children:n})):{type:b8(e),props:Object.assign(Object.assign({},t),{children:n})}}function b7(e){return{type:"TEXT_ELEMENT",props:{nodeValue:e}}}function we(e){return ra(this,void 0,void 0,function*(){if("TEXT_ELEMENT"===e.type)return b4("string"==typeof e.props.nodeValue?e.props.nodeValue:"");let t=`<${e.type}`;if(e.props){let i=Object.keys(e.props).filter(t=>!["children","nodeValue"].includes(t)&&void 0!==e.props[t]).map(t=>`${t}="${b4(`${e.props[t]}`)}"`);i.length>0&&(t+=` ${i.join(" ")}`)}if(e.props.children){let i=yield Promise.all((yield Promise.all(e.props.children.flat())).flat().filter(e=>!!e).map(e=>we(e)));if(i.length>0)return t+`>${i.join("")}</${e.type}>`}return`${t}/>`})}function wt(e){return ra(this,void 0,void 0,function*(){let t=yield we((yield e));return`<?xml version="1.0" encoding="utf-8"?>${t}`})}function wi(e){return e.children}rn(b4,"escapeXMLString"),rn(b8,"normalizeTag"),rn(b9,"createElement"),rn(b7,"createTextElement"),rn(we,"renderElementToString"),rn(wt,"renderToString"),rn(wi,"Fragment"),rn(class{constructor(e,t){eR.set(this,void 0),rp(this,eR,new SM.shim.Cache(e,t),"f")}get cache_dir(){return ru(this,eR,"f").cache_dir}get(e){return ru(this,eR,"f").get(e)}set(e,t){return ru(this,eR,"f").set(e,t)}remove(e){return ru(this,eR,"f").remove(e)}},"UniversalCache"),eR=new WeakMap;var wn=class{constructor(e,t,i){eP.add(this),eM.set(this,void 0),eO.set(this,void 0),eL.set(this,void 0),rp(this,eM,e,"f"),rp(this,eO,t,"f"),rp(this,eL,i||SM.shim.fetch,"f")}get fetch_function(){return ru(this,eL,"f")}fetch(e,t){return ra(this,void 0,void 0,function*(){let i=rw.API.PRODUCTION_1+ru(this,eM,"f").api_version,n=(null==t?void 0:t.baseURL)||i,s="string"==typeof e?new URL(n.endsWith("/")||e.startsWith("/")?n+e:`${n}/${e}`):e instanceof URL?e:new URL(e.url,n),r=(null==t?void 0:t.headers)||(e instanceof SM.shim.Request?e.headers:new SM.shim.Headers)||new SM.shim.Headers,o=(null==t?void 0:t.body)||(e instanceof SM.shim.Request?e.body:void 0),a=new SM.shim.Headers(r);a.set("Accept","*/*"),a.set("Accept-Language","*"),a.set("X-Goog-Visitor-Id",ru(this,eM,"f").context.client.visitorData||""),a.set("X-Origin",s.origin),a.set("X-Youtube-Client-Version",ru(this,eM,"f").context.client.clientVersion||""),SM.shim.server&&(a.set("User-Agent",SW("desktop")),a.set("origin",s.origin)),s.searchParams.set("key",ru(this,eM,"f").key),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");let l=a.get("Content-Type"),c=o,d=!1,h=n===i||n===rw.YT_UPLOAD;if("application/json"===l&&h&&"string"==typeof o){let e=Object.assign(Object.assign({},JSON.parse(o)),{context:JSON.parse(JSON.stringify(ru(this,eM,"f").context))});ru(this,eP,"m",eD).call(this,e.context,e.client),a.set("x-youtube-client-version",e.context.client.clientVersion),delete e.client,SM.shim.server&&("ANDROID"===e.context.client.clientName||"ANDROID_MUSIC"===e.context.client.clientName?a.set("User-Agent",rS.ANDROID.USER_AGENT):"iOS"===e.context.client.clientName&&a.set("User-Agent",rS.iOS.USER_AGENT)),d="WEB_KIDS"===e.context.client.clientName,c=JSON.stringify(e)}if(ru(this,eM,"f").logged_in&&h&&!d){let e=ru(this,eM,"f").oauth;if(e.validateCredentials()&&(yield e.refreshIfRequired(),a.set("authorization",`Bearer ${e.credentials.access_token}`),s.searchParams.delete("key")),ru(this,eO,"f")){let e=Sj(ru(this,eO,"f"),"PAPISID=",";");e&&(a.set("authorization",(yield S$(e))),a.set("x-goog-authuser",ru(this,eM,"f").account_index.toString())),a.set("cookie",ru(this,eO,"f"))}}let u=new SM.shim.Request(s,e instanceof SM.shim.Request?e:t),p=yield ru(this,eL,"f").call(this,u,{body:c,headers:a,credentials:"include",redirect:e instanceof SM.shim.Request?e.redirect:(null==t?void 0:t.redirect)||"follow"});if(p.ok)return p;throw new SO(`Request to ${p.url} failed with status ${p.status}`,(yield p.text()))})}};function ws(e){var t,i,n;let s=new Map,r=e.some(e=>!!e.audio_track);for(let r of e){if((!r.index_range||!r.init_range)&&!r.is_type_otf)continue;let e=r.mime_type.split(";")[0],o=null===(t=Sj(r.mime_type,'codecs="','"'))||void 0===t?void 0:t.split(".")[0],a=r.color_info?Object.values(r.color_info).join("-"):"",l=(null===(i=r.audio_track)||void 0===i?void 0:i.id)||"",c=`${e}-${o}-${a}-${l}`;s.has(c)||s.set(c,[]),null===(n=s.get(c))||void 0===n||n.push(r)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:r}}function wr(e,t){if(e.length>1&&1===new Set(e.map(e=>Sj(e.mime_type,'codecs="','"'))).size)return t.push("codecs"),Sj(e[0].mime_type,'codecs="','"')}function wo(e,t,i){if(e.length>1&&1===new Set(e.map(e=>e.fps)).size)return i.push(t),Number(e[0][t])}function wa(e,t){if(e.length>1&&1===new Set(e.map(e=>e.audio_channels||2)).size)return t.push("AudioChannelConfiguration"),e[0].audio_channels}function wl(e,t){var i;return ra(this,void 0,void 0,function*(){let n=yield t.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:rb.STREAM_HEADERS,redirect:"follow"}),s=n.url.replace("&rn=0","").replace("&sq=0",""),r=null===(i=Sj((yield n.text()),"Segment-Durations-Ms:","\r\n"))||void 0===i?void 0:i.split(",");if(!r)throw new SO("Failed to extract the segment durations from this OTF stream",{url:e});let o=[];for(let e of r){let t;let i=e.trim();if(0===i.length)continue;let n=Sj(i,"(r=",")");n&&(t=parseInt(n)),o.push({duration:parseInt(i),repeat_count:t})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:o}})}function wc(e,t,i,n,s){let r=new URL(e.decipher(n));r.searchParams.set("cpn",s||"");let o=t(r).toString();if(e.is_type_otf){if(!i)throw new SO("Unable to get segment durations for this OTF stream without an Actions instance",{format:e});return{is_oft:!0,getSegmentTemplate:()=>wl(o,i)}}if(!e.index_range||!e.init_range)throw new SO("Index and init ranges not available",{format:e});return{is_oft:!1,base_url:o,index_range:e.index_range,init_range:e.init_range}}function wd(e,t,i,n,s,r){return new URL(e.decipher(s)).searchParams.set("cpn",r||""),{uid:e.audio_track?`${e.itag}-${e.audio_track.id}`:e.itag.toString(),bitrate:e.bitrate,codecs:t.includes("codecs")?void 0:Sj(e.mime_type,'codecs="','"'),audio_sample_rate:t.includes("audio_sample_rate")?void 0:e.audio_sample_rate,channels:t.includes("AudioChannelConfiguration")?void 0:e.audio_channels||2,segment_info:wc(e,i,n,s,r)}}function wh(e){let{audio_track:t}=e;if(t)return t.audio_is_default?"main":e.is_dubbed?"dub":e.is_descriptive?"description":"alternate"}function wu(e,t,i,n,s){var r;let o=e[0],{audio_track:a}=o,l=[];return{mime_type:o.mime_type.split(";")[0],language:null!==(r=o.language)&&void 0!==r?r:void 0,codecs:wr(e,l),audio_sample_rate:wo(e,"audio_sample_rate",l),track_name:null==a?void 0:a.display_name,track_role:wh(o),channels:wa(e,l),representations:e.map(e=>wd(e,l,t,i,n,s))}}rn(wn,"HTTPClient"),eM=new WeakMap,eO=new WeakMap,eL=new WeakMap,eP=new WeakSet,eD=rn(function(e,t){switch(("ANDROID"===t||"YTMUSIC_ANDROID"===t||"YTMUSIC_ANDROID"===t||"YTSTUDIO_ANDROID"===t)&&(e.client.androidSdkVersion=rS.ANDROID.SDK_VERSION,e.client.userAgent=rS.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),t){case"iOS":e.client.deviceModel=rS.iOS.DEVICE_MODEL,e.client.clientVersion=rS.iOS.VERSION,e.client.clientName=rS.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=rS.YTMUSIC.VERSION,e.client.clientName=rS.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=rS.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=rS.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=rS.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=rS.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=rS.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=rS.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=rS.TV_EMBEDDED.NAME,e.client.clientVersion=rS.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:rw.YT_BASE};break;case"YTKIDS":e.client.clientVersion=rS.WEB_KIDS.VERSION,e.client.clientName=rS.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}}}},"_HTTPClient_adjustContext"),rn(ws,"getFormatGroupings"),rn(wr,"hoistCodecsIfPossible"),rn(wo,"hoistNumberAttributeIfPossible"),rn(wa,"hoistAudioChannelsIfPossible"),rn(wl,"getOTFSegmentTemplate"),rn(wc,"getSegmentInfo"),rn(wd,"getAudioRepresentation"),rn(wh,"getTrackRole"),rn(wu,"getAudioSet");var wp={BT709:"1",BT2020:"9"},wf={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},wm={BT709:"1",BT2020_NCL:"14"};function wv(e){let t=e.color_info,i=(null==t?void 0:t.primaries)?wp[t.primaries]:void 0,n=(null==t?void 0:t.transfer_characteristics)?wf[t.transfer_characteristics]:void 0,s=(null==t?void 0:t.matrix_coefficients)?wm[t.matrix_coefficients]:void 0;if((null==t?void 0:t.matrix_coefficients)&&!s){let i=new URL(e.url),n=JSON.parse(JSON.stringify(e));n.url="REDACTED",n.signature_cipher="REDACTED",n.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${t.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${SM.shim.info.bugs_url} so we can add support for it.
Innertube client: ${i.searchParams.get("c")}
format:`,n)}return{primaries:i,transfer_characteristics:n,matrix_coefficients:s}}function wg(e,t,i,n,s,r){return{uid:e.itag.toString(),bitrate:e.bitrate,width:e.width,height:e.height,codecs:i.includes("codecs")?void 0:Sj(e.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:e.fps,segment_info:wc(e,t,s,n,r)}}function wy(e,t,i,n,s){let r=e[0],o=wv(r),a=[];return{mime_type:r.mime_type.split(";")[0],color_info:o,codecs:wr(e,a),fps:wo(e,"fps",a),representations:e.map(e=>wg(e,t,a,i,n,s))}}function w_(e){var t;let i=new Map;for(let n of e.boards){let e=new URL(n.template_url).pathname.split(".").pop(),s=`image/${"jpg"===e?"jpeg":e}`;i.has(s)||i.set(s,[]),null===(t=i.get(s))||void 0===t||t.push(n)}return i}function wb(e,t,i,n,s){return ra(this,void 0,void 0,function*(){let r=t.template_url,o=i(new URL(r.replace("$M","0"))),a=s.response?s.response:e.session.http.fetch_function(o,{method:"HEAD",headers:rb.STREAM_HEADERS});return s.response=a,(yield a).headers.get("Content-Type")||n})}function ww(e,t,i){return ra(this,void 0,void 0,function*(){let n=t.template_url,s=[],r=Math.min(t.storyboard_count,10);for(let t=0;t<r;t++){let r=new URL(n.replace("$M",t.toString())),o=0===t&&i.response?i.response:e.session.http.fetch_function(r,{method:"HEAD",headers:rb.STREAM_HEADERS});0===t&&(i.response=o),s.push(o)}let o=yield Promise.all(s),a=[];for(let e of o)a.push(parseInt(e.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...a)/(t.rows*t.columns)*8)})}function wx(e,t,i,n,s){let r=i.template_url,o=new URL(r.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate:()=>ww(t,i,s),sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:e/i.storyboard_count,template_url:n(o).toString(),getURL:e=>o.toString().replace("$Number$",e.toString())}}function wS(e,t,i,n){let s=w_(i),r={};return Array.from(s.entries()).map(([i,s])=>({probable_mime_type:i,getMimeType:()=>wb(t,s[0],n,i,r),representations:s.map(i=>wx(e,t,i,n,r))}))}function wC(e,t=e=>e,i,n,s,r,o){if(!e)throw new SO("Streaming data not available");let a=i?e.adaptive_formats.filter(e=>!i(e)):e.adaptive_formats,l=a[0].approx_duration_ms/1e3,{groups:c,has_multiple_audio_tracks:d}=ws(a),{video_groups:h,audio_groups:u}=c.reduce((e,t)=>(t[0].has_audio?d&&!t[0].audio_track||e.audio_groups.push(t):e.video_groups.push(t),e),{video_groups:[],audio_groups:[]}),p=u.map(e=>wu(e,t,r,s,n)),f=h.map(e=>wy(e,t,s,r,n)),m=o&&r?wS(l,r,o,t):[];return{duration:l,audio_sets:p,video_sets:f,image_sets:m}}function wT({info:e}){return ra(this,void 0,void 0,function*(){if(!e.is_oft)return null;let t=yield e.getSegmentTemplate();return b9("segment-template",{startNumber:"1",timescale:"1000",initialization:t.init_url,media:t.media_url},b9("segment-timeline",null,t.timeline.map(e=>b9("s",{d:e.duration,r:e.repeat_count}))))})}function wI({info:e}){return e.is_oft?b9(wT,{info:e}):b9(wi,null,b9("base-url",null,e.base_url),b9("segment-base",{indexRange:`${e.index_range.start}-${e.index_range.end}`},b9("initialization",{range:`${e.init_range.start}-${e.init_range.end}`})))}function wE({streamingData:e,transformURL:t,rejectFormat:i,cpn:n,player:s,actions:r,storyboards:o}){let{duration:a,audio_sets:l,video_sets:c,image_sets:d}=wC(e,t,i,n,s,r,o);return b9("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${a}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},b9("period",null,l.map((e,t)=>b9("adaptation-set",{id:t,mimeType:e.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:e.language,codecs:e.codecs,audioSamplingRate:e.audio_sample_rate,contentType:"audio"},e.track_role&&b9("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:e.track_role}),e.track_name&&b9("label",{id:t},e.track_name),e.channels&&b9("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:e.channels}),e.representations.map(e=>b9("representation",{id:e.uid,bandwidth:e.bitrate,codecs:e.codecs,audioSamplingRate:e.audio_sample_rate},e.channels&&b9("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:e.channels}),b9(wI,{info:e.segment_info}))))),c.map((e,t)=>b9("adaptation-set",{id:t+l.length,mimeType:e.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:e.codecs,maxPlayoutRate:"1",frameRate:e.fps,contentType:"video"},e.color_info.primaries&&b9("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:e.color_info.primaries}),e.color_info.transfer_characteristics&&b9("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:e.color_info.transfer_characteristics}),e.color_info.matrix_coefficients&&b9("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:e.color_info.matrix_coefficients}),e.representations.map(e=>b9("representation",{id:e.uid,bandwidth:e.bitrate,width:e.width,height:e.height,codecs:e.codecs,frameRate:e.fps},b9(wI,{info:e.segment_info}))))),d.map((e,t)=>ra(this,void 0,void 0,function*(){return b9("adaptation-set",{id:t+l.length+c.length,mimeType:yield e.getMimeType(),contentType:"image"},e.representations.map(e=>ra(this,void 0,void 0,function*(){return b9("representation",{id:`thumbnails_${e.thumbnail_width}x${e.thumbnail_height}`,bandwidth:yield e.getBitrate(),width:e.sheet_width,height:e.sheet_height},b9("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${e.columns}x${e.rows}`}),b9("segment-template",{media:e.template_url,duration:e.template_duration,startNumber:"0"}))})))}))))}function wk(e,t=e=>e,i,n,s,r,o){if(!e)throw new SO("Streaming data not available");return wt(b9(wE,{streamingData:e,transformURL:t,rejectFormat:i,cpn:n,player:s,actions:r,storyboards:o}))}function wA(e,t,i,n,s,r){return ra(this,void 0,void 0,function*(){let o;if((null==i?void 0:i.status)==="UNPLAYABLE")throw new SO("Video is unplayable",{error_type:"UNPLAYABLE"});if((null==i?void 0:i.status)==="LOGIN_REQUIRED")throw new SO("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new SO("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let a=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),l=wR(a,n),c=l.decipher(s);if("video+audio"===a.type&&!e.range){let e=yield t.session.http.fetch_function(`${c}&cpn=${r}`,{method:"GET",headers:rC,redirect:"follow"});if(!e.ok)throw new SO("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:e});let i=e.body;if(!i)throw new SO("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:e});return i}let d=e.range?e.range.start:0,h=e.range?e.range.end:10485760,u=!1;return new SM.shim.ReadableStream({start(){},pull:i=>ra(this,void 0,void 0,function*(){if(u){i.close();return}return(h>=(l.content_length?l.content_length:0)||e.range)&&(u=!0),new Promise((e,n)=>ra(this,void 0,void 0,function*(){var s,a,l,u;try{o=new AbortController;let n=yield t.session.http.fetch_function(`${c}&cpn=${r}&range=${d}-${h||""}`,{method:"GET",headers:Object.assign({},rC),signal:o.signal}),v=n.body;if(!v)throw new SO("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:n});try{for(var p,f=!0,m=rh(SJ(v));!(s=(p=yield m.next()).done);f=!0)u=p.value,f=!1,i.enqueue(u)}catch(e){a={error:e}}finally{try{!f&&!s&&(l=m.return)&&(yield l.call(m))}finally{if(a)throw a.error}}d=h+1,h+=10485760,e()}catch(e){n(e)}}))}),cancel(e){return ra(this,void 0,void 0,function*(){o.abort(e)})}},{highWaterMark:1,size:e=>e.byteLength})})}function wR(e,t){if(!t)throw new SO("Streaming data not available");let i=[...t.formats||[],...t.adaptive_formats||[]],n=!e.type||e.type.includes("audio"),s=!e.type||e.type.includes("video"),r=e.language||"original",o=e.quality||"best",a=-1,l=["best","bestefficiency"].includes(o),c="best"!==o,d=i.filter(t=>!!((!n||t.has_audio)&&(!s||t.has_video)&&("any"===e.format||t.mime_type.includes(e.format||"mp4")))&&(!!l||t.quality_label===o)&&(a<t.width&&(a=t.width),!0));if(!d.length)throw new SO("No matching formats found",{options:e});if(l&&s&&(d=d.filter(e=>e.width===a)),n&&!s){let e=d.filter(e=>"original"!==r?!e.has_video&&e.language===r:!e.has_video&&e.is_original);e.length>0&&(d=e)}return c?d.sort((e,t)=>e.bitrate-t.bitrate):d.sort((e,t)=>t.bitrate-e.bitrate),d[0]}rn(wv,"getColorInfo"),rn(wg,"getVideoRepresentation"),rn(wy,"getVideoSet"),rn(w_,"getStoryboardInfo"),rn(wb,"getStoryboardMimeType"),rn(ww,"getStoryboardBitrate"),rn(wx,"getImageRepresentation"),rn(wS,"getImageSets"),rn(wC,"getStreamingInfo"),rn(wT,"OTFSegmentInfo"),rn(wI,"SegmentInfo"),rn(wE,"DashManifest"),rn(wk,"toDash"),rn(wA,"download"),rn(wR,"chooseFormat");var wP=class{constructor(e,t){eN.set(this,void 0),eB.set(this,void 0),rp(this,eN,rI.parseResponse(t.data),"f"),rp(this,eB,e,"f"),this.transcript=ru(this,eN,"f").actions_memo.getType(at).first()}selectLanguage(e){var t,i,n,s;return ra(this,void 0,void 0,function*(){let r=null===(s=null===(n=null===(i=null===(t=this.transcript.content)||void 0===t?void 0:t.footer)||void 0===i?void 0:i.language_menu)||void 0===n?void 0:n.sub_menu_items)||void 0===s?void 0:s.find(t=>t.title.toString()===e);if(!r)throw Error(`Language not found: ${e}`);if(r.selected)return this;let o=yield ru(this,eB,"f").execute("/get_transcript",{params:r.continuation});return new wP(ru(this,eB,"f"),o)})}get languages(){var e,t,i,n;return(null===(n=null===(i=null===(t=null===(e=this.transcript.content)||void 0===e?void 0:e.footer)||void 0===t?void 0:t.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===n?void 0:n.map(e=>e.title.toString()))||[]}get selectedLanguage(){var e,t,i,n,s;return(null===(s=null===(n=null===(i=null===(t=null===(e=this.transcript.content)||void 0===e?void 0:e.footer)||void 0===t?void 0:t.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===n?void 0:n.find(e=>e.selected))||void 0===s?void 0:s.title.toString())||""}get page(){return ru(this,eN,"f")}};rn(wP,"TranscriptInfo"),eN=new WeakMap,eB=new WeakMap;var wM=class{constructor(e,t,i){var n,s;eU.set(this,void 0),eV.set(this,void 0),eF.set(this,void 0),ej.set(this,void 0),rp(this,eV,t,"f");let r=rI.parseResponse(e[0].data),o=(null===(n=null==e?void 0:e[1])||void 0===n?void 0:n.data)?rI.parseResponse(e[1].data):void 0;if(rp(this,eU,[r,o],"f"),rp(this,eF,i,"f"),(null===(s=r.playability_status)||void 0===s?void 0:s.status)==="ERROR")throw new SO("This video is unavailable",r.playability_status);this.streaming_data=r.streaming_data,this.playability_status=r.playability_status,rp(this,ej,r.playback_tracking,"f")}toDash(e,t,i={include_thumbnails:!1}){var n;return ra(this,void 0,void 0,function*(){let s;let r=ru(this,eU,"f")[0];if(r.video_details&&(r.video_details.is_live||r.video_details.is_post_live_dvr))throw new SO("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");return i.include_thumbnails&&(null===(n=r.storyboards)||void 0===n?void 0:n.is(rK))&&(s=r.storyboards),wk(this.streaming_data,e,t,ru(this,eF,"f"),ru(this,eV,"f").session.player,ru(this,eV,"f"),s)})}getStreamingInfo(e,t){var i;return wC(this.streaming_data,e,t,this.cpn,ru(this,eV,"f").session.player,ru(this,eV,"f"),(null===(i=ru(this,eU,"f")[0].storyboards)||void 0===i?void 0:i.is(rK))?ru(this,eU,"f")[0].storyboards:void 0)}chooseFormat(e){return wR(e,this.streaming_data)}download(e={}){return ra(this,void 0,void 0,function*(){let t=ru(this,eU,"f")[0];if(t.video_details&&(t.video_details.is_live||t.video_details.is_post_live_dvr))throw new SO("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return wA(e,ru(this,eV,"f"),this.playability_status,this.streaming_data,ru(this,eV,"f").session.player,this.cpn)})}getTranscript(){var e;return ra(this,void 0,void 0,function*(){let t=this.page[1];if(!t)throw new SO("Cannot get transcript from basic video info.");if(!t.engagement_panels)throw new SO("Engagement panels not found. Video likely has no transcript.");let i=t.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new SO("Transcript panel not found. Video likely has no transcript.");let n=null===(e=i.content)||void 0===e?void 0:e.as(r0);if(!n)throw new SO("Transcript continuation not found.");let s=yield n.endpoint.call(this.actions);return new wP(this.actions,s)})}addToWatchHistory(e=rS.WEB.NAME,t=rS.WEB.VERSION,i="https://www."){return ra(this,void 0,void 0,function*(){if(!ru(this,ej,"f"))throw new SO("Playback tracking not available");let n={cpn:ru(this,eF,"f"),fmt:251,rtn:0,rt:0},s=ru(this,ej,"f").videostats_playback_url.replace("https://s.",i);return yield ru(this,eV,"f").stats(s,{client_name:e,client_version:t},n)})}get actions(){return ru(this,eV,"f")}get cpn(){return ru(this,eF,"f")}get page(){return ru(this,eU,"f")}};rn(wM,"MediaInfo"),eU=new WeakMap,eV=new WeakMap,eF=new WeakMap,ej=new WeakMap;var wO=wM,wL=class extends wO{constructor(e,t,i){var n,s,r,o,a,l,c,d,h,u,p,f,m,v,g,y,_,b,w,x,S,C,T,I,E,k,A,R,P,M,O,L,D,N,B,U,V,F,j,H,W,$;super(e,t,i),eH.set(this,void 0);let[G,K]=this.page;if(G.microformat&&!(null===(n=G.microformat)||void 0===n?void 0:n.is(vr,fD)))throw new SO("Invalid microformat",G.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},G.video_details),{embed:(null===(s=G.microformat)||void 0===s?void 0:s.is(vr))?null===(r=G.microformat)||void 0===r?void 0:r.embed:null,channel:(null===(o=G.microformat)||void 0===o?void 0:o.is(vr))?null===(a=G.microformat)||void 0===a?void 0:a.channel:null,is_unlisted:null===(l=G.microformat)||void 0===l?void 0:l.is_unlisted,is_family_safe:null===(c=G.microformat)||void 0===c?void 0:c.is_family_safe,category:(null===(d=G.microformat)||void 0===d?void 0:d.is(vr))?null===(h=G.microformat)||void 0===h?void 0:h.category:null,has_ypc_metadata:(null===(u=G.microformat)||void 0===u?void 0:u.is(vr))?null===(p=G.microformat)||void 0===p?void 0:p.has_ypc_metadata:null,start_timestamp:(null===(f=G.microformat)||void 0===f?void 0:f.is(vr))?G.microformat.start_timestamp:null,view_count:(null===(m=G.microformat)||void 0===m?void 0:m.is(vr))&&isNaN(null===(v=G.video_details)||void 0===v?void 0:v.view_count)?G.microformat.view_count:null===(g=G.video_details)||void 0===g?void 0:g.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=G.annotations,this.storyboards=G.storyboards,this.endscreen=G.endscreen,this.captions=G.captions,this.cards=G.cards,this.streaming_data){let e=this.streaming_data.adaptive_formats.find(e=>{var t;return null===(t=e.audio_track)||void 0===t?void 0:t.audio_is_default});if(e)this.streaming_data.formats.forEach(t=>t.language=e.language);else if(void 0!==(null===(y=this.captions)||void 0===y?void 0:y.default_audio_track_index)&&(null===(_=this.captions)||void 0===_?void 0:_.audio_tracks)&&this.captions.caption_tracks){let e=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,t=this.captions.caption_tracks[e].language_code;this.streaming_data.adaptive_formats.forEach(e=>{e.has_audio&&(e.language=t)}),this.streaming_data.formats.forEach(e=>e.language=t)}}let Y=null===(b=null==K?void 0:K.contents)||void 0===b?void 0:b.item().as(yG),q=null==Y?void 0:Y.results,z=null==Y?void 0:Y.secondary_results;if(q&&z){if((null===(w=G.microformat)||void 0===w?void 0:w.is(vr))&&(null===(x=G.microformat)||void 0===x?void 0:x.category)==="Gaming"){let e=null===(T=null===(C=null===(S=q.firstOfType(y8))||void 0===S?void 0:S.metadata)||void 0===C?void 0:C.rows)||void 0===T?void 0:T.firstOfType(gn);(null==e?void 0:e.is(gn))&&(this.game_info={title:null===(E=null===(I=null==e?void 0:e.contents)||void 0===I?void 0:I.firstOfType(gt))||void 0===E?void 0:E.title,release_year:null===(A=null===(k=null==e?void 0:e.contents)||void 0===k?void 0:k.firstOfType(gt))||void 0===A?void 0:A.subtitle})}this.primary_info=q.firstOfType(y5),this.secondary_info=q.firstOfType(y8),this.merchandise=q.firstOfType(fT),this.related_chip_cloud=null===(R=z.firstOfType(v3))||void 0===R?void 0:R.content.as(lI),(null==Y?void 0:Y.playlist)&&(this.playlist=Y.playlist),this.watch_next_feed=(null===(P=z.firstOfType(uU))||void 0===P?void 0:P.contents)||z,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&(null===(M=this.watch_next_feed.at(-1))||void 0===M?void 0:M.is(r0))&&rp(this,eH,null===(O=this.watch_next_feed.pop())||void 0===O?void 0:O.as(r0),"f"),this.player_overlays=null===(L=null==K?void 0:K.player_overlays)||void 0===L?void 0:L.item().as(vh),(null==Y?void 0:Y.autoplay)&&(this.autoplay=Y.autoplay);let e=null===(N=null===(D=this.primary_info)||void 0===D?void 0:D.menu)||void 0===N?void 0:N.top_level_buttons.firstOfType(gT);(null===(B=null==e?void 0:e.like_button)||void 0===B?void 0:B.is(aT))&&(null===(U=null==e?void 0:e.dislike_button)||void 0===U?void 0:U.is(aT))&&(this.basic_info.like_count=null===(V=null==e?void 0:e.like_button)||void 0===V?void 0:V.like_count,this.basic_info.is_liked=null===(F=null==e?void 0:e.like_button)||void 0===F?void 0:F.is_toggled,this.basic_info.is_disliked=null===(j=null==e?void 0:e.dislike_button)||void 0===j?void 0:j.is_toggled);let t=null===(H=q.get({target_id:"comments-entry-point"}))||void 0===H?void 0:H.as(uU);this.comments_entry_point_header=null===(W=null==t?void 0:t.contents)||void 0===W?void 0:W.firstOfType(dv),this.livechat=null===($=null==K?void 0:K.contents_memo)||void 0===$?void 0:$.getType(uH).first()}}selectFilter(e){var t,i,n,s;return ra(this,void 0,void 0,function*(){let r;if(!this.related_chip_cloud)throw new SO("Chip cloud not found, cannot apply filter");if("string"==typeof e){let n=null===(i=null===(t=this.related_chip_cloud)||void 0===t?void 0:t.chips)||void 0===i?void 0:i.get({text:e});if(!n)throw new SO("Invalid filter",{available_filters:this.filters});r=n}else if(null==e?void 0:e.is(lC))r=e;else throw new SO("Invalid cloud chip",e);if(r.is_selected)return this;let o=yield null===(n=r.endpoint)||void 0===n?void 0:n.call(this.actions,{parse:!0}),a=null===(s=null==o?void 0:o.on_response_received_endpoints)||void 0===s?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=null==a?void 0:a.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return ra(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,t,i,n,s;return ra(this,void 0,void 0,function*(){if(!ru(this,eH,"f"))throw new SO("Watch next feed continuation not found");let r=yield null===(e=ru(this,eH,"f"))||void 0===e?void 0:e.endpoint.call(this.actions,{parse:!0}),o=null===(t=null==r?void 0:r.on_response_received_endpoints)||void 0===t?void 0:t.get({type:"appendContinuationItemsAction"});if(!o)throw new SO("AppendContinuationItemsAction not found");return this.watch_next_feed=null==o?void 0:o.contents,(null===(n=null===(i=this.watch_next_feed)||void 0===i?void 0:i.at(-1))||void 0===n?void 0:n.is(r0))?rp(this,eH,null===(s=this.watch_next_feed.pop())||void 0===s?void 0:s.as(r0),"f"):rp(this,eH,void 0,"f"),this})}like(){var e,t;return ra(this,void 0,void 0,function*(){let i=null===(t=null===(e=this.primary_info)||void 0===e?void 0:e.menu)||void 0===t?void 0:t.top_level_buttons.firstOfType(gT),n=null==i?void 0:i.like_button;if(!n)throw new SO("Like button not found",{video_id:this.basic_info.id});if(!n.is(aT))throw new SO("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new SO("This video is already liked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}dislike(){var e,t;return ra(this,void 0,void 0,function*(){let i=null===(t=null===(e=this.primary_info)||void 0===e?void 0:e.menu)||void 0===t?void 0:t.top_level_buttons.firstOfType(gT),n=null==i?void 0:i.dislike_button;if(!n)throw new SO("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(aT))throw new SO("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new SO("This video is already disliked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}removeRating(){var e,t;return ra(this,void 0,void 0,function*(){let i;let n=null===(t=null===(e=this.primary_info)||void 0===e?void 0:e.menu)||void 0===t?void 0:t.top_level_buttons.firstOfType(gT),s=null==n?void 0:n.like_button,r=null==n?void 0:n.dislike_button;if(!(null==s?void 0:s.is(aT))||!(null==r?void 0:r.is(aT)))throw new SO("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if((null==s?void 0:s.is_toggled)?i=s:(null==r?void 0:r.is_toggled)&&(i=r),!i)throw new SO("This video is not liked/disliked",{video_id:this.basic_info.id});return yield i.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new SO("Live Chat is not available",{video_id:this.basic_info.id});return new bz(this)}getTrailerInfo(){var e,t;if(this.has_trailer){let i=null===(t=null===(e=this.playability_status.error_screen)||void 0===e?void 0:e.as(vn).trailer)||void 0===t?void 0:t.player_response;if(i)return new wL([{data:i}],this.actions,this.cpn)}return null}get filters(){var e,t;return(null===(t=null===(e=this.related_chip_cloud)||void 0===e?void 0:e.chips)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.text)||void 0===t?void 0:t.toString()}))||[]}get wn_has_continuation(){return!!ru(this,eH,"f")}get autoplay_video_endpoint(){var e,t,i;return(null===(i=null===(t=null===(e=this.autoplay)||void 0===e?void 0:e.sets)||void 0===t?void 0:t[0])||void 0===i?void 0:i.autoplay_video)||null}get has_trailer(){var e;return!!(null===(e=this.playability_status.error_screen)||void 0===e?void 0:e.is(vn))}get music_tracks(){var e,t,i,n,s,r;let o=null===(t=null===(e=this.page[1])||void 0===e?void 0:e.engagement_panels)||void 0===t?void 0:t.filter(e=>{var t;return null===(t=e.content)||void 0===t?void 0:t.is(oI)});if(void 0!==o&&o.length>0){let e=null===(s=null===(n=null===(i=o[0].content)||void 0===i?void 0:i.as(oI))||void 0===n?void 0:n.items)||void 0===s?void 0:s.filterType(ow);if(void 0!==e&&e.length>0)return null===(r=e[0].carousel_lockups)||void 0===r?void 0:r.map(e=>{var t,i,n,s,r,o,a,l,c,d,h,u,p,f,m,v,g,y,_;let b,w,x,S,C,T;b=null===(i=null===(t=e.video_lockup)||void 0===t?void 0:t.title)||void 0===i?void 0:i.toString(),C=null===(n=e.video_lockup)||void 0===n?void 0:n.endpoint.payload.videoId;for(let t=0;t<e.info_rows.length;t++){let i=e.info_rows[t];if(void 0===i.info_row_expand_status_key){if(void 0===b){if(b=(null===(s=i.default_metadata)||void 0===s?void 0:s.toString())||(null===(r=i.expanded_metadata)||void 0===r?void 0:r.toString()),void 0===C){let e=(null===(o=i.default_metadata)||void 0===o?void 0:o.endpoint)||(null===(a=i.expanded_metadata)||void 0===a?void 0:a.endpoint);C=null===(l=null==e?void 0:e.payload)||void 0===l?void 0:l.videoId}}else x=(null===(c=i.default_metadata)||void 0===c?void 0:c.toString())||(null===(d=i.expanded_metadata)||void 0===d?void 0:d.toString())}else{if((null===(h=i.info_row_expand_status_key)||void 0===h?void 0:h.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(w=(null===(u=i.default_metadata)||void 0===u?void 0:u.toString())||(null===(p=i.expanded_metadata)||void 0===p?void 0:p.toString()),void 0===T)){let e=(null===(f=i.default_metadata)||void 0===f?void 0:f.endpoint)||(null===(m=i.expanded_metadata)||void 0===m?void 0:m.endpoint);T=null===(v=null==e?void 0:e.payload)||void 0===v?void 0:v.browseId}(null===(g=i.info_row_expand_status_key)||void 0===g?void 0:g.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(S=(null===(y=i.default_metadata)||void 0===y?void 0:y.toString())||(null===(_=i.expanded_metadata)||void 0===_?void 0:_.toString()))}}return{song:b,artist:w,album:x,license:S,videoId:C,channelId:T}})}return[]}};rn(wL,"VideoInfo"),eH=new WeakMap;var wD=wL;rs({},{Album:()=>wB,Artist:()=>wV,Explore:()=>wj,HomeFeed:()=>wW,Library:()=>wK,LibraryContinuation:()=>wG,Playlist:()=>wq,Recap:()=>wJ,Search:()=>wQ,TrackInfo:()=>w1});var wN=class{constructor(e){var t,i,n;if(eW.set(this,void 0),rp(this,eW,rI.parseResponse(e.data),"f"),this.header=null===(t=ru(this,eW,"f").header)||void 0===t?void 0:t.item().as(mc),this.url=(null===(i=ru(this,eW,"f").microformat)||void 0===i?void 0:i.as(fD).url_canonical)||null,!ru(this,eW,"f").contents_memo)throw Error("No contents found in the response");this.contents=null===(n=ru(this,eW,"f").contents_memo.getType(mD))||void 0===n?void 0:n.first().contents,this.sections=ru(this,eW,"f").contents_memo.getType(mr)||[]}get page(){return ru(this,eW,"f")}};rn(wN,"Album"),eW=new WeakMap;var wB=wN,wU=class{constructor(e,t){var i,n,s;e$.set(this,void 0),eG.set(this,void 0),rp(this,e$,rI.parseResponse(e.data),"f"),rp(this,eG,t,"f"),this.header=null===(i=this.page.header)||void 0===i?void 0:i.item().as(m_,mG,mg);let r=(null===(n=ru(this,e$,"f").contents_memo)||void 0===n?void 0:n.getType(mD))||[],o=(null===(s=ru(this,e$,"f").contents_memo)||void 0===s?void 0:s.getType(mr))||[];this.sections=[...r,...o]}getAllSongs(){var e,t;return ra(this,void 0,void 0,function*(){let i=this.sections.filter(e=>"MusicShelf"===e.type);if(!i.length)throw new SO("Could not find any node of type MusicShelf.");let n=i.find(e=>"Songs"===e.title.toString());if(!n)throw new SO("Could not find target shelf (Songs).");if(!n.endpoint)throw new SO("Target shelf (Songs) did not have an endpoint.");return null===(t=null===(e=(yield n.endpoint.call(ru(this,eG,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)||void 0===e?void 0:e.getType(mT))||void 0===t?void 0:t.first()})}get page(){return ru(this,e$,"f")}};rn(wU,"Artist"),e$=new WeakMap,eG=new WeakMap;var wV=wU,wF=class{constructor(e){var t,i,n;eK.set(this,void 0),rp(this,eK,rI.parseResponse(e.data),"f");let s=null===(t=ru(this,eK,"f").contents)||void 0===t?void 0:t.item().as(gZ).tabs.get({selected:!0});if(!s)throw new SO("Could not find target tab.");let r=null===(i=s.content)||void 0===i?void 0:i.as(r8);if(!r)throw new SO("Target tab did not have any content.");this.top_buttons=(null===(n=r.contents.firstOfType(hV))||void 0===n?void 0:n.items.as(f5))||[],this.sections=r.contents.filterType(mr)}get page(){return ru(this,eK,"f")}};rn(wF,"Explore"),eK=new WeakMap;var wj=wF,wH=class{constructor(e,t){var i,n,s,r,o,a;eY.set(this,void 0),eq.set(this,void 0),ez.set(this,void 0),rp(this,eq,t,"f"),rp(this,eY,rI.parseResponse(e.data),"f");let l=null===(i=ru(this,eY,"f").contents)||void 0===i?void 0:i.item().as(gZ).tabs.get({selected:!0});if(!l)throw new SO("Could not find Home tab.");if(null===l.content){if(!ru(this,eY,"f").continuation_contents)throw new SO("Continuation did not have any content.");rp(this,ez,ru(this,eY,"f").continuation_contents.as(_G).continuation,"f"),this.sections=null===(n=ru(this,eY,"f").continuation_contents.as(_G).contents)||void 0===n?void 0:n.as(mr);return}this.header=null===(r=null===(s=l.content)||void 0===s?void 0:s.as(r8).header)||void 0===r?void 0:r.as(lI),rp(this,ez,null===(o=l.content)||void 0===o?void 0:o.as(r8).continuation,"f"),this.sections=null===(a=l.content)||void 0===a?void 0:a.as(r8).contents.as(mr,mW)}getContinuation(){return ra(this,void 0,void 0,function*(){if(!ru(this,ez,"f"))throw new SO("Continuation not found.");return new wH((yield ru(this,eq,"f").execute("/browse",{client:"YTMUSIC",continuation:ru(this,ez,"f")})),ru(this,eq,"f"))})}applyFilter(e){var t,i;return ra(this,void 0,void 0,function*(){let n;if("string"==typeof e){if(!(n=null===(i=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===i?void 0:i.as(lC).get({text:e})))throw new SO("Could not find filter with given name.",{available_filters:this.filters})}else(null==e?void 0:e.is(lC))&&(n=e);if(!n)throw new SO("Invalid filter",{available_filters:this.filters});if(null==n?void 0:n.is_selected)return this;if(!n.endpoint)throw new SO("Selected filter does not have an endpoint.");return new wH((yield n.endpoint.call(ru(this,eq,"f"),{client:"YTMUSIC"})),ru(this,eq,"f"))})}get filters(){var e,t;return(null===(t=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===t?void 0:t.as(lC).map(e=>e.text))||[]}get has_continuation(){return!!ru(this,ez,"f")}get page(){return ru(this,eY,"f")}};rn(wH,"HomeFeed"),eY=new WeakMap,eq=new WeakMap,ez=new WeakMap;var wW=wH,w$=class{constructor(e,t){var i,n,s,r,o;eJ.set(this,void 0),eX.set(this,void 0),eQ.set(this,void 0),rp(this,eJ,rI.parseResponse(e.data),"f"),rp(this,eX,t,"f");let a=null===(i=ru(this,eJ,"f").contents_memo)||void 0===i?void 0:i.getType(r8).first();this.header=null===(n=null==a?void 0:a.header)||void 0===n?void 0:n.as(mB),this.contents=null===(s=null==a?void 0:a.contents)||void 0===s?void 0:s.as(hV,mD),rp(this,eQ,null===(o=null===(r=this.contents)||void 0===r?void 0:r.find(e=>e.continuation))||void 0===o?void 0:o.continuation,"f")}applySort(e){var t,i,n,s,r,o,a,l,c,d;return ra(this,void 0,void 0,function*(){let h;if("string"==typeof e){let n=null===(t=ru(this,eJ,"f").contents_memo)||void 0===t?void 0:t.getType(mV).first(),s=null===(i=null==n?void 0:n.menu)||void 0===i?void 0:i.options.filter(e=>e instanceof ok);if(!(h=null==s?void 0:s.find(t=>t.title===e)))throw new SO(`Sort option "${e}" not found`,{available_filters:s.map(e=>e.title)})}else e instanceof ok&&(h=e);if(!h)throw new SO("Invalid sort option");if(h.selected)return this;let u=null===(o=null===(r=null===(s=null===(n=h.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.commands)||void 0===r?void 0:r.find(e=>e.browseSectionListReloadEndpoint))||void 0===o?void 0:o.browseSectionListReloadEndpoint;if(!u)throw new SO("Failed to find sort option command");let p=yield ru(this,eX,"f").execute("/browse",{client:"YTMUSIC",continuation:u.continuation.reloadContinuationData.continuation,parse:!0}),f=null===(l=null===(a=ru(this,eJ,"f").contents_memo)||void 0===a?void 0:a.getType(ok))||void 0===l?void 0:l.find(e=>e.selected);return f&&(f.selected=!1),h.selected=!0,this.contents=null===(d=null===(c=p.continuation_contents)||void 0===c?void 0:c.as(_G).contents)||void 0===d?void 0:d.as(hV,mD),this})}applyFilter(e){var t,i,n,s;return ra(this,void 0,void 0,function*(){let r;let o=null===(t=ru(this,eJ,"f").contents_memo)||void 0===t?void 0:t.getType(lI).first();if("string"==typeof e){if(!(r=null==o?void 0:o.chips.get({text:e})))throw new SO(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof lC&&(r=e);if(!r)throw new SO("Invalid filter",e);let a=new rD(null===(s=null===(n=null===(i=r.endpoint)||void 0===i?void 0:i.payload)||void 0===n?void 0:n.commands)||void 0===s?void 0:s[0]);return new w$((yield a.call(ru(this,eX,"f"),{client:"YTMUSIC"})),ru(this,eX,"f"))})}getContinuation(){return ra(this,void 0,void 0,function*(){if(!ru(this,eQ,"f"))throw new SO("No continuation available");return new wG((yield ru(this,eX,"f").execute("/browse",{client:"YTMUSIC",continuation:ru(this,eQ,"f")})),ru(this,eX,"f"))})}get has_continuation(){return!!ru(this,eQ,"f")}get sort_options(){var e,t;let i=null===(e=ru(this,eJ,"f").contents_memo)||void 0===e?void 0:e.getType(mV).first();return(null===(t=null==i?void 0:i.menu)||void 0===t?void 0:t.options.filter(e=>e instanceof ok)).map(e=>e.title)}get filters(){var e,t;return(null===(t=null===(e=ru(this,eJ,"f").contents_memo)||void 0===e?void 0:e.getType(lI))||void 0===t?void 0:t.first().chips.map(e=>e.text))||[]}get page(){return ru(this,eJ,"f")}};rn(w$,"Library"),eJ=new WeakMap,eX=new WeakMap,eQ=new WeakMap;var wG=class{constructor(e,t){if(eZ.set(this,void 0),e0.set(this,void 0),e1.set(this,void 0),rp(this,eZ,rI.parseResponse(e.data),"f"),rp(this,e0,t,"f"),!ru(this,eZ,"f").continuation_contents)throw new SO("No continuation contents found");this.contents=ru(this,eZ,"f").continuation_contents.as(_Y,_q),rp(this,e1,this.contents.continuation||null,"f")}getContinuation(){return ra(this,void 0,void 0,function*(){if(!ru(this,e1,"f"))throw new SO("No continuation available");return new wG((yield ru(this,e0,"f").execute("/browse",{client:"YTMUSIC",continuation:ru(this,e1,"f")})),ru(this,e0,"f"))})}get has_continuation(){return!!ru(this,e1,"f")}get page(){return ru(this,eZ,"f")}};rn(wG,"LibraryContinuation"),eZ=new WeakMap,e0=new WeakMap,e1=new WeakMap;var wK=w$,wY=class{constructor(e,t){var i,n,s,r,o,a,l;if(e2.add(this),e3.set(this,void 0),e6.set(this,void 0),e5.set(this,void 0),e4.set(this,void 0),e8.set(this,void 0),rp(this,e6,t,"f"),rp(this,e3,rI.parseResponse(e.data),"f"),rp(this,e4,null,"f"),rp(this,e8,null,"f"),ru(this,e3,"f").continuation_contents){let e=null===(i=ru(this,e3,"f").continuation_contents)||void 0===i?void 0:i.as(_K);this.items=e.contents,rp(this,e5,e.continuation,"f")}else(null===(n=ru(this,e3,"f").header)||void 0===n?void 0:n.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=null===(r=null===(s=ru(this,e3,"f").header)||void 0===s?void 0:s.item().as(mp).header)||void 0===r?void 0:r.as(mc):this.header=null===(o=ru(this,e3,"f").header)||void 0===o?void 0:o.item().as(mc),this.items=(null===(a=ru(this,e3,"f").contents_memo)||void 0===a?void 0:a.getType(mT).first().contents)||null,rp(this,e5,(null===(l=ru(this,e3,"f").contents_memo)||void 0===l?void 0:l.getType(mT).first().continuation)||null,"f")}getContinuation(){return ra(this,void 0,void 0,function*(){if(!ru(this,e5,"f"))throw new SO("Continuation not found.");return new wY((yield ru(this,e6,"f").execute("/browse",{client:"YTMUSIC",continuation:ru(this,e5,"f")})),ru(this,e6,"f"))})}getRelated(){var e,t,i,n,s;return ra(this,void 0,void 0,function*(){let r=null===(t=null===(e=ru(this,e3,"f").contents_memo)||void 0===e?void 0:e.getType(r8))||void 0===t?void 0:t[0].continuation;for(;r;){let e=null===(i=(yield ru(this,e6,"f").execute("/browse",{client:"YTMUSIC",continuation:r,parse:!0})).continuation_contents)||void 0===i?void 0:i.as(_G),t=null===(n=null==e?void 0:e.contents)||void 0===n?void 0:n.as(mr,mD),o=null===(s=null==t?void 0:t.matchCondition(e=>e.is(mr)))||void 0===s?void 0:s.as(mr);if(o)return o;r=null==e?void 0:e.continuation}throw new SO("Target section not found.")})}getSuggestions(e=!0){return ra(this,void 0,void 0,function*(){let t=e||!ru(this,e4,"f")?ru(this,e2,"m",e9).call(this):Promise.resolve(null),i=yield t;return i&&(rp(this,e4,i.items,"f"),rp(this,e8,i.continuation,"f")),(null==i?void 0:i.items)||ru(this,e4,"f")})}get page(){return ru(this,e3,"f")}get has_continuation(){return!!ru(this,e5,"f")}};rn(wY,"Playlist"),e3=new WeakMap,e6=new WeakMap,e5=new WeakMap,e4=new WeakMap,e8=new WeakMap,e2=new WeakSet,e9=rn(function(){var e,t,i,n,s;return ra(this,void 0,void 0,function*(){let r=ru(this,e8,"f")||(null===(t=null===(e=ru(this,e3,"f").contents_memo)||void 0===e?void 0:e.get("SectionList"))||void 0===t?void 0:t[0].as(r8).continuation);if(r){let e=null===(i=(yield ru(this,e6,"f").execute("/browse",{client:"YTMUSIC",continuation:r,parse:!0})).continuation_contents)||void 0===i?void 0:i.as(_G),t=null===(n=null==e?void 0:e.contents)||void 0===n?void 0:n.as(mr,mD),o=null===(s=null==t?void 0:t.matchCondition(e=>e.is(mD)))||void 0===s?void 0:s.as(mD);return{items:(null==o?void 0:o.contents)||[],continuation:(null==o?void 0:o.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var wq=wY,wz=class{constructor(e,t){var i,n,s,r,o,a,l;e7.set(this,void 0),te.set(this,void 0),rp(this,e7,rI.parseResponse(e.data),"f"),rp(this,te,t,"f");let c=null===(i=ru(this,e7,"f").header)||void 0===i?void 0:i.item();this.header=(null==c?void 0:c.is(mm))?null===(r=null===(s=null===(n=ru(this,e7,"f").header)||void 0===n?void 0:n.item().as(mm).element)||void 0===s?void 0:s.model)||void 0===r?void 0:r.as(uf):null===(o=ru(this,e7,"f").header)||void 0===o?void 0:o.item().as(mg);let d=null===(a=ru(this,e7,"f").contents)||void 0===a?void 0:a.item().as(gZ).tabs.firstOfType(gX);if(!d)throw new SO("Target tab not found");this.sections=null===(l=d.content)||void 0===l?void 0:l.as(r8).contents.as(uU,mr,dK)}getPlaylist(){return ra(this,void 0,void 0,function*(){if(!this.header)throw new SO("Header not found");if(!this.header.is(uf))throw new SO("Recap playlist not available, check back later.");let e=this.header.panels[0].text_on_tap_endpoint;return new wq((yield e.call(ru(this,te,"f"),{client:"YTMUSIC"})),ru(this,te,"f"))})}get page(){return ru(this,e7,"f")}};rn(wz,"Recap"),e7=new WeakMap,te=new WeakMap;var wJ=wz,wX=class{constructor(e,t,i){var n,s,r;if(tt.set(this,void 0),ti.set(this,void 0),tn.set(this,void 0),rp(this,ti,t,"f"),rp(this,tt,rI.parseResponse(e.data),"f"),!ru(this,tt,"f").contents||!ru(this,tt,"f").contents_memo)throw new SO("Response did not contain any contents.");let o=ru(this,tt,"f").contents.item().as(yr).tabs.get({selected:!0});if(!o)throw new SO("Could not find target tab.");let a=null===(n=o.content)||void 0===n?void 0:n.as(r8);if(!a)throw new SO("Target tab did not have any content.");this.header=null===(s=a.header)||void 0===s?void 0:s.as(lI),this.contents=a.contents.as(mD,fZ,uU),i&&rp(this,tn,null===(r=this.contents.firstOfType(mD))||void 0===r?void 0:r.continuation,"f")}getMore(e){return ra(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new SO("Cannot retrieve more items for this shelf because it does not have an endpoint.");let t=yield e.endpoint.call(ru(this,ti,"f"),{client:"YTMUSIC"});if(!t)throw new SO("Endpoint did not return any data");return new wX(t,ru(this,ti,"f"),!0)})}getContinuation(){return ra(this,void 0,void 0,function*(){if(!ru(this,tn,"f"))throw new SO("Continuation not found.");let e=yield ru(this,ti,"f").execute("/search",{continuation:ru(this,tn,"f"),client:"YTMUSIC"});return new wZ(ru(this,ti,"f"),e)})}applyFilter(e){var t,i;return ra(this,void 0,void 0,function*(){let n;if("string"==typeof e){if(!(n=null===(i=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===i?void 0:i.as(lC).get({text:e})))throw new SO("Could not find filter with given name.",{available_filters:this.filters})}else(null==e?void 0:e.is(lC))&&(n=e);if(!n)throw new SO("Invalid filter",{available_filters:this.filters});if(null==n?void 0:n.is_selected)return this;if(!n.endpoint)throw new SO("Selected filter does not have an endpoint.");return new wX((yield n.endpoint.call(ru(this,ti,"f"),{client:"YTMUSIC"})),ru(this,ti,"f"),!0)})}get filters(){var e,t;return(null===(t=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===t?void 0:t.as(lC).map(e=>e.text))||[]}get has_continuation(){return!!ru(this,tn,"f")}get did_you_mean(){var e;return null===(e=ru(this,tt,"f").contents_memo)||void 0===e?void 0:e.getType(d7).first()}get showing_results_for(){var e;return null===(e=ru(this,tt,"f").contents_memo)||void 0===e?void 0:e.getType(gj).first()}get message(){var e;return null===(e=ru(this,tt,"f").contents_memo)||void 0===e?void 0:e.getType(dK).first()}get songs(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(mD).find(e=>"Songs"===e.title.toString())}get videos(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(mD).find(e=>"Videos"===e.title.toString())}get albums(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(mD).find(e=>"Albums"===e.title.toString())}get artists(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(mD).find(e=>"Artists"===e.title.toString())}get playlists(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(mD).find(e=>"Community playlists"===e.title.toString())}get results(){var e,t;return null===(t=null===(e=this.contents)||void 0===e?void 0:e.firstOfType(mD))||void 0===t?void 0:t.contents}get sections(){var e;return null===(e=this.contents)||void 0===e?void 0:e.filterType(mD)}get page(){return ru(this,tt,"f")}};rn(wX,"Search"),tt=new WeakMap,ti=new WeakMap,tn=new WeakMap;var wQ=wX,wZ=class{constructor(e,t){var i,n;ts.set(this,void 0),tr.set(this,void 0),rp(this,ts,e,"f"),rp(this,tr,rI.parseResponse(t.data),"f"),this.header=null===(i=ru(this,tr,"f").header)||void 0===i?void 0:i.item().as(mg),this.contents=null===(n=ru(this,tr,"f").continuation_contents)||void 0===n?void 0:n.as(_Y)}getContinuation(){var e;return ra(this,void 0,void 0,function*(){if(!(null===(e=this.contents)||void 0===e?void 0:e.continuation))throw new SO("Continuation not found.");let t=yield ru(this,ts,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new wZ(ru(this,ts,"f"),t)})}get has_continuation(){var e;return!!(null===(e=this.contents)||void 0===e?void 0:e.continuation)}get page(){return ru(this,tr,"f")}};rn(wZ,"SearchContinuation"),ts=new WeakMap,tr=new WeakMap;var w0=class extends wO{constructor(e,t,i){var n,s,r,o,a,l,c,d,h;super(e,t,i);let[u,p]=this.page;if(!(null===(n=u.microformat)||void 0===n?void 0:n.is(fD)))throw new SO("Invalid microformat",u.microformat);if(this.basic_info=Object.assign(Object.assign({},u.video_details),{description:null===(s=u.microformat)||void 0===s?void 0:s.description,is_unlisted:null===(r=u.microformat)||void 0===r?void 0:r.is_unlisted,is_family_safe:null===(o=u.microformat)||void 0===o?void 0:o.is_family_safe,url_canonical:null===(a=u.microformat)||void 0===a?void 0:a.url_canonical,tags:null===(l=u.microformat)||void 0===l?void 0:l.tags}),this.storyboards=u.storyboards,this.endscreen=u.endscreen,p){let e=null===(d=null===(c=p.contents_memo)||void 0===c?void 0:c.getType(_a))||void 0===d?void 0:d[0];this.tabs=null==e?void 0:e.tabs.array().as(gX),this.current_video_endpoint=p.current_video_endpoint,this.player_overlays=null===(h=p.player_overlays)||void 0===h?void 0:h.item().as(vh)}}getTab(e){var t,i;return ra(this,void 0,void 0,function*(){if(!this.tabs)throw new SO("Could not find any tab");let n=this.tabs.get({title:e})||this.tabs.matchCondition(t=>{var i,n;return(null===(n=null===(i=t.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===i?void 0:i.browseEndpointContextMusicConfig)||void 0===n?void 0:n.pageType)===e})||(null===(t=this.tabs)||void 0===t?void 0:t[0]);if(!n)throw new SO(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(n.content)return n.content;let s=yield n.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if((null===(i=s.contents)||void 0===i?void 0:i.item().type)==="Message")return s.contents.item().as(dK);if(!s.contents)throw new SO("Page contents was empty",s);return s.contents.item().as(r8).contents})}getUpNext(e=!0){var t,i;return ra(this,void 0,void 0,function*(){let n=yield this.getTab("Up next");if(!n||!n.content)throw new SO("Music queue was empty, the video id is probably invalid.",n);let s=n.content.as(mP);if(!s.playlist_id&&e){let e=s.contents.firstOfType(aw);if(!e)throw new SO("Automix item not found");let n=yield null===(t=e.playlist_video)||void 0===t?void 0:t.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!n||!n.contents_memo)throw new SO("Could not fetch automix");return null===(i=n.contents_memo.getType(mP))||void 0===i?void 0:i[0]}return s})}getRelated(){return ra(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return ra(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(ma)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return ra(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,rS.YTMUSIC.NAME,rS.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};rn(w0,"TrackInfo");var w1=w0;rs({},{Channel:()=>w3,HomeFeed:()=>w5,Search:()=>w8,VideoInfo:()=>w7});var w2=class extends bb{constructor(e,t,i=!1){var n,s;super(e,t,i),this.header=null===(n=this.page.header)||void 0===n?void 0:n.item().as(aQ),this.contents=this.memo.getType(uU).first()||(null===(s=this.page.continuation_contents)||void 0===s?void 0:s.as(_j))}getContinuation(){var e;return ra(this,void 0,void 0,function*(){let t=yield this.actions.execute("/browse",{continuation:null===(e=this.contents)||void 0===e?void 0:e.continuation,client:"YTKIDS"});return new w2(this.actions,t)})}get has_continuation(){var e;return!!(null===(e=this.contents)||void 0===e?void 0:e.continuation)}};rn(w2,"Channel");var w3=w2,w6=class extends bb{constructor(e,t,i=!1){var n,s;super(e,t,i),this.header=null===(n=this.page.header)||void 0===n?void 0:n.item().as(_g),this.contents=null===(s=this.page.contents)||void 0===s?void 0:s.item().as(__)}selectCategoryTab(e){var t;return ra(this,void 0,void 0,function*(){let i;if("string"==typeof e?i=null===(t=this.header)||void 0===t?void 0:t.category_tabs.find(t=>t.title.toString()===e):(null==e?void 0:e.is(_m))&&(i=e),!i)throw new SO(`Tab "${e}" not found`);let n=yield i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new w6(this.actions,n,!0)})}get categories(){var e;return(null===(e=this.header)||void 0===e?void 0:e.category_tabs.map(e=>e.title.toString()))||[]}};rn(w6,"HomeFeed");var w5=w6,w4=class extends bb{constructor(e,t){super(e,t),this.estimated_results=this.page.estimated_results;let i=this.memo.getType(uU).first();if(!i)throw new SO("No item section found in search response.");this.contents=i.contents}};rn(w4,"Search");var w8=w4,w9=class extends wO{constructor(e,t,i){var n,s,r,o,a;super(e,t,i);let[l,c]=this.page;this.basic_info=l.video_details,this.captions=l.captions;let d=null===(n=null==c?void 0:c.contents)||void 0===n?void 0:n.item().as(yG),h=null==d?void 0:d.results,u=null==d?void 0:d.secondary_results;h&&u&&(this.slim_video_metadata=null===(r=null===(s=h.firstOfType(uU))||void 0===s?void 0:s.contents)||void 0===r?void 0:r.firstOfType(g8),this.watch_next_feed=(null===(o=u.firstOfType(uU))||void 0===o?void 0:o.contents)||u,this.current_video_endpoint=null==c?void 0:c.current_video_endpoint,this.player_overlays=null===(a=null==c?void 0:c.player_overlays)||void 0===a?void 0:a.item().as(vh))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return ra(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};rn(w9,"VideoInfo");var w7=w9;rs({},{VideoInfo:()=>SA});var xe={};rs(xe,{Account:()=>xw,Browse:()=>xT,BrowseEndpoint:()=>xt,Channel:()=>xA,Comment:()=>xN,GetNotificationMenuEndpoint:()=>xs,GuideEndpoint:()=>xa,Kids:()=>SC,Like:()=>xW,Music:()=>xZ,NextEndpoint:()=>xc,Notification:()=>x3,PlayerEndpoint:()=>xu,Playlist:()=>x7,Reel:()=>Sp,ResolveURLEndpoint:()=>xm,SearchEndpoint:()=>xy,Subscription:()=>So,Upload:()=>Sb});var xt={};rs(xt,{PATH:()=>xi,build:()=>xn});var xi="/browse";function xn(e){return Object.assign({browseId:e.browse_id,params:e.params,continuation:e.continuation,client:e.client})}rn(xn,"build");var xs={};rs(xs,{PATH:()=>xr,build:()=>xo});var xr="/notification/get_notification_menu";function xo(e){return Object.assign({notificationsMenuRequestType:e.notifications_menu_request_type})}rn(xo,"build");var xa={};rs(xa,{PATH:()=>xl});var xl="/guide",xc={};rs(xc,{PATH:()=>xd,build:()=>xh});var xd="/next";function xh(e){return Object.assign({videoId:e.video_id,playlistId:e.playlist_id,params:e.params,playlistIndex:e.playlist_index,client:e.client,continuation:e.continuation})}rn(xh,"build");var xu={};rs(xu,{PATH:()=>xp,build:()=>xf});var xp="/player";function xf(e){let t="ANDROID"===e.client||"YTMUSIC_ANDROID"===e.client||"YTSTUDIO_ANDROID"===e.client;return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:e.playlist_id?`https://www.youtube.com/watch?v=${e.video_id}&list=${e.playlist_id}`:`https://www.youtube.com/watch?v=${e.video_id}`,currentUrl:e.playlist_id?`/watch?v=${e.video_id}&list=${e.playlist_id}`:`/watch?v=${e.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:e.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:e.video_id},{client:e.client,playlistId:e.playlist_id,params:t?"2AMBCgIQBg":e.params})}rn(xf,"build");var xm={};rs(xm,{PATH:()=>xv,build:()=>xg});var xv="/navigation/resolve_url";function xg(e){return Object.assign({url:e.url})}rn(xg,"build");var xy={};rs(xy,{PATH:()=>x_,build:()=>xb});var x_="/search";function xb(e){return Object.assign({query:e.query,params:e.params,continuation:e.continuation,client:e.client})}rn(xb,"build");var xw={};rs(xw,{AccountListEndpoint:()=>xx});var xx={};rs(xx,{PATH:()=>xS,build:()=>xC});var xS="/account/accounts_list";function xC(){return{client:"ANDROID"}}rn(xC,"build");var xT={};rs(xT,{EditPlaylistEndpoint:()=>xI});var xI={};rs(xI,{PATH:()=>xE,build:()=>xk});var xE="/browse/edit_playlist";function xk(e){return{playlistId:e.playlist_id,actions:e.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}rn(xk,"build");var xA={};rs(xA,{EditDescriptionEndpoint:()=>xO,EditNameEndpoint:()=>xR});var xR={};rs(xR,{PATH:()=>xP,build:()=>xM});var xP="/channel/edit_name";function xM(e){return{givenName:e.given_name,client:"ANDROID"}}rn(xM,"build");var xO={};rs(xO,{PATH:()=>xL,build:()=>xD});var xL="/channel/edit_description";function xD(e){return{givenDescription:e.given_description,client:"ANDROID"}}rn(xD,"build");var xN={};rs(xN,{CreateCommentEndpoint:()=>xF,PerformCommentActionEndpoint:()=>xB});var xB={};rs(xB,{PATH:()=>xU,build:()=>xV});var xU="/comment/perform_comment_action";function xV(e){return Object.assign({actions:e.actions},{client:e.client})}rn(xV,"build");var xF={};rs(xF,{PATH:()=>xj,build:()=>xH});var xj="/comment/create_comment";function xH(e){return Object.assign({commentText:e.comment_text,createCommentParams:e.create_comment_params},{client:e.client})}rn(xH,"build");var xW={};rs(xW,{DislikeEndpoint:()=>xY,LikeEndpoint:()=>x$,RemoveLikeEndpoint:()=>xJ});var x$={};rs(x$,{PATH:()=>xG,build:()=>xK});var xG="/like/like";function xK(e){return Object.assign({target:{videoId:e.target.video_id}},{client:e.client})}rn(xK,"build");var xY={};rs(xY,{PATH:()=>xq,build:()=>xz});var xq="/like/dislike";function xz(e){return Object.assign({target:{videoId:e.target.video_id}},{client:e.client})}rn(xz,"build");var xJ={};rs(xJ,{PATH:()=>xX,build:()=>xQ});var xX="/like/removelike";function xQ(e){return Object.assign({target:{videoId:e.target.video_id}},{client:e.client})}rn(xQ,"build");var xZ={};rs(xZ,{GetSearchSuggestionsEndpoint:()=>x0});var x0={};rs(x0,{PATH:()=>x1,build:()=>x2});var x1="/music/get_search_suggestions";function x2(e){return{input:e.input,client:"YTMUSIC"}}rn(x2,"build");var x3={};rs(x3,{GetUnseenCountEndpoint:()=>x6,ModifyChannelPreferenceEndpoint:()=>x4});var x6={};rs(x6,{PATH:()=>x5});var x5="/notification/get_unseen_count",x4={};rs(x4,{PATH:()=>x8,build:()=>x9});var x8="/notification/modify_channel_preference";function x9(e){return Object.assign({params:e.params},{client:e.client})}rn(x9,"build");var x7={};rs(x7,{CreateEndpoint:()=>Se,DeleteEndpoint:()=>Sn});var Se={};rs(Se,{PATH:()=>St,build:()=>Si});var St="/playlist/create";function Si(e){return{title:e.title,ids:e.ids}}rn(Si,"build");var Sn={};rs(Sn,{PATH:()=>Ss,build:()=>Sr});var Ss="/playlist/delete";function Sr(e){return{playlistId:e.playlist_id}}rn(Sr,"build");var So={};rs(So,{SubscribeEndpoint:()=>Sa,UnsubscribeEndpoint:()=>Sd});var Sa={};rs(Sa,{PATH:()=>Sl,build:()=>Sc});var Sl="/subscription/subscribe";function Sc(e){return Object.assign({channelIds:e.channel_ids},{client:e.client,params:e.params})}rn(Sc,"build");var Sd={};rs(Sd,{PATH:()=>Sh,build:()=>Su});var Sh="/subscription/unsubscribe";function Su(e){return Object.assign({channelIds:e.channel_ids},{client:e.client,params:e.params})}rn(Su,"build");var Sp={};rs(Sp,{WatchEndpoint:()=>Sf,WatchSequenceEndpoint:()=>Sg});var Sf={};rs(Sf,{PATH:()=>Sm,build:()=>Sv});var Sm="/reel/reel_item_watch";function Sv(e){var t,i;return{playerRequest:{videoId:e.short_id,params:null!==(t=e.params)&&void 0!==t?t:"CAUwAg%3D%3D"},params:null!==(i=e.params)&&void 0!==i?i:"CAUwAg%3D%3D"}}rn(Sv,"build");var Sg={};rs(Sg,{PATH:()=>Sy,build:()=>S_});var Sy="/reel/reel_watch_sequence";function S_(e){return{sequenceParams:e.sequenceParams}}rn(S_,"build");var Sb={};rs(Sb,{CreateVideoEndpoint:()=>Sw});var Sw={};rs(Sw,{PATH:()=>Sx,build:()=>SS});var Sx="/upload/createvideo";function SS(e){return Object.assign({resourceId:{scottyResourceId:{id:e.resource_id.scotty_resource_id.id}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:e.initial_metadata.title.new_title},description:{newDescription:e.initial_metadata.description.new_description,shouldSegment:e.initial_metadata.description.should_segment},privacy:{newPrivacy:e.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!e.initial_metadata.draft_state.is_draft}}},{client:e.client})}rn(SS,"build");var SC={};rs(SC,{BlocklistPickerEndpoint:()=>ST});var ST={};rs(ST,{PATH:()=>SI,build:()=>SE});var SI="/kids/get_kids_blocklist_picker";function SE(e){return{blockedForKidsContent:{external_channel_id:e.channel_id}}}rn(SE,"build");var Sk=class{constructor(e,t){var i,n;to.set(this,void 0),ta.set(this,void 0),rp(this,ta,t,"f");let s=rI.parseResponse(e[0].data),r=rI.parseResponse(e[1].data);this.basic_info=s.video_details,this.watch_next_feed=null===(i=r.entries)||void 0===i?void 0:i.array(),rp(this,to,null===(n=r.continuationEndpoint)||void 0===n?void 0:n.as(_Q),"f")}getWatchNextContinuation(){var e,t;return ra(this,void 0,void 0,function*(){if(!ru(this,to,"f"))throw new SO("Watch next feed continuation not found");let i=yield ru(this,ta,"f").execute(Sp.WatchSequenceEndpoint.PATH,Sp.WatchSequenceEndpoint.build({sequenceParams:ru(this,to,"f").token}));if(!i.success)throw new SO("Continue failed ",i.status_code);let n=rI.parseResponse(i.data);return this.watch_next_feed=null===(e=n.entries)||void 0===e?void 0:e.array(),rp(this,to,null===(t=n.continuationEndpoint)||void 0===t?void 0:t.as(_Q),"f"),this})}};rn(Sk,"VideoInfo"),to=new WeakMap,ta=new WeakMap;var SA=Sk,SR=class{constructor(e,t,i,n){var s,r,o,a,l,c,d,h,u,p,f,m,v,g,y,_,b,w,x,S,C,T,I,E,k,A,R;let P=new rF(e);this.id=n||(null===(a=null===(o=null===(r=null===(s=null==P?void 0:P.runs)||void 0===s?void 0:s[0])||void 0===r?void 0:r.endpoint)||void 0===o?void 0:o.payload)||void 0===a?void 0:a.browseId)||(null===(c=null===(l=null==P?void 0:P.endpoint)||void 0===l?void 0:l.payload)||void 0===c?void 0:c.browseId)||"N/A",this.name=(null==P?void 0:P.text)||"N/A",this.thumbnails=i?rN.fromResponse(i):[],this.endpoint=(null===(h=null===(d=null==P?void 0:P.runs)||void 0===d?void 0:d[0])||void 0===h?void 0:h.endpoint)||(null==P?void 0:P.endpoint),this.badges=Array.isArray(t)?rI.parseArray(t):ry([]),this.is_moderator=null===(u=this.badges)||void 0===u?void 0:u.some(e=>"MODERATOR"==e.icon_type),this.is_verified=null===(p=this.badges)||void 0===p?void 0:p.some(e=>"BADGE_STYLE_TYPE_VERIFIED"==e.style),this.is_verified_artist=null===(f=this.badges)||void 0===f?void 0:f.some(e=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"==e.style),this.url=(null===(y=null===(g=null===(v=null===(m=null==P?void 0:P.runs)||void 0===m?void 0:m[0])||void 0===v?void 0:v.endpoint)||void 0===g?void 0:g.metadata)||void 0===y?void 0:y.api_url)==="/browse"&&`${rw.YT_BASE}${(null===(x=null===(w=null===(b=null===(_=null==P?void 0:P.runs)||void 0===_?void 0:_[0])||void 0===b?void 0:b.endpoint)||void 0===w?void 0:w.payload)||void 0===x?void 0:x.canonicalBaseUrl)||`/u/${null===(I=null===(T=null===(C=null===(S=null==P?void 0:P.runs)||void 0===S?void 0:S[0])||void 0===C?void 0:C.endpoint)||void 0===T?void 0:T.payload)||void 0===I?void 0:I.browseId}`}`||`${rw.YT_BASE}${(null===(k=null===(E=null==P?void 0:P.endpoint)||void 0===E?void 0:E.payload)||void 0===k?void 0:k.canonicalBaseUrl)||`/u/${null===(R=null===(A=null==P?void 0:P.endpoint)||void 0===A?void 0:A.payload)||void 0===R?void 0:R.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};rn(SR,"Author");var SP={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]},SM=class{static load(e){rp(SM,tl,e,"f",tc)}static get shim(){if(!ru(SM,tl,"f",tc))throw Error("Platform is not loaded");return ru(SM,tl,"f",tc)}};rn(SM,"Platform"),tl=SM,tc={value:void 0};var SO=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=SM.shim.info.version}};rn(SO,"InnertubeError");var SL=class extends SO{};rn(SL,"ParsingError");var SD=class extends SO{};rn(SD,"MissingParamError");var SN=class extends SO{};rn(SN,"OAuthError");var SB=class extends Error{};rn(SB,"PlayerError");var SU=class extends Error{};rn(SU,"SessionError");var SV=class extends Error{};function SF(e,t){return Reflect.ownKeys(e).some(i=>{let n=t[i]instanceof rF;return n||"object"!=typeof t[i]?e[i]===(n?t[i].toString():t[i]):JSON.stringify(e[i])===JSON.stringify(t[i])})}function Sj(e,t,i){let n=RegExp(`${SH(t)}(.*?)${SH(i)}`,"s"),s=e.match(n);return s?s[1]:void 0}function SH(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function SW(e){let t=SP[e],i=Math.floor(Math.random()*t.length);return t[i]}function S$(e){return ra(this,void 0,void 0,function*(){let t=Math.floor(new Date().getTime()/1e3),i=[t,e,"https://www.youtube.com"].join(" ");return["SAPISIDHASH",[t,(yield SM.shim.sha1Hash(i))].join("_")].join(" ")})}function SG(e){let t=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<e;n++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}function SK(e){let t=e.split(":").map(e=>parseInt(e.replace(/\D/g,"")));switch(t.length){case 1:return t[0];case 2:return 60*t[0]+t[1];case 3:return 3600*t[0]+60*t[1]+t[2];default:throw Error("Invalid time string")}}function SY(...e){let t=new r_;for(let i of e)if(i)for(let e of i){let i=t.get(e[0]);if(i){t.set(e[0],[...i,...e[1]]);continue}t.set(...e)}return t}function Sq(e){for(let[t,i]of Object.entries(e))if(!i)throw new SD(`${t} is missing`)}function Sz(e,...t){for(let i of t)if(!Reflect.has(e,i)||void 0===e[i])return!1;return!0}function SJ(e){return rd(this,arguments,rn(function*(){let t=e.getReader();try{for(;;){let{done:e,value:i}=yield rc(t.read());if(e)return yield rc(void 0);yield yield rc(i)}}finally{t.releaseLock()}},"streamToIterable_1"))}rn(SV,"ChannelError"),rn(SF,"deepCompare"),rn(Sj,"getStringBetweenStrings"),rn(SH,"escapeStringRegexp"),rn(SW,"getRandomUserAgent"),rn(S$,"generateSidAuth"),rn(SG,"generateRandomString"),rn(SK,"timeToSeconds"),rn(SY,"concatMemos"),rn(Sq,"throwIfMissing"),rn(Sz,"hasKeys"),rn(SJ,"streamToIterable");var SX=rn((e,t)=>{let i="string"==typeof e?new URL(e):e instanceof URL?e:new URL(e.url),n=(null==t?void 0:t.headers)?new Headers(t.headers):e instanceof Request?e.headers:new Headers,s=[...n],r=(null==t?void 0:t.body)?"string"==typeof t.body?"application/json"===n.get("content-type")?JSON.stringify(JSON.parse(t.body),null,2):t.body:"    <binary>":"    (none)",o=s.length>0?`${s.map(([e,t])=>`    ${e}: ${t}`).join("\n")}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(null==t?void 0:t.method)||"GET"}
  headers:
${o}
' + 
    '  body:
${r}`),SM.shim.fetch(e,t)},"debugFetch");function SQ(e){return btoa(String.fromCharCode.apply(null,Array.from(e)))}function SZ(e){return new Uint8Array(atob(e).split("").map(e=>e.charCodeAt(0)))}function S0(e){return!("emoji"in e)}function S1(e){return ra(this,void 0,void 0,function*(){let t=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(e){let i=new Uint8Array(e),n=[];for(let e=0;e<i.length;++e)n.push(t[i[e]]);return n.join("")}return rn(i,"hex"),i((yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(e))))})}rn(SQ,"u8ToBase64"),rn(SZ,"base64ToU8"),rn(S0,"isTextRun"),rn(S1,"sha1Hash");var S2={version:"8.0.0",bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme"},S3={};rs(S3,{ArrayExpression:()=>S5,ArrowFunctionExpression:()=>S8,AssignmentExpression:()=>S9,BinaryExpression:()=>S7,BlockStatement:()=>Ce,BreakStatement:()=>Ct,CallExpression:()=>Cn,ConditionalExpression:()=>Cr,ContinueStatement:()=>Co,ExpressionStatement:()=>Ca,ForOfStatement:()=>Cl,ForStatement:()=>Cc,FunctionDeclaration:()=>Cd,FunctionExpression:()=>Ch,Identifier:()=>Cu,IfStatement:()=>Cp,Literal:()=>Cf,LogicalExpression:()=>Cm,MemberExpression:()=>Cv,NewExpression:()=>Cg,ObjectExpression:()=>Cy,Property:()=>Cb,ReturnStatement:()=>Cw,SequenceExpression:()=>Cx,SwitchCase:()=>CS,SwitchStatement:()=>CC,ThisExpression:()=>CT,ThrowStatement:()=>CI,TryStatement:()=>CE,UnaryExpression:()=>Ck,UpdateExpression:()=>CA,VariableDeclaration:()=>CR,WhileStatement:()=>CP});var S6=class{constructor(e,t){this.node=e,this.visitor=t}run(){}};rn(S6,"BaseJSNode");var S5=class extends S6{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};rn(S5,"ArrayExpression"),rs({},{namedFunction:()=>S4});var S4=rn((e,t)=>Object.defineProperty(t,"name",{value:e}),"namedFunction"),S8=class extends S6{run(){let{params:e,body:t}=this.node;return S4("anonymous function",i=>{let n=0;for(let t of e)this.visitor.visitNode(t),"Identifier"===t.type?this.visitor.scope.set(t.name,i[n]):console.warn("Unhandled param type",t.type),n++;return this.visitor.visitNode(t)})}};rn(S8,"ArrowFunctionExpression");var S9=class extends S6{run(){let e=this.node.operator,t=this.visitor.visitNode(this.node.right);switch(e){case"=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]=t;if("Identifier"===this.node.left.type)return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]+=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)+t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]-=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)-t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]*=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)*t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]/=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)/t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]%=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)%t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]**=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)**t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]<<=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)<<t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]>>=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)>>t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]>>>=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)>>>t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if("MemberExpression"===this.node.left.type){let e=this.visitor.visitNode(this.node.left.object),i=this.visitor.visitNode(this.node.left.property);return e[i]&=t}if("Identifier"===this.node.left.type){let e=this.visitor.visitNode(this.node.left)&t;return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left)}}};rn(S9,"AssignmentExpression");var S7=class extends S6{run(){let e=this.node.operator,t=this.visitor.visitNode(this.node.left),i=this.visitor.visitNode(this.node.right);switch(e){case"!=":return t!=i;case"!==":return t!==i;case"%":return t%i;case"&":return t&i;case"*":return t*i;case"**":return t**i;case"+":return t+i;case"-":return t-i;case"/":return t/i;case"<":return t<i;case"<<":return t<<i;case"<=":return t<=i;case"==":return t==i;case"===":return t===i;case">":return t>i;case">=":return t>=i;case">>":return t>>i;case">>>":return t>>>i;case"^":return t^i;case"|":return t|i;case"in":return t in i;case"instanceof":return t instanceof i}}};rn(S7,"BinaryExpression");var Ce=class extends S6{run(){for(let e of this.node.body){let t=this.visitor.visitNode(e);if("ReturnStatement"===e.type||"break"===t||"continue"===t||("WhileStatement"===e.type||"IfStatement"===e.type||"ForStatement"===e.type||"TryStatement"===e.type)&&t)return t}}};rn(Ce,"BlockStatement");var Ct=class extends S6{run(){return"break"}};rn(Ct,"BreakStatement");var Ci=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},Cn=class extends S6{constructor(){super(...arguments),td.add(this)}run(){let e,t;if("MemberExpression"===this.node.callee.type?(e=this.visitor.getName(this.node.callee.object),t=this.visitor.getName(this.node.callee.property)):"Identifier"===this.node.callee.type&&(t=this.node.callee.name),e&&this.visitor.listeners[e]){let t=this.visitor.listeners[e](this.node,this.visitor);if("proceed"!==t)return t}if(t&&"toString"!==t&&this.visitor.listeners[t]){let e=this.visitor.listeners[t](this.node,this.visitor);if("proceed"!==e)return e}if("MemberExpression"===this.node.callee.type){if(Cs.has(this.node,this.visitor))return Cs.execute(this.node,this.visitor);let e=this.visitor.visitNode(this.node.callee.object),t=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),i=this.node.arguments.map(e=>this.visitor.visitNode(e));return("function"!=typeof e[t]&&Ci(this,td,"m",th).call(this),e[t].toString().includes("[native code]"))?e[t](...i):e[t](i)}let i=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(e=>this.visitor.visitNode(e));return"function"!=typeof i&&Ci(this,td,"m",th).call(this),i(n)}};rn(Cn,"CallExpression"),td=new WeakSet,th=rn(function(){if("MemberExpression"===this.node.callee.type)throw Error(`${"Identifier"===this.node.callee.object.type?this.node.callee.object.name:"<object>"}.${"Identifier"===this.node.callee.property.type?this.node.callee.property.name:"?"} is not a function`);if("Identifier"===this.node.callee.type)throw Error(`${this.node.callee.name} is not a function`);if("SequenceExpression"===this.node.callee.type){let e=[],t=[];throw e.push("("),this.node.callee.expressions.forEach(e=>{"Literal"===e.type?t.push(e.raw||""):"Identifier"===e.type?t.push(e.name):"MemberExpression"===e.type&&(e.computed?t.push(`${this.visitor.getName(e.object)}[${this.visitor.getName(e.property)||"..."}]`):t.push(`${this.visitor.getName(e.object)}.${this.visitor.getName(e.property)}`))}),e.push(t.join(", ")),e.push(")"),Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Cs=class{static has(e,t){var i;return"MemberExpression"===e.callee.type&&!!(null===(i=this.builtins)||void 0===i?void 0:i[t.getName(e.callee.property)||""])}static execute(e,t){if("MemberExpression"===e.callee.type)return this.builtins[t.getName(e.callee.property)||""](e,t)}};rn(Cs,"Builtins"),Cs.builtins={forEach:(e,t)=>{let i=e.arguments.map(e=>t.visitNode(e));if("MemberExpression"===e.callee.type){let n=t.visitNode(e.callee.object);i.length>1&&t.scope.set("_this",i.slice(-1)[0]);let s=0;for(let e of n)i[0]([e,s++,n])}else console.warn("Unhandled callee type:",e.callee.type)},toString:(e,t)=>{if("MemberExpression"===e.callee.type)return t.visitNode(e.callee.object).toString()}};var Cr=class extends S6{run(){let{test:e,consequent:t,alternate:i}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(t):this.visitor.visitNode(i)}};rn(Cr,"ConditionalExpression");var Co=class extends S6{run(){return"continue"}};rn(Co,"ContinueStatement");var Ca=class extends S6{run(){return this.visitor.visitNode(this.node.expression)}};rn(Ca,"ExpressionStatement");var Cl=class extends S6{run(){for(let e of(this.visitor.visitNode(this.node.left),this.visitor.visitNode(this.node.right))){if("VariableDeclaration"===this.node.left.type&&"Identifier"===this.node.left.declarations[0].id.type)this.visitor.scope.set(this.node.left.declarations[0].id.name,e);else if("VariableDeclaration"===this.node.left.type&&"ObjectPattern"===this.node.left.declarations[0].id.type)for(let t of this.node.left.declarations[0].id.properties)"Property"===t.type&&"Identifier"===t.value.type&&"Identifier"===t.key.type&&this.visitor.scope.set(t.value.name,e[t.key.name]);let t=this.visitor.visitNode(this.node.body);if("break"===t)break;if("continue"!==t&&t&&"ExpressionStatement"!==this.node.body.type)return t}}};rn(Cl,"ForOfStatement");var Cc=class extends S6{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=rn(()=>!this.node.test||this.visitor.visitNode(this.node.test),"test");for(;e();){let e=this.visitor.visitNode(this.node.body);if("continue"!==e){if("break"===e)break;if(this.node.update&&this.visitor.visitNode(this.node.update),e&&"ExpressionStatement"!==this.node.body.type)return e}}}};rn(Cc,"ForStatement");var Cd=class extends S6{run(){let{params:e,body:t}=this.node,i=this.visitor.visitNode(this.node.id),n=S4(i,i=>{let n=0;for(let t of e)this.visitor.visitNode(t),"Identifier"===t.type?this.visitor.scope.set(t.name,i[n]):console.warn("Unhandled param type",t.type),n++;return this.visitor.visitNode(t)});this.visitor.scope.set(i,n)}};rn(Cd,"FunctionDeclaration");var Ch=class extends S6{run(){let{params:e,body:t}=this.node;return S4("anonymous function",i=>{let n=0;for(let t of e)this.visitor.visitNode(t),"Identifier"===t.type?this.visitor.scope.set(t.name,i[n]):console.warn("Unhandled param type",t.type),n++;return this.visitor.visitNode(t)})}};rn(Ch,"FunctionExpression");var Cu=class extends S6{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if("proceed"!==e)return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};rn(Cu,"Identifier");var Cp=class extends S6{run(){return this.visitor.visitNode(this.node.test)?this.visitor.visitNode(this.node.consequent):this.node.alternate?this.visitor.visitNode(this.node.alternate):void 0}};rn(Cp,"IfStatement");var Cf=class extends S6{run(){return this.node.value}};rn(Cf,"Literal");var Cm=class extends S6{run(){switch(this.node.operator){case"&&":{let e=this.visitor.visitNode(this.node.left);if(!0===e)return this.visitor.visitNode(this.node.right);return e}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let e=this.visitor.visitNode(this.node.left);return null!=e?e:this.visitor.visitNode(this.node.right)}}}};rn(Cm,"LogicalExpression");var Cv=class extends S6{run(){let{object:e,property:t,computed:i}=this.node,n=this.visitor.visitNode(e),s=i?this.visitor.visitNode(t):this.visitor.getName(t);if(void 0!==s||null!==s){if(this.visitor.listeners[s]){let e=this.visitor.listeners[s](this.node,this.visitor);if("proceed"!==e)return e}return null==n?void 0:n[s]}}};rn(Cv,"MemberExpression");var Cg=class extends S6{run(){return new(this.visitor.visitNode(this.node.callee))(this.node.arguments.map(e=>this.visitor.visitNode(e)))}};rn(Cg,"NewExpression");var Cy=class extends S6{run(){let e={};for(let t of this.node.properties)if("Property"===t.type)e=Object.assign(Object.assign({},e),this.visitor.visitNode(t));else throw Error(`Unhandled property type: ${t.type}`);return e}};rn(Cy,"ObjectExpression");var C_=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},Cb=class extends S6{constructor(){super(...arguments),tu.add(this)}run(){switch(this.node.kind){case"init":return C_(this,tu,"m",tp).call(this);case"get":return C_(this,tu,"m",tf).call(this);case"set":return C_(this,tu,"m",tm).call(this);default:throw Error(`Unhandled property kind: ${this.node.kind}`)}}};rn(Cb,"Property"),tu=new WeakSet,tp=rn(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),t=this.visitor.visitNode(this.node.value);if(e)return{[e]:t}},"_Property_init"),tf=rn(function(){throw TypeError("Not implemented: Property.get")},"_Property_get"),tm=rn(function(){throw TypeError("Not implemented: Property.set")},"_Property_set");var Cw=class extends S6{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};rn(Cw,"ReturnStatement");var Cx=class extends S6{run(){let e;for(let t of this.node.expressions)e=this.visitor.visitNode(t);return e}};rn(Cx,"SequenceExpression");var CS=class extends S6{run(){for(let e of this.node.consequent){let t=this.visitor.visitNode(e);if("ContinueStatement"===e.type||"BreakStatement"===e.type)return t}}};rn(CS,"SwitchCase");var CC=class extends S6{run(){let e=this.visitor.visitNode(this.node.discriminant),t=!1,i=-1,n=0;for(;;){let s=this.node.cases[n];if(t){let e=this.visitor.visitNode(s);if("break"===e)break;if("continue"===e)return e;if(!(++n>=this.node.cases.length))continue;n=0;break}if(void 0===(t=s&&e===this.visitor.visitNode(s.test))&&n>this.node.cases.length)break;if(s&&!t&&!s.test){i=n,n+=1;continue}if(!s&&!t&&-1!==i){t=!0,n=i;continue}!t&&++n}}};rn(CC,"SwitchStatement");var CT=class extends S6{run(){return this.visitor.scope.get("_this")}};rn(CT,"ThisExpression");var CI=class extends S6{run(){throw this.visitor.visitNode(this.node.argument)}};rn(CI,"ThrowStatement");var CE=class extends S6{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&"Identifier"===this.node.handler.param.type&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};rn(CE,"TryStatement");var Ck=class extends S6{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":this.visitor.visitNode(this.node.argument);return;case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":if("MemberExpression"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument.object),t=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete e[t]}if("Identifier"===this.node.argument.type)return this.visitor.scope.delete(this.node.argument.name);return!0;default:console.warn("Unhandled UnaryExpression operator",e)}}};rn(Ck,"UnaryExpression");var CA=class extends S6{run(){switch(this.node.operator){case"++":if("MemberExpression"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument.object);return e[this.visitor.visitNode(this.node.argument.property)]++}if("Identifier"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,e+1),this.node.prefix?++e:e}break;case"--":if("MemberExpression"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument.object);return e[this.visitor.visitNode(this.node.argument.property)]--}if("Identifier"===this.node.argument.type){let e=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,e-1),this.node.prefix?--e:e}}}};rn(CA,"UpdateExpression");var CR=class extends S6{run(){this.node.declarations.forEach(e=>{let{id:t,init:i}=e,n=this.visitor.getName(t),s=i?this.visitor.visitNode(i):void 0;n&&this.visitor.scope.set(n,s),"object"==typeof s&&null!==s&&this.visitor.scope.set("_this",s)})}};rn(CR,"VariableDeclaration");var CP=class extends S6{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if("break"===e)break;if("continue"!==e&&e)return e}}};rn(CP,"WhileStatement");var CM=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},CO=class{constructor(e){tv.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let t of this.ast)e=this.visitNode(t);return e}visitNode(e){if(!e)return null;let t=CM(this,tv,"m",tg).call(this,e.type);if(t)return new t(e,this).run()}getName(e){return"Identifier"===e.type?e.name:"Literal"===e.type?e.value:void 0}on(e,t){this.listeners[e]=t}};rn(CO,"Visitor"),tv=new WeakSet,tg=rn(function(e){let t=S3[e];return t||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),t},"_Visitor_getNode");var CL=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],CD=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],CN="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",CB={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},CU="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",CV={5:CU,"5module":CU+" export import",6:CU+" const class extends export import super"},CF=/^in(stanceof)?$/,Cj=RegExp("["+CN+"]"),CH=RegExp("["+CN+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function CW(e,t){for(var i=65536,n=0;n<t.length&&!((i+=t[n])>e);n+=2)if((i+=t[n+1])>=e)return!0;return!1}function C$(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&Cj.test(String.fromCharCode(e)):!1!==t&&CW(e,CD)))}function CG(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&CH.test(String.fromCharCode(e)):!1!==t&&(CW(e,CD)||CW(e,CL)))))}rn(CW,"isInAstralSet"),rn(C$,"isIdentifierStart"),rn(CG,"isIdentifierChar");var CK=rn(function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},"TokenType");function CY(e,t){return new CK(e,{beforeExpr:!0,binop:t})}rn(CY,"binop");var Cq={beforeExpr:!0},Cz={startsExpr:!0},CJ={};function CX(e,t){return void 0===t&&(t={}),t.keyword=e,CJ[e]=new CK(e,t)}rn(CX,"kw");var CQ={num:new CK("num",Cz),regexp:new CK("regexp",Cz),string:new CK("string",Cz),name:new CK("name",Cz),privateId:new CK("privateId",Cz),eof:new CK("eof"),bracketL:new CK("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new CK("]"),braceL:new CK("{",{beforeExpr:!0,startsExpr:!0}),braceR:new CK("}"),parenL:new CK("(",{beforeExpr:!0,startsExpr:!0}),parenR:new CK(")"),comma:new CK(",",Cq),semi:new CK(";",Cq),colon:new CK(":",Cq),dot:new CK("."),question:new CK("?",Cq),questionDot:new CK("?."),arrow:new CK("=>",Cq),template:new CK("template"),invalidTemplate:new CK("invalidTemplate"),ellipsis:new CK("...",Cq),backQuote:new CK("`",Cz),dollarBraceL:new CK("${",{beforeExpr:!0,startsExpr:!0}),eq:new CK("=",{beforeExpr:!0,isAssign:!0}),assign:new CK("_=",{beforeExpr:!0,isAssign:!0}),incDec:new CK("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new CK("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:CY("||",1),logicalAND:CY("&&",2),bitwiseOR:CY("|",3),bitwiseXOR:CY("^",4),bitwiseAND:CY("&",5),equality:CY("==/!=/===/!==",6),relational:CY("</>/<=/>=",7),bitShift:CY("<</>>/>>>",8),plusMin:new CK("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:CY("%",10),star:CY("*",10),slash:CY("/",10),starstar:new CK("**",{beforeExpr:!0}),coalesce:CY("??",1),_break:CX("break"),_case:CX("case",Cq),_catch:CX("catch"),_continue:CX("continue"),_debugger:CX("debugger"),_default:CX("default",Cq),_do:CX("do",{isLoop:!0,beforeExpr:!0}),_else:CX("else",Cq),_finally:CX("finally"),_for:CX("for",{isLoop:!0}),_function:CX("function",Cz),_if:CX("if"),_return:CX("return",Cq),_switch:CX("switch"),_throw:CX("throw",Cq),_try:CX("try"),_var:CX("var"),_const:CX("const"),_while:CX("while",{isLoop:!0}),_with:CX("with"),_new:CX("new",{beforeExpr:!0,startsExpr:!0}),_this:CX("this",Cz),_super:CX("super",Cz),_class:CX("class",Cz),_extends:CX("extends",Cq),_export:CX("export"),_import:CX("import",Cz),_null:CX("null",Cz),_true:CX("true",Cz),_false:CX("false",Cz),_in:CX("in",{beforeExpr:!0,binop:7}),_instanceof:CX("instanceof",{beforeExpr:!0,binop:7}),_typeof:CX("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:CX("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:CX("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},CZ=/\r\n?|\n|\u2028|\u2029/,C0=RegExp(CZ.source,"g");function C1(e){return 10===e||13===e||8232===e||8233===e}function C2(e,t,i){void 0===i&&(i=e.length);for(var n=t;n<i;n++){var s=e.charCodeAt(n);if(C1(s))return n<i-1&&13===s&&10===e.charCodeAt(n+1)?n+2:n+1}return -1}rn(C1,"isNewLine"),rn(C2,"nextLineBreak");var C3=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C6=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,C5=Object.prototype,C4=C5.hasOwnProperty,C8=C5.toString,C9=Object.hasOwn||function(e,t){return C4.call(e,t)},C7=Array.isArray||function(e){return"[object Array]"===C8.call(e)};function Te(e){return RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function Tt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,(1023&e)+56320)}rn(Te,"wordsRegexp"),rn(Tt,"codePointToString");var Ti=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Tn=rn(function(e,t){this.line=e,this.column=t},"Position");Tn.prototype.offset=rn(function(e){return new Tn(this.line,this.column+e)},"offset");var Ts=rn(function(e,t,i){this.start=t,this.end=i,null!==e.sourceFile&&(this.source=e.sourceFile)},"SourceLocation");function Tr(e,t){for(var i=1,n=0;;){var s=C2(e,n,t);if(s<0)return new Tn(i,t-n);++i,n=s}}rn(Tr,"getLineInfo");var To={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ta=!1;function Tl(e){var t={};for(var i in To)t[i]=e&&C9(e,i)?e[i]:To[i];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!Ta&&"object"==typeof console&&console.warn&&(Ta=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),e&&null!=e.allowHashBang||(t.allowHashBang=t.ecmaVersion>=14),C7(t.onToken)){var n=t.onToken;t.onToken=function(e){return n.push(e)}}return C7(t.onComment)&&(t.onComment=Tc(t,t.onComment)),t}function Tc(e,t){return function(i,n,s,r,o,a){var l={type:i?"Block":"Line",value:n,start:s,end:r};e.locations&&(l.loc=new Ts(this,o,a)),e.ranges&&(l.range=[s,r]),t.push(l)}}function Td(e,t){return 2|(e?4:0)|(t?8:0)}rn(Tl,"getOptions"),rn(Tc,"pushComment"),rn(Td,"functionFlags");var Th=rn(function(e,t,i){this.options=e=Tl(e),this.sourceFile=e.sourceFile,this.keywords=Te(CV[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var n="";!0!==e.allowReserved&&(n=CB[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(n+=" await")),this.reservedWords=Te(n);var s=(n?n+" ":"")+CB.strict;this.reservedWordsStrict=Te(s),this.reservedWordsStrictBind=Te(s+" "+CB.strictBind),this.input=String(t),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(CZ).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=CQ.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},"Parser"),Tu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Th.prototype.parse=rn(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse"),Tu.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},Tu.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},Tu.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},Tu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||256&t.flags)return!1;if(2&t.flags)return(4&t.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Tu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(64&t)>0||i||this.options.allowSuperOutsideMethod},Tu.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},Tu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Tu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(258&t)>0||i},Tu.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},Th.extend=rn(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=this,n=0;n<e.length;n++)i=e[n](i);return i},"extend"),Th.parse=rn(function(e,t){return new this(t,e).parse()},"parse"),Th.parseExpressionAt=rn(function(e,t,i){var n=new this(i,e,t);return n.nextToken(),n.parseExpression()},"parseExpressionAt"),Th.tokenizer=rn(function(e,t){return new this(t,e)},"tokenizer"),Object.defineProperties(Th.prototype,Tu);var Tp=Th.prototype,Tf=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Tp.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){C6.lastIndex=e,e+=C6.exec(this.input)[0].length;var t=Tf.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){C6.lastIndex=e+t[0].length;var i=C6.exec(this.input),n=i.index+i[0].length,s=this.input.charAt(n);return";"===s||"}"===s||CZ.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||"!"===s&&"="===this.input.charAt(n+1))}e+=t[0].length,C6.lastIndex=e,e+=C6.exec(this.input)[0].length,";"===this.input[e]&&e++}},Tp.eat=function(e){return this.type===e&&(this.next(),!0)},Tp.isContextual=function(e){return this.type===CQ.name&&this.value===e&&!this.containsEsc},Tp.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},Tp.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},Tp.canInsertSemicolon=function(){return this.type===CQ.eof||this.type===CQ.braceR||CZ.test(this.input.slice(this.lastTokEnd,this.start))},Tp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Tp.semicolon=function(){this.eat(CQ.semi)||this.insertSemicolon()||this.unexpected()},Tp.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},Tp.expect=function(e){this.eat(e)||this.unexpected()},Tp.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var Tm=rn(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Tp.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var i=t?e.parenthesizedAssign:e.parenthesizedBind;i>-1&&this.raiseRecoverable(i,t?"Assigning to rvalue":"Parenthesized pattern")}},Tp.checkExpressionErrors=function(e,t){if(!e)return!1;var i=e.shorthandAssign,n=e.doubleProto;if(!t)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},Tp.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Tp.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var Tv=Th.prototype;Tv.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==CQ.eof;){var i=this.parseStatement(null,!0,t);e.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var r=s[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Tg={kind:"loop"},Ty={kind:"switch"};Tv.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C6.lastIndex=this.pos;var t=C6.exec(this.input),i=this.pos+t[0].length,n=this.input.charCodeAt(i);if(91===n||92===n)return!0;if(e)return!1;if(123===n||n>55295&&n<56320)return!0;if(C$(n,!0)){for(var s=i+1;CG(n=this.input.charCodeAt(s),!0);)++s;if(92===n||n>55295&&n<56320)return!0;var r=this.input.slice(i,s);if(!CF.test(r))return!0}return!1},Tv.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C6.lastIndex=this.pos;var e,t=C6.exec(this.input),i=this.pos+t[0].length;return!CZ.test(this.input.slice(this.pos,i))&&"function"===this.input.slice(i,i+8)&&(i+8===this.input.length||!(CG(e=this.input.charCodeAt(i+8))||e>55295&&e<56320))},Tv.parseStatement=function(e,t,i){var n,s=this.type,r=this.startNode();switch(this.isLet(e)&&(s=CQ._var,n="let"),s){case CQ._break:case CQ._continue:return this.parseBreakContinueStatement(r,s.keyword);case CQ._debugger:return this.parseDebuggerStatement(r);case CQ._do:return this.parseDoStatement(r);case CQ._for:return this.parseForStatement(r);case CQ._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!e);case CQ._class:return e&&this.unexpected(),this.parseClass(r,!0);case CQ._if:return this.parseIfStatement(r);case CQ._return:return this.parseReturnStatement(r);case CQ._switch:return this.parseSwitchStatement(r);case CQ._throw:return this.parseThrowStatement(r);case CQ._try:return this.parseTryStatement(r);case CQ._const:case CQ._var:return n=n||this.value,e&&"var"!==n&&this.unexpected(),this.parseVarStatement(r,n);case CQ._while:return this.parseWhileStatement(r);case CQ._with:return this.parseWithStatement(r);case CQ.braceL:return this.parseBlock(!0,r);case CQ.semi:return this.parseEmptyStatement(r);case CQ._export:case CQ._import:if(this.options.ecmaVersion>10&&s===CQ._import){C6.lastIndex=this.pos;var o=C6.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(40===l||46===l)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===CQ._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!e);var c=this.value,d=this.parseExpression();if(s===CQ.name&&"Identifier"===d.type&&this.eat(CQ.colon))return this.parseLabeledStatement(r,c,d,e);return this.parseExpressionStatement(r,d)}},Tv.parseBreakContinueStatement=function(e,t){var i="break"===t;this.next(),this.eat(CQ.semi)||this.insertSemicolon()?e.label=null:this.type!==CQ.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((null==e.label||s.name===e.label.name)&&(null!=s.kind&&(i||"loop"===s.kind)||e.label&&i))break}return n===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,i?"BreakStatement":"ContinueStatement")},Tv.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Tv.parseDoStatement=function(e){return this.next(),this.labels.push(Tg),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(CQ._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(CQ.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Tv.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Tg),this.enterScope(0),this.expect(CQ.parenL),this.type===CQ.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var i=this.isLet();if(this.type===CQ._var||this.type===CQ._const||i){var n=this.startNode(),s=i?"let":this.value;return(this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===CQ._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===n.declarations.length)?(this.options.ecmaVersion>=9&&(this.type===CQ._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,n)):(t>-1&&this.unexpected(t),this.parseFor(e,n))}var r=this.isContextual("let"),o=!1,a=new Tm,l=this.parseExpression(!(t>-1)||"await",a);return this.type===CQ._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===CQ._in?t>-1&&this.unexpected(t):e.await=t>-1),r&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))},Tv.parseFunctionStatement=function(e,t,i){return this.next(),this.parseFunction(e,Tb|(i?0:Tw),!1,t)},Tv.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(CQ._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Tv.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(CQ.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Tv.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(CQ.braceL),this.labels.push(Ty),this.enterScope(0);for(var t,i=!1;this.type!==CQ.braceR;)if(this.type===CQ._case||this.type===CQ._default){var n=this.type===CQ._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,t.test=null),this.expect(CQ.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Tv.parseThrowStatement=function(e){return this.next(),CZ.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var T_=[];Tv.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(CQ.parenR),e},Tv.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===CQ._catch){var t=this.startNode();this.next(),this.eat(CQ.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(CQ._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Tv.parseVarStatement=function(e,t,i){return this.next(),this.parseVar(e,!1,t,i),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Tv.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Tg),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Tv.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Tv.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Tv.parseLabeledStatement=function(e,t,i,n){for(var s=0,r=this.labels;s<r.length;s+=1)r[s].name===t&&this.raise(i.start,"Label '"+t+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===CQ._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var l=this.labels[a];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")},Tv.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Tv.parseBlock=function(e,t,i){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(CQ.braceL),e&&this.enterScope(0);this.type!==CQ.braceR;){var n=this.parseStatement(null);t.body.push(n)}return i&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Tv.parseFor=function(e,t){return e.init=t,this.expect(CQ.semi),e.test=this.type===CQ.semi?null:this.parseExpression(),this.expect(CQ.semi),e.update=this.type===CQ.parenR?null:this.parseExpression(),this.expect(CQ.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Tv.parseForIn=function(e,t){var i=this.type===CQ._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(CQ.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")},Tv.parseVar=function(e,t,i,n){for(e.declarations=[],e.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(CQ.eq)?s.init=this.parseMaybeAssign(t):n||"const"!==i||this.type===CQ._in||this.options.ecmaVersion>=6&&this.isContextual("of")?n||"Identifier"===s.id.type||t&&(this.type===CQ._in||this.isContextual("of"))?s.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(CQ.comma))break}return e},Tv.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var Tb=1,Tw=2;function Tx(e,t){var i=t.key.name,n=e[i],s="true";return("MethodDefinition"===t.type&&("get"===t.kind||"set"===t.kind)&&(s=(t.static?"s":"i")+t.kind),"iget"===n&&"iset"===s||"iset"===n&&"iget"===s||"sget"===n&&"sset"===s||"sset"===n&&"sget"===s)?(e[i]="true",!1):!!n||(e[i]=s,!1)}function TS(e,t){var i=e.computed,n=e.key;return!i&&("Identifier"===n.type&&n.name===t||"Literal"===n.type&&n.value===t)}Tv.parseFunction=function(e,t,i,n,s){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===CQ.star&&t&Tw&&this.unexpected(),e.generator=this.eat(CQ.star)),this.options.ecmaVersion>=8&&(e.async=!!n),t&Tb&&(e.id=4&t&&this.type!==CQ.name?null:this.parseIdent(),e.id&&!(t&Tw)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var r=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Td(e.async,e.generator)),t&Tb||(e.id=this.type===CQ.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,i,!1,s),this.yieldPos=r,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&Tb?"FunctionDeclaration":"FunctionExpression")},Tv.parseFunctionParams=function(e){this.expect(CQ.parenL),e.params=this.parseBindingList(CQ.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Tv.parseClass=function(e,t){this.next();var i=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var n=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(CQ.braceL);this.type!==CQ.braceR;){var o=this.parseClassElement(null!==e.superClass);o&&(s.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(r&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),r=!0):o.key&&"PrivateIdentifier"===o.key.type&&Tx(n,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),e.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Tv.parseClassElement=function(e){if(this.eat(CQ.semi))return null;var t=this.options.ecmaVersion,i=this.startNode(),n="",s=!1,r=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(CQ.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===CQ.star?a=!0:n="static"}if(i.static=a,!n&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===CQ.star)&&!this.canInsertSemicolon()?r=!0:n="async"),!n&&(t>=9||!r)&&this.eat(CQ.star)&&(s=!0),!n&&!r&&!s){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:n=l)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),t<13||this.type===CQ.parenL||"method"!==o||s||r){var c=!i.static&&TS(i,"constructor");c&&"method"!==o&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=c?"constructor":o,this.parseClassMethod(i,s,r,c&&e)}else this.parseClassField(i);return i},Tv.isClassElementNameStart=function(){return this.type===CQ.name||this.type===CQ.privateId||this.type===CQ.num||this.type===CQ.string||this.type===CQ.bracketL||this.type.keyword},Tv.parseClassElementName=function(e){this.type===CQ.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},Tv.parseClassMethod=function(e,t,i,n){var s=e.key;"constructor"===e.kind?(t&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):e.static&&TS(e,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=e.value=this.parseMethod(t,i,n);return"get"===e.kind&&0!==r.params.length&&this.raiseRecoverable(r.start,"getter should have no params"),"set"===e.kind&&1!==r.params.length&&this.raiseRecoverable(r.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===r.params[0].type&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},Tv.parseClassField=function(e){if(TS(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&TS(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(CQ.eq)){var t=this.currentThisScope(),i=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=i}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},Tv.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==CQ.braceR;){var i=this.parseStatement(null);e.body.push(i)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},Tv.parseClassId=function(e,t){this.type===CQ.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},Tv.parseClassSuper=function(e){e.superClass=this.eat(CQ._extends)?this.parseExprSubscripts(null,!1):null},Tv.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},Tv.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,i=e.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=0===n?null:this.privateNameStack[n-1],r=0;r<i.length;++r){var o=i[r];C9(t,o.name)||(s?s.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},rn(Tx,"isPrivateNameConflicted"),rn(TS,"checkKeyName"),Tv.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==CQ.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},Tv.parseExport=function(e,t){if(this.next(),this.eat(CQ.star))return this.parseExportAllDeclaration(e,t);if(this.eat(CQ._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==CQ.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var i=0,n=e.specifiers;i<n.length;i+=1){var s=n[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),"Literal"===s.local.type&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Tv.parseExportDeclaration=function(e){return this.parseStatement(null)},Tv.parseExportDefaultDeclaration=function(){if(this.type===CQ._function||(e=this.isAsyncFunction())){var e,t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|Tb,!1,e)}if(this.type===CQ._class){var i=this.startNode();return this.parseClass(i,"nullableID")}var n=this.parseMaybeAssign();return this.semicolon(),n},Tv.checkExport=function(e,t,i){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),C9(e,t)&&this.raiseRecoverable(i,"Duplicate export '"+t+"'"),e[t]=!0)},Tv.checkPatternExport=function(e,t){var i=t.type;if("Identifier"===i)this.checkExport(e,t,t.start);else if("ObjectPattern"===i)for(var n=0,s=t.properties;n<s.length;n+=1){var r=s[n];this.checkPatternExport(e,r)}else if("ArrayPattern"===i)for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(e,l)}else"Property"===i?this.checkPatternExport(e,t.value):"AssignmentPattern"===i?this.checkPatternExport(e,t.left):"RestElement"===i?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===i&&this.checkPatternExport(e,t.expression)},Tv.checkVariableExport=function(e,t){if(e)for(var i=0;i<t.length;i+=1){var n=t[i];this.checkPatternExport(e,n.id)}},Tv.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Tv.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},Tv.parseExportSpecifiers=function(e){var t=[],i=!0;for(this.expect(CQ.braceL);!this.eat(CQ.braceR);){if(i)i=!1;else if(this.expect(CQ.comma),this.afterTrailingComma(CQ.braceR))break;t.push(this.parseExportSpecifier(e))}return t},Tv.parseImport=function(e){return this.next(),this.type===CQ.string?(e.specifiers=T_,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===CQ.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Tv.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},Tv.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},Tv.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},Tv.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===CQ.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(CQ.comma)))return e;if(this.type===CQ.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(CQ.braceL);!this.eat(CQ.braceR);){if(t)t=!1;else if(this.expect(CQ.comma),this.afterTrailingComma(CQ.braceR))break;e.push(this.parseImportSpecifier())}return e},Tv.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===CQ.string){var e=this.parseLiteral(this.value);return Ti.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},Tv.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Tv.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var TC=Th.prototype;TC.toAssignable=function(e,t,i){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.toAssignable(r,t),"RestElement"===r.type&&("ArrayPattern"===r.argument.type||"ObjectPattern"===r.argument.type)&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,i);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return e},TC.toAssignableList=function(e,t){for(var i=e.length,n=0;n<i;n++){var s=e[n];s&&this.toAssignable(s,t)}if(i){var r=e[i-1];6===this.options.ecmaVersion&&t&&r&&"RestElement"===r.type&&"Identifier"!==r.argument.type&&this.unexpected(r.argument.start)}return e},TC.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},TC.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==CQ.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},TC.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case CQ.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(CQ.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case CQ.braceL:return this.parseObj(!0)}return this.parseIdent()},TC.parseBindingList=function(e,t,i,n){for(var s=[],r=!0;!this.eat(e);)if(r?r=!1:this.expect(CQ.comma),t&&this.type===CQ.comma)s.push(null);else if(i&&this.afterTrailingComma(e))break;else if(this.type===CQ.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),s.push(o),this.type===CQ.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else s.push(this.parseAssignableListItem(n));return s},TC.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},TC.parseBindingListItem=function(e){return e},TC.parseMaybeDefault=function(e,t,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(CQ.eq))return i;var n=this.startNodeAt(e,t);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},TC.checkLValSimple=function(e,t,i){void 0===t&&(t=0);var n=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(n?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),i&&(C9(i,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),i[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,i);default:this.raise(e.start,(n?"Binding":"Assigning to")+" rvalue")}},TC.checkLValPattern=function(e,t,i){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,t,i)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,t,i)}break;default:this.checkLValSimple(e,t,i)}},TC.checkLValInnerPattern=function(e,t,i){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,i);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,i);break;case"RestElement":this.checkLValPattern(e.argument,t,i);break;default:this.checkLValPattern(e,t,i)}};var TT=rn(function(e,t,i,n,s){this.token=e,this.isExpr=!!t,this.preserveSpace=!!i,this.override=n,this.generator=!!s},"TokContext"),TI={b_stat:new TT("{",!1),b_expr:new TT("{",!0),b_tmpl:new TT("${",!1),p_stat:new TT("(",!1),p_expr:new TT("(",!0),q_tmpl:new TT("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new TT("function",!1),f_expr:new TT("function",!0),f_expr_gen:new TT("function",!0,!1,null,!0),f_gen:new TT("function",!1,!1,null,!0)},TE=Th.prototype;TE.initialContext=function(){return[TI.b_stat]},TE.curContext=function(){return this.context[this.context.length-1]},TE.braceIsBlock=function(e){var t=this.curContext();return t===TI.f_expr||t===TI.f_stat||(e===CQ.colon&&(t===TI.b_stat||t===TI.b_expr)?!t.isExpr:e===CQ._return||e===CQ.name&&this.exprAllowed?CZ.test(this.input.slice(this.lastTokEnd,this.start)):e===CQ._else||e===CQ.semi||e===CQ.eof||e===CQ.parenR||e===CQ.arrow||(e===CQ.braceL?t===TI.b_stat:e!==CQ._var&&e!==CQ._const&&e!==CQ.name&&!this.exprAllowed))},TE.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},TE.updateContext=function(e){var t,i=this.type;i.keyword&&e===CQ.dot?this.exprAllowed=!1:(t=i.updateContext)?t.call(this,e):this.exprAllowed=i.beforeExpr},TE.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},CQ.parenR.updateContext=CQ.braceR.updateContext=function(){if(1===this.context.length){this.exprAllowed=!0;return}var e=this.context.pop();e===TI.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},CQ.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?TI.b_stat:TI.b_expr),this.exprAllowed=!0},CQ.dollarBraceL.updateContext=function(){this.context.push(TI.b_tmpl),this.exprAllowed=!0},CQ.parenL.updateContext=function(e){var t=e===CQ._if||e===CQ._for||e===CQ._with||e===CQ._while;this.context.push(t?TI.p_stat:TI.p_expr),this.exprAllowed=!0},CQ.incDec.updateContext=function(){},CQ._function.updateContext=CQ._class.updateContext=function(e){!e.beforeExpr||e===CQ._else||e===CQ.semi&&this.curContext()!==TI.p_stat||e===CQ._return&&CZ.test(this.input.slice(this.lastTokEnd,this.start))||(e===CQ.colon||e===CQ.braceL)&&this.curContext()===TI.b_stat?this.context.push(TI.f_stat):this.context.push(TI.f_expr),this.exprAllowed=!1},CQ.backQuote.updateContext=function(){this.curContext()===TI.q_tmpl?this.context.pop():this.context.push(TI.q_tmpl),this.exprAllowed=!1},CQ.star.updateContext=function(e){if(e===CQ._function){var t=this.context.length-1;this.context[t]===TI.f_expr?this.context[t]=TI.f_expr_gen:this.context[t]=TI.f_gen}this.exprAllowed=!0},CQ.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==CQ.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Tk=Th.prototype;function TA(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&TA(e.expression)}Tk.checkPropClash=function(e,t,i){if((!(this.options.ecmaVersion>=9)||"SpreadElement"!==e.type)&&(!(this.options.ecmaVersion>=6)||!e.computed&&!e.method&&!e.shorthand)){var n,s=e.key;switch(s.type){case"Identifier":n=s.name;break;case"Literal":n=String(s.value);break;default:return}var r=e.kind;if(this.options.ecmaVersion>=6){"__proto__"===n&&"init"===r&&(t.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),t.proto=!0);return}var o=t[n="$"+n];o?("init"===r?this.strict&&o.init||o.get||o.set:o.init||o[r])&&this.raiseRecoverable(s.start,"Redefinition of property"):o=t[n]={init:!1,get:!1,set:!1},o[r]=!0}},Tk.parseExpression=function(e,t){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(e,t);if(this.type===CQ.comma){var r=this.startNodeAt(i,n);for(r.expressions=[s];this.eat(CQ.comma);)r.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(r,"SequenceExpression")}return s},Tk.parseMaybeAssign=function(e,t,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var n=!1,s=-1,r=-1,o=-1;t?(s=t.parenthesizedAssign,r=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Tm,n=!0);var a=this.start,l=this.startLoc;(this.type===CQ.parenL||this.type===CQ.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var c=this.parseMaybeConditional(e,t);if(i&&(c=i.call(this,c,a,l)),this.type.isAssign){var d=this.startNodeAt(a,l);return d.operator=this.value,this.type===CQ.eq&&(c=this.toAssignable(c,!1,t)),n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.start&&(t.shorthandAssign=-1),this.type===CQ.eq?this.checkLValPattern(c):this.checkLValSimple(c),d.left=c,this.next(),d.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(d,"AssignmentExpression")}return n&&this.checkExpressionErrors(t,!0),s>-1&&(t.parenthesizedAssign=s),r>-1&&(t.trailingComma=r),c},Tk.parseMaybeConditional=function(e,t){var i=this.start,n=this.startLoc,s=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return s;if(this.eat(CQ.question)){var r=this.startNodeAt(i,n);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(CQ.colon),r.alternate=this.parseMaybeAssign(e),this.finishNode(r,"ConditionalExpression")}return s},Tk.parseExprOps=function(e,t){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)?s:s.start===i&&"ArrowFunctionExpression"===s.type?s:this.parseExprOp(s,i,n,-1,e)},Tk.parseExprOp=function(e,t,i,n,s){var r=this.type.binop;if(null!=r&&(!s||this.type!==CQ._in)&&r>n){var o=this.type===CQ.logicalOR||this.type===CQ.logicalAND,a=this.type===CQ.coalesce;a&&(r=CQ.logicalAND.binop);var l=this.value;this.next();var c=this.start,d=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),c,d,r,s),u=this.buildBinary(t,i,e,h,l,o||a);return(o&&this.type===CQ.coalesce||a&&(this.type===CQ.logicalOR||this.type===CQ.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(u,t,i,n,s)}return e},Tk.buildBinary=function(e,t,i,n,s,r){"PrivateIdentifier"===n.type&&this.raise(n.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=i,o.operator=s,o.right=n,this.finishNode(o,r?"LogicalExpression":"BinaryExpression")},Tk.parseMaybeUnary=function(e,t,i,n){var s,r=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(n),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===CQ.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,n),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):"delete"===a.operator&&TA(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,s=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==CQ.privateId){if(s=this.parseExprSubscripts(e,n),this.checkExpressionErrors(e))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(r,o);c.operator=this.value,c.prefix=!1,c.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(c,"UpdateExpression")}}else(n||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==CQ._in&&this.unexpected();return!i&&this.eat(CQ.starstar)?t?void this.unexpected(this.lastTokStart):this.buildBinary(r,o,s,this.parseMaybeUnary(null,!1,!1,n),"**",!1):s},rn(TA,"isPrivateFieldAccess"),Tk.parseExprSubscripts=function(e,t){var i=this.start,n=this.startLoc,s=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===s.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return s;var r=this.parseSubscripts(s,i,n,!1,t);return e&&"MemberExpression"===r.type&&(e.parenthesizedAssign>=r.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=r.start&&(e.parenthesizedBind=-1),e.trailingComma>=r.start&&(e.trailingComma=-1)),r},Tk.parseSubscripts=function(e,t,i,n,s){for(var r=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,i,n,r,o,s);if(a.optional&&(o=!0),a===e||"ArrowFunctionExpression"===a.type){if(o){var l=this.startNodeAt(t,i);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}},Tk.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(CQ.arrow)},Tk.parseSubscriptAsyncArrow=function(e,t,i,n){return this.parseArrowExpression(this.startNodeAt(e,t),i,!0,n)},Tk.parseSubscript=function(e,t,i,n,s,r,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(CQ.questionDot);n&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(CQ.bracketL);if(c||l&&this.type!==CQ.parenL&&this.type!==CQ.backQuote||this.eat(CQ.dot)){var d=this.startNodeAt(t,i);d.object=e,c?(d.property=this.parseExpression(),this.expect(CQ.bracketR)):this.type===CQ.privateId&&"Super"!==e.type?d.property=this.parsePrivateIdent():d.property=this.parseIdent("never"!==this.options.allowReserved),d.computed=!!c,a&&(d.optional=l),e=this.finishNode(d,"MemberExpression")}else if(!n&&this.eat(CQ.parenL)){var h=new Tm,u=this.yieldPos,p=this.awaitPos,f=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(CQ.parenR,this.options.ecmaVersion>=8,!1,h);if(s&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=p,this.awaitIdentPos=f,this.parseSubscriptAsyncArrow(t,i,m,o);this.checkExpressionErrors(h,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=f||this.awaitIdentPos;var v=this.startNodeAt(t,i);v.callee=e,v.arguments=m,a&&(v.optional=l),e=this.finishNode(v,"CallExpression")}else if(this.type===CQ.backQuote){(l||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,i);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e},Tk.parseExprAtom=function(e,t,i){this.type===CQ.slash&&this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case CQ._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==CQ.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==CQ.dot&&this.type!==CQ.bracketL&&this.type!==CQ.parenL&&this.unexpected(),this.finishNode(n,"Super");case CQ._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case CQ.name:var r=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(CQ._function))return this.overrideContext(TI.f_expr),this.parseFunction(this.startNodeAt(r,o),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(CQ.arrow))return this.parseArrowExpression(this.startNodeAt(r,o),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===CQ.name&&!a&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(CQ.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,o),[l],!0,t)}return l;case CQ.regexp:var c=this.value;return(n=this.parseLiteral(c.value)).regex={pattern:c.pattern,flags:c.flags},n;case CQ.num:case CQ.string:return this.parseLiteral(this.value);case CQ._null:case CQ._true:case CQ._false:return(n=this.startNode()).value=this.type===CQ._null?null:this.type===CQ._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case CQ.parenL:var d=this.start,h=this.parseParenAndDistinguishExpression(s,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=d),e.parenthesizedBind<0&&(e.parenthesizedBind=d)),h;case CQ.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(CQ.bracketR,!0,!0,e),this.finishNode(n,"ArrayExpression");case CQ.braceL:return this.overrideContext(TI.b_expr),this.parseObj(!1,e);case CQ._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case CQ._class:return this.parseClass(this.startNode(),!1);case CQ._new:return this.parseNew();case CQ.backQuote:return this.parseTemplate();case CQ._import:if(this.options.ecmaVersion>=11)return this.parseExprImport(i);return this.unexpected();default:return this.parseExprAtomDefault()}},Tk.parseExprAtomDefault=function(){this.unexpected()},Tk.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);return this.type!==CQ.parenL||e?this.type===CQ.dot?(t.meta=i,this.parseImportMeta(t)):void this.unexpected():this.parseDynamicImport(t)},Tk.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(CQ.parenR)){var t=this.start;this.eat(CQ.comma)&&this.eat(CQ.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Tk.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Tk.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Tk.parseParenExpression=function(){this.expect(CQ.parenL);var e=this.parseExpression();return this.expect(CQ.parenR),e},Tk.shouldParseArrow=function(e){return!this.canInsertSemicolon()},Tk.parseParenAndDistinguishExpression=function(e,t){var i,n=this.start,s=this.startLoc,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,l=this.startLoc,c=[],d=!0,h=!1,u=new Tm,p=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==CQ.parenR;){if(d?d=!1:this.expect(CQ.comma),r&&this.afterTrailingComma(CQ.parenR,!0)){h=!0;break}if(this.type===CQ.ellipsis){o=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===CQ.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var m=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(CQ.parenR),e&&this.shouldParseArrow(c)&&this.eat(CQ.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=f,this.parseParenArrowList(n,s,c,t);(!c.length||h)&&this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,c.length>1?((i=this.startNodeAt(a,l)).expressions=c,this.finishNodeAt(i,"SequenceExpression",m,v)):i=c[0]}else i=this.parseParenExpression();if(!this.options.preserveParens)return i;var g=this.startNodeAt(n,s);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")},Tk.parseParenItem=function(e){return e},Tk.parseParenArrowList=function(e,t,i,n){return this.parseArrowExpression(this.startNodeAt(e,t),i,!1,n)};var TR=[];Tk.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(CQ.dot)){e.meta=t;var i=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var n=this.start,s=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(CQ.parenL)?e.arguments=this.parseExprList(CQ.parenR,this.options.ecmaVersion>=8,!1):e.arguments=TR,this.finishNode(e,"NewExpression")},Tk.parseTemplateElement=function(e){var t=e.isTagged,i=this.startNode();return this.type===CQ.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===CQ.backQuote,this.finishNode(i,"TemplateElement")},Tk.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(i.quasis=[n];!n.tail;)this.type===CQ.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(CQ.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(CQ.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(i,"TemplateLiteral")},Tk.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===CQ.name||this.type===CQ.num||this.type===CQ.string||this.type===CQ.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===CQ.star)&&!CZ.test(this.input.slice(this.lastTokEnd,this.start))},Tk.parseObj=function(e,t){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(CQ.braceR);){if(n)n=!1;else if(this.expect(CQ.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(CQ.braceR))break;var r=this.parseProperty(e,t);e||this.checkPropClash(r,s,t),i.properties.push(r)}return this.finishNode(i,e?"ObjectPattern":"ObjectExpression")},Tk.parseProperty=function(e,t){var i,n,s,r,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(CQ.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===CQ.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,t),this.type===CQ.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(s=this.start,r=this.startLoc),e||(i=this.eat(CQ.star)));var a=this.containsEsc;return this.parsePropertyName(o),!e&&!a&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(o)?(n=!0,i=this.options.ecmaVersion>=9&&this.eat(CQ.star),this.parsePropertyName(o)):n=!1,this.parsePropertyValue(o,e,i,n,s,r,t,a),this.finishNode(o,"Property")},Tk.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t="get"===e.kind?0:1;if(e.value.params.length!==t){var i=e.value.start;"get"===e.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},Tk.parsePropertyValue=function(e,t,i,n,s,r,o,a){(i||n)&&this.type===CQ.colon&&this.unexpected(),this.eat(CQ.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===CQ.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(i,n)):t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===CQ.comma||this.type===CQ.braceR||this.type===CQ.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((i||n)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=s),e.kind="init",t?e.value=this.parseMaybeDefault(s,r,this.copyNode(e.key)):this.type===CQ.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(s,r,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected():((i||n)&&this.unexpected(),this.parseGetterSetter(e))},Tk.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(CQ.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(CQ.bracketR),e.key;e.computed=!1}return e.key=this.type===CQ.num||this.type===CQ.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Tk.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Tk.parseMethod=function(e,t,i){var n=this.startNode(),s=this.yieldPos,r=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|Td(t,n.generator)|(i?128:0)),this.expect(CQ.parenL),n.params=this.parseBindingList(CQ.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=o,this.finishNode(n,"FunctionExpression")},Tk.parseArrowExpression=function(e,t,i,n){var s=this.yieldPos,r=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|Td(i,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,n),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},Tk.parseFunctionBody=function(e,t,i,n){var s=t&&this.type!==CQ.braceL,r=this.strict,o=!1;if(s)e.body=this.parseMaybeAssign(n),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!r||a)&&(o=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!r&&!o&&!t&&!i&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,o&&!r),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()},Tk.isSimpleParamList=function(e){for(var t=0;t<e.length;t+=1)if("Identifier"!==e[t].type)return!1;return!0},Tk.checkParams=function(e,t){for(var i=Object.create(null),n=0,s=e.params;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,1,t?null:i)}},Tk.parseExprList=function(e,t,i,n){for(var s=[],r=!0;!this.eat(e);){if(r)r=!1;else if(this.expect(CQ.comma),t&&this.afterTrailingComma(e))break;var o=void 0;i&&this.type===CQ.comma?o=null:this.type===CQ.ellipsis?(o=this.parseSpread(n),n&&this.type===CQ.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),s.push(o)}return s},Tk.checkUnreserved=function(e){var t=e.start,i=e.end,n=e.name;this.inGenerator&&"yield"===n&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===n&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===n||"await"===n)&&this.raise(t,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),(!(this.options.ecmaVersion<6)||-1===this.input.slice(t,i).indexOf("\\"))&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))},Tk.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},Tk.parseIdentNode=function(){var e=this.startNode();return this.type===CQ.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,("class"===e.name||"function"===e.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop()):this.unexpected(),e},Tk.parsePrivateIdent=function(){var e=this.startNode();return this.type===CQ.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},Tk.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===CQ.semi||this.canInsertSemicolon()||this.type!==CQ.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(CQ.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Tk.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var TP=Th.prototype;TP.raise=function(e,t){var i=Tr(this.input,e),n=SyntaxError(t+=" ("+i.line+":"+i.column+")");throw n.pos=e,n.loc=i,n.raisedAt=this.pos,n},TP.raiseRecoverable=TP.raise,TP.curPosition=function(){if(this.options.locations)return new Tn(this.curLine,this.pos-this.lineStart)};var TM=Th.prototype,TO=rn(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");TM.enterScope=function(e){this.scopeStack.push(new TO(e))},TM.exitScope=function(){this.scopeStack.pop()},TM.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},TM.declareName=function(e,t,i){var n=!1;if(2===t){var s=this.currentScope();n=s.lexical.indexOf(e)>-1||s.functions.indexOf(e)>-1||s.var.indexOf(e)>-1,s.lexical.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var r=this.currentScope();n=this.treatFunctionsAsVar?r.lexical.indexOf(e)>-1:r.lexical.indexOf(e)>-1||r.var.indexOf(e)>-1,r.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var a=this.scopeStack[o];if(a.lexical.indexOf(e)>-1&&!(32&a.flags&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){n=!0;break}if(a.var.push(e),this.inModule&&1&a.flags&&delete this.undefinedExports[e],259&a.flags)break}n&&this.raiseRecoverable(i,"Identifier '"+e+"' has already been declared")},TM.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},TM.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},TM.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},TM.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var TL=rn(function(e,t,i){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new Ts(e,i)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},"Node"),TD=Th.prototype;function TN(e,t,i,n){return e.type=t,e.end=i,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=i),e}TD.startNode=function(){return new TL(this,this.start,this.startLoc)},TD.startNodeAt=function(e,t){return new TL(this,e,t)},rn(TN,"finishNodeAt"),TD.finishNode=function(e,t){return TN.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},TD.finishNodeAt=function(e,t,i,n){return TN.call(this,e,t,i,n)},TD.copyNode=function(e){var t=new TL(this,e.start,this.startLoc);for(var i in e)t[i]=e[i];return t};var TB="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",TU=TB+" Extended_Pictographic",TV=TU+" EBase EComp EMod EPres ExtPict",TF={9:TB,10:TU,11:TU,12:TV,13:TV,14:TV},Tj={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},TH="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",TW="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",T$=TW+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",TG=T$+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",TK=TG+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",TY=TK+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Tq={9:TW,10:T$,11:TG,12:TK,13:TY,14:TY+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},Tz={};function TJ(e){var t=Tz[e]={binary:Te(TF[e]+" "+TH),binaryOfStrings:Te(Tj[e]),nonBinary:{General_Category:Te(TH),Script:Te(Tq[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(rn(TJ,"buildUnicodeData"),ty=0,t_=[9,10,11,12,13,14];ty<t_.length;ty+=1)TJ(t_[ty]);var TX=Th.prototype,TQ=rn(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Tz[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");function TZ(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function T0(e){return C$(e,!0)||36===e||95===e}function T1(e){return CG(e,!0)||36===e||95===e||8204===e||8205===e}function T2(e){return e>=65&&e<=90||e>=97&&e<=122}function T3(e){return e>=0&&e<=1114111}function T6(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function T5(e){return T2(e)||95===e}function T4(e){return T5(e)||Ie(e)}function T8(e){return 33===e||e>=35&&e<=38||e>=42&&e<=44||46===e||e>=58&&e<=64||94===e||96===e||126===e}function T9(e){return 40===e||41===e||45===e||47===e||e>=91&&e<=93||e>=123&&e<=125}function T7(e){return 33===e||35===e||37===e||38===e||44===e||45===e||e>=58&&e<=62||64===e||96===e||126===e}function Ie(e){return e>=48&&e<=57}function It(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Ii(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}function In(e){return e>=48&&e<=55}TQ.prototype.reset=rn(function(e,t,i){var n=-1!==i.indexOf("v"),s=-1!==i.indexOf("u");this.start=0|e,this.source=t+"",this.flags=i,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},"reset"),TQ.prototype.raise=rn(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise"),TQ.prototype.at=rn(function(e,t){void 0===t&&(t=!1);var i=this.source,n=i.length;if(e>=n)return -1;var s=i.charCodeAt(e);if(!(t||this.switchU)||s<=55295||s>=57344||e+1>=n)return s;var r=i.charCodeAt(e+1);return r>=56320&&r<=57343?(s<<10)+r-56613888:s},"at"),TQ.prototype.nextIndex=rn(function(e,t){void 0===t&&(t=!1);var i=this.source,n=i.length;if(e>=n)return n;var s,r=i.charCodeAt(e);return!(t||this.switchU)||r<=55295||r>=57344||e+1>=n||(s=i.charCodeAt(e+1))<56320||s>57343?e+1:e+2},"nextIndex"),TQ.prototype.current=rn(function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},"current"),TQ.prototype.lookahead=rn(function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead"),TQ.prototype.advance=rn(function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance"),TQ.prototype.eat=rn(function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},"eat"),TQ.prototype.eatChars=rn(function(e,t){void 0===t&&(t=!1);for(var i=this.pos,n=0;n<e.length;n+=1){var s=e[n],r=this.at(i,t);if(-1===r||r!==s)return!1;i=this.nextIndex(i,t)}return this.pos=i,!0},"eatChars"),TX.validateRegExpFlags=function(e){for(var t=e.validFlags,i=e.flags,n=!1,s=!1,r=0;r<i.length;r++){var o=i.charAt(r);-1===t.indexOf(o)&&this.raise(e.start,"Invalid regular expression flag"),i.indexOf(o,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===o&&(n=!0),"v"===o&&(s=!0)}this.options.ecmaVersion>=15&&n&&s&&this.raise(e.start,"Invalid regular expression flag")},TX.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},TX.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,i=e.backReferenceNames;t<i.length;t+=1){var n=i[t];-1===e.groupNames.indexOf(n)&&e.raise("Invalid named capture referenced")}},TX.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},TX.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},TX.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?!!this.regexp_eatAtom(e):!!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},TX.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!i,!0}return e.pos=t,!1},TX.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},TX.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},TX.regexp_eatBracedQuantifier=function(e,t){var i=e.pos;if(e.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(s=e.lastIntValue),e.eat(125)))return -1!==s&&s<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=i}return!1},TX.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},TX.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},TX.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},TX.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},TX.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},TX.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},TX.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!TZ(t)&&(e.lastIntValue=t,e.advance(),!0)},rn(TZ,"isSyntaxCharacter"),TX.regexp_eatPatternCharacters=function(e){for(var t=e.pos,i=0;-1!==(i=e.current())&&!TZ(i);)e.advance();return e.pos!==t},TX.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return -1!==t&&36!==t&&(!(t>=40)||!(t<=43))&&46!==t&&63!==t&&91!==t&&94!==t&&124!==t&&(e.advance(),!0)},TX.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}},TX.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},TX.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Tt(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Tt(e.lastIntValue);return!0}return!1},TX.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,n=e.current(i);return(e.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(n=e.lastIntValue),T0(n))?(e.lastIntValue=n,!0):(e.pos=t,!1)},rn(T0,"isRegExpIdentifierStart"),TX.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,n=e.current(i);return(e.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(n=e.lastIntValue),T1(n))?(e.lastIntValue=n,!0):(e.pos=t,!1)},rn(T1,"isRegExpIdentifierPart"),TX.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},TX.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var i=e.lastIntValue;if(e.switchU)return i>e.maxBackReference&&(e.maxBackReference=i),!0;if(i<=e.numCapturingParens)return!0;e.pos=t}return!1},TX.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},TX.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},TX.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},TX.regexp_eatZero=function(e){return!(48!==e.current()||Ie(e.lookahead()))&&(e.lastIntValue=0,e.advance(),!0)},TX.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},TX.regexp_eatControlLetter=function(e){var t=e.current();return!!T2(t)&&(e.lastIntValue=t%32,e.advance(),!0)},rn(T2,"isControlLetter"),TX.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var i=e.pos,n=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(n&&s>=55296&&s<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}e.pos=r,e.lastIntValue=s}return!0}if(n&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&T3(e.lastIntValue))return!0;n&&e.raise("Invalid unicode escape"),e.pos=i}return!1},rn(T3,"isValidUnicode"),TX.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return 99!==t&&(!e.switchN||107!==t)&&(e.lastIntValue=t,e.advance(),!0)},TX.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57)return!0}return!1},TX.regexp_eatCharacterClassEscape=function(e){var t,i=e.current();if(T6(i))return e.lastIntValue=-1,e.advance(),1;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=80===i)||112===i)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(t=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&2===t&&e.raise("Invalid property name"),t;e.raise("Invalid property name")}return 0},rn(T6,"isCharacterClassEscape"),TX.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var i=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,i,n),1}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var s=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,s)}return 0},TX.regexp_validateUnicodePropertyNameAndValue=function(e,t,i){C9(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(i)||e.raise("Invalid property value")},TX.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},TX.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";T5(t=e.current());)e.lastStringValue+=Tt(t),e.advance();return""!==e.lastStringValue},rn(T5,"isUnicodePropertyNameCharacter"),TX.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";T4(t=e.current());)e.lastStringValue+=Tt(t),e.advance();return""!==e.lastStringValue},rn(T4,"isUnicodePropertyValueCharacter"),TX.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},TX.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),i=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===i&&e.raise("Negated character class may contain strings"),!0}return!1},TX.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},TX.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var i=e.lastIntValue;e.switchU&&(-1===t||-1===i)&&e.raise("Invalid character class"),-1!==t&&-1!==i&&t>i&&e.raise("Range out of order in character class")}}},TX.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var i=e.current();(99===i||In(i))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return 93!==n&&(e.lastIntValue=n,e.advance(),!0)},TX.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},TX.regexp_classSetExpression=function(e){var t,i=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(i=2);for(var n=e.pos;e.eatChars([38,38]);){if(38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))){2!==t&&(i=1);continue}e.raise("Invalid character in character class")}if(n!==e.pos)return i;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(n!==e.pos)return i}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return i;2===t&&(i=2)}},TX.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;return -1!==i&&-1!==n&&i>n&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},TX.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},TX.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var i=e.eat(94),n=this.regexp_classContents(e);if(e.eat(93))return i&&2===n&&e.raise("Negated character class may contain strings"),n;e.pos=t}if(e.eat(92)){var s=this.regexp_eatCharacterClassEscape(e);if(s)return s;e.pos=t}return null},TX.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var i=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return i}else e.raise("Invalid escape");e.pos=t}return null},TX.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},TX.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},TX.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return!!(this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e))||(e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1));var i=e.current();return!(i<0||i===e.lookahead()&&T8(i)||T9(i))&&(e.advance(),e.lastIntValue=i,!0)},rn(T8,"isClassSetReservedDoublePunctuatorCharacter"),rn(T9,"isClassSetSyntaxCharacter"),TX.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!T7(t)&&(e.lastIntValue=t,e.advance(),!0)},rn(T7,"isClassSetReservedPunctuator"),TX.regexp_eatClassControlLetter=function(e){var t=e.current();return(!!Ie(t)||95===t)&&(e.lastIntValue=t%32,e.advance(),!0)},TX.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},TX.regexp_eatDecimalDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;Ie(i=e.current());)e.lastIntValue=10*e.lastIntValue+(i-48),e.advance();return e.pos!==t},rn(Ie,"isDecimalDigit"),TX.regexp_eatHexDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;It(i=e.current());)e.lastIntValue=16*e.lastIntValue+Ii(i),e.advance();return e.pos!==t},rn(It,"isHexDigit"),rn(Ii,"hexToInt"),TX.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var i=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*i+e.lastIntValue:e.lastIntValue=8*t+i}else e.lastIntValue=t;return!0}return!1},TX.regexp_eatOctalDigit=function(e){var t=e.current();return In(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},rn(In,"isOctalDigit"),TX.regexp_eatFixedHexDigits=function(e,t){var i=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var s=e.current();if(!It(s))return e.pos=i,!1;e.lastIntValue=16*e.lastIntValue+Ii(s),e.advance()}return!0};var Is=rn(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Ts(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Ir=Th.prototype;function Io(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Ia(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}Ir.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Is(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ir.getToken=function(){return this.next(),new Is(this)},"undefined"!=typeof Symbol&&(Ir[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===CQ.eof,value:t}}}}),Ir.nextToken=function(){var e=this.curContext();return(e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)?this.finishToken(CQ.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Ir.readToken=function(e){return C$(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Ir.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Ir.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,s=t;(n=C2(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,i),t,this.pos,e,this.curPosition())},Ir.skipLineComment=function(e){for(var t=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!C1(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,i,this.curPosition())},Ir.skipSpace=function(){t:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(e>8&&e<14||e>=5760&&C3.test(String.fromCharCode(e)))++this.pos;else break t}}},Ir.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=e,this.value=t,this.updateContext(i)},Ir.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(CQ.ellipsis)):(++this.pos,this.finishToken(CQ.dot))},Ir.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(CQ.assign,2):this.finishOp(CQ.slash,1)},Ir.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),i=1,n=42===e?CQ.star:CQ.modulo;return(this.options.ecmaVersion>=7&&42===e&&42===t&&(++i,n=CQ.starstar,t=this.input.charCodeAt(this.pos+2)),61===t)?this.finishOp(CQ.assign,i+1):this.finishOp(n,i)},Ir.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(CQ.assign,3):this.finishOp(124===e?CQ.logicalOR:CQ.logicalAND,2):61===t?this.finishOp(CQ.assign,2):this.finishOp(124===e?CQ.bitwiseOR:CQ.bitwiseAND,1)},Ir.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(CQ.assign,2):this.finishOp(CQ.bitwiseXOR,1)},Ir.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45===t&&!this.inModule&&62===this.input.charCodeAt(this.pos+2)&&(0===this.lastTokEnd||CZ.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(CQ.incDec,2):61===t?this.finishOp(CQ.assign,2):this.finishOp(CQ.plusMin,1)},Ir.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),i=1;return t===e?(i=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i))?this.finishOp(CQ.assign,i+1):this.finishOp(CQ.bitShift,i):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(i=2),this.finishOp(CQ.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Ir.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(CQ.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(CQ.arrow)):this.finishOp(61===e?CQ.eq:CQ.prefix,1)},Ir.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(CQ.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(CQ.assign,3):this.finishOp(CQ.coalesce,2)}return this.finishOp(CQ.question,1)},Ir.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,C$(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(CQ.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Tt(t)+"'")},Ir.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(CQ.parenL);case 41:return++this.pos,this.finishToken(CQ.parenR);case 59:return++this.pos,this.finishToken(CQ.semi);case 44:return++this.pos,this.finishToken(CQ.comma);case 91:return++this.pos,this.finishToken(CQ.bracketL);case 93:return++this.pos,this.finishToken(CQ.bracketR);case 123:return++this.pos,this.finishToken(CQ.braceL);case 125:return++this.pos,this.finishToken(CQ.braceR);case 58:return++this.pos,this.finishToken(CQ.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(CQ.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(CQ.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Tt(e)+"'")},Ir.finishOp=function(e,t){var i=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,i)},Ir.readRegexp=function(){for(var e,t,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(CZ.test(n)&&this.raise(i,"Unterminated regular expression"),e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(r);var a=this.regexpState||(this.regexpState=new TQ(this));a.reset(i,s,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(s,o)}catch(e){}return this.finishToken(CQ.regexp,{pattern:s,flags:o,value:l})},Ir.readInt=function(e,t,i){for(var n=this.options.ecmaVersion>=12&&void 0===t,s=i&&48===this.input.charCodeAt(this.pos),r=this.pos,o=0,a=0,l=0,c=null==t?1/0:t;l<c;++l,++this.pos){var d=this.input.charCodeAt(this.pos),h=void 0;if(n&&95===d){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=d;continue}if((h=d>=97?d-97+10:d>=65?d-65+10:d>=48&&d<=57?d-48:1/0)>=e)break;a=d,o=o*e+h}return(n&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||null!=t&&this.pos-r!==t)?null:o},rn(Io,"stringToNumber"),rn(Ia,"stringToBigInt"),Ir.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var i=this.readInt(e);return null==i&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(i=Ia(this.input.slice(t,this.pos)),++this.pos):C$(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(CQ.num,i)},Ir.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var i=this.pos-t>=2&&48===this.input.charCodeAt(t);i&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!e&&this.options.ecmaVersion>=11&&110===n){var s=Ia(this.input.slice(t,this.pos));return++this.pos,C$(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(CQ.num,s)}i&&/[89]/.test(this.input.slice(t,this.pos))&&(i=!1),46!==n||i||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||i||((43===(n=this.input.charCodeAt(++this.pos))||45===n)&&++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),C$(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=Io(this.input.slice(t,this.pos),i);return this.finishToken(CQ.num,r)},Ir.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Ir.readString=function(e){for(var t="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;92===n?(t+=this.input.slice(i,this.pos)+this.readEscapedChar(!1),i=this.pos):8232===n||8233===n?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(C1(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(i,this.pos++),this.finishToken(CQ.string,t)};var Il={};function Ic(e,t){return Th.parse(e,t)}Ir.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Il)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},Ir.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Il;this.raise(e,t)},Ir.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1)){if(this.pos===this.start&&(this.type===CQ.template||this.type===CQ.invalidTemplate)){if(36===i)return this.pos+=2,this.finishToken(CQ.dollarBraceL);return++this.pos,this.finishToken(CQ.backQuote)}return e+=this.input.slice(t,this.pos),this.finishToken(CQ.template,e)}if(92===i)e+=this.input.slice(t,this.pos)+this.readEscapedChar(!0),t=this.pos;else if(C1(i)){switch(e+=this.input.slice(t,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Ir.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(CQ.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Ir.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Tt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(s=parseInt(n=n.slice(0,-1),8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),("0"!==n||56===t||57===t)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}if(C1(t))return"";return String.fromCharCode(t)}},Ir.readHexChar=function(e){var t=this.pos,i=this.readInt(16,e);return null===i&&this.invalidStringToken(t,"Bad character escape sequence"),i},Ir.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(CG(s,n))this.pos+=s<=65535?1:2;else if(92===s){this.containsEsc=!0,e+=this.input.slice(i,this.pos);var r=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?C$:CG)(o,n)||this.invalidStringToken(r,"Invalid Unicode escape"),e+=Tt(o),i=this.pos}else break;t=!1}return e+this.input.slice(i,this.pos)},Ir.readWord=function(){var e=this.readWord1(),t=CQ.name;return this.keywords.test(e)&&(t=CJ[e]),this.finishToken(t,e)},Th.acorn={Parser:Th,version:"8.10.0",defaultOptions:To,Position:Tn,SourceLocation:Ts,getLineInfo:Tr,Node:TL,TokenType:CK,tokTypes:CQ,keywordTypes:CJ,TokContext:TT,tokContexts:TI,isIdentifierChar:CG,isIdentifierStart:C$,Token:Is,isNewLine:C1,lineBreak:CZ,lineBreakG:C0,nonASCIIwhitespace:C3},rn(Ic,"parse");var Id=function(e,t,i,n,s){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i},Ih=function(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},Iu=class{constructor(e){tb.set(this,void 0);let t=Ic(e,{ecmaVersion:2020});Id(this,tb,t.body,"f"),this.visitor=new CO(Ih(this,tb,"f")),this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.visitor.on("console",(e,t)=>{if("Identifier"===e.type)return console;if("CallExpression"===e.type&&"MemberExpression"===e.callee.type){let i=t.visitNode(e.callee.property),n=e.arguments.map(e=>t.visitNode(e)),s=console[i];return s?s(...n):"proceed"}return"proceed"}),this.visitor.on("Math",(e,t)=>{if("Identifier"===e.type)return Math;if("CallExpression"===e.type&&"MemberExpression"===e.callee.type){let i=t.visitNode(e.callee.property),n=e.arguments.map(e=>t.visitNode(e)),s=Math[i];return s?s(...n):"proceed"}return"proceed"}),this.visitor.on("String",(e,t)=>{if("Identifier"===e.type)return String;if("CallExpression"===e.type&&"MemberExpression"===e.callee.type){let i=t.visitNode(e.callee.property),n=e.arguments.map(e=>t.visitNode(e)),s=String[i];return s?s(n):"proceed"}return"proceed"}),this.visitor.on("Date",e=>{if("Identifier"===e.type)return Date})}interpret(){return this.visitor.run()}};function Ip(e,t){let i=new Iu(e);for(let[e,n]of Object.entries(t))i.scope.set(e,n);return i.interpret()}rn(Iu,"Jinter"),tb=new WeakMap,rn(Ip,"evaluate");var If=class{constructor(e){tw.add(this),tx.set(this,void 0),rp(this,tx,e,"f")}get session(){return ru(this,tx,"f")}stats(e,t,i){return ra(this,void 0,void 0,function*(){let n=new URL(e);for(let e of(n.searchParams.set("ver","2"),n.searchParams.set("c",t.client_name.toLowerCase()),n.searchParams.set("cbrver",t.client_version),n.searchParams.set("cver",t.client_version),Object.keys(i)))n.searchParams.set(e,i[e]);return yield ru(this,tx,"f").http.fetch(n)})}execute(e,t){var i,n;return ra(this,void 0,void 0,function*(){let s;if(t&&!t.protobuf){if(s=Object.assign({},t),Reflect.has(s,"browseId")&&ru(this,tw,"m",tT).call(this,s.browseId)&&!ru(this,tx,"f").logged_in)throw new SO("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(null==s?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else t&&(s=t.serialized_data);let r=Reflect.has(t||{},"override_endpoint")?null==t?void 0:t.override_endpoint:e,o=yield ru(this,tx,"f").http.fetch(r,{method:"POST",body:(null==t?void 0:t.protobuf)?s:JSON.stringify(s||{}),headers:{"Content-Type":(null==t?void 0:t.protobuf)?"application/x-protobuf":"application/json"}});if(null==t?void 0:t.parse){let e=rI.parseResponse((yield o.json()));if(ru(this,tw,"m",tC).call(this,e)&&(null===(n=null===(i=e.on_response_received_actions)||void 0===i?void 0:i.first())||void 0===n?void 0:n.type)==="navigateAction"){let t=e.on_response_received_actions.firstOfType(_H);t&&(e=yield t.endpoint.call(this,{parse:!0}))}return e}return ru(this,tw,"m",tS).call(this,o)})}};rn(If,"Actions"),tx=new WeakMap,tw=new WeakSet,tS=rn(function(e){return ra(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse((yield e.text()))}})},"_Actions_wrap"),tC=rn(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),tT=rn(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Im=class{constructor(e,t,i,n){tI.set(this,void 0),tE.set(this,void 0),tk.set(this,void 0),tA.set(this,void 0),rp(this,tI,i,"f"),rp(this,tE,t,"f"),rp(this,tk,e,"f"),rp(this,tA,n,"f")}static create(e,t=SM.shim.fetch){return ra(this,void 0,void 0,function*(){let i=new URL("/iframe_api",rw.YT_BASE),n=yield t(i);if(200!==n.status)throw new SB("Failed to request player id");let s=Sj((yield n.text()),"player\\/","\\/");if(!s)throw new SB("Failed to get player id");if(e){let t=yield Im.fromCache(e,s);if(t)return t}let r=new URL(`/s/player/${s}/player_ias.vflset/en_US/base.js`,rw.YT_BASE),o=yield t(r,{headers:{"user-agent":SW("desktop")}});if(!o.ok)throw new SB(`Failed to get player data: ${o.status}`);let a=yield o.text(),l=this.extractSigTimestamp(a),c=this.extractSigSourceCode(a),d=this.extractNSigSourceCode(a);return yield Im.fromSource(e,l,c,d,s)})}decipher(e,t,i,n){if(!(e=e||t||i))throw new SB("No valid URL to decipher");let s=new URLSearchParams(e),r=new URL(s.get("url")||e);if(t||i){let e=SM.shim.eval(ru(this,tE,"f"),{sig:s.get("s")});if("string"!=typeof e)throw new SB("Failed to decipher signature");let t=s.get("sp");t?r.searchParams.set(t,e):r.searchParams.set("signature",e)}let o=r.searchParams.get("n");if(o){let e;if(n&&n.has(o))e=n.get(o);else{if("string"!=typeof(e=SM.shim.eval(ru(this,tI,"f"),{nsig:o})))throw new SB("Failed to decipher nsig");e.startsWith("enhanced_except_")?console.warn('Warning:\nCould not transform nsig, download may be throttled.\nChanging the InnerTube client to "ANDROID" might help!'):n&&n.set(o,e)}r.searchParams.set("n",e)}switch(r.searchParams.get("c")){case"WEB":r.searchParams.set("cver",rS.WEB.VERSION);break;case"WEB_REMIX":r.searchParams.set("cver",rS.YTMUSIC.VERSION);break;case"WEB_KIDS":r.searchParams.set("cver",rS.WEB_KIDS.VERSION);break;case"ANDROID":r.searchParams.set("cver",rS.ANDROID.VERSION);break;case"ANDROID_MUSIC":r.searchParams.set("cver",rS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":r.searchParams.set("cver",rS.TV_EMBEDDED.VERSION)}return r.toString()}static fromCache(e,t){return ra(this,void 0,void 0,function*(){let i=yield e.get(t);if(!i)return null;let n=new DataView(i);if(n.getUint32(0,!0)!==Im.LIBRARY_VERSION)return null;let s=n.getUint32(4,!0),r=n.getUint32(8,!0),o=i.slice(12,12+r),a=i.slice(12+r),l=new TextDecoder;return new Im(s,l.decode(o),l.decode(a),t)})}static fromSource(e,t,i,n,s){return ra(this,void 0,void 0,function*(){let r=new Im(t,i,n,s);return yield r.cache(e),r})}cache(e){return ra(this,void 0,void 0,function*(){if(!e)return;let t=new TextEncoder,i=t.encode(ru(this,tE,"f")),n=t.encode(ru(this,tI,"f")),s=new ArrayBuffer(12+i.byteLength+n.byteLength),r=new DataView(s);r.setUint32(0,Im.LIBRARY_VERSION,!0),r.setUint32(4,ru(this,tk,"f"),!0),r.setUint32(8,i.byteLength,!0),new Uint8Array(s).set(i,12),new Uint8Array(s).set(n,12+i.byteLength),yield e.set(ru(this,tA,"f"),new Uint8Array(s))})}static extractSigTimestamp(e){return parseInt(Sj(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var t,i,n;let s=Sj(e,'function(a){a=a.split("")','return a.join("")}'),r=null===(n=null===(i=null===(t=null==s?void 0:s.split(/\.|\[/))||void 0===t?void 0:t[0])||void 0===i?void 0:i.replace(";",""))||void 0===n?void 0:n.trim(),o=Sj(e,`var ${r}={`,"};");return o&&s||console.warn(new SB("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${r}={${o}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let t=`function descramble_nsig(a) { let b=a.split("")${Sj(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return t||console.warn(new SB("Failed to extract n-token decipher algorithm")),t}get url(){return new URL(`/s/player/${ru(this,tA,"f")}/player_ias.vflset/en_US/base.js`,rw.YT_BASE).toString()}get sts(){return ru(this,tk,"f")}get nsig_sc(){return ru(this,tI,"f")}get sig_sc(){return ru(this,tE,"f")}static get LIBRARY_VERSION(){return 2}};rn(Im,"Player"),tI=new WeakMap,tE=new WeakMap,tk=new WeakMap,tA=new WeakMap;var Iv=class{constructor(e){tR.add(this),tP.set(this,void 0),tM.set(this,void 0),tO.set(this,void 0),tL.set(this,5),rp(this,tM,e,"f")}init(e){return ra(this,void 0,void 0,function*(){rp(this,tO,e,"f"),this.validateCredentials()?this.has_access_token_expired||ru(this,tM,"f").emit("auth",{credentials:ru(this,tO,"f"),status:"SUCCESS"}):(yield ru(this,tR,"m",tD).call(this))||(yield ru(this,tR,"m",tN).call(this))})}cacheCredentials(){var e;return ra(this,void 0,void 0,function*(){let t=new TextEncoder().encode(JSON.stringify(ru(this,tO,"f")));yield null===(e=ru(this,tM,"f").cache)||void 0===e?void 0:e.set("youtubei_oauth_credentials",t.buffer)})}removeCache(){var e;return ra(this,void 0,void 0,function*(){yield null===(e=ru(this,tM,"f").cache)||void 0===e?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return ra(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield ru(this,tR,"m",tU).call(this))})}revokeCredentials(){return ra(this,void 0,void 0,function*(){if(ru(this,tO,"f"))return yield this.removeCache(),ru(this,tM,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(ru(this,tO,"f").access_token)}`,rw.YT_BASE),{method:"post"})})}get credentials(){return ru(this,tO,"f")}get has_access_token_expired(){let e=ru(this,tO,"f")?new Date(ru(this,tO,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return ru(this,tO,"f")&&Reflect.has(ru(this,tO,"f"),"access_token")&&Reflect.has(ru(this,tO,"f"),"refresh_token")&&Reflect.has(ru(this,tO,"f"),"expires")||!1}};rn(Iv,"OAuth"),tP=new WeakMap,tM=new WeakMap,tO=new WeakMap,tL=new WeakMap,tR=new WeakSet,tD=rn(function(){var e;return ra(this,void 0,void 0,function*(){let t=yield null===(e=ru(this,tM,"f").cache)||void 0===e?void 0:e.get("youtubei_oauth_credentials");if(!t)return!1;let i=JSON.parse(new TextDecoder().decode(t));return rp(this,tO,{access_token:i.access_token,refresh_token:i.refresh_token,expires:new Date(i.expires)},"f"),ru(this,tM,"f").emit("auth",{credentials:ru(this,tO,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),tN=rn(function(){return ra(this,void 0,void 0,function*(){rp(this,tP,(yield ru(this,tR,"m",tV).call(this)),"f");let e={client_id:ru(this,tP,"f").client_id,scope:rx.SCOPE,device_id:SM.shim.uuidv4(),device_model:rx.MODEL_NAME},t=yield ru(this,tM,"f").http.fetch_function(new URL("/o/oauth2/device/code",rw.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield t.json();ru(this,tM,"f").emit("auth-pending",i),rp(this,tL,i.interval,"f"),ru(this,tR,"m",tB).call(this,i.device_code)})},"_OAuth_getUserCode"),tB=rn(function(e){let t=setInterval(()=>ra(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},ru(this,tP,"f")),{code:e,grant_type:rx.GRANT_TYPE});try{let e=yield ru(this,tM,"f").http.fetch_function(new URL("/o/oauth2/token",rw.YT_BASE),{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}}),n=yield e.json();if(n.error){switch(n.error){case"access_denied":ru(this,tM,"f").emit("auth-error",new SN("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":ru(this,tM,"f").emit("auth-error",new SN("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(t),ru(this,tR,"m",tN).call(this)}return}let s=new Date(new Date().getTime()+1e3*n.expires_in);rp(this,tO,{access_token:n.access_token,refresh_token:n.refresh_token,expires:s},"f"),ru(this,tM,"f").emit("auth",{credentials:ru(this,tO,"f"),status:"SUCCESS"}),clearInterval(t)}catch(e){return clearInterval(t),ru(this,tM,"f").emit("auth-error",new SN("Could not obtain user code.",{status:"FAILED",error:e}))}}),1e3*ru(this,tL,"f"))},"_OAuth_startPolling"),tU=rn(function(){return ra(this,void 0,void 0,function*(){if(!ru(this,tO,"f"))return;rp(this,tP,(yield ru(this,tR,"m",tV).call(this)),"f");let e=Object.assign(Object.assign({},ru(this,tP,"f")),{refresh_token:ru(this,tO,"f").refresh_token,grant_type:"refresh_token"}),t=yield ru(this,tM,"f").http.fetch_function(new URL("/o/oauth2/token",rw.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield t.json(),n=new Date(new Date().getTime()+1e3*i.expires_in);rp(this,tO,{access_token:i.access_token,refresh_token:i.refresh_token||ru(this,tO,"f").refresh_token,expires:n},"f"),ru(this,tM,"f").emit("update-credentials",{credentials:ru(this,tO,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),tV=rn(function(){var e;return ra(this,void 0,void 0,function*(){let t=yield ru(this,tM,"f").http.fetch_function(new URL("/tv",rw.YT_BASE),{headers:rx.HEADERS}),i=yield t.text(),n=null===(e=rx.REGEX.AUTH_SCRIPT.exec(i))||void 0===e?void 0:e[1];if(!n)throw new SN("Could not obtain script url.",{status:"FAILED"});let s=yield ru(this,tM,"f").http.fetch(n,{baseURL:rw.YT_BASE}),r=(yield s.text()).replace(/\n/g,"").match(rx.REGEX.CLIENT_IDENTITY),o=null==r?void 0:r.groups;if(!o)throw new SN("Could not obtain client identity.",{status:"FAILED"});return o})},"_OAuth_getClientIdentity"),(o=tq||(tq={})).WEB="WEB",o.KIDS="WEB_KIDS",o.MUSIC="WEB_REMIX",o.IOS="iOS",o.ANDROID="ANDROID",o.ANDROID_MUSIC="ANDROID_MUSIC",o.ANDROID_CREATOR="ANDROID_CREATOR",o.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER";var Ig=class extends bW{constructor(e,t,i,n,s,r,o,a){super(),tj.set(this,void 0),tH.set(this,void 0),tW.set(this,void 0),t$.set(this,void 0),tG.set(this,void 0),rp(this,tW,e,"f"),rp(this,t$,n,"f"),rp(this,tH,t,"f"),rp(this,tj,i,"f"),rp(this,tG,s,"f"),this.http=new wn(this,r,o),this.actions=new If(this),this.oauth=new Iv(this),this.logged_in=!!r,this.cache=a}on(e,t){super.on(e,t)}once(e,t){super.once(e,t)}static create(e={}){return ra(this,void 0,void 0,function*(){let{context:t,api_key:i,api_version:n,account_index:s}=yield Ig.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new Ig(t,i,n,s,!1===e.retrieve_player?void 0:yield Im.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",t="",i=0,n="",s=!1,r=!1,o="desktop",a=tq.WEB,l=Intl.DateTimeFormat().resolvedOptions().timeZone,c=SM.shim.fetch,d){return ra(this,void 0,void 0,function*(){let h;let u={lang:e,location:t,time_zone:l,device_category:o,client_name:a,enable_safety_mode:s,visitor_data:n,on_behalf_of_user:d};if(r)h=ru(this,tF,"m",tY).call(this,u);else try{h=yield ru(this,tF,"m",tK).call(this,u,c)}catch(e){h=ru(this,tF,"m",tY).call(this,u)}return Object.assign(Object.assign({},h),{account_index:i})})}signIn(e){return ra(this,void 0,void 0,function*(){return new Promise((t,i)=>ra(this,void 0,void 0,function*(){let n=rn(e=>i(e),"error_handler");this.once("auth",e=>{this.off("auth-error",n),"SUCCESS"===e.status&&(this.logged_in=!0,t()),i(e)}),this.once("auth-error",n);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,t())}catch(e){i(e)}}))})}signOut(){return ra(this,void 0,void 0,function*(){if(!this.logged_in)throw new SO("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return ru(this,tH,"f")}get api_version(){return ru(this,tj,"f")}get client_version(){return ru(this,tW,"f").client.clientVersion}get client_name(){return ru(this,tW,"f").client.clientName}get account_index(){return ru(this,t$,"f")}get context(){return ru(this,tW,"f")}get player(){return ru(this,tG,"f")}get lang(){return ru(this,tW,"f").client.hl}};rn(Ig,"Session"),tF=Ig,tj=new WeakMap,tH=new WeakMap,tW=new WeakMap,t$=new WeakMap,tG=new WeakMap,tK=rn(function(e,t=SM.shim.fetch){return ra(this,void 0,void 0,function*(){let i=new URL("/sw.js_data",rw.YT_BASE),n=SG(11);e.visitor_data&&(n=cZ(e.visitor_data).id);let s=yield t(i,{headers:{"accept-language":e.lang||"en-US","user-agent":SW("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!s.ok)throw new SU(`Failed to retrieve session data: ${s.status}`);let r=JSON.parse((yield s.text()).replace(/^\)\]\}'/,""))[0][2],o=`v${r[0][0][6]}`,[[a],l]=r;return{context:{client:{hl:a[0],gl:e.location||a[2],remoteHost:a[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:a[13],clientName:e.client_name,clientVersion:a[16],osName:a[17],osVersion:a[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:a[79]||e.time_zone,browserName:a[86],browserVersion:a[87],originalUrl:rw.YT_BASE,deviceMake:a[11],deviceModel:a[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:l,api_version:o}})},"_Session_retrieveSessionData"),tY=rn(function(e){let t=SG(11);return e.visitor_data&&(t=cZ(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:cQ(t,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:rS.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:rw.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:rS.WEB.API_KEY,api_version:rS.WEB.API_VERSION}},"_Session_generateSessionData"),rs({},{Kids:()=>I_,Music:()=>Iw,Studio:()=>IS});var Iy=class{constructor(e){tz.set(this,void 0),rp(this,tz,e,"f")}search(e){return ra(this,void 0,void 0,function*(){let t=yield ru(this,tz,"f").actions.execute(xy.PATH,xy.build({client:"YTKIDS",query:e}));return new w8(ru(this,tz,"f").actions,t)})}getInfo(e){var t;return ra(this,void 0,void 0,function*(){let i=xu.build({sts:null===(t=ru(this,tz,"f").player)||void 0===t?void 0:t.sts,client:"YTKIDS",video_id:e}),n=xc.build({video_id:e,client:"YTKIDS"}),s=ru(this,tz,"f").actions.execute(xu.PATH,i),r=ru(this,tz,"f").actions.execute(xc.PATH,n),o=yield Promise.all([s,r]),a=SG(16);return new w7(o,ru(this,tz,"f").actions,a)})}getChannel(e){return ra(this,void 0,void 0,function*(){let t=yield ru(this,tz,"f").actions.execute(xt.PATH,xt.build({browse_id:e,client:"YTKIDS"}));return new w3(ru(this,tz,"f").actions,t)})}getHomeFeed(){return ra(this,void 0,void 0,function*(){let e=yield ru(this,tz,"f").actions.execute(xt.PATH,xt.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new w5(ru(this,tz,"f").actions,e)})}blockChannel(e){var t,i;return ra(this,void 0,void 0,function*(){if(!ru(this,tz,"f").logged_in)throw new SO("You must be signed in to perform this operation.");let n=ST.build({channel_id:e}),s={contents:(yield ru(this,tz,"f").actions.execute(ST.PATH,n)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},r=null===(t=rI.parseResponse(s).contents_memo)||void 0===t?void 0:t.getType(_h);if(!r)throw new SO("Could not find any kids profiles or supervised accounts.");let o=[];for(let e of r)(null===(i=e.block_button)||void 0===i?void 0:i.is_toggled)||(e.setActions(ru(this,tz,"f").actions),o.push((yield e.blockChannel())));return o})}};rn(Iy,"Kids"),tz=new WeakMap;var I_=Iy,Ib=class{constructor(e){tJ.add(this),tX.set(this,void 0),tQ.set(this,void 0),rp(this,tX,e,"f"),rp(this,tQ,e.actions,"f")}getInfo(e){if(e instanceof mn)return ru(this,tJ,"m",t0).call(this,e);if("string"==typeof e)return ru(this,tJ,"m",tZ).call(this,e);throw new SO("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,t={}){return ra(this,void 0,void 0,function*(){return Sq({query:e}),new wQ((yield ru(this,tQ,"f").execute(xy.PATH,xy.build({query:e,client:"YTMUSIC",params:t.type&&"all"!==t.type?c2(t):void 0}))),ru(this,tQ,"f"),Reflect.has(t,"type")&&"all"!==t.type)})}getHomeFeed(){return ra(this,void 0,void 0,function*(){return new wW((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({browse_id:"FEmusic_home",client:"YTMUSIC"}))),ru(this,tQ,"f"))})}getExplore(){return ra(this,void 0,void 0,function*(){return new wj((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}))))})}getLibrary(){return ra(this,void 0,void 0,function*(){return new wK((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}))),ru(this,tQ,"f"))})}getArtist(e){return ra(this,void 0,void 0,function*(){if(Sq({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new SO("Invalid artist id",e);return new wV((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({client:"YTMUSIC",browse_id:e}))),ru(this,tQ,"f"))})}getAlbum(e){return ra(this,void 0,void 0,function*(){if(Sq({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new SO("Invalid album id",e);return new wB((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({client:"YTMUSIC",browse_id:e}))))})}getPlaylist(e){return ra(this,void 0,void 0,function*(){return Sq({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`),new wq((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({client:"YTMUSIC",browse_id:e}))),ru(this,tQ,"f"))})}getUpNext(e,t=!0){var i,n,s;return ra(this,void 0,void 0,function*(){Sq({video_id:e});let r=null===(i=(yield ru(this,tQ,"f").execute(xc.PATH,Object.assign(Object.assign({},xc.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)||void 0===i?void 0:i.getType(gX),o=null==r?void 0:r.first();if(!o)throw new SO("Could not find target tab.");let a=null===(n=o.content)||void 0===n?void 0:n.as(mO);if(!a||!a.content)throw new SO("Music queue was empty, the given id is probably invalid.",a);let l=a.content.as(mP);if(!l.playlist_id&&t){let t=l.contents.firstOfType(aw);if(!t)throw new SO("Automix item not found");let i=yield null===(s=t.playlist_video)||void 0===s?void 0:s.endpoint.call(ru(this,tQ,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!i||!i.contents_memo)throw new SO("Could not fetch automix");return i.contents_memo.getType(mP).first()}return l})}getRelated(e){var t;return ra(this,void 0,void 0,function*(){Sq({video_id:e});let i=null===(t=(yield ru(this,tQ,"f").execute(xc.PATH,Object.assign(Object.assign({},xc.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)||void 0===t?void 0:t.getType(gX),n=null==i?void 0:i.matchCondition(e=>{var t,i;return(null===(i=null===(t=e.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===t?void 0:t.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!n)throw new SO("Could not find target tab.");let s=yield n.endpoint.call(ru(this,tQ,"f"),{client:"YTMUSIC",parse:!0});if(!s.contents)throw new SO("Unexpected response",s);return s.contents.item().as(r8).contents.as(mr,ma)})}getLyrics(e){var t;return ra(this,void 0,void 0,function*(){Sq({video_id:e});let i=null===(t=(yield ru(this,tQ,"f").execute(xc.PATH,Object.assign(Object.assign({},xc.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)||void 0===t?void 0:t.getType(gX),n=null==i?void 0:i.matchCondition(e=>{var t,i;return(null===(i=null===(t=e.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===t?void 0:t.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!n)throw new SO("Could not find target tab.");let s=yield n.endpoint.call(ru(this,tQ,"f"),{client:"YTMUSIC",parse:!0});if(!s.contents)throw new SO("Unexpected response",s);if("Message"===s.contents.item().type)throw new SO(s.contents.item().as(dK).text.toString(),e);return s.contents.item().as(r8).contents.firstOfType(ma)})}getRecap(){return ra(this,void 0,void 0,function*(){return new wJ((yield ru(this,tQ,"f").execute(xt.PATH,xt.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}))),ru(this,tQ,"f"))})}getSearchSuggestions(e){return ra(this,void 0,void 0,function*(){let t=yield ru(this,tQ,"f").execute(x0.PATH,Object.assign(Object.assign({},x0.build({input:e})),{parse:!0}));return t.contents_memo?t.contents_memo.getType(gw):[]})}};rn(Ib,"Music"),tX=new WeakMap,tQ=new WeakMap,tJ=new WeakSet,tZ=rn(function(e){var t;return ra(this,void 0,void 0,function*(){let i=xu.build({video_id:e,sts:null===(t=ru(this,tX,"f").player)||void 0===t?void 0:t.sts,client:"YTMUSIC"}),n=xc.build({video_id:e,client:"YTMUSIC"}),s=ru(this,tQ,"f").execute(xu.PATH,i),r=ru(this,tQ,"f").execute(xc.PATH,n),o=yield Promise.all([s,r]),a=SG(16);return new w1(o,ru(this,tQ,"f"),a)})},"_Music_fetchInfoFromVideoId"),t0=rn(function(e){var t;return ra(this,void 0,void 0,function*(){if(!e)throw new SO("List item cannot be undefined");if(!e.endpoint)throw Error("This item does not have an endpoint.");let i=e.endpoint.call(ru(this,tQ,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:null===(t=ru(this,tX,"f").player)||void 0===t?void 0:t.sts})}}),n=e.endpoint.call(ru(this,tQ,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=SG(16);return new w1((yield Promise.all([i,n])),ru(this,tQ,"f"),s)})},"_Music_fetchInfoFromListItem");var Iw=Ib,Ix=class{constructor(e){t1.add(this),t2.set(this,void 0),rp(this,t2,e,"f")}setThumbnail(e,t){return ra(this,void 0,void 0,function*(){if(!ru(this,t2,"f").logged_in)throw new SO("You must be signed in to perform this operation.");if(!e||!t)throw new SD("One or more parameters are missing.");let i=c7(e,t);return yield ru(this,t2,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})})}updateVideoMetadata(e,t){return ra(this,void 0,void 0,function*(){if(!ru(this,t2,"f").logged_in)throw new SO("You must be signed in to perform this operation.");let i=c9(e,t);return yield ru(this,t2,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})})}upload(e,t={}){return ra(this,void 0,void 0,function*(){if(!ru(this,t2,"f").logged_in)throw new SO("You must be signed in to perform this operation.");let i=yield ru(this,t1,"m",t3).call(this),n=yield ru(this,t1,"m",t6).call(this,i.upload_url,e);if("STATUS_SUCCESS"!==n.status)throw new SO("Could not process video.");return yield ru(this,t1,"m",t5).call(this,i,n,t)})}};rn(Ix,"Studio"),t2=new WeakMap,t1=new WeakSet,t3=rn(function(){return ra(this,void 0,void 0,function*(){let e=`innertube_android:${SM.shim.uuidv4()}:0:v=3,api=1,cf=3`,t={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${SM.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},i=yield ru(this,t2,"f").http.fetch("/upload/youtubei",{baseURL:rw.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(t)});if(!i.ok)throw new SO("Could not get initial upload data");return{frontend_upload_id:e,upload_id:i.headers.get("x-guploader-uploadid"),upload_url:i.headers.get("x-goog-upload-url"),scotty_resource_id:i.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:i.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),t6=rn(function(e,t){return ra(this,void 0,void 0,function*(){let i=yield ru(this,t2,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:t});if(!i.ok)throw new SO("Could not upload video");return yield i.json()})},"_Studio_uploadVideo"),t5=rn(function(e,t,i){return ra(this,void 0,void 0,function*(){return yield ru(this,t2,"f").actions.execute(Sw.PATH,Sw.build({resource_id:{scotty_resource_id:{id:t.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:i.title||new Date().toDateString()},description:{new_description:i.description||"",should_segment:!0},privacy:{new_privacy:i.privacy||"PRIVATE"},draft_state:{is_draft:i.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var IS=Ix;rs({},{AccountManager:()=>IT,InteractionManager:()=>IA,PlaylistManager:()=>IE});var IC=class{constructor(e){t4.set(this,void 0),rp(this,t4,e,"f"),this.channel={editName:e=>{if(!ru(this,t4,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");return ru(this,t4,"f").execute(xA.EditNameEndpoint.PATH,xA.EditNameEndpoint.build({given_name:e}))},editDescription:e=>{if(!ru(this,t4,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");return ru(this,t4,"f").execute(xA.EditDescriptionEndpoint.PATH,xA.EditDescriptionEndpoint.build({given_description:e}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return ra(this,void 0,void 0,function*(){if(!ru(this,t4,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");return new bv((yield ru(this,t4,"f").execute(xw.AccountListEndpoint.PATH,xw.AccountListEndpoint.build())))})}getTimeWatched(){return ra(this,void 0,void 0,function*(){return new b3((yield ru(this,t4,"f").execute(xt.PATH,xt.build({browse_id:"SPtime_watched",client:"ANDROID"}))))})}getSettings(){return ra(this,void 0,void 0,function*(){let e=yield ru(this,t4,"f").execute(xt.PATH,xt.build({browse_id:"SPaccount_overview"}));return new b1(ru(this,t4,"f"),e)})}getAnalytics(){var e;return ra(this,void 0,void 0,function*(){let t=yield this.getInfo();return new by((yield ru(this,t4,"f").execute(xt.PATH,xt.build({browse_id:"FEanalytics_screen",params:c0(null===(e=t.footers)||void 0===e?void 0:e.endpoint.payload.browseId),client:"ANDROID"}))))})}};rn(IC,"AccountManager"),t4=new WeakMap;var IT=IC,II=class{constructor(e){t8.set(this,void 0),rp(this,t8,e,"f")}create(e,t){return ra(this,void 0,void 0,function*(){if(Sq({title:e,video_ids:t}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let i=yield ru(this,t8,"f").execute(Se.PATH,Se.build({ids:t,title:e}));return{success:i.success,status_code:i.status_code,playlist_id:i.data.playlistId,data:i.data}})}delete(e){return ra(this,void 0,void 0,function*(){if(Sq({playlist_id:e}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let t=yield ru(this,t8,"f").execute(Sn.PATH,Sn.build({playlist_id:e}));return{playlist_id:e,success:t.success,status_code:t.status_code,data:t.data}})}addVideos(e,t){return ra(this,void 0,void 0,function*(){if(Sq({playlist_id:e,video_ids:t}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let i=yield ru(this,t8,"f").execute(xI.PATH,xI.build({actions:t.map(e=>({action:"ACTION_ADD_VIDEO",added_video_id:e})),playlist_id:e}));return{playlist_id:e,action_result:i.data.actions}})}removeVideos(e,t){return ra(this,void 0,void 0,function*(){if(Sq({playlist_id:e,video_ids:t}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let i=yield ru(this,t8,"f").execute(xt.PATH,Object.assign(Object.assign({},xt.build({browse_id:`VL${e}`})),{parse:!0})),n=new bV(ru(this,t8,"f"),i,!0);if(!n.info.is_editable)throw new SO("This playlist cannot be edited.",e);let s={playlist_id:e,actions:[]},r=rn(e=>ra(this,void 0,void 0,function*(){if(e.videos.filter(e=>t.includes(e.key("id").string())).forEach(e=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:e.key("set_video_id").string()})),s.actions.length<t.length)return r((yield e.getContinuation()))}),"getSetVideoIds");if(yield r(n),!s.actions.length)throw new SO("Given video ids were not found in this playlist.",t);return{playlist_id:e,action_result:(yield ru(this,t8,"f").execute(xI.PATH,xI.build(s))).data.actions}})}moveVideo(e,t,i){return ra(this,void 0,void 0,function*(){let n,s;if(Sq({playlist_id:e,moved_video_id:t,predecessor_video_id:i}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let r=yield ru(this,t8,"f").execute(xt.PATH,Object.assign(Object.assign({},xt.build({browse_id:`VL${e}`})),{parse:!0})),o=new bV(ru(this,t8,"f"),r,!0);if(!o.info.is_editable)throw new SO("This playlist cannot be edited.",e);let a={playlist_id:e,actions:[]},l=rn(e=>ra(this,void 0,void 0,function*(){let r=e.videos.find(e=>t===e.key("id").string()),o=e.videos.find(e=>i===e.key("id").string());if(n=n||(null==r?void 0:r.key("set_video_id").string()),s=s||(null==o?void 0:o.key("set_video_id").string()),!n||!s)return l((yield e.getContinuation()))}),"getSetVideoIds");return yield l(o),a.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:n,moved_set_video_id_predecessor:s}),{playlist_id:e,action_result:(yield ru(this,t8,"f").execute(xI.PATH,xI.build(a))).data.actions}})}setName(e,t){return ra(this,void 0,void 0,function*(){if(Sq({playlist_id:e,name:t}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let i={playlist_id:e,actions:[]};return i.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:t}),{playlist_id:e,action_result:(yield ru(this,t8,"f").execute(xI.PATH,xI.build(i))).data.actions}})}setDescription(e,t){return ra(this,void 0,void 0,function*(){if(Sq({playlist_id:e,description:t}),!ru(this,t8,"f").session.logged_in)throw new SO("You must be signed in to perform this operation.");let i={playlist_id:e,actions:[]};return i.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:t}),{playlist_id:e,action_result:(yield ru(this,t8,"f").execute(xI.PATH,xI.build(i))).data.actions}})}};rn(II,"PlaylistManager"),t8=new WeakMap;var IE=II,Ik=class{constructor(e){t9.set(this,void 0),rp(this,t9,e,"f")}like(e){return ra(this,void 0,void 0,function*(){if(Sq({video_id:e}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield ru(this,t9,"f").execute(x$.PATH,x$.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return ra(this,void 0,void 0,function*(){if(Sq({video_id:e}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield ru(this,t9,"f").execute(xY.PATH,xY.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return ra(this,void 0,void 0,function*(){if(Sq({video_id:e}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield ru(this,t9,"f").execute(xJ.PATH,xJ.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return ra(this,void 0,void 0,function*(){if(Sq({channel_id:e}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield ru(this,t9,"f").execute(Sa.PATH,Sa.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return ra(this,void 0,void 0,function*(){if(Sq({channel_id:e}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield ru(this,t9,"f").execute(Sd.PATH,Sd.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,t){return ra(this,void 0,void 0,function*(){if(Sq({video_id:e,text:t}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");return yield ru(this,t9,"f").execute(xF.PATH,xF.build({comment_text:t,create_comment_params:c5(e),client:"ANDROID"}))})}translate(e,t,i={}){return ra(this,void 0,void 0,function*(){Sq({text:e,target_language:t});let n=c4(22,Object.assign({text:e,target_language:t},i)),s=yield ru(this,t9,"f").execute(xB.PATH,xB.build({client:"ANDROID",actions:[n]})),r=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:r.translatedContent.content,data:s.data}})}setNotificationPreferences(e,t){return ra(this,void 0,void 0,function*(){if(Sq({channel_id:e,type:t}),!ru(this,t9,"f").session.logged_in)throw Error("You must be signed in to perform this operation.");let i={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(i).includes(t.toUpperCase()))throw Error(`Invalid notification preference type: ${t}`);return yield ru(this,t9,"f").execute(x4.PATH,x4.build({client:"WEB",params:c8(e,i[t.toUpperCase()])}))})}};rn(Ik,"InteractionManager"),t9=new WeakMap;var IA=Ik,IR=class{constructor(e){t7.set(this,void 0),rp(this,t7,e,"f")}static create(e={}){return ra(this,void 0,void 0,function*(){return new IR((yield Ig.create(e)))})}getInfo(e,t){var i,n,s,r,o;return ra(this,void 0,void 0,function*(){let a;if(Sq({target:e}),e instanceof rD)a=xc.build({video_id:null===(i=e.payload)||void 0===i?void 0:i.videoId,playlist_id:null===(n=e.payload)||void 0===n?void 0:n.playlistId,params:null===(s=e.payload)||void 0===s?void 0:s.params,playlist_index:null===(r=e.payload)||void 0===r?void 0:r.index});else if("string"==typeof e)a=xc.build({video_id:e});else throw new SO("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!a.videoId)throw new SO("Video id cannot be empty",a);let l=xu.build({video_id:a.videoId,playlist_id:null==a?void 0:a.playlistId,client:t,sts:null===(o=ru(this,t7,"f").player)||void 0===o?void 0:o.sts}),c=this.actions.execute(xu.PATH,l),d=this.actions.execute(xc.PATH,a),h=yield Promise.all([c,d]),u=SG(16);return new wD(h,this.actions,u)})}getBasicInfo(e,t){var i;return ra(this,void 0,void 0,function*(){Sq({video_id:e});let n=yield this.actions.execute(xu.PATH,xu.build({video_id:e,client:t,sts:null===(i=ru(this,t7,"f").player)||void 0===i?void 0:i.sts})),s=SG(16);return new wD([n],this.actions,s)})}getShortsWatchItem(e,t){return ra(this,void 0,void 0,function*(){Sq({short_id:e});let i=this.actions.execute(Sp.WatchEndpoint.PATH,Sp.WatchEndpoint.build({short_id:e,client:t})),n=this.actions.execute(Sp.WatchSequenceEndpoint.PATH,Sp.WatchSequenceEndpoint.build({sequenceParams:dt(e)}));return new SA((yield Promise.all([i,n])),this.actions)})}search(e,t={}){return ra(this,void 0,void 0,function*(){Sq({query:e});let i=yield this.actions.execute(xy.PATH,xy.build({query:e,params:t?c1(t):void 0}));return new bZ(this.actions,i)})}getSearchSuggestions(e){return ra(this,void 0,void 0,function*(){Sq({query:e});let t=new URL(`${rw.YT_SUGGESTIONS}search`);t.searchParams.set("q",e),t.searchParams.set("hl",ru(this,t7,"f").context.client.hl),t.searchParams.set("gl",ru(this,t7,"f").context.client.gl),t.searchParams.set("ds","yt"),t.searchParams.set("client","youtube"),t.searchParams.set("xssi","t"),t.searchParams.set("oe","UTF");let i=yield ru(this,t7,"f").http.fetch(t);return JSON.parse((yield i.text()).replace(")]}'",""))[1].map(e=>e[0])})}getComments(e,t){return ra(this,void 0,void 0,function*(){Sq({video_id:e});let i=yield this.actions.execute(xc.PATH,xc.build({continuation:c6(e,{sort_by:t||"TOP_COMMENTS"})}));return new bA(this.actions,i.data)})}getHomeFeed(){return ra(this,void 0,void 0,function*(){let e=yield this.actions.execute(xt.PATH,xt.build({browse_id:"FEwhat_to_watch"}));return new bL(this.actions,e)})}getGuide(){return ra(this,void 0,void 0,function*(){return new bP((yield this.actions.execute(xa.PATH)).data)})}getLibrary(){return ra(this,void 0,void 0,function*(){let e=yield this.actions.execute(xt.PATH,xt.build({browse_id:"FElibrary"}));return new bj(this.actions,e)})}getHistory(){return ra(this,void 0,void 0,function*(){let e=yield this.actions.execute(xt.PATH,xt.build({browse_id:"FEhistory"}));return new bO(this.actions,e)})}getTrending(){return ra(this,void 0,void 0,function*(){let e=yield this.actions.execute(xt.PATH,Object.assign(Object.assign({},xt.build({browse_id:"FEtrending"})),{parse:!0}));return new bx(this.actions,e)})}getSubscriptionsFeed(){return ra(this,void 0,void 0,function*(){let e=yield this.actions.execute(xt.PATH,Object.assign(Object.assign({},xt.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new bb(this.actions,e)})}getChannel(e){return ra(this,void 0,void 0,function*(){Sq({id:e});let t=yield this.actions.execute(xt.PATH,xt.build({browse_id:e}));return new bT(this.actions,t)})}getNotifications(){return ra(this,void 0,void 0,function*(){let e=yield this.actions.execute(xs.PATH,xs.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new bX(this.actions,e)})}getUnseenNotificationsCount(){var e,t,i,n;return ra(this,void 0,void 0,function*(){let s=yield this.actions.execute(x6.PATH);return(null===(e=s.data)||void 0===e?void 0:e.unseenCount)||(null===(n=null===(i=null===(t=s.data)||void 0===t?void 0:t.actions)||void 0===i?void 0:i[0].updateNotificationsUnseenCountAction)||void 0===n?void 0:n.unseenCount)||0})}getPlaylist(e){return ra(this,void 0,void 0,function*(){Sq({id:e}),e.startsWith("VL")||(e=`VL${e}`);let t=yield this.actions.execute(xt.PATH,xt.build({browse_id:e}));return new bV(this.actions,t)})}getHashtag(e){return ra(this,void 0,void 0,function*(){Sq({hashtag:e});let t=yield this.actions.execute(xt.PATH,xt.build({browse_id:"FEhashtag",params:de(e)}));return new bD(this.actions,t)})}getStreamingData(e,t={}){return ra(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(t)})}download(e,t){return ra(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,null==t?void 0:t.client)).download(t)})}resolveURL(e){return ra(this,void 0,void 0,function*(){return(yield this.actions.execute(xm.PATH,Object.assign(Object.assign({},xm.build({url:e})),{parse:!0}))).endpoint})}call(e,t){return e.call(this.actions,t)}get music(){return new Iw(ru(this,t7,"f"))}get studio(){return new IS(ru(this,t7,"f"))}get kids(){return new I_(ru(this,t7,"f"))}get account(){return new IT(ru(this,t7,"f").actions)}get playlist(){return new IE(ru(this,t7,"f").actions)}get interact(){return new IA(ru(this,t7,"f").actions)}get actions(){return ru(this,t7,"f").actions}get session(){return ru(this,t7,"f")}};rn(IR,"Innertube"),t7=new WeakMap;var IP=class{constructor(e=!1,t){ie.add(this),it.set(this,void 0),ii.set(this,void 0),rp(this,it,t||"","f"),rp(this,ii,e,"f")}get cache_dir(){return ru(this,ii,"f")?ru(this,it,"f"):""}get(e){return ra(this,void 0,void 0,function*(){let t=yield ru(this,ie,"m",is).call(this);if(t)return new Promise((i,n)=>{let s=t.transaction("kv-store","readonly").objectStore("kv-store").get(e);s.onerror=n,s.onsuccess=function(){var e;let t=null===(e=this.result)||void 0===e?void 0:e.v;i(t?t.buffer:void 0)}})})}set(e,t){return ra(this,void 0,void 0,function*(){let i=yield ru(this,ie,"m",is).call(this);if(i)return new Promise((n,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:t});r.onerror=s,r.onsuccess=()=>n()})})}remove(e){return ra(this,void 0,void 0,function*(){let t=yield ru(this,ie,"m",is).call(this);if(t)return new Promise((i,n)=>{let s=t.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);s.onerror=n,s.onsuccess=()=>i()})})}};rn(IP,"Cache"),it=new WeakMap,ii=new WeakMap,ie=new WeakSet,is=rn(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((t,i)=>{let n=e.open("youtubei.js",1);n.onsuccess=function(){t(this.result)},n.onerror=function(e){i("indexedDB request error"),console.error(e)},n.onupgradeneeded=function(){this.result.createObjectStore("kv-store",{keyPath:"k"}).transaction.oncomplete=function(){t(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB"),SM.load({runtime:"browser",server:!1,info:{version:S2.version,bugs_url:S2.bugs.url,repo_url:S2.homepage.split("#")[0]},Cache:IP,sha1Hash:S1,uuidv4(){var e;return(null===(e=globalThis.crypto)||void 0===e?void 0:e.randomUUID())?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let t=parseInt(e);return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},eval:Ip,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});let IM=async()=>(e||(e=await IR.create({fetch:application.networkRequest,cookie:"CONSENT=YES+"})),e),IO=async()=>{let e=await IM();return{videos:{items:(await e.getHomeFeed()).videos.filter(e=>"thumbnails"in e&&"author"in e).map(e=>({apiId:e.id,title:e.title.toString(),duration:e.duration.seconds,channelName:e.author.name,channelApiId:e.author.id,images:e.thumbnails}))}}},IL=async e=>{let t=await IM(),i=await t.actions.execute(xe.BrowseEndpoint.PATH,{...xe.BrowseEndpoint.build({browse_id:"FEchannels"}),parse:!0});return{items:new b6.Feed(t.actions,i).channels.map(e=>({apiId:e.id,name:e.author.name,images:e.author.thumbnails}))}},ID=async e=>{let t=await IM(),i=await t.account.getInfo(),n=i.footers?.endpoint.payload.browseId,s=await t.getChannel(n);return s.has_playlists?{items:(await s.getPlaylists()).playlists.map(e=>({name:e.title.toString(),apiId:e.id,images:e.thumbnails}))}:{items:[]}},IN=e=>{application.postUiMessage(e)},IB=async()=>{let e=sA.getItem("usePlayer");return!e||"true"===e},IU=async()=>{let e=document.location.host.split(".");e.shift();let t=e.join("."),i=`${document.location.protocol}//${t}`,n=await application.getPluginId(),s=await application.getLocale(),r=await application.getPlaylistsInfo(),o=sA.getItem("apiKey")??"",a=sA.getItem("clientId")??"";IN({type:"info",origin:i,pluginId:n,apiKey:o,clientId:a,clientSecret:sA.getItem("clientSecret")??"",usePlayer:await IB(),instance:await sD(),locale:s,playlists:r})},IV=async e=>{let t=new URL(e).searchParams.get("list");if(t){let e=await IG({apiId:t,isUserPlaylist:!1});return{...e.playlist,videos:e.items}}throw Error("Couldn't retreive playlist")},IF=async e=>{let t=[];e.forEach(e=>{try{let i=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu.be)\/(?:watch\?v=|embed\/|v\/)?([a-zA-Z0-9_-]+)(?:\S+)?$/);i&&t.push(i[1])}catch{}});let i=t.length,n=0,s=50,r=[];for(;n<i;){let e=t.slice(n,s),i=await s7(e);r.push(...i),n+=50,s+=50}return r};async function Ij(e){return sF(e)}async function IH(e){return sH(e)}async function IW(e){return sW(e)}async function I$(e){return sj(e)}async function IG(e){return e.isUserPlaylist?re(e):sG(e)}async function IK(){let e=await application.isNetworkRequestCorsDisabled();try{if(e)return await IO();return await s9()}catch(e){return console.log(e),await sV()}}async function IY(e){return await IB()?sB(e.apiId):sq(e.apiId)}async function Iq(e){return sK(e)}async function Iz(e){return sK({apiId:e.videoApiId,pageInfo:e.pageInfo})}async function IJ(e){let t=Ij(e),i=I$(e),n=IH(e),[s,r,o]=await Promise.all([t,i,n]);return{videos:s,playlists:r,channels:o}}async function IX(e,t){if(!/^.*(youtu.be\/|list=)([^#\&\?]*).*/.test(e)&&!/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu.be)\/(?:watch\?v=|embed\/|v\/)?([a-zA-Z0-9_-]+)(?:\S+)?$/.test(e))return!1;switch(t){case"playlist":return new URL(e).searchParams.has("list");case"video":return!0;default:return!1}}async function IQ(e){return s$(e)}application.onUiMessage=async e=>{switch(e.type){case"check-login":let t=sA.getItem("access_token");t&&IN({type:"login",accessToken:t}),await IU();break;case"login":s6(e.accessToken,e.refreshToken),application.onGetUserPlaylists=rt;break;case"logout":sA.removeItem("access_token"),sA.removeItem("refresh_token"),application.onGetUserPlaylists=void 0;break;case"set-keys":sA.setItem("apiKey",e.apiKey),sA.setItem("clientId",e.clientId),sA.setItem("clientSecret",e.clientSecret),application.createNotification({message:"Api Keys saved!"});break;case"useplayer":sA.setItem("usePlayer",String(e.usePlayer));break;case"endvideo":application.endVideo();break;case"getinstnace":IN({type:"sendinstance",instance:await sL()});break;case"resolve-urls":let i=await IF(e.videoUrls.split("\n"));await application.addVideosToPlaylist(e.playlistId,i),application.createNotification({message:"Success!"})}};let IZ=async()=>{application.onGetUserChannels=IL,application.onGetUserPlaylists=ID},I0=async()=>{application.onGetUserChannels=void 0,application.onGetUserPlaylists=void 0};application.onSearchAll=IJ,application.onSearchVideos=Ij,application.onSearchPlaylists=I$,application.onSearchChannels=IH,application.onGetChannelVideos=IW,application.onGetPlaylistVideos=IG,application.onGetVideoComments=Iq,application.onGetCommentReplies=Iz,application.onGetTopItems=IK,application.onUsePlayer=IB,application.onGetVideo=IY,application.onLookupPlaylistUrl=IV,application.onLookupVideoUrls=IF,application.onCanParseUrl=IX,application.onGetSearchSuggestions=IQ,application.onPostLogin=IZ,application.onPostLogout=I0,(async()=>{sA.getItem("access_token")&&(application.onGetUserPlaylists=rt),await sO(),await application.isLoggedIn()&&IZ()})()})();