<!DOCTYPE html>
<html>
<script type="module" crossorigin>(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))R(S);new MutationObserver(S=>{for(const x of S)if(x.type==="childList")for(const W of x.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&R(W)}).observe(document,{childList:!0,subtree:!0});function g(S){const x={};return S.integrity&&(x.integrity=S.integrity),S.referrerPolicy&&(x.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?x.credentials="include":S.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function R(S){if(S.ep)return;S.ep=!0;const x=g(S);fetch(S.href,x)}})();const OL="modulepreload",_L=function(f,m){return new URL(f,m).href},PA={},ol=function(m,g,R){let S=Promise.resolve();if(g&&g.length>0){let W=function(Ke){return Promise.all(Ke.map(Ge=>Promise.resolve(Ge).then(yt=>({status:"fulfilled",value:yt}),yt=>({status:"rejected",reason:yt}))))};const h=document.getElementsByTagName("link"),$=document.querySelector("meta[property=csp-nonce]"),Le=$?.nonce||$?.getAttribute("nonce");S=W(g.map(Ke=>{if(Ke=_L(Ke,R),Ke in PA)return;PA[Ke]=!0;const Ge=Ke.endsWith(".css"),yt=Ge?'[rel="stylesheet"]':"";if(!!R)for(let Tt=h.length-1;Tt>=0;Tt--){const dn=h[Tt];if(dn.href===Ke&&(!Ge||dn.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Ke}"]${yt}`))return;const Ce=document.createElement("link");if(Ce.rel=Ge?"stylesheet":OL,Ge||(Ce.as="script"),Ce.crossOrigin="",Ce.href=Ke,Le&&Ce.setAttribute("nonce",Le),document.head.appendChild(Ce),Ge)return new Promise((Tt,dn)=>{Ce.addEventListener("load",Tt),Ce.addEventListener("error",()=>dn(new Error(`Unable to preload CSS for ${Ke}`)))})}))}function x(W){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=W,window.dispatchEvent(h),!h.defaultPrevented)throw W}return S.then(W=>{for(const h of W||[])h.status==="rejected"&&x(h.reason);return m().catch(x)})};function UL(f){const m=new Uint8Array(f);let g="";for(let R=0;R<m.length;R++)g+=String.fromCharCode(m[R]);return btoa(g)}function jL(f){const m=atob(f),g=new Uint8Array(m.length);for(let R=0;R<m.length;R++)g[R]=m.charCodeAt(R);return g.buffer}const BL="sabrData",Nh=()=>{const f=new URLSearchParams(location.hash.substring(1));return parseInt(f.get("t")??"0",10)||void 0};function Oh(f){parent.postMessage(f,"*")}function FL(){let f=0;return async(g,R)=>{const S=typeof g=="string"?g:g instanceof URL?g.toString():g.url;if(!S.includes("googlevideo.com"))return fetch(g,R);const x=`proxy-${f++}`,W=R?.method||"GET",h={};R?.headers&&new Headers(R.headers).forEach((Ke,Ge)=>{h[Ge]=Ke});let $;if(R?.body){let Le;R.body instanceof ArrayBuffer?Le=R.body:ArrayBuffer.isView(R.body)?Le=R.body.buffer:Le=await new Response(R.body).arrayBuffer(),$=UL(Le)}return new Promise((Le,Ke)=>{const Ge=yt=>{const At=yt.data;if(At.type==="proxy-fetch-response"&&At.requestId===x){if(window.removeEventListener("message",Ge),At.error){Ke(new Error(At.error));return}const Ce=jL(At.body),Tt=new Response(Ce,{status:At.status,statusText:At.statusText,headers:At.headers});Le(Tt)}};window.addEventListener("message",Ge),Oh({type:"proxy-fetch-request",requestId:x,url:S,method:W,headers:h,body:$})})}}const qL=()=>{const f=document.getElementById("player");f.style.display="";let m;window.onYouTubeIframeAPIReady=()=>{const h=new URLSearchParams(window.location.search).get("apiId")??void 0,$=Nh();h&&(m=new YT.Player("player",{width:"100%",height:"100%",videoId:h,playerVars:{playsinline:1,start:$},events:{onReady:g,onStateChange:R}}),window.addEventListener("hashchange",()=>{const Le=Nh();Le&&m.seekTo(Le,!0)}))};function g(W){W.target.playVideo()}function R(W){W.data===YT.PlayerState.ENDED&&(console.log("End Track"),Oh({type:"endvideo"}))}const S=document.createElement("script");S.src="https://www.youtube.com/iframe_api";const x=document.getElementsByTagName("script")[0];x.parentNode?.insertBefore(S,x)},VL=async()=>{const f=(await ol(async()=>{const{default:Pt}=await Promise.resolve().then(()=>XL);return{default:Pt}},void 0,import.meta.url)).default;await ol(()=>Promise.resolve().then(()=>YL),void 0,import.meta.url);const{SabrStreamingAdapter:m}=await ol(async()=>{const{SabrStreamingAdapter:Pt}=await Promise.resolve().then(()=>sb);return{SabrStreamingAdapter:Pt}},void 0,import.meta.url),{ShakaPlayerAdapter:g}=await ol(async()=>{const{ShakaPlayerAdapter:Pt}=await Promise.resolve().then(()=>lb);return{ShakaPlayerAdapter:Pt}},void 0,import.meta.url),{botguardService:R}=await ol(async()=>{const{botguardService:Pt}=await Promise.resolve().then(()=>vb);return{botguardService:Pt}},void 0,import.meta.url),S=document.getElementById("video-container"),x=document.getElementById("video"),W=document.getElementById("player");W.style.display="none",S.style.display="";const h=localStorage.getItem(BL);if(!h){console.error("[Player] No SABR data found in localStorage");return}const $=JSON.parse(h);if(console.log("[Player] SABR data loaded for video:",$.videoId),f.polyfill.installAll(),!f.Player.isBrowserSupported()){console.error("[Player] Shaka Player is not supported on this browser");return}const Le=new f.Player;Le.configure({abr:{enabled:!0},streaming:{bufferingGoal:120,rebufferingGoal:2}}),await Le.attach(x),new f.ui.Overlay(Le,S,x).configure({addBigPlayButton:!1,overflowMenuButtons:["captions","quality","language","picture_in_picture","playback_rate","loop"],customContextMenu:!0});let Ge,yt=!1,At;const Ce=$.videoId;R.init().then(()=>console.info("[Player]","BotGuard client initialized"));async function Tt(){if(!(!Ce||yt)){yt=!0;try{At=R.mintColdStartToken(Ce),console.info("[Player]",`Cold start token created (Content binding: ${decodeURIComponent(Ce)})`),R.isInitialized()||await R.reinit(),R.integrityTokenBasedMinter&&(Ge=await R.integrityTokenBasedMinter.mintAsWebsafeString(decodeURIComponent(Ce)),console.info("[Player]",`WebPO token created (Content binding: ${decodeURIComponent(Ce)})`))}catch(Pt){console.error("[Player]","Error minting WebPO token",Pt)}finally{yt=!1}}}const dn=new g;dn.setFetchFunction(FL());const Nn=new m({playerAdapter:dn,clientInfo:$.clientInfo});Nn.onMintPoToken(async()=>(Ge||($.isLive?await Tt():Tt().then()),Ge||At||"")),Nn.onReloadPlayerResponse(async Pt=>(console.log("[Player]","Requesting player response reload..."),new Promise(se=>{const tr=T=>{const X=T.data;X.type==="reload-player-response"&&(window.removeEventListener("message",tr),Nn.setStreamingURL(X.streamingUrl),X.ustreamerConfig&&Nn.setUstreamerConfig(X.ustreamerConfig),se())};window.addEventListener("message",tr),Oh({type:"reload-player-request",videoId:$.videoId,reloadContext:Pt})}))),Nn.attach(Le),$.formats.length>0&&!$.isPostLiveDVR&&!$.isLive&&(Nn.setStreamingURL($.streamingUrl),$.ustreamerConfig&&Nn.setUstreamerConfig($.ustreamerConfig),Nn.setServerAbrFormats($.formats));let Nr;if($.isLive||$.isPostLiveDVR?Nr=$.liveManifestUrl:Nr=`data:application/dash+xml;base64,${$.manifest}`,!Nr){console.error("[Player] No valid manifest URI");return}await Le.load(Nr),console.log("[Player]",`Now playing: ${$.title}`),x.addEventListener("ended",()=>{console.log("End Track"),Oh({type:"endvideo"})}),window.addEventListener("hashchange",()=>{const Pt=Nh();Pt&&(x.currentTime=Pt)});const fo=Nh();fo&&(x.currentTime=fo)},HL=()=>{const f=localStorage.getItem("usePlayer");!f||f==="true"?qL():VL().catch(m=>{console.error("[Player] Failed to initialize SABR player:",m)})};HL();var GL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zL(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var dv={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var bA;function KL(){return bA||(bA=1,(function(f){(function(){var m=typeof window<"u"?window:GL,g={};(function(S,x,W){var h,$=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Le=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function Ke(e){e=[typeof globalThis=="object"&&globalThis,e,typeof S=="object"&&S,typeof self=="object"&&self,typeof x=="object"&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var Ge=Ke(this),yt="Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64".split(" ");Ge.BigInt64Array&&(yt.push("BigInt64"),yt.push("BigUint64"));function At(e,t){if(t)for(var n=0;n<yt.length;n++)Tt(yt[n]+"Array.prototype."+e,t)}function Ce(e,t){t&&Tt(e,t)}function Tt(e,t){var n=Ge;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))return;n=n[r]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&t!=null&&Le(n,e,{configurable:!0,writable:!0,value:t})}var dn;if(typeof Object.setPrototypeOf=="function")dn=Object.setPrototypeOf;else{var Nn;e:{var Nr={a:!0},fo={};try{fo.__proto__=Nr,Nn=fo.a;break e}catch{}Nn=!1}dn=Nn?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Pt=dn;function se(e,t){if(e.prototype=$(t.prototype),e.prototype.constructor=e,Pt)Pt(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.Xn=t.prototype}function tr(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function T(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return{next:tr(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function X(e){if(!(e instanceof Array)){e=T(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function ul(){this.u=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function jh(e){if(e.u)throw new TypeError("Generator is already running");e.u=!0}ul.prototype.A=function(e){this.h=e};function Bh(e,t){e.i={$i:t,nj:!0},e.g=e.m||e.j}ul.prototype.return=function(e){this.i={return:e},this.g=this.j};function w(e,t,n){return e.g=n,{value:t}}ul.prototype.B=function(e){this.g=e};function Z(e){e.g=0}function ue(e,t,n){e.m=t,n!=null&&(e.j=n)}function nr(e,t){e.m=0,e.j=t||0}function Ae(e,t,n){e.g=t,e.m=n||0}function ae(e,t){return e.m=t||0,t=e.i.$i,e.i=null,t}function Hn(e){e.C=[e.i],e.m=0,e.j=0}function Gn(e,t){var n=e.C.splice(0)[0];(n=e.i=e.i||n)?n.nj?e.g=e.m||e.j:n.B!=null&&e.j<n.B?(e.g=n.B,e.i=null):e.g=e.j:e.g=t}function Ix(e){this.g=new ul,this.h=e}function kx(e,t){jh(e.g);var n=e.g.l;return n?Fh(e,"return"in n?n.return:function(i){return{value:i,done:!0}},t,e.g.return):(e.g.return(t),mu(e))}function Fh(e,t,n,i){try{var r=t.call(e.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.u=!1,r;var o=r.value}catch(s){return e.g.l=null,Bh(e.g,s),mu(e)}return e.g.l=null,i.call(e.g,o),mu(e)}function mu(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.u=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,Bh(e.g,n)}if(e.g.u=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.nj)throw t.$i;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function Cx(e){this.next=function(t){return jh(e.g),e.g.l?t=Fh(e,e.g.l.next,t,e.g.A):(e.g.A(t),t=mu(e)),t},this.throw=function(t){return jh(e.g),e.g.l?t=Fh(e,e.g.l.throw,t,e.g.A):(Bh(e.g,t),t=mu(e)),t},this.return=function(t){return kx(e,t)},this[Symbol.iterator]=function(){return this}}function Mx(e){function t(i){return e.next(i)}function n(i){return e.throw(i)}return new Promise(function(i,r){function o(s){s.done?i(s.value):Promise.resolve(s.value).then(t,n).then(o,r)}o(e.next())})}function N(e){return Mx(new Cx(new Ix(e)))}function qt(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}Ce("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(i+(o||"")+"_"+r++,o)}function n(o,s){this.g=o,Le(this,"description",{configurable:!0,writable:!0,value:s})}if(e)return e;n.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(Math.random()*1e9>>>0)+"_",r=0;return t}),Ce("Symbol.iterator",function(e){return e||(e=Symbol("Symbol.iterator"),Le(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return Tv(tr(this))}}),e)});function Tv(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}Ce("Promise",function(e){function t(s){this.h=0,this.i=void 0,this.g=[],this.u=!1;var u=this.j();try{s(u.resolve,u.reject)}catch(a){u.reject(a)}}function n(){this.g=null}function i(s){return s instanceof t?s:new t(function(u){u(s)})}if(e)return e;n.prototype.h=function(s){if(this.g==null){this.g=[];var u=this;this.i(function(){u.l()})}this.g.push(s)};var r=Ge.setTimeout;n.prototype.i=function(s){r(s,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var s=this.g;this.g=[];for(var u=0;u<s.length;++u){var a=s[u];s[u]=null;try{a()}catch(l){this.j(l)}}}this.g=null},n.prototype.j=function(s){this.i(function(){throw s})},t.prototype.j=function(){function s(l){return function(c){a||(a=!0,l.call(u,c))}}var u=this,a=!1;return{resolve:s(this.G),reject:s(this.l)}},t.prototype.G=function(s){if(s===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(s instanceof t)this.I(s);else{e:switch(typeof s){case"object":var u=s!=null;break e;case"function":u=!0;break e;default:u=!1}u?this.F(s):this.m(s)}},t.prototype.F=function(s){var u=void 0;try{u=s.then}catch(a){this.l(a);return}typeof u=="function"?this.J(u,s):this.m(s)},t.prototype.l=function(s){this.A(2,s)},t.prototype.m=function(s){this.A(1,s)},t.prototype.A=function(s,u){if(this.h!=0)throw Error("Cannot settle("+s+", "+u+"): Promise already settled in state"+this.h);this.h=s,this.i=u,this.h===2&&this.H(),this.C()},t.prototype.H=function(){var s=this;r(function(){if(s.D()){var u=Ge.console;typeof u<"u"&&u.error(s.i)}},1)},t.prototype.D=function(){if(this.u)return!1;var s=Ge.CustomEvent,u=Ge.Event,a=Ge.dispatchEvent;return typeof a>"u"?!0:(typeof s=="function"?s=new s("unhandledrejection",{cancelable:!0}):typeof u=="function"?s=new u("unhandledrejection",{cancelable:!0}):(s=Ge.document.createEvent("CustomEvent"),s.initCustomEvent("unhandledrejection",!1,!0,s)),s.promise=this,s.reason=this.i,a(s))},t.prototype.C=function(){if(this.g!=null){for(var s=0;s<this.g.length;++s)o.h(this.g[s]);this.g=null}};var o=new n;return t.prototype.I=function(s){var u=this.j();s.pf(u.resolve,u.reject)},t.prototype.J=function(s,u){var a=this.j();try{s.call(u,a.resolve,a.reject)}catch(l){a.reject(l)}},t.prototype.then=function(s,u){function a(p,v){return typeof p=="function"?function(y){try{l(p(y))}catch(E){c(E)}}:v}var l,c,d=new t(function(p,v){l=p,c=v});return this.pf(a(s,l),a(u,c)),d},t.prototype.catch=function(s){return this.then(void 0,s)},t.prototype.pf=function(s,u){function a(){switch(l.h){case 1:s(l.i);break;case 2:u(l.i);break;default:throw Error("Unexpected state: "+l.h)}}var l=this;this.g==null?o.h(a):this.g.push(a),this.u=!0},t.resolve=i,t.reject=function(s){return new t(function(u,a){a(s)})},t.race=function(s){return new t(function(u,a){for(var l=T(s),c=l.next();!c.done;c=l.next())i(c.value).pf(u,a)})},t.all=function(s){var u=T(s),a=u.next();return a.done?i([]):new t(function(l,c){function d(y){return function(E){p[y]=E,v--,v==0&&l(p)}}var p=[],v=0;do p.push(void 0),v++,i(a.value).pf(d(p.length-1),c),a=u.next();while(!a.done)})},t});function Mi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Ce("WeakMap",function(e){function t(a){if(this.g=(u+=Math.random()+1).toString(),a){a=T(a);for(var l;!(l=a.next()).done;)l=l.value,this.set(l[0],l[1])}}function n(){}function i(a){var l=typeof a;return l==="object"&&a!==null||l==="function"}function r(a){if(!Mi(a,s)){var l=new n;Le(a,s,{value:l})}}function o(a){var l=Object[a];l&&(Object[a]=function(c){return c instanceof n?c:(Object.isExtensible(c)&&r(c),l(c))})}if((function(){if(!e||!Object.seal)return!1;try{var a=Object.seal({}),l=Object.seal({}),c=new e([[a,2],[l,3]]);return c.get(a)!=2||c.get(l)!=3?!1:(c.delete(a),c.set(l,4),!c.has(a)&&c.get(l)==4)}catch{return!1}})())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(a,l){if(!i(a))throw Error("Invalid WeakMap key");if(r(a),!Mi(a,s))throw Error("WeakMap key fail: "+a);return a[s][this.g]=l,this},t.prototype.get=function(a){return i(a)&&Mi(a,s)?a[s][this.g]:void 0},t.prototype.has=function(a){return i(a)&&Mi(a,s)&&Mi(a[s],this.g)},t.prototype.delete=function(a){return i(a)&&Mi(a,s)&&Mi(a[s],this.g)?delete a[s][this.g]:!1},t}),Ce("Map",function(e){function t(){var u={};return u.Jc=u.next=u.head=u}function n(u,a){var l=u[1];return Tv(function(){if(l){for(;l.head!=u[1];)l=l.Jc;for(;l.next!=l.head;)return l=l.next,{done:!1,value:a(l)};l=null}return{done:!0,value:void 0}})}function i(u,a){var l=a&&typeof a;l=="object"||l=="function"?o.has(a)?l=o.get(a):(l=""+ ++s,o.set(a,l)):l="p_"+a;var c=u[0][l];if(c&&Mi(u[0],l))for(u=0;u<c.length;u++){var d=c[u];if(a!==a&&d.key!==d.key||a===d.key)return{id:l,list:c,index:u,entry:d}}return{id:l,list:c,index:-1,entry:void 0}}function r(u){if(this[0]={},this[1]=t(),this.size=0,u){u=T(u);for(var a;!(a=u.next()).done;)a=a.value,this.set(a[0],a[1])}}if((function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var u=Object.seal({x:4}),a=new e(T([[u,"s"]]));if(a.get(u)!="s"||a.size!=1||a.get({x:4})||a.set({x:4},"t")!=a||a.size!=2)return!1;var l=a.entries(),c=l.next();return c.done||c.value[0]!=u||c.value[1]!="s"?!1:(c=l.next(),!(c.done||c.value[0].x!=4||c.value[1]!="t"||!l.next().done))}catch{return!1}})())return e;var o=new WeakMap;r.prototype.set=function(u,a){u=u===0?0:u;var l=i(this,u);return l.list||(l.list=this[0][l.id]=[]),l.entry?l.entry.value=a:(l.entry={next:this[1],Jc:this[1].Jc,head:this[1],key:u,value:a},l.list.push(l.entry),this[1].Jc.next=l.entry,this[1].Jc=l.entry,this.size++),this},r.prototype.delete=function(u){return u=i(this,u),u.entry&&u.list?(u.list.splice(u.index,1),u.list.length||delete this[0][u.id],u.entry.Jc.next=u.entry.next,u.entry.next.Jc=u.entry.Jc,u.entry.head=null,this.size--,!0):!1},r.prototype.clear=function(){this[0]={},this[1]=this[1].Jc=t(),this.size=0},r.prototype.has=function(u){return!!i(this,u).entry},r.prototype.get=function(u){return(u=i(this,u).entry)&&u.value},r.prototype.entries=function(){return n(this,function(u){return[u.key,u.value]})},r.prototype.keys=function(){return n(this,function(u){return u.key})},r.prototype.values=function(){return n(this,function(u){return u.value})},r.prototype.forEach=function(u,a){for(var l=this.entries(),c;!(c=l.next()).done;)c=c.value,u.call(a,c[1],c[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var s=0;return r});function qh(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}Ce("Array.prototype.keys",function(e){return e||function(){return qh(this,function(t){return t})}}),Ce("Set",function(e){function t(n){if(this.g=new Map,n){n=T(n);for(var i;!(i=n.next()).done;)this.add(i.value)}this.size=this.g.size}return(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),i=new e(T([n]));if(!i.has(n)||i.size!=1||i.add(n)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var r=i.entries(),o=r.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=r.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:r.next().done)}catch{return!1}})()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,i){var r=this;this.g.forEach(function(o){return n.call(i,o,o,r)})},t)}),Ce("Array.prototype.values",function(e){return e||function(){return qh(this,function(t,n){return n})}}),Ce("Array.from",function(e){return e||function(t,n,i){n=n??function(u){return u};var r=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var s=0;!(o=t.next()).done;)r.push(n.call(i,o.value,s++))}else for(o=t.length,s=0;s<o;s++)r.push(n.call(i,t[s],s));return r}});function al(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}Ce("String.prototype.startsWith",function(e){return e||function(t,n){var i=al(this,t,"startsWith"),r=i.length,o=t.length;n=Math.max(0,Math.min(n|0,i.length));for(var s=0;s<o&&n<r;)if(i[n++]!=t[s++])return!1;return s>=o}}),Ce("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),Ce("Array.prototype.includes",function(e){return e||function(t,n){var i=this;i instanceof String&&(i=String(i));var r=i.length;for(n=n||0,n<0&&(n=Math.max(n+r,0));n<r;n++){var o=i[n];if(o===t||Object.is(o,t))return!0}return!1}}),Ce("String.prototype.includes",function(e){return e||function(t,n){return al(this,t,"includes").indexOf(t,n||0)!==-1}}),Ce("String.fromCodePoint",function(e){return e||function(t){for(var n="",i=0;i<arguments.length;i++){var r=Number(arguments[i]);if(r<0||r>1114111||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);r<=65535?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),n+=String.fromCharCode(r&1023|56320))}return n}});function Sv(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{jj:r,v:o}}return{jj:-1,v:void 0}}Ce("Array.prototype.findIndex",function(e){return e||function(t,n){return Sv(this,t,n).jj}}),Ce("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=T(n);for(var i;!(i=n.next()).done;)this.add(i.value)}}return(function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),i=Object.seal({}),r=new e([n]);return!r.has(n)||r.has(i)?!1:(r.delete(n),r.add(i),!r.has(n)&&r.has(i))}catch{return!1}})()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),Ce("Array.prototype.find",function(e){return e||function(t,n){return Sv(this,t,n).v}}),Ce("Object.entries",function(e){return e||function(t){var n=[],i;for(i in t)Mi(t,i)&&n.push([i,t[i]]);return n}});var Rx=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("No nullish arg");e=Object(e);for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Mi(i,r)&&(e[r]=i[r])}return e};Ce("Object.assign",function(e){return e||Rx}),Ce("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),Ce("Array.prototype.entries",function(e){return e||function(){return qh(this,function(t,n){return[t,n]})}}),Ce("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),Ce("String.prototype.repeat",function(e){return e||function(t){var n=al(this,null,"repeat");if(t<0||t>1342177279)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)t&1&&(i+=n),(t>>>=1)&&(n+=n);return i}}),Ce("Number.EPSILON",function(){return 2220446049250313e-31}),Ce("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),Ce("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),Ce("Object.values",function(e){return e||function(t){var n=[],i;for(i in t)Mi(t,i)&&n.push(t[i]);return n}}),Ce("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),Ce("String.prototype.endsWith",function(e){return e||function(t,n){var i=al(this,t,"endsWith");n===void 0&&(n=i.length),n=Math.max(0,Math.min(n|0,i.length));for(var r=t.length;r>0&&n>0;)if(i[--n]!=t[--r])return!1;return r<=0}}),Ce("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return t<0?-n:n}});function Vh(e){if(e=Math.trunc(e)||0,e<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]}Ce("Array.prototype.at",function(e){return e||Vh}),At("at",function(e){return e||Vh}),Ce("String.prototype.at",function(e){return e||Vh});var Lx=this||self;function K(e,t){e=e.split(".");var n=Lx;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||t===void 0?n[i]&&n[i]!==Object.prototype[i]?n=n[i]:n=n[i]={}:n[i]=t}function J(e,t){if(t)if(t instanceof Map)for(var n=T(t.keys()),i=n.next();!i.done;i=n.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=S.performance&&S.performance.now?S.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Ev(e){var t=new J(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}J.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},J.prototype.stopImmediatePropagation=function(){this.g=!0},J.prototype.stopPropagation=function(){},K("shaka.util.FakeEvent",J);var ll={Km:"abrstatuschanged",Lm:"adaptation",Mm:"audiotrackchanged",Nm:"audiotrackschanged",Om:"boundarycrossed",Pm:"buffering",Qm:"canupdatestarttime",Rm:"complete",Sm:"currentitemchanged",Tm:"downloadcompleted",Um:"downloadfailed",Vm:"downloadheadersreceived",Wm:"drmsessionupdate",Xm:"emsg",dn:"itemsinserted",fn:"itemsremoved",xn:"prft",Error:"error",Ym:"expirationupdated",Zm:"firstquartile",$m:"gapjumped",gn:"keystatuschanged",ln:"loaded",mn:"loading",on:"manifestparsed",pn:"manifestupdated",qn:"mediaqualitychanged",rn:"mediasourcerecovered",tn:"metadataadded",Metadata:"metadata",un:"midpoint",vn:"nospatialvideoinfo",wn:"onstatechange",yn:"ratechange",Bn:"segmentappended",Cn:"sessiondata",Dn:"spatialvideoinfo",En:"stalldetected",Fn:"started",Gn:"statechanged",Hn:"streaming",In:"textchanged",Jn:"texttrackvisibility",Kn:"thirdquartile",Ln:"timelineregionadded",Mn:"timelineregionenter",Nn:"timelineregionexit",On:"trackschanged",Qn:"unloading",Sn:"variantchanged"};function Px(){}function ji(){}function ye(){}function Or(e){var t=qt.apply(1,arguments);Av.has(e)||(Av.add(e),ye.apply(Px,X(t)))}function bx(){}function yb(){}function Tb(){}var Av=new Set;S.console&&(new Map().set(1,function(){return console.error.apply(console,X(qt.apply(0,arguments)))}).set(2,function(){return console.warn.apply(console,X(qt.apply(0,arguments)))}).set(3,function(){return console.info.apply(console,X(qt.apply(0,arguments)))}).set(4,function(){return console.log.apply(console,X(qt.apply(0,arguments)))}).set(5,function(){return console.debug.apply(console,X(qt.apply(0,arguments)))}).set(6,function(){return console.debug.apply(console,X(qt.apply(0,arguments)))}),ye=function(){return console.warn.apply(console,X(qt.apply(0,arguments)))},ji=function(){console.error.apply(console,X(qt.apply(0,arguments)))});function cl(){this.g=new Map}h=cl.prototype,h.push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},h.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},h.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter(function(i){return i!=t});this.g.set(e,n),n.length||this.g.delete(e)}},h.forEach=function(e){this.g.forEach(function(t,n){e(n,t)})},h.size=function(){return this.g.size},h.keys=function(){return Array.from(this.g.keys())};function _e(){this.hb=new cl,this.cf=this}_e.prototype.addEventListener=function(e,t){this.hb&&this.hb.push(e,t)},_e.prototype.removeEventListener=function(e,t){this.hb&&this.hb.remove(e,t)},_e.prototype.dispatchEvent=function(e){if(!this.hb)return!0;var t=this.hb.get(e.type)||[],n=this.hb.get("All");for(n&&(t=t.concat(n)),t=T(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.cf,e.currentTarget=this.cf;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},_e.prototype.release=function(){this.hb=null};function Hh(e,t){var n=[];e=T(e);for(var i=e.next();!i.done;i=e.next())n.push(t(i.value));return n}function Dx(e,t){e=T(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function xv(e,t){e=T(e);for(var n=e.next();!n.done;n=e.next())if(t(n.value))return!0;return!1}function Qo(e,t){var n=[];e=T(e);for(var i=e.next();!i.done;i=e.next())i=i.value,t(i)&&n.push(i);return n}var Nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function It(e){var t;e instanceof It?(dl(this,e.tc),this.xd=e.xd,hl(this,e.Jb),Gh(this,e.Ud),this.Tb=e.Tb,es(this,e.g.clone()),this.gd=e.gd):e&&(t=String(e).match(Nx))?(dl(this,t[1]||"",!0),this.xd=vu(t[2]||""),hl(this,t[3]||"",!0),Gh(this,t[4]),this.Tb=vu(t[5]||"",!0),es(this,t[6]||"",!0),this.gd=vu(t[7]||"")):this.g=new ts(null)}h=It.prototype,h.tc="",h.xd="",h.Jb="",h.Ud=null,h.Tb="",h.gd="",h.toString=function(){var e=[],t=this.tc;if(t&&e.push(yu(t,wv,!0),":"),t=this.Jb){e.push("//");var n=this.xd;n&&e.push(yu(n,wv,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Ud,t!=null&&e.push(":",String(t))}return(t=this.Tb)&&(this.Jb&&t.charAt(0)!="/"&&e.push("/"),e.push(yu(t,t.charAt(0)=="/"?Ux:_x,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.gd)&&e.push("#",yu(t,Bx)),e.join("")},h.resolve=function(e){var t=this.clone();t.tc==="data"&&(t=new It);var n=!!e.tc;n?dl(t,e.tc):n=!!e.xd,n?t.xd=e.xd:n=!!e.Jb,n?hl(t,e.Jb):n=e.Ud!=null;var i=e.Tb;if(n)Gh(t,e.Ud);else if(n=!!e.Tb){if(i.charAt(0)!="/")if(this.Jb&&!this.Tb)i="/"+i;else{var r=t.Tb.lastIndexOf("/");r!=-1&&(i=t.Tb.substr(0,r+1)+i)}if(i==".."||i==".")i="";else if(i.indexOf("./")!=-1||i.indexOf("/.")!=-1){r=i.lastIndexOf("/",0)==0,i=i.split("/");for(var o=[],s=0;s<i.length;){var u=i[s++];u=="."?r&&s==i.length&&o.push(""):u==".."?((o.length>1||o.length==1&&o[0]!="")&&o.pop(),r&&s==i.length&&o.push("")):(o.push(u),r=!0)}i=o.join("/")}}return n?t.Tb=i:n=e.g.toString()!=="",n?es(t,e.g.clone()):n=!!e.gd,n&&(t.gd=e.gd),t},h.clone=function(){return new It(this)};function dl(e,t,n){e.tc=n?vu(t,!0):t,e.tc&&(e.tc=e.tc.replace(/:$/,""))}function hl(e,t,n){e.Jb=n?vu(t,!0):t}function Gh(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.Ud=t}else e.Ud=null}function es(e,t,n){t instanceof ts?e.g=t:(n||(t=yu(t,jx)),e.g=new ts(t))}function vu(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function yu(e,t,n){return e!=null?(e=encodeURI(e).replace(t,Ox),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ox(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var wv=/[#\/\?@]/g,_x=/[#\?:]/g,Ux=/[#\?]/g,jx=/[#\?@]/g,Bx=/#/g;function ts(e){this.g=e||null}function fl(e){if(!e.ob&&(e.ob=new Map,e.qe=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(i>=0){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];o=decodeURIComponent(o),r=r||"",e.add(o,decodeURIComponent(r))}}h=ts.prototype,h.ob=null,h.qe=null,h.add=function(e,t){fl(this),this.g=null;var n=this.ob.has(e)?this.ob.get(e):null;return n||this.ob.set(e,n=[]),n.push(t),this.qe++,this},h.set=function(e,t){return fl(this),this.g=null,this.ob.has(e)?this.ob.set(e,[t]):this.add(e,t),this},h.get=function(e){return fl(this),this.ob.get(e)||[]},h.toString=function(){if(this.g)return this.g;if(!this.ob||!this.ob.size)return"";for(var e=[],t=T(this.ob.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=encodeURIComponent(i),i=this.ob.get(i);for(var r=0;r<i.length;r++){var o=n;i[r]!==""&&(o+="="+encodeURIComponent(i[r])),e.push(o)}}return this.g=e.join("&")},h.clone=function(){var e=new ts;if(e.g=this.g,this.ob){for(var t=new Map,n=T(this.ob),i=n.next();!i.done;i=n.next()){var r=T(i.value);i=r.next().value,r=r.next().value,t.set(i,r.concat())}e.ob=t,e.qe=this.qe}return e};function ns(){}function ir(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Te(e);t=Te(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function ti(e){return ArrayBuffer.isView(e)?e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function Te(e,t,n){return n=n===void 0?1/0:n,zh(e,t===void 0?0:t,n,Uint8Array)}function Iv(e,t,n){return n=n===void 0?1/0:n,zh(e,t===void 0?0:t,n,Uint16Array)}function kn(e,t,n){return n=n===void 0?1/0:n,zh(e,t===void 0?0:t,n,DataView)}function zh(e,t,n,i){var r=ArrayBuffer.isView(e)?e.buffer:e,o=1;"BYTES_PER_ELEMENT"in i&&(o=i.BYTES_PER_ELEMENT);var s=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,s))),new i(r,e,Math.floor(Math.min(e+Math.max(n,0),s))-e)}K("shaka.util.BufferUtils",ns),ns.toDataView=kn,ns.toUint16=Iv,ns.toUint8=Te,ns.toArrayBuffer=ti,ns.equal=ir;function ct(e){this.h=e,this.g=void 0}ct.prototype.value=function(){return this.g===void 0&&(this.g=this.h()),this.g};function kv(e,t){if(e===t||!e.length||!t.length)return!0;e=T(e);for(var n=e.next();!n.done;n=e.next()){if(n=n.value,gl(n))return!0;for(var i=T(t),r=i.next();!r.done;r=i.next())if(r=r.value,n.keySystem===r.keySystem||gl(r))return!0}return!1}function Cv(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=T(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=T(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.keySystem==o.keySystem){r=new Map;for(var s=T((i.initData||[]).concat(o.initData||[])),u=s.next();!u.done;u=s.next())u=u.value,r.set(u.keyId,u);r=Array.from(r.values()),s=i.keyIds&&o.keyIds?new Set([].concat(X(i.keyIds),X(o.keyIds))):i.keyIds||o.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,serverCertificateUri:i.serverCertificateUri||o.serverCertificateUri,initData:r,keyIds:s});break}else gl(i)?n.push(i):gl(o)&&n.push(o)}return n}function Kh(e){return e==="org.w3.clearkey"}function Mv(e){return e?!!e.match(/^com\.widevine\.alpha/):!1}function pl(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function is(e){return e?!!e.match(/^com\.apple\.fps/):!1}function gl(e){return(e=e.licenseServerUri)?e.startsWith("data:application/json;base64,"):!1}function Wh(e,t,n,i){return i=[].concat(X(new Set(i))).sort().join("#"),e+"#"+t+"#"+n+"#"+i}var ml=new ct(function(){return ti(new Uint8Array([0]))}),rs=new Map;function _(e,t,n){var i=qt.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(r){this.stack=r.stack}}_.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},K("shaka.util.Error",_),_.Severity={RECOVERABLE:1,CRITICAL:2},_.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},_.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,CANNOT_ADD_EXTERNAL_CHAPTERS_TO_LIVE_STREAM:4055,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,QUEUE_INDEX_OUT_OF_BOUNDS:7007,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007};/*
 @license
 Shaka Player
 Copyright 2025 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function ke(){return Fx.value()}var Ri=null,Xh=null,Fx=new ct(function(){var e=void 0;return Ri&&(e=Ri()),!e&&Xh&&(e=Xh()),e});function po(){}function dt(e){if(!e)return"";if(e=Te(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),S.TextDecoder&&!ke().oi())return e=new TextDecoder().decode(e),e.includes("�")&&ji('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var i=65533;if((e[n]&128)==0?i=e[n]:e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(i=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(i=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(i=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3),i<=65535)t+=String.fromCharCode(i);else{i-=65536;var r=i&1023;t+=String.fromCharCode(55296+(i>>10)),t+=String.fromCharCode(56320+r)}}return t}function _r(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new _(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=kn(e);for(var r=0;r<n;r++)i[r]=e.getUint16(r*2,t);return vl.value()(i)}function Bi(e){function t(i){return n.byteLength<=i||n[i]>=9&&n[i]<=126}if(!e)return"";var n=Te(e);if(n[0]==239&&n[1]==187&&n[2]==191)return dt(n);if(n[0]==254&&n[1]==255)return _r(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return _r(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return _r(e,!1);if(n[1]==0&&n[3]==0)return _r(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return dt(e);throw new _(2,2,2003)}function vi(e){if(S.TextEncoder&&!ke().oi()){var t=new TextEncoder;return ti(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return ti(t)}function Yh(e,t){for(var n=new ArrayBuffer(e.length*2),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(r*2,e.charCodeAt(r),t);return n}function mn(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return r[1]=="#"?(r=r[2]=="x"||r[2]=="X"?parseInt(r.substring(3),16):parseInt(r.substring(2),10),r>=0&&r<=1114111?String.fromCodePoint(r):""):t[r]||"'"}):e||""}K("shaka.util.StringUtils",po),po.resetFromCharCode=function(){vl.g=void 0},po.toUTF16=Yh,po.toUTF8=vi,po.fromBytesAutoDetect=Bi,po.fromUTF16=_r,po.fromUTF8=dt;var vl=new ct(function(){function e(n){try{var i=new Uint8Array(n);return String.fromCharCode.apply(null,i).length>0}catch{return!1}}for(var t={cd:65536};t.cd>0;t={cd:t.cd},t.cd/=2)if(e(t.cd))return(function(n){return function(i){for(var r="",o=0;o<i.length;o+=n.cd)r+=String.fromCharCode.apply(null,i.subarray(o,o+n.cd));return r}})(t);return null});function nn(){}function yl(e){return e=Te(e),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64",omitPadding:!1}):(e=vl.value()(e),btoa(e))}function rr(e,t){return t=t??!0,Uint8Array.prototype.toBase64?Te(e).toBase64({alphabet:"base64url",omitPadding:!t}):(e=yl(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,""))}function ni(e){if(!("fromBase64"in Uint8Array)){e=S.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}return e=e.replace(/\s+/g,""),Uint8Array.fromBase64(e,{alphabet:/[-_]/.test(e)?"base64url":"base64"})}function go(e){if(!("fromHex"in Uint8Array)){for(var t=e.length/2,n=new Uint8Array(t),i=0;i<t;i++)n[i]=S.parseInt(e.substr(i*2,2),16);return n}return Uint8Array.fromHex(e)}function Ur(e){var t=Te(e);if(!Uint8Array.prototype.toHex){e="",t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}return t.toHex()}function Mt(){for(var e=qt.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var i=n=0;i<e.length;++i){var r=e[i];ArrayBuffer.isView(r)&&r.BYTES_PER_ELEMENT===1?t.set(r,n):t.set(Te(r),n),n+=r.byteLength}return t}K("shaka.util.Uint8ArrayUtils",nn),nn.concat=Mt,nn.toHex=Ur,nn.fromHex=go,nn.fromBase64=ni,nn.toBase64=rr,nn.toStandardBase64=yl;function Vt(e,t,n){if(n=n===void 0?"":n,t.length==0)return e;if(e.length==1&&t.length==1){var i=new It(e[0]);return t=new It(t[0]),t=i.resolve(t),n&&es(t,n),[t.toString()]}t=t.map(function(u){return new It(u)}),i=[],e=T(e);for(var r=e.next();!r.done;r=e.next()){r=new It(r.value);for(var o=T(t),s=o.next();!s.done;s=o.next())s=r.resolve(s.value),n&&es(s,n),i.push(s.toString())}return i}function or(e,t,n,i,r){return t={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set,mediaTypes:r},i&&(t.keySystemUris=new Set([i])),!n&&is(e)&&t.initData.push({initDataType:"sinf",initData:new Uint8Array(0),keyId:null}),t}function Rv(e,t){t=t===void 0?"cenc":t;var n=[],i=[],r=[];e.forEach(function(s,u){var a=u;a.length!=22&&(a=rr(go(u),!1));var l=s;l.length!=22&&(l=rr(go(s),!1)),s={kty:"oct",kid:a,k:l},n.push(s),i.push(s.kid),r.push(u)}),e=JSON.stringify({keys:n});var o=JSON.stringify({kids:i});return o=[{initData:Te(vi(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:t,licenseServerUri:"data:application/json;base64,"+S.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(r)}}function os(e,t){if(t.length==1)return t[0];if(e=Cn(e,t),e!=null)return e;throw new _(2,4,4025,t)}function Cn(e,t){var n=Pv.get(e);n=T(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;for(var r=T(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.test(o.trim()))return o.trim()}return e==Re?"":null}function Zh(e,t){var n=[];e=Pv.get(e),e=T(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=T(t),o=r.next();!o.done;o=r.next())o=o.value,i.test(o.trim())&&n.push(o.trim())}return n}var Re="text",Rt={Ga:"video",ia:"audio",Va:Re,Dg:"image",Im:"application"},Lv=1/15,Pv=new Map().set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/,/^apac$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function yi(){}function ss(e,t){return e=We(e),t=We(t),e.split("-")[0]==t.split("-")[0]}function Tu(e,t){return e=We(e),t=We(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function Jh(e,t){return e=We(e),t=We(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function We(e){e=T(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=T(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=Dv.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function bv(e,t){var n=vo(e),i=vo(t);return e!=n&&t!=i&&n==i}function mo(e,t){return e=We(e),t=We(t),t==e?4:Tu(t,e)?3:Jh(t,e)?2:Tu(e,t)?1:0}function vo(e){var t=e.indexOf("-");return e=t>=0?e.substring(0,t):e,e=e.toLowerCase(),e=Dv.get(e)||e}function $h(e){return e.language?We(e.language):e.audio&&e.audio.language?We(e.audio.language):e.video&&e.video.language?We(e.video.language):"und"}function Tl(e,t){e=We(e);var n=new Set;t=T(t);for(var i=t.next();!i.done;i=t.next())n.add(We(i.value));for(t=T(n),i=t.next();!i.done;i=t.next())if(i=i.value,i==e)return i;for(t=T(n),i=t.next();!i.done;i=t.next())if(i=i.value,Tu(i,e))return i;for(t=T(n),i=t.next();!i.done;i=t.next())if(i=i.value,Jh(i,e))return i;for(n=T(n),t=n.next();!t.done;t=n.next())if(t=t.value,Tu(e,t))return t;return null}K("shaka.util.LanguageUtils",yi),yi.findClosestLocale=Tl,yi.getLocaleForVariant=$h,yi.getLocaleForText=function(e){return We(e.language||"und")},yi.getBase=vo,yi.relatedness=mo,yi.areSiblings=bv,yi.normalize=We,yi.isSiblingOf=Jh,yi.isParentOf=Tu,yi.areLanguageCompatible=ss,yi.areLocaleCompatible=function(e,t){return e=We(e),t=We(t),e==t};var Dv=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Ht(e){_e.call(this),this.j=We(e),this.i=new Map,this.g=new Set,this.h=new Map}se(Ht,_e),h=Ht.prototype,h.release=function(){_e.prototype.release.call(this)},h.Ri=function(e){var t=this;this.g.clear(),e=T(e);for(var n=e.next();!n.done;n=e.next())this.g.add(We(n.value));Nv(this),e=Qo(this.g,function(i){return!t.h.has(i)}),e.length&&this.dispatchEvent(new J("unknown-locales",new Map().set("locales",e))),e=Qo(this.g,function(i){return t.h.has(i)}),e=new Map().set("locales",e.length?e:[this.j]),this.dispatchEvent(new J("locale-changed",e))},h.Xa=function(e,t,n){e=We(e),n===void 0&&(n=Qh);var i=this.h.get(e)||new Map;return t.forEach(function(r,o){i.has(o)&&n!=Qh||i.set(o,r)}),this.h.set(e,i),Nv(this),this.dispatchEvent(new J("locale-updated")),this},h.nm=function(e){for(var t=T(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},h.resolve=function(e){var t=this.i.get(e);return t||(e=new Map().set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new J("unknown-localization",e)),"")},h.Qk=function(){return this.g};function Nv(e){for(var t=e.h,n=e.j,i=e.g,r=new Set,o=T(i),s=o.next(),u={};!s.done;u={De:void 0},s=o.next()){u.De=s.value,r.add(u.De),r.add(vo(u.De)),s=Qo(t.keys(),(function(l){return function(c){return bv(c,l.De)}})(u)),s.sort(),s=T(s);for(var a=s.next();!a.done;a=s.next())r.add(a.value);for(u=Qo(t.keys(),(function(l){return function(c){return vo(c)==l.De}})(u)),u.sort(),u=T(u),s=u.next();!s.done;s=u.next())r.add(s.value)}for(r.add(n),n=[],r=T(r),o=r.next();!o.done;o=r.next())(o=t.get(o.value))&&n.push(o);for(n.reverse(),e.i.clear(),t=T(n),r=t.next();!r.done;r=t.next())r.value.forEach(function(l,c){e.i.set(c,l)});for(t=e.i.keys(),r=new Set,n=T(e.g),o=n.next();!o.done;o=n.next())o=e.h.get(o.value)||new Map,qx(o,t,r);r.size>0&&(i=new Map().set("locales",Array.from(i)).set("missing",Array.from(r)),e.dispatchEvent(new J("missing-localizations",i)))}function qx(e,t,n){t=T(t);for(var i=t.next();!i.done;i=t.next())i=i.value,e.get(i)||n.add(i)}K("shaka.ui.Localization",Ht),Ht.prototype.getCurrentLocales=Ht.prototype.Qk,Ht.prototype.resolve=Ht.prototype.resolve,Ht.prototype.resolveDictionary=Ht.prototype.nm,Ht.prototype.insert=Ht.prototype.Xa,Ht.prototype.changeLocale=Ht.prototype.Ri,Ht.prototype.release=Ht.prototype.release;var Qh=1;Ht.ConflictResolution={USE_OLD:0,USE_NEW:Qh},Ht.UNKNOWN_LOCALES="unknown-locales",Ht.UNKNOWN_LOCALIZATION="unknown-localization",Ht.MISSING_LOCALIZATIONS="missing-localizations",Ht.LOCALE_CHANGED="locale-changed",Ht.LOCALE_UPDATED="locale-updated";function us(e){this.i=Math.log(.5),this.g=Math.exp(this.i/e),this.j=this.h=0}us.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.j+=e)};function Sl(e){return e.h/(1-Math.pow(e.g,e.j))}function Su(){this.h=new us(2),this.j=new us(5),this.g=0,this.i=128e3,this.l=16e3}Su.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes;var t=this.h;t.g=Math.exp(t.i/e.fastHalfLife),t=this.j,t.g=Math.exp(t.i/e.slowHalfLife)},Su.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},Su.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(Sl(this.h),Sl(this.j))};function Ov(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function ii(e,t){t=e.indexOf(t),t>-1&&e.splice(t,1)}function yo(e,t,n){if(n||(n=Ov),e.length!=t.length)return!1;t=t.slice(),e=T(e);for(var i=e.next(),r={};!i.done;r={oj:void 0},i=e.next()){if(r.oj=i.value,i=t.findIndex((function(o){return function(s){return n(o.oj,s)}})(r)),i==-1)return!1;t[i]=t[t.length-1],t.pop()}return t.length==0}function sr(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=Ov),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Fe(){this.g=new cl}h=Fe.prototype,h.release=function(){this.Ta(),this.g=null},h.o=function(e,t,n,i){this.g&&(e=new _v(e,t,n,i),this.g.push(t,e))},h.qa=function(e,t,n,i){function r(s){o.Ea(e,t,r),n(s)}var o=this;this.o(e,t,r,i)},h.Ea=function(e,t,n){if(this.g){var i=this.g.get(t)||[];i=T(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=e||n!=r.listener&&n||(r.Ea(),this.g.remove(t,r))}},h.Ta=function(){if(this.g){for(var e=[],t=T(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,X(n.value));for(e=T(e),t=e.next();!t.done;t=e.next())t.value.Ea();this.g.g.clear()}},K("shaka.util.EventManager",Fe),Fe.prototype.removeAll=Fe.prototype.Ta,Fe.prototype.unlisten=Fe.prototype.Ea,Fe.prototype.listenOnce=Fe.prototype.qa,Fe.prototype.listen=Fe.prototype.o,Fe.prototype.release=Fe.prototype.release;function _v(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=Vx(e,i),this.target.addEventListener(t,n,this.g)}_v.prototype.Ea=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function Vx(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(i){return!n.has(i)}),Hx(e)?t:t.capture||!1}function Hx(e){var t=Uv;if(t==null){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch{t=!1}Uv=t}return t||!1}var Uv=void 0;K("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function ef(e,t){this.g=e,this.h=t}ef.prototype.toString=function(){return"v"+this.g+"."+this.h};function qe(e,t){var n=new ef(5,0),i=jv,r=i.g,o=n.h-r.h;((n.g-r.g||o)>0?i.i:i.h)(i.g,n,e,t)}function Gx(e,t,n,i){ye([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function zx(e,t,n,i){ji([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(" "))}var jv=null;function Eu(e,t,n,i){this.g=null,this.l=e,this.i=t,this.m=n,this.u=i,this.j=!1;e:{if(typeof libDPIModule>"u"&&ye("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,qe("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{ye("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(ye("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||ye(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function El(e,t,n,i){i.type!=="video"||e.u&&!i.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",i.id,-n,!e.u)}function Bv(e){e.g&&e.i.classList.add("shaka-hidden")}Eu.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Fv(e){return e&&typeof LCEVCdec<"u"?e.codecs=="lvc1":!1}K("shaka.lcevc.Dec",Eu),Eu.prototype.release=Eu.prototype.release;function Au(){}function To(e,t){as.set(e,t)}function Kx(){var e={};if(ke(),Wi())for(var t=T(as.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(t=T(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]),n=t.next();!n.done;n=t.next())n=n.value,e[n]=Wi()?as.has(n):No().canPlayType(n)!="";return e}function qv(e,t){if(t){var n=as.get(t.toLowerCase());if(n)return n}throw new _(2,4,4e3,e,t)}K("shaka.media.ManifestParser",Au),Au.unregisterParserByMime=function(e){as.delete(e)},Au.registerParserByMime=To,Au.registerParserByExtension=function(){qe("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},Au.AccessibilityPurpose={Rn:"visually impaired",an:"hard of hearing",An:"spoken subtitles"};var as=new Map;function xu(){}xu.prototype.extract=function(){},xu.prototype.decode=function(){return[]},xu.prototype.clear=function(){},xu.prototype.getStreams=function(){return[]};function tf(){}tf.prototype.init=function(){},tf.prototype.parse=function(){return[]};function Vv(){}h=Vv.prototype,h.init=function(){},h.Yf=function(){},h.ke=function(){},h.remove=function(){},h.Eg=function(){},K("shaka.media.IClosedCaptionParser",Vv);function Li(e){this.h=new Map,this.i=0,this.j=new tf,(e=Hv(e.toLowerCase()))&&(this.j=e()),this.g=new xu,(e=So)&&(this.g=e(),this.h.set(this.i,this.g))}h=Li.prototype,h.init=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?-1:n,n!=-1&&this.i!=n){t=n;var i=this.h.get(t);this.h.set(this.i,this.g),i?this.g=i:((i=So)&&(this.g=i()),this.h.set(t,this.g))}else t||this.ke();this.j.init(e),n!=-1&&(this.i=n)},h.Yf=function(e){e=this.j.parse(e),e=T(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=Te(t.packet);n.length>0&&this.g.extract(n,t.pts)}return this.g.decode()},h.ke=function(){this.g.clear()},h.remove=function(e){e=e===void 0?[]:e,e=new Set(e);for(var t=T(this.h.keys()),n=t.next();!n.done;n=t.next())if(n=n.value,!e.has(n)){var i=this.h.get(n);i&&i.clear(),this.h.delete(n)}},h.Eg=function(){return this.g.getStreams()};function nf(e,t){rf.set(e,t)}function Hv(e){return rf.get(e)}K("shaka.media.ClosedCaptionParser",Li),Li.findDecoder=function(){return So},Li.unregisterDecoder=function(){So=null},Li.registerDecoder=function(e){So=e},Li.findParser=Hv,Li.unregisterParser=function(e){rf.delete(e)},Li.registerParser=nf;var rf=new Map,So=null;function Eo(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=On,this.scroll=Gv}K("shaka.text.CueRegion",Eo);var On=1;Eo.units={PX:0,PERCENTAGE:On,LINES:2};var Gv="";Eo.scrollMode={NONE:Gv,UP:"up"};function ls(e){this.h=e||"",this.g=0}function cs(e){jr(e,/[ \t]+/gm)}function jr(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function Ao(e){return e.g==e.h.length?null:(e=jr(e,/[^ \t\n]*/gm))?e[0]:null}function wu(e){if(e=jr(e,Wx),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return t>59||n>59?null:(Number(e[6])||0)/1e3+n+t*60+(Number(e[1])||0)*3600}function ds(e){return e?wu(new ls(e)):null}var Wx=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function Al(){}function Ti(e){function t(i){switch(typeof i){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||ArrayBuffer.isView(i))return i;if(n.has(i))return null;var r=Array.isArray(i);if(i.constructor!=Object&&!r)return null;n.add(i);var o=r?[]:{},s;for(s in i)o[s]=t(i[s]);return r&&(o.length=i.length),o}}var n=new WeakSet;return t(e)}function Br(e){var t={},n;for(n in e)t[n]=e[n];return t}function xl(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var i=n.toString(),r=e[n];r!==void 0&&(r=xl(r))&&t.push(i+":"+r)}e="["+t.join(",")+"]"}else if(typeof e=="function")e="";else if(e instanceof Object){for(n=Object.keys(e),n.sort(),t=[],n=T(n),i=n.next();!i.done;i=n.next())r=i.value,i=JSON.stringify(r),r=e[r],r!==void 0&&(r=xl(r))&&t.push(i+":"+r);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}K("shaka.util.ObjectUtils",Al),Al.alphabeticalKeyOrderStringify=xl,Al.shallowCloneObject=Br,Al.cloneObject=Ti;/*
 @license
 tXml
 Copyright 2015 Tobias Nickel
 SPDX-License-Identifier: MIT
*/function Iu(e,t){var n=n===void 0?!1:n;return e=Bi(e),xo(e,t,n)}function xo(e,t,n){if(e=Xx(e,n===void 0?!1:n),!t&&e.length)return e[0];var i=t.split(",");return(t=e.find(function(r){return i.includes(r.tagName)}))?t:null}function of(e){return uf.has(e)?uf.get(e):""}function Xx(e,t){function n(o,s){s=s===void 0?!1:s;for(var u=[];e[r];)if(e.charCodeAt(r)==60){if(e.charCodeAt(r+1)===47){s=r+2,r=e.indexOf(">",r),s=e.substring(s,r);var a=s.indexOf(o);if(a==-1){var l=o.indexOf(".");l>0&&(a=s.indexOf(o.substring(0,l)))}if(a==-1)throw o=e.substring(0,r).split(`
`),Error(`Unexpected close tag
Line: `+(o.length-1)+`
Column: `+(o[o.length-1].length+1)+`
Char: `+e[r]);r+1&&(r+=1);break}else if(e.charCodeAt(r+1)===33){if(e.charCodeAt(r+2)==45){for(;r!==-1&&(e.charCodeAt(r)!==62||e.charCodeAt(r-1)!=45||e.charCodeAt(r-2)!=45||r==-1);)r=e.indexOf(">",r+1);r===-1&&(r=e.length)}else if(e.charCodeAt(r+2)===91&&e.charCodeAt(r+8)===91&&e.substr(r+3,5).toLowerCase()==="cdata"){a=e.indexOf("]]>",r),a==-1?(u.push(e.substr(r+9)),r=e.length):(u.push(e.substring(r+9,a)),r=a+3);continue}r++;continue}e:{l=s,r++;var c=i(),d={};for(a=[];e.charCodeAt(r)!==62&&e[r];){var p=e.charCodeAt(r);if(p>64&&p<91||p>96&&p<123){p=i();for(var v=e.charCodeAt(r);v&&v!==39&&v!==34&&!(v>64&&v<91||v>96&&v<123)&&v!==62;)r++,v=e.charCodeAt(r);var y=r+1;if(r=e.indexOf(e[r],y),y=(" "+e.slice(y,r)).slice(1),v===39||v===34){if(r===-1){if(l={tagName:c,attributes:d,children:a,parent:null},t)for(c=0;c<a.length;c++)typeof a[c]!="string"&&(a[c].parent=l);a=l;break e}}else y=null,r--;if(p.startsWith("xmlns:")){v=y;var E=p.split(":")[1];uf.set(v,E),af.set(E,v)}c==="tt"&&p==="xml:space"&&y==="preserve"&&(l=!0),d[p]=y}r++}for(e.charCodeAt(r-1)!==47?(r++,a=n(c,l)):r++,l={tagName:c,attributes:d,children:a,parent:null},c=a.length,d=0;d<c;d++)p=a[d],typeof p!="string"?t&&(p.parent=l):d==c-1&&p==`
`&&a.pop();a=l}if(u.push(a),typeof a=="string")break;a.tagName[0]==="?"&&a.children&&(u.push.apply(u,X(a.children)),a.children=[])}else a=r,r=e.indexOf("<",r)-1,r===-2&&(r=e.length),a=(" "+e.slice(a,r+1)).slice(1),s?a.length>0&&u.push(a):(u.length&&a.length==1&&a[0]==`
`||a.trim().length>0)&&u.push(a),r++;return u}function i(){for(var o=r;`\r
	>/= `.indexOf(e[r])===-1&&e[r];)r++;return(" "+e.slice(o,r)).slice(1)}var r=0;return n("")}function wl(e){return typeof e=="string"}function zv(e){var t=[];if(!e.children)return[];e=T(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n!="string"&&t.push(n);return t}function Ze(e,t){var n=[];if(!e.children)return[];e=T(e.children);for(var i=e.next();!i.done;i=e.next())i=i.value,i.tagName===t&&n.push(i);return n}function kt(e){if(typeof e=="string")return mn(e);var t=[];e=T(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"&&t.push(n);return t=t.join(""),t===""?null:mn(t)}function vn(e){for(var t=T(e.children),n=t.next();!n.done;n=t.next())if(typeof n.value!="string")return null;return(e=kt(e))&&(e=e.trim()),e}function Pi(e,t,n){if(n=n===void 0?[]:n,e.tagName===t&&n.push(e),e.children){e=T(e.children);for(var i=e.next();!i.done;i=e.next())Pi(i.value,t,n)}return n}function ut(e,t){return e=Ze(e,t),e.length!=1?null:e[0]}function ri(e,t,n){return e=Kv(e,t,n),e.length!=1?null:e[0]}function Se(e,t,n,i){i=i===void 0?null:i;var r=null;return e=e.attributes[t],e!=null&&(r=n(e)),r??i}function ur(e,t,n){return t=of(t),e.attributes[t+":"+n]||null}function Kv(e,t,n){var i=of(t);if(t=[],e.children)for(n=i?i+":"+n:n,e=T(e.children),i=e.next();!i.done;i=e.next())(i=i.value)&&i.tagName===n&&t.push(i);return t}function Fi(e,t,n){t=T(t);for(var i=t.next();!i.done;i=t.next())if(i=ur(e,i.value,n))return i;return null}function ar(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function qi(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Il(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function Zt(e){return e=Number(e),e%1===0?e:null}function Vi(e){return e=Number(e),e%1===0&&e>0?e:null}function Jt(e){return e=Number(e),e%1===0&&e>=0?e:null}function kl(e){return e=Number(e),isNaN(e)?null:e}function Cl(e){return e?e.toLowerCase()==="true":!1}function Yx(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Ml(e){var t=[];e=mn(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/),e=T(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=n.match(/^([\w]+)/);if(i){var r=n.match(/(@id='(.*?)')/),o=n.match(/(@t='(\d+)')/),s=n.match(/(@n='(\d+)')/),u=n.match(/\[(\d+)\]/);t.push({name:i[0],id:r?r[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:s?Number(s[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:u?Number(u[1])-1:null,Pc:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].Pc=n.slice(1))}return t}function Wv(e,t){var n=Ml(t.attributes.sel||"");if(n.length){var i=n[n.length-1],r=t.attributes.pos||null;n=i.position,n==null&&(i.t!==null&&(n=Xv(e,"t",i.t)),i.n!==null&&(n=Xv(e,"n",i.n))),n===null?n=r==="prepend"?0:e.length:r==="prepend"?--n:r==="after"&&++n,r=t.tagName,(i=i.Pc)&&e[n]?Yv(e[n],r,i,vn(t)||""):(r!=="remove"&&r!=="replace"||e.splice(n,1),r!=="add"&&r!=="replace"||e.splice.apply(e,[n,0].concat(X(t.children))))}}function Xv(e,t,n){var i=0;e=T(e);for(var r=e.next();!r.done;r=e.next()){if(Number(r.value.attributes[t])===n)return i;i++}return null}function Yv(e,t,n,i){t==="remove"?delete e.attributes[n]:(t==="add"||t==="replace")&&(e.attributes[n]=i)}function Zv(e){var t="",n=e.tagName.split(":");n.length>0&&(t=n[0],t=af.has(t)?af.get(t):""),t=document.createElementNS(t,e.tagName);for(var i in e.attributes)t.setAttribute(i,e.attributes[i]);for(e=T(e.children),i=e.next();!i.done;i=e.next())i=i.value,n=void 0,typeof i=="string"?n=new Text(i):n=Zv(i),t.appendChild(n);return t}function sf(e){if(!e)return null;var t={tagName:e.tagName,attributes:Br(e.attributes),children:[],parent:null};e=T(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"||(n=sf(n),n.parent=t),t.children.push(n);return t}var uf=new Map,af=new Map;function rt(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Eo,this.position=null,this.positionAlign=Pl,this.size=0,this.textAlign=Hi,this.direction=Mu,this.writingMode=wo,this.lineInterpretation=Ru,this.line=null,this.lineHeight="",this.lineAlign=Io,this.displayAlign=Cu,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=i1,this.fontStyle=df,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={columns:32,rows:15}}function Jv(e,t){return e=new rt(e,t,""),e.lineBreak=!0,e}rt.prototype.clone=function(){var e=new rt(0,0,""),t;for(t in this)e[t]=this[t],Array.isArray(e[t])&&(e[t]=e[t].slice());return e};function Rl(e,t){if(e.payload!=t.payload||!(Math.abs(e.startTime-t.startTime)<.001&&Math.abs(e.endTime-t.endTime)<.001))return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!sr(e.nestedCues,t.nestedCues,Rl))return!1}else if(n=="region"||n=="cellResolution"){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!sr(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}function Ll(e,t){t=t===void 0?new Map:t;var n=e.payload;if(n.includes("<")){t.size===0&&$v(t);var i=n;n=[];for(var r=-1,o=0;o<i.length;o++)i[o]==="<"?r=o+1:i[o]===">"&&r>0&&(r=i.substr(r,o-r),r.match(Jx)&&n.push(r),r=-1);for(n=T(n),o=n.next();!o.done;o=n.next())o=o.value,i=i.replace("<"+o+">",'<div time="'+o+'">'),i+="</div>";e:{o=i,r=[];var s=-1;n="",i=!1;for(var u=0;u<o.length;u++)if(o[u]==="/"){var a=o.indexOf(">",u);if(a===-1){n=o;break e}if((a=o.substring(u+1,a))&&a=="v"){i=!0;var l=null;if(r.length&&(l=r[r.length-1]),l){if(l===a)n+="/"+a+">";else{if(!l.startsWith("v")){n+=o[u];continue}n+="/"+l+">"}u+=a.length+1}else n+=o[u]}else n+=o[u]}else o[u]==="<"?(s=u+1,o[s]!="v"&&(s=-1)):o[u]===">"&&s>0&&(r.push(o.substr(s,u-s)),s=-1),n+=o[u];for(o=T(r),r=o.next();!r.done;r=o.next())r=r.value,s=r.replace(" ",".voice-"),n=n.replace("<"+r+">","<"+s+">"),n=n.replace("</"+r+">","</"+s+">"),i||(n+="</"+s+">")}n=Zx(n),e.payload="",i="<span>"+n.replace(/\n/g,"<br />")+"</span>";try{var c=xo(i,"span")}catch{}if(c)if(c=c.children,c.length!=1||c[0].tagName)for(c=T(c),n=c.next();!n.done;n=c.next())Qv(n.value,e,t);else e.payload=mn(n);else e.payload=mn(n)}else e.payload=mn(n)}function $v(e){for(var t=T(Object.entries(t1)),n=t.next();!n.done;n=t.next()){var i=T(n.value);n=i.next().value,i=i.next().value;var r=new rt(0,0,"");r.color=i,e.set("."+n,r)}for(t=T(Object.entries(n1)),n=t.next();!n.done;n=t.next())i=T(n.value),n=i.next().value,i=i.next().value,r=new rt(0,0,""),r.backgroundColor=i,e.set("."+n,r)}function Zx(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return t[r]||""}):e||""}function Qv(e,t,n){var i=t.clone();if(i.nestedCues=[],i.payload="",i.rubyTag="",i.line=null,i.region=new Eo,i.position=null,i.size=0,i.textAlign=Hi,e.tagName)for(var r=T(e.tagName.split(/(?=[ .])+/g)),o=r.next();!o.done;o=r.next()){var s=o=o.value;if(s.startsWith(".voice-")){var u=s.split("-").pop();s='v[voice="'+u+'"]',n.has(s)||(s="v[voice="+u+"]")}switch(n.has(s)&&(u=i,s=n.get(s))&&(u.backgroundColor=ku(s.backgroundColor,u.backgroundColor),u.color=ku(s.color,u.color),u.fontFamily=ku(s.fontFamily,u.fontFamily),u.fontSize=ku(s.fontSize,u.fontSize),u.textShadow=ku(s.textShadow,u.textShadow),u.fontWeight=s.fontWeight,u.fontStyle=s.fontStyle,u.opacity=s.opacity,u.rubyTag=s.rubyTag,u.textCombineUpright=s.textCombineUpright,u.wrapLine=s.wrapLine),o){case"br":i=Jv(i.startTime,i.endTime),t.nestedCues.push(i);return;case"b":i.fontWeight=hs;break;case"i":i.fontStyle=fs;break;case"u":i.textDecoration.push(lr);break;case"font":(o=e.attributes.color)&&(i.color=o);break;case"div":if(o=e.attributes.time,!o)break;(o=ds(o))&&(i.startTime=o);break;case"ruby":case"rp":case"rt":i.rubyTag=o}}if(r=e.children,wl(e)||r.length==1&&wl(r[0]))for(n=kt(e).split(`
`),e=!0,n=T(n),r=n.next();!r.done;r=n.next())r=r.value,e||(e=Jv(i.startTime,i.endTime),t.nestedCues.push(e)),r.length>0&&(e=i.clone(),e.payload=mn(r),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(i),t=T(r),e=t.next();!e.done;e=t.next())Qv(e.value,i,n)}function ku(e,t){return e&&e.length>0?e:t}K("shaka.text.Cue",rt),rt.parseCuePayload=Ll,rt.equal=Rl,rt.prototype.clone=rt.prototype.clone;var Pl="auto";rt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Pl};var Hi="center",lf={LEFT:"left",RIGHT:"right",CENTER:Hi,START:"start",END:"end"};rt.textAlign=lf;var Cu="after",e1={BEFORE:"before",CENTER:"center",AFTER:Cu};rt.displayAlign=e1;var Mu="ltr";rt.direction={HORIZONTAL_LEFT_TO_RIGHT:Mu,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var wo="horizontal-tb";rt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:wo,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Ru=0;rt.lineInterpretation={LINE_NUMBER:Ru,PERCENTAGE:1};var Io="start",cf={CENTER:"center",START:Io,END:"end"};rt.lineAlign=cf;var t1={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};rt.defaultTextColor=t1;var n1={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};rt.defaultTextBackgroundColor=n1;var i1=400,hs=700;rt.fontWeight={NORMAL:i1,BOLD:hs};var df="normal",fs="italic",r1={NORMAL:df,ITALIC:fs,OBLIQUE:"oblique"};rt.fontStyle=r1;var lr="underline";rt.textDecoration={UNDERLINE:lr,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var Jx=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Fr(){}Fr.prototype.destroy=function(){};function cr(e,t,n){hf.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,Zf:t})}function ps(e,t){for(var n=e.toLowerCase().split(";")[0],i=T([o1,pf,ff,qr]),r=i.next();!r.done;r=i.next())if(r=hf.get(n+"-"+r.value)){var o=r.Zf(),s=o.isSupported(e,t);if(o.destroy(),s)return r.Zf}return null}K("shaka.transmuxer.TransmuxerEngine",Fr),Fr.findTransmuxer=ps,Fr.unregisterTransmuxer=function(e,t){hf.delete(e.toLowerCase().split(";")[0]+"-"+t)},Fr.registerTransmuxer=cr,Fr.prototype.destroy=Fr.prototype.destroy;var hf=new Map,qr=1,ff=2,pf=3,o1=4;Fr.PluginPriority={FALLBACK:qr,PREFERRED_SECONDARY:ff,PREFERRED:pf,APPLICATION:o1};function gf(){}function St(e,t){var n=e;return t&&!dr.includes(e)&&(n+='; codecs="'+t+'"'),n}function bl(e,t){return t&&(e+='; codecs="'+t+'"'),e}function mf(e,t,n){var i=St(e,t);return t=bl(e,t),ps(t)?(e=ps(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?i.replace("video","audio"):i,n}function Lu(e){return e.split(";")[0].split("/")[1]}function Et(e){var t=s1(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):case e==="ac3":case e==="ac-3":return"ac-3";case(e==="mp4a"&&t==="a6"):case e==="eac3":case e==="ec-3":return"ec-3";case e==="ac-4":return"ac-4";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="vp09":case e==="vp9":return"vp9";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="vvc1":case e==="vvi1":return"vvc";case e==="dvh1":case e==="dvhe":return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case e==="dvav":case e==="dva1":return"dovi-avc";case e==="dav1":return"dovi-av1";case e==="dvc1":case e==="dvi1":return"dovi-vvc";case e==="lvc1":return"lcevc"}return e}function Vr(e){var t=[];e=T(e.split(","));for(var n=e.next();!n.done;n=e.next())n=s1(n.value),t.push(n[0]);return t.sort().join(",")}function _n(e){return e.split(";")[0]}function Mn(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function Dl(e){return e==="application/x-mpegurl"||e==="application/vnd.apple.mpegurl"}function s1(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}K("shaka.util.MimeUtils",gf),gf.getFullTypeWithAllCodecs=bl,gf.getFullType=St,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var dr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function hr(e){this.i=null,this.l=e,this.C=this.G=!1,this.m=this.A=0,this.u=1/0,this.h=this.g=null,this.F="",this.D=function(){},this.j=new Map}function $t(e,t){Du.set(e,t)}function Pu(e){return Du.get(e)}function bu(e){return Du.has(e)?!0:e=="application/cea-608"||e=="application/cea-708"?!!So:!1}hr.prototype.destroy=function(){return this.l=this.i=null,this.j.clear(),Promise.resolve()};function $x(e,t,n,i,r){var o,s,u,a,l,c,d,p;return N(function(v){if(v.g==1)return w(v,Promise.resolve(),2);if(!e.i||!e.l)return v.return();if(n==null||i==null)return e.i.parseInit(Te(t)),v.return();for(o=e.C?0:e.A,s=e.G||e.C?n:e.A,u={periodStart:o,segmentStart:n,segmentEnd:i,vttOffset:s},a=e.i.parseMedia(Te(t),u,r,[]),l=T(a),c=l.next();!c.done;c=l.next())d=c.value,e.D(d,r||null,u);p=a.filter(function(y){return y.startTime>=e.m&&y.startTime<e.u}),e.l.append(p),e.g==null&&(e.g=Math.max(n,e.m)),e.h=Math.min(i,e.u),Z(v)})}hr.prototype.remove=function(e,t,n){n=n===void 0?!1:n;var i=this;return N(function(r){if(r.g==1)return w(r,Promise.resolve(),2);if(e>=t||n&&(tw(i,e,t),i.F===""))return r.return();i.l&&i.l.remove(e,t)&&i.g!=null&&(t<=i.g||e>=i.h||(e<=i.g&&t>=i.h?i.g=i.h=null:e<=i.g&&t<i.h?i.g=t:e>i.g&&t>=i.h&&(i.h=e)),l1(i)),Z(r)})};function Qx(e,t,n){e.m=t,e.u=n}function u1(e,t,n){e.F=t,(t=e.j.get(t))&&(t=t.filter(function(i){return i.endTime<=n}),t.length&&e.l.append(t))}function a1(e,t,n){t.startTime+=n,t.endTime+=n,t=T(t.nestedCues);for(var i=t.next();!i.done;i=t.next())a1(e,i.value,n)}function ew(e,t,n){var i=new Map;t=T(t);for(var r=t.next();!r.done;r=t.next()){var o=r.value;r=o.stream,o=o.cue,i.has(r)||i.set(r,[]),a1(e,o,n),o.startTime>=e.m&&o.startTime<e.u&&(i.get(r).push(o),r==e.F&&e.l.append([o]))}for(n=T(i.keys()),t=n.next();!t.done;t=n.next())for(t=t.value,e.j.has(t)||e.j.set(t,[]),r=T(i.get(t)),o=r.next();!o.done;o=r.next())o=o.value,e.j.get(t).push(o);l1(e)}function tw(e,t,n){for(var i=T(e.j.keys()),r=i.next();!r.done;r=i.next()){r=r.value;var o=e.j.get(r);o=o.filter(function(s){return s.startTime<t||s.endTime>=n}),e.j.set(r,o)}}function l1(e){for(var t=1/0,n=-1/0,i=T(e.j.values()),r=i.next();!r.done;r=i.next()){r=T(r.value);for(var o=r.next();!o.done;o=r.next())o=o.value,t=Math.min(t,o.startTime),n=Math.max(n,o.endTime)}t!==1/0&&n!==-1/0&&(e.g=e.g==null?Math.max(t,e.m):Math.min(e.g,Math.max(t,e.m)),e.h=Math.max(e.h,Math.min(n,e.u)))}K("shaka.text.TextEngine",hr),hr.prototype.destroy=hr.prototype.destroy,hr.findParser=Pu,hr.unregisterParser=function(e){Du.delete(e)},hr.registerParser=$t;var Du=new Map;function Nu(e){this.h=e,this.g=null}Nu.prototype.Y=function(e){var t=this;this.stop();var n=!0,i=null;return this.g=function(){S.clearTimeout(i),n=!1},i=S.setTimeout(function(){n&&t.h()},e*1e3),this},Nu.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function le(e){this.h=e,this.g=null}le.prototype.Ja=function(){return this.stop(),this.h(),this},le.prototype.Y=function(e){var t=this;return this.stop(),this.g=new Nu(function(){t.h()}).Y(e),this},le.prototype.va=function(e){var t=this;return this.stop(),this.g=new Nu(function(){t.g.Y(e),t.h()}).Y(e),this},le.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},K("shaka.util.Timer",le),le.prototype.stop=le.prototype.stop,le.prototype.tickEvery=le.prototype.va,le.prototype.tickAfter=le.prototype.Y,le.prototype.tickNow=le.prototype.Ja;function nw(e,t){return e.concat(t)}function iw(){}function Hr(e){return e!=null}function Nl(e,t){return Promise.race([t,new Promise(function(n,i){new le(i).Y(e)})])}function c1(){}function d1(e,t,n,i,r){if(r.length){var o=e.textStreams;r=T(r);for(var s=r.next(),u={};!s.done;u={zi:void 0},s=r.next())if(u.zi=s.value,s=o.filter((function(y){return function(E){return!!(E.codecs.startsWith(y.zi)||E.mimeType.startsWith(y.zi))}})(u)),s.length){o=s;break}e.textStreams=o}if(o=e.variants,(t.length||n.length)&&(o=rw(o,t,n)),i.length){for(t=new cl,o=T(o),n=o.next();!n.done;n=o.next())n=n.value,t.push(String(n.video.width||0),n);var a=[];t.forEach(function(y,E){y=0;var A=[];E=T(E);for(var k=E.next(),I={};!k.done;I={Cg:void 0},k=E.next())I.Cg=k.value,k=i.filter((function(C){return function(L){return C.Cg.decodingInfos[0][L]}})(I)).length,k>y?(y=k,A=[I.Cg]):k==y&&A.push(I.Cg);a.push.apply(a,X(A))}),o=a}for(t=new Set,n=T(o),r=n.next();!r.done;r=n.next())r=r.value,r.video&&t.add(r.video);if(t.size){var l={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};r=Array.from(t).sort(function(y,E){return y.bandwidth&&E.bandwidth&&y.bandwidth!=E.bandwidth?y.bandwidth-E.bandwidth:y.width!=E.width?y.width-E.width:y.codecs&&E.codecs?(y=Et(y.codecs),E=Et(E.codecs),(l[y]||1)-(l[E]||1)):0});var c=[];for(t=new Map,n=function(y){var E=[String(y.width||""),String(y.height||""),String(Math.round(y.frameRate||0)),y.hdr||"",y.fastSwitching];return y.dependencyStream&&E.push(y.dependencyStream.baseOriginalId||""),y.roles&&E.push(y.roles.sort().join("_")),E.join(";")},r=T(r),s=r.next();!s.done;s=r.next()){s=s.value,u=n(s);var d=t.get(u)||[];if(d.length){var p=Et(d[d.length-1].codecs),v=Et(s.codecs);p==v&&(d.push(s),c.push(s.id))}else d.push(s),c.push(s.id);t.set(u,d)}e.variants=o.filter(function(y){return!((y=y.video)&&!c.includes(y.id))})}else e.variants=o}function rw(e,t,n){t=T(t);for(var i=t.next(),r={};!i.done;r={lk:void 0},i=t.next())if(r.lk=i.value,i=e.filter((function(o){return function(s){return s.video&&s.video.codecs.startsWith(o.lk)}})(r)),i.length){e=i;break}for(n=T(n),t=n.next(),i={};!t.done;i={Mi:void 0},t=n.next())if(i.Mi=t.value,t=e.filter((function(o){return function(s){return s.audio&&s.audio.codecs.startsWith(o.Mi)}})(i)),t.length){e=t;break}return e}function ow(e,t,n){e.variants=e.variants.filter(function(i){return Ol(i,t,n)})}function Ol(e,t,n){function i(s,u,a){return s>=u&&s<=a}if(e&&e.video&&e.video.width&&e.video.height){var r=e.video.width,o=e.video.height;if(o>r&&(o=T([o,r]),r=o.next().value,o=o.next().value),!i(r,t.minWidth,Math.min(t.maxWidth,n.width))||!i(o,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r*o,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!i(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function sw(e,t,n,i){return n=n===void 0?[]:n,i=i===void 0?{}:i,N(function(r){return r.g==1?w(r,h1(e,t,t.offlineSessionIds.length>0,n,i),2):(cw(t),w(r,dw(t),0))})}function h1(e,t,n,i,r){var o,s;return N(function(u){if(u.g==1)return ke().Wj()&&uw(t.variants),w(u,vf(t.variants,n,!1,i),2);o=null,e&&(s=e.g)&&(o=s.keySystem),t.variants=t.variants.filter(function(a){var l=aw(a,o,r);if(!l){var c=[];a.audio&&c.push(y1(a.audio)),a.video&&c.push(y1(a.video))}return l}),Z(u)})}function uw(e){var t=new Map().set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set;e=T(e);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&n.add(i.video);for(n=T(n),e=n.next();!e.done;e=n.next()){e=e.value,i=T(t);for(var r=i.next();!r.done;r=i.next()){var o=T(r.value);if(r=o.next().value,o=o.next().value,e.codecs.includes(r)){e.codecs=e.codecs.replace(r,o);break}}}}function aw(e,t,n){if(!e.decodingInfos.some(function(a){return!(!a.supported||t&&(a=a.keySystemAccess)&&(n[a.keySystem]||a.keySystem)!=t)}))return!1;var i=ke(),r=i.Vb()==="Xbox";i=i.Oa()==="MOBILE"&&i.Ka()==="GECKO";var o=e.video,s=o&&o.width||0,u=o&&o.height||0;return r&&o&&(s>1920||u>1080)&&(o.codecs.includes("avc1.")||o.codecs.includes("avc3."))||(r=o&&o.dependencyStream)&&!Fv(r)?!1:(e=e.audio,!(i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}function f1(e,t){var n,i,r,o,s,u,a;return N(function(l){if(l.g==1){for(n=function(c,d){if(c){var p=Br(c);return p.supported=c.supported&&d.supported,p.powerEfficient=c.powerEfficient&&d.powerEfficient,p.smooth=c.smooth&&d.smooth,d.keySystemAccess&&!p.keySystemAccess&&(p.keySystemAccess=d.keySystemAccess),p}return d},i=null,r=[],o=T(t),s=o.next(),u={};!s.done;u={cache:void 0,nf:void 0},s=o.next())a=s.value,u.nf=xl(a),u.cache=Bl,u.cache.has(u.nf)?i=n(i,u.cache.get(u.nf)):r.push(lw(a).then((function(c){return function(d){var p=null;d=T(d||[]);for(var v=d.next();!v.done;v=d.next())p=n(p,v.value);p&&(c.cache.set(c.nf,p),i=n(i,p))}})(u)));return w(l,Promise.all(r),2)}i&&e.decodingInfos.push(i),Z(l)})}function lw(e){var t=[""];e.video&&(t=Mn(e.video.contentType).split(","));var n=[""];e.audio&&(n=Mn(e.audio.contentType).split(","));var i=[];t=T(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;for(var o=T(n),s=o.next(),u={};!s.done;u={fd:void 0},s=o.next())s=s.value,u.fd=Ti(e),e.video&&(u.fd.video.contentType=St(_n(u.fd.video.contentType),r)),e.audio&&(u.fd.audio.contentType=St(_n(u.fd.audio.contentType),s)),i.push(new Promise((function(a){return function(l,c){(ke().Oa()=="MOBILE"?Nl(5,navigator.mediaCapabilities.decodingInfo(a.fd)):navigator.mediaCapabilities.decodingInfo(a.fd)).then(function(d){l(d)}).catch(c)}})(u)))}return Promise.all(i).catch(function(){return JSON.stringify(e),null})}function vf(e,t,n,i){var r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O;return N(function(M){switch(M.g){case 1:if(e.some(function(D){return D.decodingInfos.length}))return M.return();r=T(i),o=r.next(),s={};case 2:if(o.done){M.B(4);break}s.Cj=o.value,u=!1,a=T(e),l=a.next();case 5:if(l.done){M.B(7);break}c=l.value,d=p1(c,t,n).filter((function(D){return function(P){return P=P[0],(P.keySystemConfiguration&&P.keySystemConfiguration.keySystem)===D.Cj}})(s)),p=T(d),v=p.next();case 8:if(v.done){M.B(10);break}return y=v.value,w(M,f1(c,y),9);case 9:v=p.next(),M.B(8);break;case 10:c.decodingInfos.some(function(D){return D.supported})&&(u=!0),l=a.next(),M.B(5);break;case 7:if(u)return M.return();s={Cj:void 0},o=r.next(),M.B(2);break;case 4:E=T(e),A=E.next();case 12:if(A.done){M.B(0);break}k=A.value,I=p1(k,t,n).filter(function(D){return D=D[0],D=D.keySystemConfiguration&&D.keySystemConfiguration.keySystem,!D||!i.includes(D)}),C=T(I),L=C.next();case 15:if(L.done){A=E.next(),M.B(12);break}return O=L.value,w(M,f1(k,O),16);case 16:L=C.next(),M.B(15)}})}function p1(e,t,n){var i=e.audio,r=e.video,o=[],s=[];if(r)for(var u=T(r.fullMimeTypes),a=u.next();!a.done;a=u.next()){a=a.value;var l=Mn(a);if(l.includes(",")&&!i){var c=l.split(","),d=_n(a);l=os("video",c),c=os("audio",c),c=Ou(c,d),d=mf(d,c,"audio"),s.push({contentType:d,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=yf(l),a={contentType:mf(_n(a),l,"video"),width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||30},r.hdr)switch(r.hdr){case"PQ":a.transferFunction="pq";break;case"HLG":a.transferFunction="hlg"}r.colorGamut&&(a.colorGamut=r.colorGamut),o.push(a)}if(i)for(u=T(i.fullMimeTypes),a=u.next();!a.done;a=u.next())l=a.value,a=_n(l),l=Ou(Mn(l),a),a=mf(a,l,"audio"),s.push({contentType:a,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio});for(u=[],o.length==0&&o.push(null),s.length==0&&s.push(null),o=T(o),a=o.next();!a.done;a=o.next())for(a=a.value,l=T(s),d=l.next();!d.done;d=l.next())d=d.value,c={type:n?"file":"media-source"},a&&(c.video=a),d&&(c.audio=d),u.push(c);if(s=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!s.length)return[u];for(e=[],n=new Map,s=T(s),o=s.next();!o.done;o=s.next())o=o.value,n.get(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o);for(s=t?"required":"optional",t=t?["persistent-license"]:["temporary"],o=T(n.keys()),a=o.next();!a.done;a=o.next()){for(a=a.value,d=n.get(a),l=new Map,d=T(d),c=d.next();!c.done;c=d.next()){c=c.value;var p=c.videoRobustness+","+c.audioRobustness;l.get(p)||l.set(p,[]),l.get(p).push(c)}for(l=T(l.values()),d=l.next();!d.done;d=l.next()){d=d.value,c=[],p=T(u);for(var v=p.next();!v.done;v=p.next()){v=Object.assign({},v.value);for(var y={keySystem:a,initDataType:"cenc",persistentState:s,distinctiveIdentifier:"optional",sessionTypes:t},E=T(d),A=E.next();!A.done;A=E.next()){if(A=A.value,A.initData&&A.initData.length){for(var k=new Set,I=T(A.initData),C=I.next();!C.done;C=I.next())k.add(C.value.initDataType);y.initDataType=A.initData[0].initDataType}A.distinctiveIdentifierRequired&&(y.distinctiveIdentifier="required"),A.persistentStateRequired&&(y.persistentState="required"),A.sessionType&&(y.sessionTypes=[A.sessionType]),i&&(y.audio?(A.encryptionScheme&&(y.audio.encryptionScheme=y.audio.encryptionScheme||A.encryptionScheme),y.audio.robustness=y.audio.robustness||A.audioRobustness):(y.audio={robustness:A.audioRobustness},A.encryptionScheme&&(y.audio.encryptionScheme=A.encryptionScheme)),y.audio.robustness==""&&delete y.audio.robustness),r&&(y.video?(A.encryptionScheme&&(y.video.encryptionScheme=y.video.encryptionScheme||A.encryptionScheme),y.video.robustness=y.video.robustness||A.videoRobustness):(y.video={robustness:A.videoRobustness},A.encryptionScheme&&(y.video.encryptionScheme=A.encryptionScheme)),y.video.robustness==""&&delete y.video.robustness)}v.keySystemConfiguration=y,c.push(v)}e.push(c)}}return e}function Ou(e,t){var n=ke();return e.toLowerCase()=="flac"?n.Ka()!="WEBKIT"?"flac":"fLaC":e.toLowerCase()==="opus"?n.Ka()!="WEBKIT"?"opus":Lu(t)=="mp4"?"Opus":"opus":e.toLowerCase()=="ac-3"&&n.Le()?"ec-3":e}function yf(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function cw(e){e.textStreams=e.textStreams.filter(function(t){return t=St(t.mimeType,t.codecs),bu(t)})}function dw(e){var t,n,i,r,o,s,u;return N(function(a){switch(a.g){case 1:t=[],n=T(e.imageStreams),i=n.next();case 2:if(i.done){a.B(4);break}if(r=i.value,o=r.mimeType,o=="application/mp4"&&r.codecs=="mjpg"&&(o="image/jpg"),Fl.has(o)){a.B(5);break}if(s=gw.get(o),!s){Fl.set(o,!1),a.B(5);break}return w(a,hw(s),7);case 7:u=a.h,Fl.set(o,u);case 5:Fl.get(o)&&t.push(r),i=n.next(),a.B(2);break;case 4:e.imageStreams=t,Z(a)}})}function hw(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function ko(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,o=t?t.codecs:null,s=n?n.codecs:null,u=t?t.groupId:null,a=[];n&&a.push(n.mimeType),t&&a.push(t.mimeType),a=a[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var c=new Set;if(t)for(var d=T(t.roles),p=d.next();!p.done;p=d.next())c.add(p.value);if(n)for(d=T(n.roles),p=d.next();!p.done;p=d.next())c.add(p.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,videoLabel:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:a,audioMimeType:i,videoMimeType:r,codecs:"",audioCodec:o,videoCodec:s,primary:e.primary,roles:Array.from(c),audioRoles:null,videoRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:u,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,e.videoRoles=n.roles,e.videoLabel=n.label,(i=n.dependencyStream)&&(e.width=i.width||e.width,e.height=i.height||e.height,e.videoCodec=i.codecs||e.videoCodec,e.pixelAspectRatio=i.pixelAspectRatio||e.pixelAspectRatio,e.videoBandwidth&&i.bandwidth&&(e.videoBandwidth+=i.bandwidth)),s.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=r,r=s.split(",");try{e.videoCodec=os("video",r),e.audioCodec=os("audio",r)}catch{}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,r=t.dependencyStream)&&(e.audioCodec=r.codecs||e.audioCodec,e.audioBandwidth&&r.bandwidth&&(e.audioBandwidth+=r.bandwidth)),n&&!e.videoBandwidth&&(t?e.audioBandwidth&&(e.videoBandwidth=e.bandwidth-e.audioBandwidth):e.videoBandwidth=e.bandwidth),t&&!e.audioBandwidth&&(n?e.videoBandwidth&&(e.audioBandwidth=e.bandwidth-e.videoBandwidth):e.audioBandwidth=e.bandwidth),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function Co(e){return{id:e.id,active:!1,type:Re,bandwidth:e.bandwidth||0,language:e.language,label:e.label,kind:e.kind||null,mimeType:e.mimeType,codecs:e.codecs||null,primary:e.primary,roles:e.roles,accessibilityPurpose:e.accessibilityPurpose,forced:e.forced,originalTextId:e.originalId,originalLanguage:e.originalLanguage}}function Tf(e){var t=e.width||null,n=e.height||null,i=null;e.segmentIndex&&(i=bi(e.segmentIndex));var r=e.tilesLayout;return i&&(r=i.tilesLayout||r),r&&t!=null&&(t/=Number(r.split("x")[0])),r&&n!=null&&(n/=Number(r.split("x")[1])),{id:e.id,type:"image",bandwidth:e.bandwidth||0,width:t,height:n,mimeType:e.mimeType,codecs:e.codecs||null,tilesLayout:r||null,originalImageId:e.originalId}}function _l(e){return e.__shaka_id||(e.__shaka_id=pw++),e.__shaka_id}function g1(e){var t={id:_l(e),active:e.mode!="disabled",type:Re,bandwidth:0,language:We(e.language||"und"),label:e.label,kind:e.kind,mimeType:null,codecs:null,primary:!1,roles:[],accessibilityPurpose:null,forced:e.kind=="forced",originalTextId:e.id,originalLanguage:e.language};return e.kind=="captions"&&(t.mimeType="unknown"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),t}function Ul(e,t){var n=e?e.language:null;if(n={id:_l(e||t),active:e?e.enabled:t.selected,type:"variant",bandwidth:0,language:We(n||"und"),label:e?e.label:null,videoLabel:null,kind:e?e.kind:null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:e?e.kind=="main":!1,roles:[],forced:!1,audioRoles:null,videoRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:t?t.id:null,originalAudioId:e?e.id:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:n},e&&e.kind&&(n.roles=[e.kind],n.audioRoles=[e.kind]),e&&e.configuration&&(e.configuration.codec&&(n.audioCodec=e.configuration.codec,n.codecs=n.audioCodec),e.configuration.bitrate&&(n.audioBandwidth=e.configuration.bitrate,n.bandwidth+=n.audioBandwidth),e.configuration.sampleRate&&(n.audioSamplingRate=e.configuration.sampleRate),e.configuration.numberOfChannels&&(n.channelsCount=e.configuration.numberOfChannels)),t&&t.configuration&&(t.configuration.codec&&(n.videoCodec=t.configuration.codec,n.codecs=n.codecs?n.codecs+(","+n.videoCodec):n.videoCodec),t.configuration.bitrate&&(n.videoBandwidth=t.configuration.bitrate,n.bandwidth+=n.videoBandwidth),t.configuration.framerate&&(n.frameRate=t.configuration.framerate),t.configuration.width&&(n.width=t.configuration.width),t.configuration.height&&(n.height=t.configuration.height),t.configuration.colorSpace&&t.configuration.colorSpace.transfer))switch(t.configuration.colorSpace.transfer){case"pq":n.hdr="PQ";break;case"hlg":n.hdr="HLG";break;case"bt709":n.hdr="SDR"}return n}function _u(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function jl(e){return e.filter(function(t){return _u(t)})}function gs(e,t,n,i){var r=e,o=e.filter(function(a){return a.primary});o.length&&(r=o);var s=r.length?r[0].language:"";if(r=r.filter(function(a){return a.language==s}),t){var u=Tl(We(t),e.map(function(a){return a.language}));u&&(r=e.filter(function(a){return We(a.language)==u}))}if(r=r.filter(function(a){return a.forced==i}),n){if(e=m1(r,n),e.length)return e}else if(e=r.filter(function(a){return a.roles.length==0}),e.length)return e;return e=r.map(function(a){return a.roles}).reduce(nw,[]),e.length?m1(r,e[0]):r}function m1(e,t){return e.filter(function(n){return n.roles.includes(t)})}function fw(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t}function v1(e,t){t.length&&(t=t.filter(function(n){return Et(e.codecs)==Et(n.codecs)}).sort(function(n,i){return n.bandwidth&&i.bandwidth&&n.bandwidth!=i.bandwidth?n.bandwidth-i.bandwidth:(n.width||0)-(i.width||0)}),e.trickModeVideo=t[0],t.length>1&&(t=t.find(function(n){return e.width==n.width&&e.height==n.height})))&&(e.trickModeVideo=t)}function y1(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function T1(e,t,n){if(n.autoShowText==0)return!1;if(n.autoShowText==1)return!0;var i=We(n.preferredTextLanguage);return t=We(t.language),n.autoShowText==2?ss(t,i):n.autoShowText==3?e?(e=We(e.language),ss(t,i)&&!ss(e,t)):!1:(ye("Invalid autoShowText setting!"),!1)}function S1(e){var t={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]};e=T(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n?_n(n):"",codecs:n?Mn(n):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"video",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};i.fullMimeTypes.add(St(i.mimeType,i.codecs)),n.startsWith("audio/")?(i.type="audio",t.audio=i):t.video=i}return t}K("shaka.util.StreamUtils",c1),c1.meetsRestrictions=Ol;var Bl=new Map,pw=0,Fl=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),gw=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function gt(){var e=this;this.H=null,this.G=!1,this.A=new Su,this.j=new Fe,navigator.connection&&navigator.connection.addEventListener&&this.j.o(navigator.connection,"change",function(){e.g.useNetworkInformation&&navigator.onLine&&(e.A=new Su,e.g&&e.A.configure(e.g.advanced),e.trySuggestStreams())}),this.l=[],this.I=1,this.J=!1,this.h=this.u=this.g=this.C=null,this.m=new le(function(){if(e.G&&(e.g.restrictToElementSize||e.g.restrictToScreenSize)){var t=e.chooseVariant();t&&e.H&&e.H(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.D=S,"documentPictureInPicture"in S&&this.j.o(S.documentPictureInPicture,"enter",function(){e.D=S.documentPictureInPicture.window,e.m&&e.m.Ja(),e.j.qa(e.D,"pagehide",function(){e.D=S,e.m&&e.m.Ja()})}),this.F=this.i=null}h=gt.prototype,h.stop=function(){this.H=null,this.G=!1,this.l=[],this.I=1,this.u=this.C=null,this.h&&(this.h.disconnect(),this.h=null),this.m&&this.m.stop(),this.F=this.i=null},h.release=function(){this.stop(),this.j.release(),this.m=null},h.init=function(e){this.H=e},h.chooseVariant=function(e){e=e===void 0?!1:e;var t=1/0,n=1/0;if(this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:this.D.devicePixelRatio,t=this.D.screen.height*n,n*=this.D.screen.width),this.h&&this.g.restrictToElementSize){var i=this.g.ignoreDevicePixelRatio?1:this.D.devicePixelRatio,r=this.u.clientHeight,o=this.u.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.u&&(r=this.i.height,o=this.i.width),t=Math.min(t,r*i),n=Math.min(n,o*i)}if(r=this.l.filter(function(l){return l&&!(l.audio&&l.audio.fastSwitching||l.video&&l.video.fastSwitching)}),r.length||(r=this.l),i=r,e&&r.length!=this.l.length&&(i=this.l.filter(function(l){return l&&!!(l.audio&&l.audio.fastSwitching||l.video&&l.video.fastSwitching)})),e=Sf(this,this.g.restrictions,i,1/0,1/0),t!=1/0||n!=1/0){for(e=mw(e),e=T(e),r=e.next();!r.done;r=e.next())if(r=r.value,r.height>=t&&r.width>=n){t=r.height,n=r.width;break}e=Sf(this,this.g.restrictions,i,t,n)}for(t=this.getBandwidthEstimate(),i.length&&!e.length&&(e=Sf(this,null,i,1/0,1/0),e=[e[0]]),n=e[0]||null,i=0;i<e.length;i++){r=e[i];var s=isNaN(this.I)?1:Math.abs(this.I);o=s*r.bandwidth/this.g.bandwidthDowngradeTarget;for(var u={bandwidth:1/0},a=i+1;a<e.length;a++)if(r.bandwidth!=e[a].bandwidth){u=e[a];break}s=s*u.bandwidth/this.g.bandwidthUpgradeTarget,n&&r&&t>=o&&t<=s&&(n.bandwidth!=r.bandwidth||n.bandwidth==r.bandwidth&&n.video&&r.video&&(n.video.width<r.video.width||n.video.height<r.video.height))&&(n=r)}return this.C=Date.now(),n},h.enable=function(){this.G=!0,this.l.length&&this.trySuggestStreams()},h.disable=function(){this.G=!1},h.segmentDownloaded=function(e,t,n,i){var r=e;this.g.removeLatencyFromFirstPacketTime&&i&&i.packetNumber===1&&i.timeToFirstByte&&(r=e-i.timeToFirstByte),r>=this.g.cacheLoadThreshold&&this.A.sample(r,t),n&&this.C!=null&&this.G&&E1(this)},h.trySuggestStreams=function(){this.G&&(this.C=Date.now(),E1(this,!0))},h.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=navigator.connection.downlink*1e6),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.A.getBandwidthEstimate(e),this.F?this.F.getBandwidthEstimate(e):e)},h.setVariants=function(e){return yo(e,this.l)?!1:(this.l=e,!0)},h.playbackRateChanged=function(e){this.I=e},h.setMediaElement=function(e){function t(){n.m.Y(vw)}var n=this;this.u=e,this.h&&(this.h.disconnect(),this.h=null),this.u&&"ResizeObserver"in S&&(this.h=new ResizeObserver(t),this.h.observe(this.u)),this.j.o(e,"enterpictureinpicture",function(i){i.pictureInPictureWindow&&(n.i=i.pictureInPictureWindow,n.j.o(n.i,"resize",t))}),this.j.o(e,"leavepictureinpicture",function(){n.i&&n.j.Ea(n.i,"resize",t),n.i=null})},h.setCmsdManager=function(e){this.F=e},h.configure=function(e){this.g=e,this.A&&this.g&&this.A.configure(this.g.advanced)};function E1(e,t){if(t===void 0||!t){if(!e.J){if(t=e.A,!(t.g>=t.i))return;e.J=!0,e.C-=(e.g.switchInterval-e.g.minTimeToSwitch)*1e3}if(Date.now()-e.C<e.g.switchInterval*1e3)return}t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.H&&e.H(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}function Sf(e,t,n,i,r){if(e.F){var o=e.F.dj();o&&(n=n.filter(function(s){return s.bandwidth&&o?s.bandwidth<=o:!0}))}return t&&(n=n.filter(function(s){return Ol(s,t,{width:r,height:i})})),n.sort(function(s,u){return s.bandwidth-u.bandwidth})}function mw(e){var t=[];e=T(e);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&(n=n.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(i,r){return i.width-r.width})}K("shaka.abr.SimpleAbrManager",gt),gt.prototype.configure=gt.prototype.configure,gt.prototype.setCmsdManager=gt.prototype.setCmsdManager,gt.prototype.setMediaElement=gt.prototype.setMediaElement,gt.prototype.playbackRateChanged=gt.prototype.playbackRateChanged,gt.prototype.setVariants=gt.prototype.setVariants,gt.prototype.getBandwidthEstimate=gt.prototype.getBandwidthEstimate,gt.prototype.trySuggestStreams=gt.prototype.trySuggestStreams,gt.prototype.segmentDownloaded=gt.prototype.segmentDownloaded,gt.prototype.disable=gt.prototype.disable,gt.prototype.enable=gt.prototype.enable,gt.prototype.chooseVariant=gt.prototype.chooseVariant,gt.prototype.init=gt.prototype.init,gt.prototype.release=gt.prototype.release,gt.prototype.stop=gt.prototype.stop;var vw=1;function A1(e,t){var n=Si();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.u=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function x1(e){var t,n;return N(function(i){if(i.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new _(2,7,1010);return t=e.g,e.g++,t==0?i.return():(n=e.h*(1+(Math.random()*2-1)*e.u),w(i,new Promise(function(r){new le(r).Y(n/1e3)}),2))}e.h*=e.m,Z(i)})}function Si(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Qe(){var e,t,n=new Promise(function(i,r){e=i,t=r});return n.resolve=e,n.reject=t,n}Qe.prototype.resolve=function(){},Qe.prototype.reject=function(){};function xt(e,t){this.promise=e,this.i=t,this.g=null}function Gr(e){return new xt(Promise.reject(e),function(){return Promise.resolve()})}function Ef(){var e=Promise.reject(new _(2,7,7001));return e.catch(function(){}),new xt(e,function(){return Promise.resolve()})}function ms(e){return new xt(Promise.resolve(e),function(){return Promise.resolve()})}function w1(e){return new xt(e,function(){return e.catch(function(){})})}xt.prototype.abort=function(){return this.g||(this.g=this.i()),this.g};function I1(e){return new xt(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}xt.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},xt.prototype.cb=function(e,t){function n(u){return function(a){if(r.g&&u)o.reject(s);else{var l=u?e:t;l?i=yw(l,a,o):(u?o.resolve:o.reject)(a)}}}function i(){return o.reject(s),r.abort()}var r=this,o=new Qe;o.catch(function(){});var s=new _(2,7,7001);return this.promise.then(n(!0),n(!1)),new xt(o,function(){return i()})};function yw(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}Ge.Object.defineProperties(xt.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.g!==null}}}),K("shaka.util.AbortableOperation",xt),xt.prototype.chain=xt.prototype.cb,xt.prototype.finally=xt.prototype.finally,xt.all=I1,xt.prototype.abort=xt.prototype.abort,xt.notAbortable=w1,xt.completed=ms,xt.aborted=Ef,xt.failed=Gr;function vs(){this.g=[]}function Mo(e,t){e.g.push(t.finally(function(){ii(e.g,t)}))}vs.prototype.destroy=function(){for(var e=[],t=T(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function at(e,t,n,i,r,o,s){_e.call(this),this.i=null,this.j=!1,this.A=new vs,this.g=new Set,this.h=new Set,this.u=e||null,this.m=t||null,this.C=n||null,this.D=i||null,this.F=r||null,this.H=o||null,this.G=s||null,this.l=new Map}se(at,_e),h=at.prototype,h.configure=function(e){this.i=e};function fr(e,t,n,i){i=i===void 0?!1:i,n=n||L1;var r=Vl.get(e);(!r||n>=r.priority)&&Vl.set(e,{priority:n,Zf:t,$l:i})}function k1(e,t){for(var n=T(e.g),i=n.next();!i.done;i=n.next())t.g.add(i.value);for(e=T(e.h),n=e.next();!n.done;n=e.next())t.h.add(n.value)}h.dm=function(e){this.g.add(e)},h.Dm=function(e){this.g.delete(e)},h.yk=function(){this.g.clear()},h.fm=function(e){this.h.add(e)},h.Em=function(e){this.h.delete(e)},h.zk=function(){this.h.clear()},h.Ti=function(){this.l.clear()};function Lt(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}h.destroy=function(){return this.j=!0,this.g.clear(),this.h.clear(),this.l.clear(),_e.prototype.release.call(this),this.A.destroy()},h.request=function(e,t,n){var i=this,r=new R1;if(this.j){var o=Promise.reject(new _(2,7,7001));return o.catch(function(){}),new ql(o,function(){return Promise.resolve()},r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Ti(t.retryParameters):Si(),t.uris=Ti(t.uris),o=Tw(this,e,t,n);var s=o.cb(function(){return C1(i,e,t,n,new A1(t.retryParameters,!1),0,null,r)}),u=s.cb(function(p){return Sw(i,e,p,n)}),a=Date.now(),l=0;o.promise.then(function(){l=Date.now()-a},function(){});var c=0;s.promise.then(function(){c=Date.now()},function(){});var d=u.cb(function(p){var v=Date.now()-c,y=p.response;return y.timeMs+=l,y.timeMs+=v,p.El||!i.u||y.fromCache||t.method=="HEAD"||e!=zn||i.u(y.timeMs,y.data.byteLength,M1(n),t,n),i.G&&i.G(e,y,n),y},function(p){throw p&&(p.severity=2),p});return o=new ql(d.promise,function(){return d.abort()},r),Mo(this.A,o),o};function Tw(e,t,n,i){function r(u){o=o.cb(function(){return n.body&&(n.body=ti(n.body)),u(t,n,i)})}var o=ms(void 0);e.F&&r(e.F),e=T(e.g);for(var s=e.next();!s.done;s=e.next())r(s.value);return o.cb(void 0,function(u){throw u instanceof _&&u.code==7001?u:new _(2,1,1006,u)})}function C1(e,t,n,i,r,o,s,u){e.i.forceHTTP&&(n.uris[o]=n.uris[o].replace("https://","http://")),e.i.forceHTTPS&&(n.uris[o]=n.uris[o].replace("http://","https://")),o>0&&e.H&&e.H(t,i,n.uris[o],n.uris[o-1]);var a=new It(n.uris[o]),l=a.tc,c=!1;l||(l=location.protocol,l=l.slice(0,-1),dl(a,l),n.uris[o]=a.toString()),l=l.toLowerCase();var d=(l=Vl.get(l))?l.Zf:null;if(!d)return Gr(new _(2,1,1e3,a));var p=l.$l;(a=e.l.get(a.Jb))&&(n.headers["common-access-token"]=a);var v=null,y=null,E=!1,A=!1,k;return w1(x1(r)).cb(function(){if(e.j)return Ef();k=Date.now();var I=0;n.requestStartTime=Date.now();var C=d(n.uris[o],n,t,function(M,D,P){v&&v.stop(),y&&y.Y(O/1e3),e.u&&t==zn&&(I++,n.packetNumber=I,e.u(M,D,M1(i),n,i),c=!0,u.g=P)},function(M){A=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.m&&e.m(M,n,t)},{minBytesForProgressEvents:e.i.minBytesForProgressEvents});if(!p)return C;var L=n.retryParameters.connectionTimeout;L&&(v=new le(function(){E=!0,C.abort()}),v.Y(L/1e3));var O=n.retryParameters.stallTimeout;return O&&(y=new le(function(){E=!0,C.abort()})),C}).cb(function(I){v&&v.stop(),y&&y.stop(),I.timeMs==null&&(I.timeMs=Date.now()-k);var C=I.headers["common-access-token"];if(C){var L=new It(I.uri);e.l.set(L.Jb,C)}return C={response:I,El:c},!A&&e.m&&e.m(I.headers,n,t),e.C&&e.C(n,I),C},function(I){if(v&&v.stop(),y&&y.stop(),e.D){var C=null,L=0;I instanceof _&&(C=I,I.code==1001&&(L=I.data[1])),e.D(n,C,L,E)}if(e.j)return Ef();if(E&&(I=new _(1,1,1003,n.uris[o],t)),I instanceof _){if(I.code==7001)throw I;if(I.code==1010)throw s;if(I.severity==1){if(C=new Map().set("error",I),C=new J("retry",C),C.cancelable=!0,e.dispatchEvent(C),C.defaultPrevented)throw I;return o=(o+1)%n.uris.length,C1(e,t,n,i,r,o,I,u)}}throw I})}function Sw(e,t,n,i){var r=ms(void 0);e=T(e.h);for(var o=e.next(),s={};!o.done;s={Ij:void 0},o=e.next())s.Ij=o.value,r=r.cb((function(u){return function(){var a=n.response;return a.data&&(a.data=ti(a.data)),(0,u.Ij)(t,a,i)}})(s));return r.cb(function(){return n},function(u){var a=2;if(u instanceof _){if(u.code==7001)throw u;a=u.severity}throw new _(a,1,1007,u)})}function M1(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.od)return!1}return!0}K("shaka.net.NetworkingEngine",at),at.prototype.request=at.prototype.request,at.prototype.destroy=at.prototype.destroy,at.makeRequest=Lt,at.defaultRetryParameters=function(){return Si()},at.prototype.clearCommonAccessTokenMap=at.prototype.Ti,at.prototype.clearAllResponseFilters=at.prototype.zk,at.prototype.unregisterResponseFilter=at.prototype.Em,at.prototype.registerResponseFilter=at.prototype.fm,at.prototype.clearAllRequestFilters=at.prototype.yk,at.prototype.unregisterRequestFilter=at.prototype.Dm,at.prototype.registerRequestFilter=at.prototype.dm,at.unregisterScheme=function(e){Vl.delete(e)},at.registerScheme=fr,at.prototype.configure=at.prototype.configure;function R1(){this.g=0}at.NumBytesRemainingClass=R1;function ql(e,t,n){xt.call(this,e,t),this.h=n}se(ql,xt),at.PendingRequest=ql;var zn=1;at.RequestType={MANIFEST:0,SEGMENT:zn,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8,CMCD:9},at.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var L1=3;at.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:L1};var Vl=new Map;function ys(e){this.g=!1,this.h=new Qe,this.i=e}ys.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function nt(e,t){if(e.g)throw t instanceof _&&t.code==7003?t:new _(2,7,7003,t)}function Ts(e){for(var t=new Map,n=T(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function Af(e){var t={};return e.forEach(function(n,i){t[i]=n}),t}function ot(e,t){this.h=kn(e),this.i=t==P1,this.g=0}h=ot.prototype,h.Sa=function(){return this.g<this.h.byteLength},h.Wa=function(){return this.g},h.getLength=function(){return this.h.byteLength},h.ea=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw pr()}},h.Ia=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw pr()}},h.$=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw pr()}},h.Wh=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw pr()}},h.Wd=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw pr()}if(t>2097151)throw new _(2,3,3001);return this.g+=8,t*4294967296+e},h.bc=function(e,t){if(this.g+e>this.h.byteLength)throw pr();var n=Te(this.h,this.g,e);return this.g+=e,t?new Uint8Array(n):n},h.skip=function(e){if(this.g+e>this.h.byteLength)throw pr();this.g+=e},h.Jj=function(e){if(this.g<e)throw pr();this.g-=e},h.seek=function(e){if(e<0||e>this.h.byteLength)throw pr();this.g=e},h.Vd=function(){for(var e=this.g;this.Sa()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=Te(this.h,e,this.g-e),this.g+=1,dt(e)};function pr(){return new _(2,3,3e3)}K("shaka.util.DataViewReader",ot),ot.prototype.readTerminatedString=ot.prototype.Vd,ot.prototype.seek=ot.prototype.seek,ot.prototype.rewind=ot.prototype.Jj,ot.prototype.skip=ot.prototype.skip,ot.prototype.readBytes=ot.prototype.bc,ot.prototype.readUint64=ot.prototype.Wd,ot.prototype.readInt32=ot.prototype.Wh,ot.prototype.readUint32=ot.prototype.$,ot.prototype.readUint16=ot.prototype.Ia,ot.prototype.readUint8=ot.prototype.ea,ot.prototype.getLength=ot.prototype.getLength,ot.prototype.getPosition=ot.prototype.Wa,ot.prototype.hasMoreData=ot.prototype.Sa;var P1=1;ot.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:P1};function Je(){this.i=new Map,this.h=new Map,this.g=!1}h=Je.prototype,h.box=function(e,t){return e=b1(e),this.i.set(e,Ew),this.h.set(e,t),this},h.W=function(e,t){return e=b1(e),this.i.set(e,D1),this.h.set(e,t),this},h.stop=function(){this.g=!0},h.parse=function(e,t,n){for(e=new ot(e,0),this.g=!1;e.Sa()&&!this.g;)this.Sd(0,e,t,n)},h.Sd=function(e,t,n,i){var r=t.Wa();if(i&&r+8>t.getLength())this.g=!0;else{var o=t.$(),s=t.$(),u=Gl(s),a=!1;switch(o){case 0:o=t.getLength()-r;break;case 1:if(i&&t.Wa()+8>t.getLength()){this.g=!0;return}o=t.Wd(),a=!0}var l=this.h.get(s);if(l){var c=null,d=null;if(this.i.get(s)==D1){if(i&&t.Wa()+4>t.getLength()){this.g=!0;return}d=t.$(),c=d>>>24,d&=16777215}s=r+o,n&&s>t.getLength()&&(s=t.getLength()),i&&s>t.getLength()?this.g=!0:(s-=t.Wa(),t=s>0?t.bc(s,!1):new Uint8Array(0),t=new ot(t,0),l({name:u,parser:this,partialOkay:n||!1,stopOnPartial:i||!1,version:c,flags:d,reader:t,size:o,start:r+e,has64BitSize:a}))}else t.skip(Math.min(r+o-t.Wa(),t.getLength()-t.Wa()))}};function Me(e){for(var t=zr(e);e.reader.Sa()&&!e.parser.g;)e.parser.Sd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial)}function gr(e){for(var t=zr(e),n=e.reader.$(),i=0;i<n&&(e.parser.Sd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial),!e.parser.g);i++);}function Un(e){var t=zr(e);for(e.reader.skip(78);e.reader.Sa()&&!e.parser.g;)e.parser.Sd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial)}function Hl(e){var t=zr(e);e.reader.skip(8);var n=e.reader.Ia();for(e.reader.skip(6),n==2?e.reader.skip(48):e.reader.skip(12),n==1&&e.reader.skip(16);e.reader.Sa()&&!e.parser.g;)e.parser.Sd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial)}function Ro(e,t){return function(n){e(n.reader.bc(n.reader.getLength()-n.reader.Wa(),t))}}function b1(e){var t=0;e=T(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Gl(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function zr(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}K("shaka.util.Mp4Parser",Je),Je.headerSize=zr,Je.typeToString=Gl,Je.allData=Ro,Je.audioSampleEntry=Hl,Je.visualSampleEntry=Un,Je.sampleDescription=gr,Je.children=Me,Je.prototype.parseNext=Je.prototype.Sd,Je.prototype.parse=Je.prototype.parse,Je.prototype.stop=Je.prototype.stop,Je.prototype.fullBox=Je.prototype.W,Je.prototype.box=Je.prototype.box;var Ew=0,D1=1;function xf(e){var t=this;this.g=[],this.data=[],new Je().box("moov",Me).box("moof",Me).W("pssh",function(n){if(!(n.version>1)){var i=Te(n.reader.h,-12,n.size);t.data.push(i),n=n.reader.bc(16,!1),t.g.push(Ur(n))}}).parse(e)}function zl(e,t,n,i){var r=e.length,o=12+t.length+4+r;i>0&&(o+=4+16*n.size);var s=new Uint8Array(o),u=kn(s),a=0;if(u.setUint32(a,o),a+=4,u.setUint32(a,1886614376),a+=4,i<1?u.setUint32(a,0):u.setUint32(a,16777216),a+=4,s.set(t,a),a+=t.length,i>0)for(u.setUint32(a,n.size),a+=4,t=T(n),n=t.next();!n.done;n=t.next())n=go(n.value),s.set(n,a),a+=n.length;return u.setUint32(a,r),s.set(e,a+4),s}function Kl(e){var t=this;this.F=e,this.l=this.C=null,this.X=this.R=!1,this.J=0,this.g=null,this.u=new Fe,this.i=new Map,this.V=[],this.D=new Map,this.K=!1,this.m=new Qe,this.h=null,this.A=function(n){n.severity==2&&t.m.reject(n),e.onError(n)},this.Z=new Map,this.aa=new Map,this.L=new le(function(){return bw(t)}),this.P=!1,this.M=[],this.ha=!1,this.G=new le(function(){Nw(t)}),this.m.catch(function(){}),this.j=new ys(function(){return Aw(t)}),this.O=!1,this.H=this.I=null,this.T=function(){return!1}}h=Kl.prototype,h.destroy=function(){return this.j.destroy()};function Aw(e){return N(function(t){switch(t.g){case 1:return e.u.release(),e.u=null,e.m.reject(),e.G.stop(),e.G=null,e.L.stop(),e.L=null,w(t,ju(e),2);case 2:if(!e.l){t.B(3);break}return ue(t,4),w(t,e.l.setMediaKeys(null),6);case 6:Ae(t,5);break;case 4:ae(t);case 5:e.l=null;case 3:e.g=null,e.C=null,e.D=new Map,e.h=null,e.A=function(){},e.F=null,e.O=!1,e.I=null,Z(t)}})}h.configure=function(e,t){this.h=e,t&&(this.T=t),this.G&&this.R&&this.g&&this.G.va(this.h.updateExpirationTime)};function xw(e,t,n){return e.X=!0,e.D=new Map,e.P=n,O1(e,t,!1)}function N1(e,t,n,i){i=i===void 0?!0:i,e.D=new Map,n=T(n);for(var r=n.next();!r.done;r=n.next())e.D.set(r.value,{initData:null,initDataType:null});for(n=T(e.h.persistentSessionsMetadata),r=n.next();!r.done;r=n.next())r=r.value,e.D.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.P=e.D.size>0,O1(e,t,i)}function ww(e,t,n,i,r,o){var s,u,a,l,c;return N(function(d){return d.g==1?(s=[],o.length&&s.push(o[0].contentType),r.length&&s.push(r[0].contentType),u=function(p){return p=or(t,p,null),p.licenseServerUri=n,p.serverCertificate=i,p.persistentStateRequired=!0,p.sessionType="persistent-license",p},a=S1(s),a.video&&(l=u(o[0].encryptionScheme||""),a.video.drmInfos.push(l)),a.audio&&(c=u(r[0].encryptionScheme||""),a.audio.drmInfos.push(c)),w(d,vf([a],!0,e.O,[]),2)):(nt(e.j),d.return(B1(e,[a])))})}function O1(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L;return N(function(O){if(O.g==1){for(z1(e.h.clearKeys,t),i=t.some(function(M){return!!(M.video&&M.video.drmInfos.length||M.audio&&M.audio.drmInfos.length)}),r=Ts(e.h.servers),o=Ts(e.h.advanced||{}),!i&&n&&_w(t,r),s=new WeakSet,u=T(t),a=u.next();!a.done;a=u.next())for(l=a.value,c=G1(l),d=T(c),p=d.next();!p.done;p=d.next())v=p.value,s.has(v)||(s.add(v),jw(v,r,o,e.h.keySystemsMapping));for(y=function(M,D){var P=[];M=T(M);for(var j=M.next();!j.done;j=M.next()){j=j.value;var b=j[D]||o.has(j.keySystem)&&o.get(j.keySystem)[D]||"";if(b==""&&Mv(j.keySystem)&&(D=="audioRobustness"?b=[e.h.defaultAudioRobustnessForWidevine]:D=="videoRobustness"&&(b=[e.h.defaultVideoRobustnessForWidevine])),typeof b=="string")P.push(j);else if(Array.isArray(b)){b.length===0&&(b=[""]),b=T(b);for(var U=b.next();!U.done;U=b.next()){var B={};P.push(Object.assign({},j,(B[D]=U.value,B)))}}}return P},E=new WeakSet,A=T(t),k=A.next();!k.done;k=A.next())I=k.value,I.video&&!E.has(I.video)&&(I.video.drmInfos=y(I.video.drmInfos,"videoRobustness"),I.video.drmInfos=y(I.video.drmInfos,"audioRobustness"),E.add(I.video)),I.audio&&!E.has(I.audio)&&(I.audio.drmInfos=y(I.audio.drmInfos,"videoRobustness"),I.audio.drmInfos=y(I.audio.drmInfos,"audioRobustness"),E.add(I.audio));return w(O,vf(t,e.P,e.O,e.h.preferredKeySystems),2)}return nt(e.j),C=i||r.size>0,C?(L=B1(e,t),O.return(i?L:L.catch(function(){}))):(e.R=!0,O.return(Promise.resolve()))})}function _1(e){var t;return N(function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.I){n.B(2);break}return w(n,e.I,3);case 3:return nt(e.j),n.return();case 2:return ue(n,4),e.I=e.l.setMediaKeys(e.C),w(n,e.I,6);case 6:Ae(n,5);break;case 4:t=ae(n),e.A(new _(2,6,6003,t.message));case 5:nt(e.j),Z(n)}})}function Iw(e,t){return N(function(n){if(n.g==1)return w(n,_1(e),2);Uu(e,t.initDataType,Te(t.initData)),Z(n)})}h.Ub=function(e){var t=this,n,i;return N(function(r){if(r.g==1)return t.l===e?r.return():t.C?(t.l=e,t.h.delayLicenseRequestUntilPlayed&&t.u.qa(t.l,"play",function(){for(var o=T(t.M),s=o.next();!s.done;s=o.next())kf(t,s.value);t.ha=!0,t.M=[]}),t.l.remote?(t.u.o(t.l.remote,"connect",function(){return ju(t)}),t.u.o(t.l.remote,"connecting",function(){return ju(t)}),t.u.o(t.l.remote,"disconnect",function(){return ju(t)})):"webkitCurrentPlaybackTargetIsWireless"in t.l&&t.u.o(t.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return ju(t)}),t.H=t.g&&t.g.initData.find(function(o){return o.initData.length>0})||null,n=t.g.keySystem,(i=ke().Oh(n))||!t.H&&t.g.keySystem==="com.apple.fps"&&!t.D.size?r.B(2):w(r,_1(t),2)):(t.u.qa(e,"encrypted",function(){t.A(new _(2,6,6010))}),r.return());U1(t).catch(function(){}),!i&&(t.H||t.D.size||t.h.parseInbandPsshEnabled)||t.u.o(t.l,"encrypted",function(o){return Iw(t,o)}),Z(r)})};function kw(e){var t,n,i,r,o;return N(function(s){switch(s.g){case 1:if(!e.C||!e.g)return s.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){s.B(2);break}return t=Lt([e.g.serverCertificateUri],e.h.retryParameters),ue(s,3),n=e.F.Hc.request(5,t,{isPreload:e.T()}),w(s,n.promise,5);case 5:i=s.h,e.g.serverCertificate=Te(i.data),Ae(s,4);break;case 3:throw r=ae(s),new _(2,6,6017,r);case 4:if(e.j.g)return s.return();case 2:return!e.g.serverCertificate||!e.g.serverCertificate.length?s.return():(ue(s,6),w(s,e.C.setServerCertificate(e.g.serverCertificate),8));case 8:Ae(s,0);break;case 6:throw o=ae(s),new _(2,6,6004,o.message)}})}function Cw(e,t){var n,i,r;return N(function(o){if(o.g==1)return w(o,q1(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(i=[],(r=e.i.get(n))&&(r.Qb=new Qe,i.push(r.Qb)),i.push(n.remove()),w(o,Promise.all(i),3)):o.return();e.i.delete(n),Z(o)})}function U1(e){var t,n,i,r,o;return N(function(s){if(s.g==1)return e.D.size?(e.D.forEach(function(u,a){q1(e,a,u)}),w(s,e.m,3)):s.B(2);if(s.g!=2){if(t=e.g&&e.g.keyIds||new Set([]),t.size>0&&Ow(e))return s.return(e.m);e.K=!1,e.m=new Qe,e.m.catch(function(){})}for(n=(e.g?e.g.initData:[])||[],i=T(n),r=i.next();!r.done;r=i.next())o=r.value,Uu(e,o.initDataType,o.initData);return Bu(e)&&e.m.resolve(),s.return(e.m)})}function Uu(e,t,n){if(n.length){try{n=e.h.initDataTransform(n,t,e.g)}catch(s){t=s,s instanceof _||(t=new _(2,6,6016,s)),e.A(t);return}if(e.h.ignoreDuplicateInitData){var i=e.i.values();i=T(i);for(var r=i.next();!r.done;r=i.next())if(ir(n,r.value.initData))return;var o=!1;if(e.D.forEach(function(s){!o&&ir(n,s.initData)&&(o=!0)}),o)return}e.K=!0,e.i.size>0&&Bu(e)&&(e.m.resolve(),e.K=!1,e.m=new Qe,e.m.catch(function(){})),Lw(e,t,n,e.g.sessionType)}}function j1(e){return e=e.i.keys(),e=Hh(e,function(t){return t.sessionId}),Array.from(e)}h.sh=function(){var e=this,t=this.i.keys();return t=Hh(t,function(n){var i=e.i.get(n);return{sessionId:n.sessionId,sessionType:i.type,initData:i.initData,initDataType:i.initDataType}}),Array.from(t)},h.ve=function(){var e=1/0,t=this.i.keys();t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e};function Mw(e){return e.J?e.J:NaN}h.yf=function(){return Af(this.aa)};function B1(e,t){var n,i,r,o,s,u,a;return N(function(l){switch(l.g){case 1:if(n=new Map,i=Rw(e,t,n),!i)throw navigator.requestMediaKeySystemAccess?new _(2,6,6001):new _(2,6,6020);nt(e.j),ue(l,2),i.getConfiguration();var c=r=e.h.keySystemsMapping[i.keySystem]||i.keySystem,d=n.get(r),p=[],v=[],y=[],E=[],A=[],k=new Set,I=new Set;Uw(d,p,v,E,y,A,k,I);var C=e.P?"persistent-license":"temporary";for(c={keySystem:c,encryptionScheme:p[0],licenseServerUri:v[0],distinctiveIdentifierRequired:d[0].distinctiveIdentifierRequired,persistentStateRequired:d[0].persistentStateRequired,sessionType:d[0].sessionType||C,audioRobustness:d[0].audioRobustness||"",videoRobustness:d[0].videoRobustness||"",serverCertificate:E[0],serverCertificateUri:y[0],initData:A,keyIds:k,mediaTypes:d[0].mediaTypes},I.size>0&&(c.keySystemUris=I),d=T(d),I=d.next();!I.done;I=d.next())I=I.value,I.distinctiveIdentifierRequired&&(c.distinctiveIdentifierRequired=I.distinctiveIdentifierRequired),I.persistentStateRequired&&(c.persistentStateRequired=I.persistentStateRequired);if(e.g=c,!e.g.licenseServerUri)throw new _(2,6,6012,e.g.keySystem);return w(l,i.createMediaKeys(),4);case 4:if(o=l.h,nt(e.j),e.C=o,!(e.h.minHdcpVersion!=""&&"getStatusForPolicy"in e.C)){l.B(5);break}return ue(l,6),w(l,e.C.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),8);case 8:if(s=l.h,s!="usable")throw new _(2,6,6018);nt(e.j),Ae(l,5,2);break;case 6:throw u=ae(l,2),u instanceof _?u:new _(2,6,6019,u.message);case 5:return e.R=!0,e.G.va(e.h.updateExpirationTime),w(l,kw(e),9);case 9:nt(e.j),Ae(l,0);break;case 2:throw a=ae(l),nt(e.j,a),e.g=null,a instanceof _?a:new _(2,6,6002,a.message)}})}function Rw(e,t,n){for(var i=T(t),r=i.next();!r.done;r=i.next()){r=T(G1(r.value));for(var o=r.next();!o.done;o=r.next())o=o.value,n.has(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o)}if(n.size==1&&n.has(""))throw new _(2,6,6e3);i=e.h.preferredKeySystems,i.length||(r=Ts(e.h.servers),r.size==1&&(i=Array.from(r.keys()))),r=T(i);var s=r.next();for(o={};!s.done;o={Dj:void 0},s=r.next()){o.Dj=s.value,s=T(t);for(var u=s.next();!u.done;u=s.next())if(u=u.value.decodingInfos.find((function(d){return function(p){return p.supported&&p.keySystemAccess!=null&&p.keySystemAccess.keySystem==d.Dj}})(o)))return u.keySystemAccess}for(r=T([!0,!1]),o=r.next();!o.done;o=r.next())for(o=o.value,s=T(t),u=s.next();!u.done;u=s.next()){u=T(u.value.decodingInfos);for(var a=u.next();!a.done;a=u.next())if(a=a.value,a.supported&&a.keySystemAccess){var l=a.keySystemAccess.keySystem;if(!i.includes(l)){var c=n.get(l);for(!c&&e.h.keySystemsMapping[l]&&(c=n.get(e.h.keySystemsMapping[l])),l=T(c),c=l.next();!c.done;c=l.next())if(!!c.value.licenseServerUri==o)return a.keySystemAccess}}}return null}function wf(e){Bu(e)&&e.m.resolve()}function F1(e,t){new le(function(){t.loaded=!0,wf(e)}).Y(Fw)}function q1(e,t,n){var i,r,o,s,u,a,l;return N(function(c){switch(c.g){case 1:try{i=e.C.createSession("persistent-license")}catch(d){return r=new _(2,6,6005,d.message),e.A(r),c.return(Promise.reject(r))}return e.u.o(i,"message",function(d){If(e)?e.M.push(d):kf(e,d)}),e.u.o(i,"keystatuseschange",function(d){return V1(e,d)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Rh:1/0,Qb:null,type:"persistent-license"},e.i.set(i,o),ue(c,2),w(c,i.load(t),4);case 4:return s=c.h,nt(e.j),s||(e.i.delete(i),u=e.h.persistentSessionOnlinePlayback?1:2,e.A(new _(u,6,6013)),o.loaded=!0),F1(e,o),wf(e),c.return(i);case 2:a=ae(c),nt(e.j,a),e.i.delete(i),l=e.h.persistentSessionOnlinePlayback?1:2,e.A(new _(l,6,6005,a.message)),o.loaded=!0,wf(e);case 3:return c.return(Promise.resolve())}})}function Lw(e,t,n,i){try{var r=e.C.createSession(i)}catch(o){e.A(new _(2,6,6005,o.message));return}e.u.o(r,"message",function(o){If(e)?e.M.push(o):kf(e,o)}),e.u.o(r,"keystatuseschange",function(o){return V1(e,o)}),e.i.set(r,{initData:n,initDataType:t,loaded:!1,Rh:1/0,Qb:null,type:i}),e.h.logLicenseExchange&&rr(n),r.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(r);var s=o.errorCode;if(s&&s.systemCode){var u=s.systemCode;u<0&&(u+=4294967296),u="0x"+u.toString(16)}e.A(new _(2,6,6006,o.message,o,u))}})}function If(e){return e.l?e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.ha:!e.X&&e.h.delayLicenseRequestUntilPlayed}function Pw(e){return N(function(t){return t.g==1?!e.K||If(e)?t.B(0):w(t,e.m,3):w(t,Promise.all(e.V.map(function(n){return n.promise})),0)})}function kf(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k;N(function(I){switch(I.g){case 1:if(n=t.target,e.h.logLicenseExchange&&rr(t.message),i=e.i.get(n),r=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(r=o.individualizationServer),s=Lt([r],e.h.retryParameters),s.body=t.message,s.method="POST",s.licenseRequestType=t.messageType,s.sessionId=n.sessionId,s.drmInfo=e.g,i&&(s.initData=i.initData,s.initDataType=i.initDataType),o&&o.headers)for(u in o.headers)s.headers[u]=o.headers[u];if(Kh(e.g.keySystem)){var C=s,L=e.g;try{var O=Bi(C.body);if(O){var M=JSON.parse(O);M.type||(M.type=L.sessionType,C.body=vi(JSON.stringify(M)))}}catch{}}if(pl(e.g.keySystem))if(C=_r(s.body,!0,!0),C.includes("PlayReadyKeyMessage")){for(C=xo(C,"PlayReadyKeyMessage"),L=Pi(C,"HttpHeader"),L=T(L),O=L.next();!O.done;O=L.next())M=O.value,O=Pi(M,"name")[0],M=Pi(M,"value")[0],s.headers[kt(O)]=kt(M);C=Pi(C,"Challenge")[0],s.body=ni(kt(C))}else s.headers["Content-Type"]="text/xml; charset=utf-8";return a=Date.now(),ue(I,2),c=e.F.Hc.request(2,s,{isPreload:e.T()}),e.V.push(c),w(I,c.promise,4);case 4:l=I.h,ii(e.V,c),Ae(I,3);break;case 2:return d=ae(I),e.j.g||(p={sessionId:n.sessionId,sessionType:i.type,initData:i.initData,initDataType:i.initDataType},v=new _(2,6,6007,d,p),e.i.size==1?(e.A(v),i&&i.Qb&&i.Qb.reject(v)):(i&&i.Qb&&i.Qb.reject(v),e.i.delete(n),Bu(e)&&(e.m.resolve(),e.L.Y(.1)))),I.return();case 3:return e.j.g?I.return():(e.J+=(Date.now()-a)/1e3,e.h.logLicenseExchange&&rr(l.data),ue(I,5),w(I,n.update(l.data),7));case 7:Ae(I,6);break;case 5:return E=(y=ae(I))&&y.message||String(y),A=new _(2,6,6008,E),e.A(A),i&&i.Qb&&i.Qb.reject(A),I.return();case 6:if(e.j.g)return I.return();k=new J("drmsessionupdate"),e.F.onEvent(k),i&&(i.Qb&&i.Qb.resolve(),F1(e,i)),Z(I)}})}function V1(e,t){t=t.target;var n=e.i.get(t),i=!1;t.keyStatuses.forEach(function(o,s){if(typeof s=="string"){var u=s;s=o,o=u}if(u=ke(),pl(e.g.keySystem)&&s.byteLength==16&&u.gg()){u=kn(s);var a=u.getUint32(0,!0),l=u.getUint16(4,!0),c=u.getUint16(6,!0);u.setUint32(0,a,!1),u.setUint16(4,l,!1),u.setUint16(6,c,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(i=!0),s=Ur(s).slice(0,32),e.Z.set(s,o)});var r=t.expiration-Date.now();(r<0||i&&r<1e3)&&n&&!n.Qb&&(e.i.delete(t),H1(t)),Bu(e)&&(e.m.resolve(),e.L.Y(qw))}function bw(e){var t=e.Z,n=e.aa;n.clear(),t.forEach(function(i,r){return n.set(r,i)}),t=Array.from(n.values()),t.length&&t.every(function(i){return i=="expired"})&&e.A(new _(2,6,6014)),e.F.Xf(Af(n))}function Dw(){var e,t,n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B;return N(function(G){if(G.g==1){if(e="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.microsoft.playready.recommendation.3000 com.microsoft.playready.recommendation.3000.clearlead com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(S.MediaKeys&&S.navigator&&S.navigator.requestMediaKeySystemAccess&&S.MediaKeySystemAccess&&S.MediaKeySystemAccess.prototype.getConfiguration)){for(t={},n=T(e),i=n.next();!i.done;i=n.next())r=i.value,t[r]=null;return G.return(t)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),s=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],u=["150","2000","3000"],a={"com.widevine.alpha":s,"com.widevine.alpha.experiment":s,"com.microsoft.playready.recommendation":u},l=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],c=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],d={videoCapabilities:l,audioCapabilities:c,initDataTypes:["cenc","sinf","skd","keyids"]},p=[null,"cenc","cbcs"],v=new Map,y=ke(),E=function(H,F,q){var z,Y,we,ne,ze,Ie,$e,Ne,Pe,je,He,Be,be;return N(function(Oe){switch(Oe.g){case 1:return ue(Oe,2),w(Oe,F.createMediaKeys(),5);case 5:z=Oe.h;case 4:Ae(Oe,3);break;case 2:return ae(Oe),Oe.return();case 3:if(we=(Y=F.getConfiguration().sessionTypes)?Y.includes("persistent-license"):!1,y.vj()&&(we=!1),ne=F.getConfiguration().videoCapabilities,ze=F.getConfiguration().audioCapabilities,Ie={persistentState:we,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},v.get(H)?Ie=v.get(H):v.set(H,Ie),($e=ne[0].encryptionScheme)&&!Ie.encryptionSchemes.includes($e)&&Ie.encryptionSchemes.push($e),(Ne=ne[0].robustness)&&!Ie.videoRobustnessLevels.includes(Ne)&&Ie.videoRobustnessLevels.push(Ne),(Pe=ze[0].robustness)&&!Ie.audioRobustnessLevels.includes(Pe)&&Ie.audioRobustnessLevels.push(Pe),!(q&&"getStatusForPolicy"in z)){Oe.B(0);break}je=T(o),He=je.next();case 7:if(He.done){Oe.B(0);break}if(Be=He.value,Ie.minHdcpVersions.includes(Be)){Oe.B(8);break}return w(Oe,z.getStatusForPolicy({minHdcpVersion:Be}),10);case 10:if(be=Oe.h,be=="usable")Ie.minHdcpVersions.includes(Be)||Ie.minHdcpVersions.push(Be);else{Oe.B(0);break}case 8:He=je.next(),Oe.B(7)}})},A=function(H,F,q,z,Y){Y=Y===void 0?!1:Y;var we,ne,ze,Ie,$e,Ne,Pe,je,He,Be,be;return N(function(Oe){switch(Oe.g){case 1:for(ue(Oe,2),we=Ti(d),ne=T(we.videoCapabilities),ze=ne.next();!ze.done;ze=ne.next())Ie=ze.value,Ie.encryptionScheme=F,Ie.robustness=q;for($e=T(we.audioCapabilities),Ne=$e.next();!Ne.done;Ne=$e.next())Pe=Ne.value,Pe.encryptionScheme=F,Pe.robustness=z;return je=Ti(we),je.persistentState="required",je.sessionTypes=["persistent-license"],He=[je,we],be=ke(),be.Oa()=="MOBILE"?w(Oe,Nl(5,navigator.requestMediaKeySystemAccess(H,He)),7):w(Oe,navigator.requestMediaKeySystemAccess(H,He),6);case 6:Be=Oe.h,Oe.B(5);break;case 7:Be=Oe.h;case 5:return w(Oe,E(H,Be,Y),8);case 8:Ae(Oe,0);break;case 2:ae(Oe),Z(Oe)}})},k=function(H){return!(ke().Ka()==="WEBKIT"&&Kh(H))},I=[],C=T(e),L=C.next();!L.done;L=C.next())if(O=L.value,v.set(O,null),k(O)){for(M=!0,D=T(p),P=D.next();!P.done;P=D.next())j=P.value,I.push(A(O,j,"","",M)),M=!1;for(b=T(a[O]||[]),U=b.next();!U.done;U=b.next())B=U.value,I.push(A(O,null,B,"")),I.push(A(O,null,"",B))}return w(G,Promise.all(I),2)}return G.return(Af(v))})}function H1(e){return N(function(t){if(t.g==1)return ue(t,2),w(t,Nl(Bw,Promise.all([e.close().catch(function(){}),e.closed])),4);if(t.g!=2)return Ae(t,0);ae(t),Z(t)})}function ju(e){var t;return N(function(n){return t=Array.from(e.i.entries()),e.i.clear(),w(n,Promise.all(t.map(function(i){i=T(i);var r=i.next().value,o=i.next().value;return N(function(s){if(s.g==1)return ue(s,2),e.X||e.D.has(r.sessionId)||o.type!=="persistent-license"||e.h.persistentSessionOnlinePlayback?w(s,H1(r),5):w(s,r.remove(),5);if(s.g!=2)return Ae(s,0);ae(s),Z(s)})})),0)})}function G1(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Nw(e){e.i.forEach(function(t,n){var i=t.Rh,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.F.onExpirationUpdated(n.sessionId,r),t.Rh=r)})}function Bu(e){return e=e.i.values(),Dx(e,function(t){return t.loaded})}function Ow(e){for(var t=T(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.Z.get(n.value)!=="usable")return!1;return!0}function _w(e,t){var n=[];for(t.forEach(function(i,r){n.push({keySystem:r,licenseServerUri:i,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=T(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function Uw(e,t,n,i,r,o,s,u){var a=[];e=T(e);for(var l=e.next(),c={};!l.done;c={Ua:void 0},l=e.next()){if(c.Ua=l.value,t.includes(c.Ua.encryptionScheme)||t.push(c.Ua.encryptionScheme),c.Ua.keySystem=="org.w3.clearkey"&&c.Ua.licenseServerUri.startsWith("data:application/json;base64,")?a.includes(c.Ua.licenseServerUri)||a.push(c.Ua.licenseServerUri):n.includes(c.Ua.licenseServerUri)||n.push(c.Ua.licenseServerUri),r.includes(c.Ua.serverCertificateUri)||r.push(c.Ua.serverCertificateUri),c.Ua.serverCertificate&&(i.some((function(v){return function(y){return ir(y,v.Ua.serverCertificate)}})(c))||i.push(c.Ua.serverCertificate)),c.Ua.initData){l=T(c.Ua.initData);for(var d=l.next(),p={};!d.done;p={Hh:void 0},d=l.next())p.Hh=d.value,o.some((function(v){return function(y){var E=v.Hh;return y.keyId&&y.keyId==E.keyId?!0:y.initDataType==E.initDataType&&ir(y.initData,E.initData)}})(p))||o.push(p.Hh)}if(c.Ua.keyIds)for(l=T(c.Ua.keyIds),d=l.next();!d.done;d=l.next())s.add(d.value);if(c.Ua.keySystemUris&&u)for(c=T(c.Ua.keySystemUris),l=c.next();!l.done;l=c.next())u.add(l.value)}if(a.length==1)n.push(a[0]);else if(a.length>0){for(t=[],a=T(a),i=a.next();!i.done;i=a.next())i=S.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),t.push.apply(t,X(i.keys));a=JSON.stringify({keys:t}),n.push("data:application/json;base64,"+S.btoa(a))}}function jw(e,t,n,i){var r=e.keySystem;r&&(r!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&t.get(r)&&(t=t.get(r),e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(r))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),i[r]&&(e.keySystem=i[r]),S.cast&&S.cast.__platform__&&r=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}function z1(e,t){if(e=Ts(e),e.size!=0){e=Rv(e),t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}var Bw=1,Fw=5,qw=.5;function Vw(){this.g=Po,this.j=new Map().set(Po,2).set(Lo,1),this.i=0,this.h=-1}function Cf(e,t){var n=e.g!==t;return e.g=t,n&&t===Po&&(e.i=Date.now()),n}var Lo=0,Po=1;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Mf(e,t,n){this.h=e,this.i=t,this.g=n}function K1(e,t){return N(function(n){if(n.g==1)return w(n,sw(e.g,t,e.h.drm.preferredKeySystems,e.h.drm.keySystemsMapping),2);if(e.h.streaming.dontChooseCodecs||d1(t,e.h.preferredVideoCodecs,e.h.preferredAudioCodecs,e.h.preferredDecodingAttributes,e.h.preferredTextFormats),!t.variants.some(_u))throw new _(2,4,4032);return n.return(X1(e,t))})}function W1(e,t){var n=e.h.restrictions;e=e.i;var i=!1;t=T(t.variants);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=r.allowedByApplication;r.allowedByApplication=Ol(r,n,e),o!=r.allowedByApplication&&(i=!0)}return i}function X1(e,t){var n=W1(e,t);if(t){var i=e.g?e.g.g:null;if(i&&e.g.C){for(var r=new Set,o=T(t.variants),s=o.next();!s.done;s=o.next())s=s.value,s.audio&&r.add(s.audio),s.video&&r.add(s.video);for(r=T(r),o=r.next();!o.done;o=r.next())Y1(e,i.keySystem,o.value)}Z1(e,t)}return n}function Y1(e,t,n){n=T(n.drmInfos);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.keySystem==t){for(var r=T(i.initData||[]),o=r.next();!o.done;o=r.next())o=o.value,Uu(e.g,o.initDataType,o.initData);r=e.g,r.g&&r.g.mediaTypes!==i.mediaTypes&&(r.g.mediaTypes=i.mediaTypes)}}function Z1(e,t){function n(l){if(l&&!u.has(l)&&(u.add(l),l.keyIds.size)){l=T(l.keyIds);for(var c=l.next();!c.done;c=l.next()){c=c.value;var d=i[r?"00":c];d?J1.includes(d)&&s.add(d):o.add(c)}}}var i=e.g?e.g.yf():{};e=Object.keys(i);var r=e.length&&e[0]=="00";e=!1;var o=new Set,s=new Set,u=new WeakSet;t=T(t.variants);for(var a=t.next();!a.done;a=t.next()){if(a=a.value,!a.allowedByApplication)e=!0;else if(a.allowedByKeySystem)return;n(a.audio),n(a.video)}throw e={hasAppRestrictions:e,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)},new _(2,4,4012,e)}var J1=["output-restricted","internal-error"];K("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});function hn(e){if(Rf.has(e))return Rf.get(e);var t=S.ManagedMediaSource||S.MediaSource;return t?(t=t.isTypeSupported(e),Rf.set(e,t),t):!1}function $1(){var e=S.ManagedMediaSource||S.MediaSource;return e&&e.prototype?!!e.prototype.setLiveSeekableRange&&!!e.prototype.clearLiveSeekableRange:!1}var Rf=new Map;function Wl(e,t){var n=null,i=null,r=null,o=null,s=e.$();return t&1&&(r=e.Wd()),t&2&&(o=e.$()),t&8&&(n=e.$()),t&16&&(i=e.$()),{trackId:s,re:n,se:i,wk:r,Kj:o}}function Xl(e,t){return t==1?(t=e.$(),e=e.$(),{baseMediaDecodeTime:t*4294967296+e}):{baseMediaDecodeTime:e.$()}}function Yl(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.$(),e.skip(4),e=e.Ia(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function Zl(e,t,n){var i=e.$(),r=[],o=null;n&1&&(o=e.Wh()),n&4&&e.skip(4);for(var s=0;s<i;s++){var u={di:null,sampleSize:null,hg:null};n&256&&(u.di=e.$()),n&512&&(u.sampleSize=e.$()),n&1024&&e.skip(4),n&2048&&(u.hg=t==0?e.$():e.Wh()),r.push(u)}return{Wn:i,ci:r,Yg:o}}function Q1(e){e.skip(6),e.skip(2),e.skip(8);var t=e.Ia();return e.skip(2),e.skip(2),e.skip(2),e=e.Ia()+e.Ia()/65536,{channelCount:t,sampleRate:e}}function Lf(e){return e=e.$(),{codec:Gl(e)}}function Hw(e){var t=null,n=null,i=e.bc(4,!1),r=String.fromCharCode(i[0]);if(r+=String.fromCharCode(i[1]),r+=String.fromCharCode(i[2]),r+=String.fromCharCode(i[3]),r==="nclx"){switch(e.Ia()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(i=e.Ia(),e.Ia(),i){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Se:n}}function Fu(e,t){return t=t===void 0?!1:t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function jn(e){return(e<10?"0":"")+e}function Ss(e){this.g=e=e===void 0?[]:e}function Es(e){if(e.g.length===0)throw Error("StreamInfos must have elements");for(var t=[],n=T(e.g),i=n.next();!i.done;i=n.next()){var r=t,o=r.push,s=i.value;i=Ue;var u=s.id+1,a=s.stream.width||0,l=s.stream.height||0;s.type=="audio"&&(l=a=0);var c=s.duration*s.timescale,d=Math.floor(c/(Kr+1));switch(c=Math.floor(c%(Kr+1)),u=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(X(ht(u,4)),[0,0,0,0],X(ht(d,4)),X(ht(c,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],X(ht(a,2)),[0,0],X(ht(l,2)),[0,0])),u=Ue("tkhd",u),a=Ue,d=s.duration*s.timescale,l=Math.floor(d/(Kr+1)),d=Math.floor(d%(Kr+1)),c=s.stream.language,c=c.charCodeAt(0)-96<<10|c.charCodeAt(1)-96<<5|c.charCodeAt(2)-96,l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(X(ht(s.timescale,4)),X(ht(l,4)),X(ht(d,4)),X(ht(c,2)),[0,0])),l=Ue("mdhd",l),d=s,c=new Uint8Array([]),d.type){case"video":c=zw.value();break;case"audio":c=Kw.value()}d=Ue("hdlr",c);e:{switch(s.type){case"video":s=Ue("minf",Ue("vmhd",Jw.value()),sy.value(),ey(s));break e;case"audio":s=Ue("minf",Ue("smhd",$w.value()),sy.value(),ey(s));break e}s=new Uint8Array([])}s=a("mdia",l,d,s),i=i("trak",u,s),o.call(r,i)}for(t=Mt.apply(nn,X(t)),n=e.g[0],r=Ue,i=n.duration*n.timescale,o=Math.floor(i/(Kr+1)),i=Math.floor(i%(Kr+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(X(ht(n.timescale,4)),X(ht(o,4)),X(ht(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),o=Ue("mvhd",o),i=[],e=T(e.g),a=e.next();!a.done;a=e.next())s=i,u=s.push,a=new Uint8Array([0,0,0,0].concat(X(ht(a.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Ue("trex",a),u.call(s,a);return e=Mt.apply(nn,X(i)),e=Ue("mvex",e),e=r("moov",o,t,e,ny(n.stream)),t=e5.value(),n=new Uint8Array(t.byteLength+e.byteLength),n.set(t),n.set(e,t.byteLength),n}function ey(e){var t=Ue,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=ke().Le()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var i=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,i=e.stream.height||0,e.Ya.byteLength>0)var r=Ue("avcC",e.Ya);else{r=Ue;for(var o=7,s=[],u=[],a=0,l=0,c=0,d=0;d<e.Hb.length;d++){var p=iy(e.Hb[d]);switch(p[0]&31){case 7:s.push(p),o+=p.length+2;break;case 8:u.push(p),o+=p.length+2}}for(s.length>0&&(a=s[0][1],c=s[0][2],l=s[0][3]),o=new Uint8Array(o),d=0,o[d++]=1,o[d++]=a,o[d++]=c,o[d++]=l,o[d++]=255,o[d++]=224|s.length,a=0;a<s.length;a++)o[d++]=(s[a].length&65280)>>8,o[d++]=s[a].length&255,o.set(s[a],d),d+=s[a].length;for(o[d++]=u.length,s=0;s<u.length;s++)o[d++]=(u[s].length&65280)>>8,o[d++]=u[s].length&255,o.set(u[s],d),d+=u[s].length;r=r("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(X(ht(n,2)),X(ht(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="avc1",u=ty(e),s=new Uint8Array([]),Do(e.stream)&&(s=bo(e.stream,e.codecs),i="encv"),i=Ue(i,n,r,u,s)}else e.codecs.includes("hvc1")&&(i=e.stream.width||0,r=e.stream.height||0,n=new Uint8Array([]),e.Ya.byteLength>0&&(n=Ue("hvcC",e.Ya)),i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(X(ht(i,2)),X(ht(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="hvc1",u=ty(e),s=new Uint8Array([]),Do(e.stream)&&(s=bo(e.stream,e.codecs),r="encv"),i=Ue(r,i,n,u,s));break;case"audio":n=="mp3"?e=Ue(".mp3",qu(e)):n=="ac-3"?(n=Ue("dac3",e.Ma),i="ac-3",r=new Uint8Array([]),Do(e.stream)&&(r=bo(e.stream,e.codecs),i="enca"),e=Ue(i,qu(e),n,r)):n=="ec-3"?(n=Ue("dec3",e.Ma),i="ec-3",r=new Uint8Array([]),Do(e.stream)&&(r=bo(e.stream,e.codecs),i="enca"),e=Ue(i,qu(e),n,r)):n=="opus"?(n=Ue("dOps",e.Ma),i="Opus",r=new Uint8Array([]),Do(e.stream)&&(r=bo(e.stream,e.codecs),i="enca"),e=Ue(i,qu(e),n,r)):(e.Ma.byteLength>0?n=Ue("esds",e.Ma):(n=Ue,i=e.id+1,r=e.stream.channelsCount||2,s=e.stream.audioSamplingRate||44100,a=os("audio",e.codecs.split(",")),l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},u=l[s],(a==="mp4a.40.5"||a==="mp4a.40.29")&&(u=l[s*2]),s=parseInt(a.split(".").pop(),10),i=new Uint8Array([0,0,0,0,3,25].concat(X(ht(i,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,s<<3|u>>>1,u<<7|r<<3,6,1,2])),n=n("esds",i)),i="mp4a",r=new Uint8Array([]),Do(e.stream)&&(r=bo(e.stream,e.codecs),i="enca"),e=Ue(i,qu(e),n,r)),i=e}return e=Ue("stsd",Qw.value(),i),t("stbl",e,Ue("stts",Ww.value()),Ue("stsc",Xw.value()),Ue("stsz",Zw.value()),Ue("stco",Yw.value()))}function ty(e){if(!e.fb&&!e.gb)return new Uint8Array([]);var t=e.gb;return e=new Uint8Array([].concat(X(ht(e.fb,4)),X(ht(t,4)))),Ue("pasp",e)}function qu(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(X(ht(e.stream.audioSamplingRate||44100,2)),[0,0]))}function ny(e){var t=[];if(!Do(e))return new Uint8Array([]);e=T(e.drmInfos);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.initData){n=T(n.initData);for(var i=n.next();!i.done;i=n.next())t.push(i.value.initData)}return Mt.apply(nn,X(t))}function bo(e,t){var n=Ue;t=new Uint8Array([].concat(X(ht(ry(t.split(".")[0]),4)))),t=Ue("frma",t);var i="cenc",r=e.drmInfos[0];r&&r.encryptionScheme&&(i=r.encryptionScheme),i=new Uint8Array([0,0,0,0].concat(X(ht(ry(i),4)),[0,1,0,0])),i=Ue("schm",i),r=Ue;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e=T(e.drmInfos);for(var s=e.next();!s.done;s=e.next())if((s=s.value)&&s.keyIds&&s.keyIds.size){s=T(s.keyIds);for(var u=s.next();!u.done;u=s.next())o=iy(u.value)}return e=new Uint8Array([0,0,0,0,0,0,1,8]),o=Ue("tenc",e,o),n("sinf",t,i,r("schi",o))}function Vu(e){var t=[];e=T(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=t.push,r=i.apply,o=Ue,s=new Uint8Array([0,0,0,0].concat(X(ht(n.data?n.data.sequenceNumber:0,4))));s=Ue("mfhd",s);var u,a=n.data?n.data.Eb:[],l=new Uint8Array(4+a.length);for(u=0;u<a.length;u++){var c=a[u].flags;l[u+4]=c.rb<<4|c.ub<<2|c.sb}a=Ue("sdtp",l);var d=a.length+32+20+8+16+8+8;l=Ue,u=new Uint8Array([0,0,0,58].concat(X(ht(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),u=Ue("tfhd",u),c=n.data?n.data.baseMediaDecodeTime:0;var p=Math.floor(c%(Kr+1));c=new Uint8Array([1,0,0,0].concat(X(ht(Math.floor(c/(Kr+1)),4)),X(ht(p,4)))),c=Ue("tfdt",c);var v=d;d=n.data?n.data.Eb:[],p=d.length;var y=12+16*p,E=new Uint8Array(y);for(v+=8+y,E.set([n.type==="video"?1:0,0,15,1].concat(X(ht(p,4)),X(ht(v,4))),0),v=0;v<p;v++){var A=d[v];y=ht(A.duration,4);var k=ht(A.size,4),I=A.flags;A=ht(A.Ab,4),E.set([].concat(X(y),X(k),[I.Cb<<2|I.rb,I.ub<<6|I.sb<<4|I.Db,I.qb&61440,I.qb&15],X(A)),12+16*v)}d=Ue("trun",E),a=l("traf",u,c,d,a),o=o("moof",s,a),r.call(i,t,[o,Gw(n)])}return Mt.apply(nn,X(t))}function Gw(e){return e=(e.data?e.data.Eb:[]).map(function(t){return t.data}),e=Mt.apply(nn,X(e)),Ue("mdat",e)}function ht(e,t){var n=[];for(--t;t>=0;t--)n.push(e>>8*t&255);return n}function iy(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[n*2]+e[n*2+1]),16);return t}function ry(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<(e.length-n-1)*8;return t}function Ue(e){var t=qt.apply(1,arguments),n=oy.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],oy.set(e,n));for(var i=8,r=t.length-1;r>=0;r--)i+=t[r].byteLength;for(r=new Uint8Array(i),r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=i&255,r.set(n,4),n=0,i=8;n<t.length;n++)r.set(t[n],i),i+=t[n].byteLength;return r}function Do(e){return e.encrypted&&e.drmInfos.length>0}var Kr=4294967295,oy=new Map,zw=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0])}),Kw=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])}),Ww=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),Xw=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),Yw=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),Zw=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0])}),Jw=new ct(function(){return new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}),$w=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),Qw=new ct(function(){return new Uint8Array([0,0,0,0,0,0,0,1])}),e5=new ct(function(){var e=new Uint8Array([105,115,111,109]),t=new Uint8Array([97,118,99,49]),n=new Uint8Array([0,0,0,1]);return Ue("ftyp",e,n,e,t)}),sy=new ct(function(){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);return e=Ue("dref",e),Ue("dinf",e)});function t5(e){e=Te(e);var t=null;return new Je().box("moov",Me).box("trak",Me).box("mdia",Me).box("minf",Me).box("stbl",Me).W("stsd",gr).box("enca",function(n){return t=n.reader.h,Hl(n)}).box("sinf",Me).box("frma",function(n){n.parser.stop(),Lf(n.reader).codec==="ec-3"&&t&&t.getUint16(16)!==2&&t.setUint16(16,2)}).parse(e),e}function n5(e,t,n){function i(v){d.push({box:v,xj:1701733217})}function r(v){d.push({box:v,xj:1701733238})}function o(v){a=!0,v.parser.stop()}function s(v){c.push(v),Me(v)}var u=t=Te(t),a=!1,l,c=[],d=[];if(new Je().box("moov",s).box("trak",s).box("mdia",s).box("minf",s).box("stbl",s).W("stsd",function(v){l=v,c.push(v),gr(v)}).W("encv",o).W("enca",o).W("dvav",r).W("dva1",r).W("dvh1",r).W("dvhe",r).W("dvc1",r).W("dvi1",r).W("hev1",r).W("hvc1",r).W("avc1",r).W("avc3",r).W("ac-3",i).W("ec-3",i).W("ac-4",i).W("Opus",i).W("fLaC",i).W("mp4a",i).parse(t),a)return t;if(d.length==0||!l)throw Ur(t),new _(2,3,3019,n);d.reverse(),n=T(d);for(var p=n.next();!p.done;p=n.next())p=p.value,u=o5(e,u,l,p.box,c,p.xj);return u=s5(e,u),ke().$h()?(e=new Uint8Array(t.byteLength+u.byteLength),e.set(u),e.set(t,u.byteLength),e):u}function i5(e){e=Te(e);var t=[];new Je().box("mdat",function(s){t.push(s)}).parse(e);for(var n=[],i=0;i<t.length;i++){var r=t[i-1],o=t[i];n.push(r5(e.subarray(r?r.start+r.size:0,o.start+o.size)))}return Mt.apply(nn,X(n))}function r5(e){function t(d){s.push(d),Me(d)}var n,i,r,o,s=[];if(new Je().box("moof",t).box("traf",t).W("tfhd",function(d){n=d,r=Wl(d.reader,d.flags)}).W("trun",function(d){i=d,o=Zl(d.reader,d.version,d.flags)}).parse(e),r&&r.Kj!==2){var u=n.start+zr(n)+4+(r.wk!==null?8:0),a=kn(e);if(r.Kj!==null)a.setUint32(u,2);else{Hu(e,n.start,n.size+4);var l=a.getUint32(n.start+8);a.setUint32(n.start+8,l|2),o&&o.Yg!==null&&a.setInt32(i.start+zr(i)+4,o.Yg+4),l=e.subarray(0,u),a=e.subarray(u),e=new Uint8Array(e.byteLength+4),e.set(l),l=[];for(var c=3;c>=0;c--)l.push(2>>8*c&255);for(e.set(new Uint8Array(l),u),e.set(a,u+4),u=T(s),a=u.next();!a.done;a=u.next())a=a.value,Hu(e,a.start,a.size+4)}}return e}function o5(e,t,n,i,r,o){var s=bo(e,i.name),u=t.subarray(i.start,i.start+i.size);for(e=new Uint8Array(i.size+s.byteLength),e.set(u,0),kn(e).setUint32(4,o),e.set(s,i.size),Hu(e,0,e.byteLength),o=new Uint8Array(t.byteLength+e.byteLength),i=ke().Gf()?i.start:i.start+i.size,s=t.subarray(i),o.set(t.subarray(0,i)),o.set(e,i),o.set(s,i+e.byteLength),t=T(r),r=t.next();!r.done;r=t.next())r=r.value,Hu(o,r.start,r.size+e.byteLength);return e=kn(o,n.start),n=zr(n),t=e.getUint32(n),e.setUint32(n,t+1),o}function s5(e,t){if(e=ny(e),e.byteLength===0)return t;var n=0,i=0;new Je().box("moov",function(u){n=u.start,i=u.size,u.parser.stop()}).parse(t);var r=n+i;Hu(t,n,i+e.byteLength);var o=new Uint8Array(t.byteLength+e.byteLength),s=t.subarray(r);return o.set(t.subarray(0,r)),o.set(e,r),o.set(s,r+e.byteLength),o}function Hu(e,t,n){e=kn(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}function u5(e){function t(r){i.push({start:r.start,size:r.size}),Me(r)}var n=Te(e),i=[];return new Je().box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",function(r){i.push({start:r.start,size:r.size});for(var o=kn(n,r.start),s=0;s<r.size-3;s++){var u=o.getUint32(s);u==1633889587?o.setUint32(s,1700998451):u==1684103987&&o.setUint32(s,1684366131)}}).parse(n),n}function Rn(e,t,n,i,r,o,s,u){this.S=e,this.startByte=t,this.endByte=n,this.Pd=i===void 0?null:i,this.timescale=r===void 0?null:r,this.h=o===void 0?null:o,this.aesKey=s===void 0?null:s,this.g=this.mimeType=this.codecs=null,this.encrypted=u===void 0?!1:u}Rn.prototype.Vc=function(){return this.startByte},Rn.prototype.Tc=function(){return this.endByte},Rn.prototype.Ne=function(e){this.h=e},Rn.prototype.kc=function(){return this.h};function Gu(e,t){return e===t?!0:e&&t?e.Vc()==t.Vc()&&e.Tc()==t.Tc()&&sr(e.S().sort(),t.S().sort())&&ir(e.kc(),t.kc()):e==t}K("shaka.media.InitSegmentReference",Rn),Rn.prototype.getEndByte=Rn.prototype.Tc,Rn.prototype.getStartByte=Rn.prototype.Vc;function he(e,t,n,i,r,o,s,u,a,l,c,d,p,v,y,E){for(l=l===void 0?[]:l,v=v===void 0?mr:v,this.startTime=e,this.j=this.endTime=t,this.D=n,this.startByte=i,this.endByte=r,this.ka=o,this.timestampOffset=s,this.appendWindowStart=u,this.appendWindowEnd=a,this.g=l,this.tilesLayout=c===void 0?"":c,this.C=d===void 0?null:d,this.h=p===void 0?null:p,this.status=v,this.preload=!1,this.l=!0,this.u=!1,this.aesKey=y===void 0?null:y,this.thumbnailSprite=null,this.i=-1,this.m=E===void 0?!1:E,this.Ce=this.od=!1,e=T(this.g),t=e.next();!t.done;t=e.next())t.value.tj();this.m&&this.g.length&&this.g[this.g.length-1].sj(),this.A=this.bandwidth=this.mimeType=this.codecs=null,this.F=!1}h=he.prototype,h.S=function(){return this.D()},h.getStartTime=function(){return this.startTime},h.Sk=function(){return this.endTime},h.Vc=function(){return this.startByte},h.Tc=function(){return this.endByte};function Pf(e){if(e.endByte)return e.endByte+1-e.startByte;if(e.bandwidth){var t=e.bandwidth*(e.endTime-e.startTime);if(!isNaN(t)&&t>0)return t}if(e.g.length>0&&e.m)for(e=T(e.g),e=e.next();!e.done;e=e.next()){Pf(e.value);break}return null}h.xl=function(){return this.tilesLayout},h.wl=function(){return this.C},h.lc=function(){return this.status},h.Sl=function(){this.status=ay},h.Nh=function(){this.preload=!0},h.isPreload=function(){return this.preload},h.Od=function(){this.l=!1},h.Il=function(){return this.l},h.tj=function(){this.od=!0},h.Kl=function(){return this.od},h.sj=function(){this.Ce=!0},h.Jl=function(){return this.Ce},h.rj=function(){this.u=!0},h.Fl=function(){return this.u},h.og=function(e){this.thumbnailSprite=e},h.vl=function(){return this.thumbnailSprite},h.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=T(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},h.wi=function(e){this.h==null?ji("Sync attempted without sync time!"):(e=this.h-e-this.startTime,Math.abs(e)>=.001&&this.offset(e))},h.Ne=function(e,t){this.A=e,this.F=t===void 0?!1:t},h.kc=function(e){var t=this.A;return(e===void 0||e)&&this.F&&(this.A=null),t};function uy(e,t){e.ka=t,e=T(e.g);for(var n=e.next();!n.done;n=e.next())uy(n.value,t)}K("shaka.media.SegmentReference",he),he.prototype.getSegmentData=he.prototype.kc,he.prototype.setSegmentData=he.prototype.Ne,he.prototype.syncAgainst=he.prototype.wi,he.prototype.offset=he.prototype.offset,he.prototype.getThumbnailSprite=he.prototype.vl,he.prototype.setThumbnailSprite=he.prototype.og,he.prototype.hasByterangeOptimization=he.prototype.Fl,he.prototype.markAsByterangeOptimization=he.prototype.rj,he.prototype.isLastPartial=he.prototype.Jl,he.prototype.markAsLastPartial=he.prototype.sj,he.prototype.isPartial=he.prototype.Kl,he.prototype.markAsPartial=he.prototype.tj,he.prototype.isIndependent=he.prototype.Il,he.prototype.markAsNonIndependent=he.prototype.Od,he.prototype.isPreload=he.prototype.isPreload,he.prototype.markAsPreload=he.prototype.Nh,he.prototype.markAsUnavailable=he.prototype.Sl,he.prototype.getStatus=he.prototype.lc,he.prototype.getTileDuration=he.prototype.wl,he.prototype.getTilesLayout=he.prototype.xl,he.prototype.getEndByte=he.prototype.Tc,he.prototype.getStartByte=he.prototype.Vc,he.prototype.getEndTime=he.prototype.Sk,he.prototype.getStartTime=he.prototype.getStartTime,he.prototype.getUris=he.prototype.S;var mr=0,ay=1;he.Status={Jm:mr,Pn:ay,nn:2};function zu(e){return e.length==1&&e.end(0)-e.start(0)<1e-4}function ly(e){return!e||zu(e)?null:e.length==1&&e.start(0)<0?0:e.length?e.start(0):null}function Jl(e){return!e||zu(e)?null:e.length?e.end(e.length-1):null}function bf(e,t){return!e||!e.length||zu(e)||t>e.end(e.length-1)?!1:t>=e.start(0)}function cy(e,t){if(!e||!e.length||zu(e))return 0;var n=0;e=T(vr(e));for(var i=e.next();!i.done;i=e.next()){var r=i.value;i=r.start,r=r.end,r>t&&(n+=r-Math.max(i,t))}return n}function a5(e,t,n){return!e||!e.length||zu(e)?null:(e=vr(e).findIndex(function(i,r,o){return i.start>t&&(r==0||o[r-1].end-t<=n)}),e>=0?e:null)}function vr(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Df(){}function ee(e){return document.createElement(e)}function dy(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ft(){var e=document.createElement("button");return e.setAttribute("type","button"),e}function hy(e,t){var n=document.createElement("source");return n.src=e,n.type=t===void 0?"":t,n}function $l(e){for(var t=!1,n=e.getElementsByTagName("source"),i=n.length-1;i>=0;--i)e.removeChild(n[i]),t=!0;return e.src&&(e.removeAttribute("src"),t=!0),t}function l5(e){return e=e.getElementsByClassName("shaka-overflow-quality-mark"),e.length?e[0]:null}function Gi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function No(){return As||(Nf||(Nf=new le(function(){As=null})),(As=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(As=document.createElement("video")),Nf.Y(1),As)}function c5(e,t){var n,i,r,o,s;return N(function(u){if(u.g==1)return"fonts"in document&&"FontFace"in S?w(u,document.fonts.ready,2):u.return();if(!("entries"in document.fonts))return u.return();for(n=function(a){a=a.entries();for(var l=[],c=a.next();c.done===!1;)l.push(c.value),c=a.next();return l},i=T(n(document.fonts)),r=i.next();!r.done;r=i.next())if(o=r.value,o.family===e&&o.display==="swap")return u.return();s=new FontFace(e,"url("+t+")",{display:"swap"}),document.fonts.add(s),Z(u)})}K("shaka.util.Dom",Df),Df.removeAllChildren=Gi,Df.clearSourceFromVideo=$l;var Nf=null,As=null;/*
 @license
 Shaka Player
 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Of(){}function fy(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}function py(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}function _f(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function d5(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(e.size<2||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var i=dt(Te(e.data,1,n)),r=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var s=dt(Te(e.data,3+n,o)),u;return i==="-->"?u=dt(Te(e.data,4+n+o)):u=ti(e.data.subarray(4+n+o)),t.mimeType=i,t.pictureType=r,t.description=s,t.data=u,t}return e.type==="TXXX"?e.size<2||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=dt(Te(e.data,1,i)),e=dt(Te(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?e.size<2||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=dt(Te(e.data,1,i)),e=dt(Te(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?e.size<2||(n=e.data.indexOf(0),n===-1)?null:(n=dt(Te(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=ti(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?e.size<2||e.data[0]!==3?null:(e=dt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=dt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=ti(e.data),t):null}function Oo(e){for(var t=0,n=[];fy(e,t);){var i=_f(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,i=t+i;t+10<i;){var r=e.subarray(t),o=_f(r,4);r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:o,data:r.subarray(10,10+o)},(o=d5(r))&&n.push(o),t+=r.size+10}py(e,t)&&(t+=10)}return n}function xs(e,t){for(var n=t=t===void 0?0:t,i=0;fy(e,t);)e[t+5]>>6&1&&(i+=10),i+=10,i+=_f(e,t+6),py(e,t+10)&&(i+=10),t+=i;return i>0?e.subarray(n,n+i):new Uint8Array([])}K("shaka.util.Id3Utils",Of),Of.getID3Data=xs,Of.getID3Frames=Oo;function gy(e){return new Date(Date.UTC(1900,0,1,0,0,0,0)+e).getTime()}function yr(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,i=0;i<e.byteLength;i++)i>=2&&e[i]==3&&e[i-1]==0&&e[i-2]==0||(t[n]=e[i],n++);this.j=Te(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Uf(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),i=Math.min(4,e.i);i!==0&&(n.set(e.j.subarray(t,t+i)),e.h=new ot(n,0).$(),e.g=i*8,e.i-=i)}function Bn(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=n*8,e.g-=n,Uf(e)}e.h<<=t,e.g-=t}function De(e,t){var n=Math.min(e.g,t),i=e.h>>>32-n;return e.g-=n,e.g>0?e.h<<=n:e.i>0&&Uf(e),n=t-n,n>0?i<<n|De(e,n):i}function jf(e){var t;for(t=0;t<e.g;++t)if((e.h&2147483648>>>t)!==0)return e.h<<=t,e.g-=t,t;return Uf(e),t+jf(e)}function Qt(e){Bn(e,1+jf(e))}function ie(e){var t=jf(e);return De(e,t+1)-1}function ws(e){return e=ie(e),1&e?1+e>>>1:-1*(e>>>1)}function ce(e){return De(e,1)===1}function Xe(e){return De(e,8)}function Ql(e,t){for(var n=8,i=8,r=0;r<t;r++)i!==0&&(i=ws(e),i=(n+i+256)%256),n=i===0?n:i}function h5(e){return Xe(e),ie(e),ie(e)}K("shaka.util.ExpGolomb",yr);function it(){this.I=null,this.J=!1,this.m=this.K=null,this.j=[],this.g=[],this.D=this.F=null,this.i=[],this.h=[],this.G=null,this.l=[],this.C=this.H=this.u=this.A=null}h=it.prototype,h.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},h.lg=function(e){this.C!=null&&this.C!=e&&(this.u=this.A=null),this.C=e},h.parse=function(e){if(e.length<564)return this;for(var t=Math.max(0,Ff(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(e[r]==71){var o=!!(e[r+1]&64),s=((e[r+1]&31)<<8)+e[r+2];if((e[r+3]&48)>>4>1){var u=r+5+e[r+4];if(u==r+188)continue}else u=r+4;switch(s){case 0:o&&(u+=e[u]+1),this.I=(e[u+10]&31)<<8|e[u+11];break;case 17:case 8191:break;case this.I:o&&(u+=e[u]+1),o=e,s={audio:-1,video:-1,Ef:-1,audioCodec:"",videoCodec:""};var a=u+3+((o[u+1]&15)<<8|o[u+2])-4;for(u+=12+((o[u+10]&15)<<8|o[u+11]);u<a;){var l=(o[u+1]&31)<<8|o[u+2],c=(o[u+3]&15)<<8|o[u+4];switch(o[u]){case 6:if(c>0)for(var d=u+5,p=c;p>2;){var v=o[d+1]+2;switch(o[d]){case 5:var y=o.subarray(d+2,d+v);y=vl.value()(y),s.audio==-1&&y==="Opus"?(s.audio=l,s.audioCodec="opus"):s.video==-1&&y==="AV01"&&(s.video=l,s.videoCodec="av1");break;case 106:s.audio==-1&&(s.audio=l,s.audioCodec="ac3");break;case 122:s.audio==-1&&(s.audio=l,s.audioCodec="ec3");break;case 124:s.audio==-1&&(s.audio=l,s.audioCodec="aac");break;case 127:s.audioCodec=="opus"&&(y=null,o[d+2]===128&&(y=o[d+3]),y!=null&&(this.H={channelCount:(y&15)===0?2:y&15,xk:y,sampleRate:48e3}))}d+=v,p-=v}break;case 15:s.audio==-1&&(s.audio=l,s.audioCodec="aac");break;case 17:s.audio==-1&&(s.audio=l,s.audioCodec="aac-loas");break;case 21:s.Ef==-1&&(s.Ef=l);break;case 27:s.video==-1&&(s.video=l,s.videoCodec="avc");break;case 3:case 4:s.audio==-1&&(s.audio=l,s.audioCodec="mp3");break;case 36:s.video==-1&&(s.video=l,s.videoCodec="hvc");break;case 129:s.audio==-1&&(s.audio=l,s.audioCodec="ac3");break;case 132:case 135:s.audio==-1&&(s.audio=l,s.audioCodec="ec3")}u+=c+5}o=s,o.video!=-1&&(this.K=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.F=o.audio,this.D=o.audioCodec),o.Ef!=-1&&(this.G=o.Ef),i&&!this.J&&(i=!1,r=t-188),this.J=!0;break;case this.K:u=e.subarray(u,r+188),o?this.j.push([u]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(u);break;case this.F:u=e.subarray(u,r+188),o?this.i.push([u]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(u);break;case this.G:u=e.subarray(u,r+188),o?this.l.push([u]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(u);break;default:i=!0}}return this};function Bf(e,t){if((t[0]<<16|t[1]<<8|t[2])!==1)return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var i=t[7];if(i&192){var r=(t[9]&14)*536870912+(t[10]&255)*4194304+(t[11]&254)*16384+(t[12]&255)*128+(t[13]&254)/2;e.A==null&&(e.A=r),n.pts=vy(r,e.A),e.A=n.pts,n.dts=n.pts,i&64&&(i=(t[14]&14)*536870912+(t[15]&255)*4194304+(t[16]&254)*16384+(t[17]&255)*128+(t[18]&254)/2,e.u==null&&(e.u=i),n.dts=n.pts!=r?vy(i,e.u):i),e.u=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}h.Zl=function(e){return qe("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Th(e,{Fe:null,state:null})},h.Th=function(e,t){var n=e.pts?e.pts/9e4:null;e=e.data;var i=e.byteLength,r=1;this.m=="hvc"&&(r=2);var o=t.state||0,s=o,u=0,a=[],l=-1,c=0;for(o==-1&&(l=0,c=this.m=="hvc"?e[0]>>1&63:e[0]&31,o=0,u=1);u<i;){var d=e[u++];o?o===1?o=d?0:2:d?d==1?(d=u-o-1,l>=0?a.push({data:e.subarray(l+r,d),fullData:e.subarray(l,d),type:c,time:n,state:null}):(o=a.length?a[a.length-1]:t.Fe)&&(s&&u<=4-s&&o.state&&(o.data=o.data.subarray(0,o.data.byteLength-s),o.fullData=o.fullData.subarray(0,o.fullData.byteLength-s)),d>0&&(d=e.subarray(0,d),o.data=Mt(o.data,d),o.fullData=Mt(o.fullData,d),o.state=0)),u<i?(c=this.m=="hvc"?e[u]>>1&63:e[u]&31,l=u,o=0):o=-1):o=0:o=3:o=d?0:1}return l>=0&&o>=0&&a.push({data:e.subarray(l+r,i),fullData:e.subarray(l,i),type:c,time:n,state:o}),!a.length&&t.Fe&&(n=a.length?a[a.length-1]:t.Fe)&&(n.data=Mt(n.data,e),n.fullData=Mt(n.fullData,e)),t.state=o,a},h.getMetadata=function(){for(var e=[],t=T(this.l),n=t.next();!n.done;n=t.next())n=Mt.apply(nn,X(n.value)),(n=Bf(this,n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Oo(n.data),dts:n.dts,pts:n.pts});return e},h.Bb=function(){if(this.i.length&&!this.h.length)for(var e=T(this.i),t=e.next();!t.done;t=e.next()){var n=Mt.apply(nn,X(t.value)),i=Bf(this,n);t=this.h.length?this.h[this.h.length-1]:null,i&&i.pts!=null&&i.dts!=null&&(!t||t.pts!=i.pts&&t.dts!=i.dts)?this.h.push(i):this.h.length&&(n=i?i.data:n)&&(t=this.h.pop(),t.data=Mt(t.data,n),this.h.push(t))}return this.h},h.Jd=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=T(this.j),n=t.next();!n.done;n=t.next()){var i=Mt.apply(nn,X(n.value)),r=Bf(this,i);n=this.g.length?this.g[this.g.length-1]:null,r&&r.pts!=null&&r.dts!=null&&(!n||n.pts!=r.pts&&n.dts!=r.dts)?this.g.push(r):this.g.length&&(i=r?r.data:i)&&(n=this.g.pop(),n.data=Mt(n.data,i),this.g.push(n))}if(e){for(t={Fe:null,state:null},n=[],i=T(this.g),r=i.next();!r.done;r=i.next())r=r.value,r.nalus=this.Th(r,t),r.nalus.length&&(n.push(r),t.Fe=r.nalus[r.nalus.length-1]);this.g=n}}return e?this.g:(e=this.g,this.g=[],e)},h.getStartTime=function(e){if(e=="audio"){e=null;var t=this.Bb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.Jd(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},h.ue=function(){return{audio:this.D,video:this.m}},h.Df=function(){for(var e=[],t=T(this.Jd()),n=t.next();!n.done;n=t.next())e.push.apply(e,X(n.value.nalus));return e},h.Cl=function(){qe("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Ch();return{height:e.height,width:e.width}},h.Ch=function(){return this.m=="hvc"?p5(this):f5(this)};function my(e){var t=e.Jd();return t.length>1&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(Math.abs(1/(t-e)*9e4)):null}function f5(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Df();if(!n.length||(n=n.find(function(v){return v.type==7}),!n))return t;n=new yr(n.data);var i=Xe(n),r=Xe(n),o=Xe(n);if(Qt(n),g5.includes(i)){var s=ie(n);if(s===3&&Bn(n,1),Qt(n),Qt(n),Bn(n,1),ce(n)){s=s!==3?8:12;for(var u=0;u<s;u++)ce(n)&&(u<6?Ql(n,16):Ql(n,64))}}if(Qt(n),s=ie(n),s===0)ie(n);else if(s===1)for(Bn(n,1),Qt(n),Qt(n),s=ie(n),u=0;u<s;u++)Qt(n);Qt(n),Bn(n,1),s=ie(n),u=ie(n);var a=De(n,1);a===0&&Bn(n,1),Bn(n,1);var l=0,c=0,d=0,p=0;return ce(n)&&(l=ie(n),c=ie(n),d=ie(n),p=ie(n)),t.height=String((2-a)*(u+1)*16-d*2-p*2),t.width=String((s+1)*16-l*2-c*2),t.codec="avc1."+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+o.toString(16).toUpperCase()).slice(-2),t.frameRate=my(e),t}function p5(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Df();if(!n.length||(n=n.find(function(O){return O.type==33}),!n))return t;var i=new yr(n.fullData,!0);Xe(i),Xe(i),De(i,4);var r=De(i,3);ce(i);var o=De(i,2),s=De(i,1),u=De(i,5),a=De(i,32);n=Xe(i);for(var l=Xe(i),c=Xe(i),d=Xe(i),p=Xe(i),v=Xe(i),y=Xe(i),E=[],A=[],k=0;k<r;k++)E.push(ce(i)),A.push(ce(i));if(r>0)for(k=r;k<8;k++)De(i,2);for(k=0;k<r;k++)E[k]&&De(i,88),A[k]&&Xe(i);ie(i),r=ie(i),r==3&&De(i,1),E=ie(i),A=ie(i);var I=k=0,C=0,L=0;return ce(i)&&(k+=ie(i),I+=ie(i),C+=ie(i),L+=ie(i)),t.width=String(E-(k+I)*(r===1||r===2?2:1)),t.height=String(A-(C+L)*(r===1?2:1)),i=(function(O){for(var M=0,D=0;D<32;D++)M|=(O>>D&1)<<31-D;return M>>>0})(a),s=s==1?"H":"L",o="hvc1"+("."+["","A","B","C"][o]+u),o+="."+i.toString(16).toUpperCase(),o+="."+s+y,v&&(o+="."+v.toString(16).toUpperCase()),p&&(o+="."+p.toString(16).toUpperCase()),d&&(o+="."+d.toString(16).toUpperCase()),c&&(o+="."+c.toString(16).toUpperCase()),l&&(o+="."+l.toString(16).toUpperCase()),n&&(o+="."+n.toString(16).toUpperCase()),t.codec=o,t.frameRate=my(e),t}function vy(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=n*8589934592;return e}function Is(e){return!(Ff(e)<0)}function Ff(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}K("shaka.util.TsParser",it),it.syncOffset=Ff,it.probe=Is,it.prototype.getVideoInfo=it.prototype.Ch,it.prototype.getVideoResolution=it.prototype.Cl,it.prototype.getVideoNalus=it.prototype.Df,it.prototype.getCodecs=it.prototype.ue,it.prototype.getStartTime=it.prototype.getStartTime,it.prototype.getVideoData=it.prototype.Jd,it.prototype.getAudioData=it.prototype.Bb,it.prototype.getMetadata=it.prototype.getMetadata,it.prototype.parseNalus=it.prototype.Th,it.prototype.parseAvcNalus=it.prototype.Zl,it.prototype.parse=it.prototype.parse,it.prototype.setDiscontinuitySequence=it.prototype.lg,it.prototype.clearData=it.prototype.clearData,it.Timescale=9e4;var g5=[100,110,122,244,44,83,86,118,128,138,139,134];function yy(e,t,n,i,r){var o=this;this.g=e,this.O=n,this.C=i,this.Z=t,this.l=new Map,this.G=new Map,this.La=new Map,this.h=null,this.Fa=!1,this.D=r||null,this.m=new Map,this.A=new Fe,this.j=new Map,this.K=null,this.L=new Qe,this.ya="",this.kb=!1,this.ua=!0,this.M=!1,this.F=this.P=null,this.i=qf(this,this.L),this.Na=this.I=!1,this.H=new ys(function(){return y5(o)}),this.J=!1,this.V="UNKNOWN",this.$a=this.jb=!1,this.hb=new Qe,this.u=!1,this.sa=null,this.X=new Map,this.ha=this.R=this.oa=this.T=null,this.aa=new Qe,this.g.remote&&(this.M=this.g.remote.state!="disconnected",this.A.o(this.g.remote,"connect",function(){o.M=o.g.remote.state!="disconnected"}),this.A.o(this.g.remote,"connecting",function(){o.M=o.g.remote.state!="disconnected"}),this.A.o(this.g.remote,"disconnect",function(){o.M=o.g.remote.state!="disconnected"}))}function qf(e,t){if(e.ua=!0,S.ManagedMediaSource){e.F||(e.g.disableRemotePlayback=!0);var n=new ManagedMediaSource;e.A.o(n,"startstreaming",function(){e.ua=!0}),e.A.o(n,"endstreaming",function(){e.ua=!1})}else n=new MediaSource;if(e.A.qa(n,"sourceopen",function(){URL.revokeObjectURL(e.ya),t.resolve()}),e.A.qa(e.g,"playing",function(){e.kb=!0}),e.ya=zf(n),e.C.useSourceElements){e.g.removeAttribute("src");var i;((i=e.P)==null?void 0:i.parentElement)===e.g&&e.g.removeChild(e.P);var r;((r=e.F)==null?void 0:r.parentElement)===e.g&&e.g.removeChild(e.F),e.P=hy(e.ya),e.g.appendChild(e.P),e.F&&e.g.appendChild(e.F),e.g.load()}else e.g.src=e.ya;return n}function m5(e,t,n){if(e.g&&S.ManagedMediaSource&&e.i&&e.C.useSourceElements){var i;((i=e.F)==null?void 0:i.parentElement)===e.g&&e.g.removeChild(e.F),e.F=hy(t,n),e.g.appendChild(e.F),e.g.disableRemotePlayback=!1}}function v5(){var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.20000000.L153.B0",video/mp4; codecs="hvc1.2.4.L120.b0",video/mp4; codecs="hvc1.2.4.L123.b0",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="av01.0.31M.10.0.111.09.16.09.0",video/mp4; codecs="av01.0.31M.10.0.112.09.18.09.0",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.08.01",video/mp4; codecs="dav1.10.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.03",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",audio/mp4; codecs="apac.31.00",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(X(dr)),t={};ke(),e=T(e);for(var n=e.next();!n.done;n=e.next()){if(n=n.value,bu(n))t[n]=!0;else if(Wi()){var i=_n(n),r=Ou(Mn(n),i);i=St(i,r),t[n]=hn(i)||!!ps(i)}else t[n]=No().canPlayType(n)!="";i=n.split(";")[0],t[i]=t[i]||t[n]}return t}h=yy.prototype,h.destroy=function(){return this.H.destroy()};function y5(e){var t,n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k;return N(function(I){if(I.g==1){for(t=[],n=T(e.m),i=n.next();!i.done;i=n.next())for(r=i.value,o=T(r),s=o.next().value,u=o.next().value,a=u[0],l=s,e.m.set(l,u.slice(0,1)),a&&t.push(a.p.catch(iw)),c=T(u.slice(1)),d=c.next();!d.done;d=c.next())p=d.value,p.p.reject(new _(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),w(I,Promise.all(t),2)}for(v=T(e.j.values()),y=v.next();!y.done;y=v.next())E=y.value,E.destroy();e.A&&(e.A.release(),e.A=null),e.g&&((A=e.F)==null?void 0:A.parentElement)===e.g&&e.g.removeChild(e.F),e.g&&((k=e.P)==null?void 0:k.parentElement)===e.g&&(e.g.removeChild(e.P),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.P=null,e.F=null,e.C=null,e.i=null,e.h=null,e.Z=null,e.l.clear(),e.La.clear(),e.j.clear(),e.K=null,e.m.clear(),e.D=null,e.X.clear(),e.O=null,Z(I)})}h.init=function(e,t,n,i){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,i=i===void 0?!1:i;var r=this,o,s,u,a,l,c;return N(function(d){if(d.g==1)return o=Rt,w(d,r.L,2);if(d.g!=3)return!_o(r)&&!Wr(r)?d.B(3):(ji("Expected MediaSource to be open during init(); reopening the media source."),r.L=new Qe,r.i=qf(r,r.L),w(d,r.L,3));for(r.J=t,r.V=n,r.jb=i,r.$a=!r.J&&r.V=="HLS"&&!r.jb,r.X.clear(),r.T=null,r.oa=null,r.R=null,r.ha=null,r.aa=new Qe,s=T(e.keys()),u=s.next();!u.done;u=s.next())a=u.value,l=e.get(a),ec(r,a,l,l.codecs),r.u?(r.m.set(o.ia,[]),r.m.set(o.Ga,[])):r.m.set(a,[]);(c=e.get(o.ia))&&c.isAudioMuxedInVideo&&(r.u=!0),Z(d)})};function ec(e,t,n,i){t=="audio"&&i&&(i=Ou(i,n.mimeType)),t=="video"&&i&&n.mimeType=="video/mp4"&&(i=yf(i));var r=St(n.mimeType,i);if(t==Re)tc(e,r,e.J,n.external);else{var o=e.C.forceTransmux;(!hn(r)||!e.J&&dr.includes(r))&&(o=!0);var s=bl(n.mimeType,i);if(o){if(o=Cn("audio",(i||"").split(",")),i=Cn("video",(i||"").split(",")),o&&i){e.u=!0,ec(e,"audio",n,o),ec(e,"video",n,i);return}(i=ps(s))&&(r=i(),e.j.set(t,r),r=r.convertCodecs(t,s))}s=r+e.C.addExtraFeaturesToSourceBuffer(r),nt(e.H);try{var u=e.i.addSourceBuffer(s)}catch(a){throw new _(2,3,3015,a,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.J&&(u.mode=L5),e.A.o(u,"error",function(){var a=e.m.get(t)[0];a.p.reject(new _(2,3,3014,e.g.error?e.g.error.code:0,a.uri))}),e.A.o(u,"updateend",function(){return Yr(e,t)}),e.l.set(t,u),e.G.set(t,r),e.La.set(t,!!n.drmInfos.length)}}h.configure=function(e){this.C=e,this.h&&(this.h.D=e.modifyCueCallback)};function Ty(e){return e.ua&&!e.M&&!e.I}function tc(e,t,n,i){e.h||(e.h=new hr(e.Z),e.h&&(e.h.D=e.C.modifyCueCallback));var r=e.h,o=e.Fa;e=e.V,t=="application/cea-608"||t=="application/cea-708"?r.i=null:(r.i=Du.get(t)(),r.i.setSequenceMode?r.i.setSequenceMode(n):qe("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),r.i.setManifestType?r.i.setManifestType(e):qe("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),r.G=o,r.C=i)}function _o(e){return e.I?!1:e.i?e.i.readyState=="ended":!0}function Wr(e){return e.I?!1:e.i?e.i.readyState=="closed":!0}function Vf(e,t){return e.l.size?t==Re?e.h.g:ly(ks(e,t)):null}function Xr(e,t){return e.l.size?t==Re?e.h.h:Jl(ks(e,t)):null}function T5(e,t,n){return t==Re?(e=e.h,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=ks(e,t),cy(e,n))}h.Sc=function(){var e={total:this.I?[]:vr(this.g.buffered),audio:vr(ks(this,"audio")),video:vr(ks(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function ks(e,t){if(e.I||e.M||Wr(e))return null;try{return e.l.get(t).buffered}catch{return e.l.has(t),null}}function S5(e,t,n,i,r,o,s){s=s===void 0?!1:s;var u=null,a=[],l=Te(n);if(dr.includes(o))n=Oo(l),n.length&&i&&((s=n.find(function(y){return y.description==="com.apple.streaming.transportStreamTimestamp"}))&&typeof s.data=="number"&&(u=Math.round(s.data)/1e3),e.O.onMetadata([{cueTime:i.startTime,data:l,frames:n,dts:i.startTime,pts:i.startTime}],0,i.endTime));else if(o.includes("/mp4")&&i&&i.ka){l=new Je;var c=r.emsgSchemeIdUris!=null&&r.emsgSchemeIdUris.length>0||e.C.dispatchAllEmsgBoxes;c&&l.W("emsg",function(y){var E=r.emsgSchemeIdUris;if(y.version===0)var A=y.reader.Vd(),k=y.reader.Vd(),I=y.reader.$(),C=y.reader.$(),L=y.reader.$(),O=y.reader.$(),M=i.startTime+C/I;else I=y.reader.$(),M=y.reader.Wd()/I+i.timestampOffset,C=M-i.startTime,L=y.reader.$(),O=y.reader.$(),A=y.reader.Vd(),k=y.reader.Vd();y=y.reader.bc(y.reader.getLength()-y.reader.Wa(),!0),(E&&E.includes(A)||e.C.dispatchAllEmsgBoxes)&&(A=="urn:mpeg:dash:event:2012"?e.O.Yl():(E=M+L/I,e.O.Wl({startTime:M,endTime:E,schemeIdUri:A,value:k,timescale:I,presentationTimeDelta:C,eventDuration:L,id:O,messageData:y}),(A=="https://aomedia.org/emsg/ID3"||A=="https://developer.apple.com/streaming/emsg-id3")&&(I=Oo(y),I.length&&e.O.onMetadata([{cueTime:M,data:y,frames:I,dts:M,pts:M}],0,E))))});var d=i.ka.timescale;t=d&&!isNaN(d);var p=0,v=!1;t&&l.W("prft",function(y){var E=y.reader,A=y.version;E.$(),y=E.$();var k=E.$();y=y*1e3+k/4294967296*1e3,A===0?E=E.$():(A=E.$(),E=E.$(),E=A*4294967296+E),y=gy(y),E=new Map().set("detail",{wallClockTime:y,programStartDate:new Date(y-E/d*1e3)}),E=new J("prft",E),e.O.onEvent(E)}).box("moof",Me).box("traf",Me).W("tfdt",function(y){v||(p=Xl(y.reader,y.version).baseMediaDecodeTime/d,v=!0,c||y.parser.stop())}),(c||t)&&l.parse(n,!1,s),v&&i.timestampOffset==0&&(u=p)}else o.includes("/mp4")||o.includes("/webm")||!Is(l)||(e.X.has(t)||e.X.set(t,new it),a=e.X.get(t),a.clearData(),a.lg(i.i),a.parse(l),l=a.getStartTime(t),l!=null&&(u=l),a=a.getMetadata());return{timestamp:u,metadata:a}}function nc(e,t,n,i,r,o,s,u,a,l,c){s=s===void 0?!1:s,u=u===void 0?!1:u,a=a===void 0?!1:a,l=l===void 0?!1:l;var d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H;return N(function(F){switch(F.g){case 1:if(d=Rt,t!=d.Va){F.B(2);break}if(e.V!="HLS"){F.B(3);break}return w(F,e.hb,4);case 4:p=F.h,e.h.A=p;case 3:return w(F,$x(e.h,n,i?i.startTime:null,i?i.endTime:null,i?i.S()[0]:null),5);case 5:return F.return();case 2:if(l||!e.u){F.B(6);break}return w(F,nc(e,d.ia,n,i,r,o,s,u,a,!0),7);case 7:return w(F,nc(e,d.Ga,n,i,r,o,s,u,a,!0),8);case 8:return F.return();case 6:if(!e.l.has(t))return F.return();if(v=e.l.get(t).timestampOffset,y=e.G.get(t),e.j.has(t)&&(y=e.j.get(t).getOriginalMimeType()),i&&(E=S5(e,t,n,i,r,y,a),A=E.timestamp,k=E.metadata,A!=null&&(e.T==null&&t==d.Ga&&(e.T=A,e.oa=i.startTime,e.R!=null&&(I=0,e.oa==e.ha&&(I=e.T-e.R),e.aa.resolve(I))),e.R==null&&t==d.ia&&(e.R=A,e.ha=i.startTime,e.T!=null&&(C=0,e.oa==e.ha&&(C=e.T-e.R),e.aa.resolve(C))),L=A,O=dr,!e.J&&O.includes(e.G.get(t))&&(L=0),M=i.startTime-L,D=Math.abs(v-M),(D>=.001||s||u)&&(!a||M>0||!v)&&(v=M,e.$a&&(Ot(e,t,function(){return Cs(e,t)},null),Ot(e,t,function(){return Ms(e,t,v)},null))),(t==d.Ga||!e.l.has(d.Ga))&&e.hb.resolve(v)),k.length)&&e.O.onMetadata(k,v,i?i.endTime:null),o&&t==d.Ga&&(e.h||tc(e,"application/cea-608",e.J,!1),e.K||(P=y.split(";",1)[0],e.K=new Li(P)),i?(j=e.K.Yf(n),j.length&&ew(e.h,j,v)):e.K.init(n,u,c)),!e.j.has(t)){F.B(9);break}return w(F,e.j.get(t).transmux(n,r,i,e.i.duration,t),10);case 10:b=F.h,ArrayBuffer.isView(b)?n=b:(U=b,U.init!=null&&(B=U.init,Ot(e,t,function(){e.D&&El(e.D,B,v,r),e.l.get(t).appendBuffer(B)},i?i.S()[0]:null)),n=U.data);case 9:if(n=I5(e,r,n,i,t),!i||!e.J||t==d.Va){F.B(11);break}if(!s&&!u){F.B(11);break}if(G=i.startTime,e.V!="HLS"||e.u||t!=d.ia||!e.l.has(d.Ga)){F.B(13);break}return w(F,e.aa,14);case 14:H=F.h,Math.abs(H)>.15&&(G-=H);case 13:Ot(e,t,function(){return Cs(e,t)},null),Ot(e,t,function(){return Ms(e,t,G)},null);case 11:return w(F,Ot(e,t,function(){var q=n;e.D&&El(e.D,q,v,r),e.l.get(t).appendBuffer(q)},i?i.S()[0]:null),15);case 15:Z(F)}})}function E5(e,t){var n=Xr(e,"video")||0;u1(e.h,t,n)}function A5(e){e.h&&u1(e.h,"",0)}h.remove=function(e,t,n,i){var r=this,o,s;return N(function(u){return u.g==1?(o=Rt,e==o.Ga&&r.K&&(r.K.remove(i),s=r.h.g||0,r.h.remove(s,n,!0)),e==o.Va?w(u,r.h.remove(t,n),0):n>t?w(u,Ot(r,e,function(){return ic(r,e,t,n)},null),5):u.B(0)):r.u?w(u,Ot(r,o.ia,function(){return ic(r,o.ia,t,n)},null),0):u.B(0)})};function Sy(e,t){var n;return N(function(i){return i.g==1?(n=Rt,t==n.Va?e.h?w(i,e.h.remove(0,1/0),0):i.return():t===n.Ga&&e.K&&e.h?w(i,e.h.remove(0,1/0,!0),4):i.B(4)):i.g!=6?w(i,Ot(e,t,function(){return ic(e,t,0,e.i.duration)},null),6):e.u?w(i,Ot(e,n.ia,function(){return ic(e,n.ia,0,e.i.duration)},null),0):i.B(0)})}h.flush=function(e){var t=this,n;return N(function(i){return i.g==1?(n=Rt,e==n.Va?i.return():w(i,Ot(t,e,function(){t.g.currentTime-=.001,Yr(t,e)},null),2)):t.u?w(i,Ot(t,n.ia,function(){var r=n.ia;t.g.currentTime-=.001,Yr(t,r)},null),0):i.B(0)})};function Ey(e,t,n,i,r,o,s,u,a){var l,c,d;return N(function(p){return p.g==1?(l=Rt,t==l.Va?(o||(e.h.A=n),Qx(e.h,i,r),p.return()):(c=[],w(p,M5(e,t,s,u,a),2))):(d=p.h,d||(c.push(Ot(e,t,function(){return Cs(e,t)},null)),e.u&&c.push(Ot(e,l.ia,function(){return Cs(e,l.ia)},null))),o||(c.push(Ot(e,t,function(){return Ms(e,t,n)},null)),e.u&&c.push(Ot(e,l.ia,function(){return Ms(e,l.ia,n)},null))),(i!=0||r!=1/0)&&(c.push(Ot(e,t,function(){return xy(e,t,i,r)},null)),e.u&&c.push(Ot(e,l.ia,function(){return xy(e,l.ia,i,r)},null))),c.length?w(p,Promise.all(c),0):p.B(0))})}function Ay(e,t,n){var i,r;return N(function(o){return o.g==1?(i=Rt,t==i.Va||(t==i.Ga&&(e.hb=new Qe),!e.J||(r=Xr(e,t))&&Math.abs(r-n)<.15)?o.return():(Ot(e,t,function(){return Cs(e,t)},null),e.u&&Ot(e,i.ia,function(){return Cs(e,i.ia)},null),w(o,Ot(e,t,function(){return Ms(e,t,n)},null),2))):e.u?w(o,Ot(e,i.ia,function(){return Ms(e,i.ia,n)},null),0):o.B(0)})}h.endOfStream=function(e){var t=this;return N(function(n){return w(n,Ku(t,function(){_o(t)||Wr(t)||(e?t.i.endOfStream(e):t.i.endOfStream())}),0)})},h.Fb=function(e){var t=this;return N(function(n){return w(n,Ku(t,function(){if(t.C.durationReductionEmitsUpdateEnd&&e<t.i.duration)for(var i=T(t.l.keys()),r=i.next();!r.done;r=i.next()){r=r.value;var o={start:function(){},p:new Qe,uri:null};t.m.get(r).unshift(o)}t.i.duration=e,t.sa=e}),0)})},h.getDuration=function(){return this.i.duration};function x5(e,t,n){N(function(i){return e.H.g||e.g.error||e.M||e.I||_o(e)||Wr(e)?i.return():w(i,Ku(e,function(){_o(e)||Wr(e)||e.i.setLiveSeekableRange(t,n)}),0)})}function Hf(e){N(function(t){return e.H.g||e.g.error||e.M||e.I||_o(e)||Wr(e)?t.return():w(t,Ku(e,function(){_o(e)||Wr(e)||e.i.clearLiveSeekableRange()}),0)})}function ic(e,t,n,i){if(i<=n)Yr(e,t);else{if(e.D){var r=e.D;t==="video"&&r.g&&r.g.flushBuffer(n,i)}e.l.get(t).remove(n,i)}}function Cs(e,t){var n=e.l.get(t),i=n.appendWindowStart,r=n.appendWindowEnd;n.abort(),n.appendWindowStart=i,n.appendWindowEnd=r,Yr(e,t)}function Ms(e,t,n){n<0&&(n+=.001),e.l.get(t).timestampOffset=n,Yr(e,t)}function xy(e,t,n,i){var r=e.l.get(t);(r.appendWindowEnd!==i||r.appendWindowStart!==n)&&(r.appendWindowStart=0,r.appendWindowEnd=i,r.appendWindowStart=n),Yr(e,t)}function Yr(e,t){if(e.I||e.H.g){var n=e.m.get(t);n&&n.length&&((n=n[0])&&n.p&&n.p.resolve(),e.m.set(t,[]))}else(n=e.m.get(t)[0])&&(n.p.resolve(),Gf(e,t))}function Ot(e,t,n,i){return nt(e.H),n={start:n,p:new Qe,uri:i},e.m.get(t).push(n),e.m.get(t).length==1&&wy(e,t),n.p}function Ku(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C;return N(function(L){switch(L.g){case 1:for(nt(e.H),n=[],i=Array.from(e.l.keys()),r=new Map,o=T(i),s=o.next(),u={};!s.done;u={ready:void 0},s=o.next())a=s.value,u.ready=new Qe,l={start:(function(O){return function(){return O.ready.resolve()}})(u),p:u.ready,uri:null},c=e.m.get(a),c.push(l),n.push(u.ready),r.set(a,l),c.length==1&&l.start();return ue(L,2),w(L,Promise.all(n),4);case 4:Ae(L,3);break;case 2:if(d=ae(L),e.H.g){for(p=T(i),v=p.next();!v.done;v=p.next())y=v.value,E=e.m.get(y),r.has(y)&&ii(E,r.get(y));return L.return()}throw d;case 3:return ue(L,5,6),w(L,t(),6);case 6:for(Hn(L),A=T(i),k=A.next();!k.done;k=A.next())I=k.value,Gf(e,I);Gn(L,0);break;case 5:throw C=ae(L),new _(2,3,3015,C,e.g.error||"No error in the media element",null)}})}function Gf(e,t){e.m.get(t).shift(),wy(e,t)}function wy(e,t){var n=e.m.get(t)[0];if(n)try{n.start()}catch(i){i.name=="QuotaExceededError"?n.p.reject(new _(2,3,3017,t)):Ty(e)?n.p.reject(new _(2,3,3015,i,e.g.error||"No error in the media element",n.uri)):n.p.reject(new _(2,3,3024,t)),Gf(e,t)}}function w5(e,t){e.Z=t,e.h&&(e.h.l=t)}function I5(e,t,n,i,r){if(Lu(e.G.get(r))!="mp4")return n;var o=i===null,s=e.La.get(r),u=e.O.Wk(),a=!1;i&&i.ka&&(a=i.ka.encrypted),i=i?i.S()[0]:null;var l=ke();return e.C.correctEc3Enca&&o&&r==="audio"&&(n=t5(n)),e.C.insertFakeEncryptionInInit&&s&&l.Xd(u,r)&&(o?n=n5(t,n,i):!a&&l.Gj(r)&&(n=i5(n))),o&&l.Le()&&(n=u5(n)),n}function k5(e,t,n,i){return Ot(e,t,function(){if(t!==Re){if(e.G.get(t),ke().Gb()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),i&&e.j.set(t,i);var r=n+e.C.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(r),e.G.set(t,n)}Yr(e,t)}},null)}function C5(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O;return N(function(M){if(M.g==1){if(e.I||e.M)return M.return();for(n=Rt,e.I=!0,e.u=!1,i=e.g.currentTime,r=e.g.autoplay,e.g.paused||(e.Na=!0),e.kb&&(e.g.autoplay=!1),nr(M,2),e.A.Ta(),o=T(e.j.values()),s=o.next();!s.done;s=o.next())u=s.value,u.destroy();for(a=T(e.l.values()),l=a.next();!l.done;l=a.next()){c=l.value;try{e.i.removeSourceBuffer(c)}catch{}}return e.j.clear(),e.l.clear(),d=e.i.duration,e.L=new Qe,e.i=qf(e,e.L),w(M,e.L,4)}if(M.g!=2){for(!isNaN(d)&&d?e.i.duration=d:!isNaN(e.sa)&&e.sa&&(e.i.duration=e.sa),p=new Qe,v=e.i.sourceBuffers,y=t.size,E=0,A=function(){E++,E===y&&(p.resolve(),e.A.Ea(v,"addsourcebuffer",A))},e.A.o(v,"addsourcebuffer",A),k=T(t.keys()),I=k.next();!I.done;I=k.next())C=I.value,L=t.get(C),ec(e,C,L,L.codecs);return(O=t.get(n.ia))&&O.isAudioMuxedInVideo&&(e.u=!0),e.u&&!e.m.has(n.ia)&&e.m.set(n.ia,[]),w(M,p,2)}return Hn(M),e.I=!1,nt(e.H),e.A.qa(e.g,"loadedmetadata",function(){e.H.g||(e.g.currentTime=i)}),e.A.qa(e.g,"canplaythrough",function(){e.H.g||(e.g.autoplay=r,e.Na&&(e.Na=!1,e.g.play()))}),Gn(M,0)})}function Iy(e,t){return Ku(e,function(){return C5(e,t)})}function ky(e,t,n,i){var r=!1,o=Cn("audio",(i||"").split(",")),s=Cn("video",(i||"").split(",")),u=s;t=="audio"&&(u=o),u||(u=i);var a=St(n,u),l=_n(e.G.get(t)),c=e.C.forceTransmux;if(!hn(a)||!e.J&&dr.includes(a)?c=!0:c||n==l||(c=!ke().qg()&&dr.includes(n)),c&&(e=bl(n,u),u=ps(e))){var d=u();o&&s&&(r=!0),a=d.convertCodecs(t,e)}return!d&&t==="video"&&o&&(a=St(n,i)),t=Et(Mn(a)),{wc:d,Cm:r,Oi:_n(a),codec:t,mimeType:a}}function Cy(e,t,n,i,r){if(t==Re)return{type:Kf,Uf:n,wc:null};var o=Et(Mn(e.G.get(t))),s=_n(e.G.get(t)),u=ky(e,t,n,i),a=u.wc,l=u.Cm,c=u.Oi,d=u.codec;u=u.mimeType;var p=!0;return l&&e.G.has("audio")&&(n=ky(e,"audio",n,i),i=Et(Mn(e.G.get("audio"))),p=_n(e.G.get("audio")),p=i==n.codec&&p==n.Oi,n.wc&&n.wc.destroy()),o===d&&s===c&&p?{type:Kf,Uf:u,wc:a}:(o=!0,(e.u&&!r.has("audio")||l&&a&&!e.j.has(t))&&(o=!1),t=ke(),o&&e.C.codecSwitchingStrategy==="smooth"&&t.Gb()?{type:My,Uf:u,wc:a}:(a&&a.destroy(),{type:Wf,Uf:u,wc:null}))}function M5(e,t,n,i,r){var o,s,u,a,l,c;return N(function(d){return d.g==1?(o=Rt,s=Cy(e,t,n,i,r),u=s.type,a=s.wc,l=s.Uf,(c=r.get(o.ia))&&(e.u=c.isAudioMuxedInVideo),u==Kf?(e.j.has(t)&&!a?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&a?e.j.set(t,a):a&&(e.j.has(t)&&e.j.get(t).transmux!==a.transmux?(e.j.get(t).destroy(),e.j.set(t,a)):a.destroy()),d.return(!1)):u==My?w(d,k5(e,t,l,a),3):u!=Wf?d.B(3):(a&&a.destroy(),w(d,Iy(e,r),3))):d.return(!0)})}function R5(e,t,n,i,r){return e=Cy(e,t,n,i,r),e.wc&&e.wc.destroy(),e.type==Wf}var zf=S.URL.createObjectURL,L5="sequence",Kf="none",Wf="reset",My="changeType";function ve(e,t,n){this.i=e,this.F=t,this.A=this.l=1/0,this.h=1,this.g=this.j=null,this.C=0,this.D=!0,this.J=!1,this.I=0,this.G=n===void 0?!0:n,this.H=0,this.u=!1,this.m=e}h=ve.prototype,h.getDuration=function(){return this.l},h.al=function(){return this.h},h.Tj=function(e){this.i=e},h.Fb=function(e){this.l=e},h.jl=function(){return this.i},h.Qj=function(e){this.C=e},h.sd=function(e){e&&!this.D&&(this.J=!0),this.D=e},h.mg=function(e){this.A=e},h.Cf=function(){return this.A},h.ii=function(e){this.F=e},h.Rk=function(){return this.F},h.Aj=function(e,t){if(e.length!=0){var n=(Date.now()+this.C)/1e3;if(e=e.filter(function(r){return r.start+t<n}),e.length!=0){var i=e[e.length-1].end+t;this.Vf(e[0].start+t),this.h=e.reduce(function(r,o){return Math.max(r,o.end-o.start)},this.h),this.g=Math.max(this.g,i),this.i!=null&&this.G&&!this.u&&(this.i=n-this.g-this.h)}}},h.Ge=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,i=(Date.now()+this.C)/1e3;e=T(e);for(var r=e.next();!r.done;r=e.next())r=r.value,i<r.startTime||(t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),this.h=Math.max(this.h,r.endTime-r.startTime));this.Vf(t),this.g=Math.max(this.g,n),this.i!=null&&this.G&&!this.u&&(this.i=i-this.g-this.h)}},h.zj=function(e,t){this.Vf(e),t==1/0||this.U()||(this.g=Math.max(this.g,t))},h.cl=function(){return this.g},h.Pf=function(){this.u=!0},h.Ml=function(){return this.u},h.ki=function(e){this.m=e},h.Vk=function(){return this.m},h.Vf=function(e){this.j==null?this.j=e:this.J||(this.j=Math.min(this.j,e))},h.Ph=function(e){this.h=Math.max(this.h,e)},h.offset=function(e){this.j!=null&&(this.j+=e),this.g!=null&&(this.g+=e)},h.U=function(){return this.l==1/0&&!this.D},h.md=function(){return this.l!=1/0&&!this.D},h.Nb=function(){return Math.max(this.I,this.Uc()-this.A)},h.Vj=function(e){this.I=e},h.Uc=function(){return this.U()||this.md()?Math.min(Math.max(0,(Date.now()+this.C)/1e3-this.h-this.i)+this.H,this.l):this.g?Math.min(this.g,this.l):this.l},h.we=function(e){var t=Math.max(this.j,this.I);return this.A==1/0?Math.ceil(t*1e3)/1e3:Math.max(t,Math.min(this.Uc()-this.A+e,this.Mb()))},h.jc=function(){return this.we(0)},h.Mb=function(){return Math.max(0,this.Uc()-(this.U()||this.md()?this.F:0))},h.jk=function(){return!(this.i==null||this.g!=null&&this.G)},h.Pj=function(e){this.H=e},h.Hk=function(){return this.H},K("shaka.media.PresentationTimeline",ve),ve.prototype.getAvailabilityTimeOffset=ve.prototype.Hk,ve.prototype.setAvailabilityTimeOffset=ve.prototype.Pj,ve.prototype.usingPresentationStartTime=ve.prototype.jk,ve.prototype.getSeekRangeEnd=ve.prototype.Mb,ve.prototype.getSeekRangeStart=ve.prototype.jc,ve.prototype.getSafeSeekRangeStart=ve.prototype.we,ve.prototype.getSegmentAvailabilityEnd=ve.prototype.Uc,ve.prototype.setUserSeekStart=ve.prototype.Vj,ve.prototype.getSegmentAvailabilityStart=ve.prototype.Nb,ve.prototype.isInProgress=ve.prototype.md,ve.prototype.isLive=ve.prototype.U,ve.prototype.offset=ve.prototype.offset,ve.prototype.notifyMaxSegmentDuration=ve.prototype.Ph,ve.prototype.notifyMinSegmentStartTime=ve.prototype.Vf,ve.prototype.getInitialProgramDateTime=ve.prototype.Vk,ve.prototype.setInitialProgramDateTime=ve.prototype.ki,ve.prototype.isStartTimeLocked=ve.prototype.Ml,ve.prototype.lockStartTime=ve.prototype.Pf,ve.prototype.getMaxSegmentEndTime=ve.prototype.cl,ve.prototype.notifyPeriodDuration=ve.prototype.zj,ve.prototype.notifySegments=ve.prototype.Ge,ve.prototype.notifyTimeRange=ve.prototype.Aj,ve.prototype.getDelay=ve.prototype.Rk,ve.prototype.setDelay=ve.prototype.ii,ve.prototype.getSegmentAvailabilityDuration=ve.prototype.Cf,ve.prototype.setSegmentAvailabilityDuration=ve.prototype.mg,ve.prototype.setStatic=ve.prototype.sd,ve.prototype.setClockOffset=ve.prototype.Qj,ve.prototype.getPresentationStartTime=ve.prototype.jl,ve.prototype.setDuration=ve.prototype.Fb,ve.prototype.setPresentationStartTime=ve.prototype.Tj,ve.prototype.getMaxSegmentDuration=ve.prototype.al,ve.prototype.getDuration=ve.prototype.getDuration;function Xf(e,t,n,i){var r=this;this.A=i,this.g=e,this.F=t,this.h=n,this.j=new Fe,this.m=!1,this.l=0,this.D=!1,this.H=this.G=0,this.u=b5(this),this.C=!1,this.j.o(e,"waiting",function(){return Wu(r)}),this.i=new le(function(){Wu(r)}).va(this.h.gapJumpTimerTime)}Xf.prototype.release=function(){this.j&&(this.j.release(),this.j=null),this.i!=null&&(this.i.stop(),this.i=null),this.u&&(this.u.release(),this.u=null),this.g=this.F=this.A=null},Xf.prototype.Rd=function(){this.C=!0,this.i&&this.i.va(this.h.gapJumpTimerTime),Wu(this)};function Wu(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.m)return}else e.m=!1;if(!e.g.paused||e.g.currentTime==e.l&&(e.g.autoplay||e.g.currentTime!=e.l)){var t;if(!(t=!e.u)){t=e.u;var n=t.h,i=Py(n),r=n.g.currentTime,o=Date.now()/1e3;(t.g!=r||t.m!=i)&&(t.l=o,t.g=r,t.m=i,t.i=!1),r=o-t.l,(i=r>=t.u&&i&&!t.i)&&(t.j&&t.j(t.g,r),t.i=!0,t.g=n.g.currentTime),t=!i}t&&(t=e.g.currentTime,n=e.g.buffered,i=a5(n,t,e.h.gapDetectionThreshold),i==null||i==0&&!e.C||(r=n.start(i),(o=e.h.gapPadding)&&(r=Math.ceil((r+o)*100)/100),r>=e.F.Mb()||r-t<.001||(i!=0&&n.end(i-1),P5(e,r),t==e.l&&(e.l=r),e.G++,e.A(new J("gapjumped")))))}}}function P5(e,t){e.D=!0,e.j.qa(e.g,"seeked",function(){e.D=!1}),e.g.currentTime=t}function b5(e){if(!e.h.stallEnabled)return null;var t=e.h.stallThreshold,n=e.h.stallSkip;return new Ry(new Ly(e.g),t,function(){var i;return N(function(r){if(r.g==1)return i=vr(e.g.buffered),i.length?n?(e.g.currentTime+=n,r.B(2)):w(r,e.g.play(),3):r.return();if(r.g!=2){if(!e.g)return r.return();e.g.pause(),e.g.play()}e.H++,e.A(new J("stalldetected")),Z(r)})})}function Ry(e,t,n){this.h=e,this.m=Py(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.i=!1,this.u=t,this.j=n}Ry.prototype.release=function(){this.h&&this.h.release(),this.j=this.h=null};function Ly(e){var t=this;this.g=e,this.h=new Fe,this.i=!1,this.h.o(this.g,"audiofocuspaused",function(){t.i=!0}),this.h.o(this.g,"audiofocusgranted",function(){t.i=!1}),this.h.o(this.g,"audiofocuslost",function(){t.i=!0})}function Py(e){if(e.g.paused||e.g.playbackRate==0||e.i||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=T(vr(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}Ly.prototype.release=function(){this.h&&this.h.release(),this.h=null};function Uo(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=D5.value().get(t),n.qa(e,t,i))}var D5=new ct(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function by(e,t,n,i){var r=this;this.g=e,this.m=t,this.A=n,this.l=null,this.j=function(){return r.l==null&&(r.l=i()),r.l},this.u=!1,this.h=new Fe,this.i=new _y(e),Uo(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Ny(r,r.j())})}by.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function Yf(e){return e.u?e.g.currentTime:e.j()}function Dy(e,t){e.g.readyState>0?Uy(e.i,t):Uo(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){Ny(e,e.j())})}function Ny(e,t){Math.abs(e.g.currentTime-t)<.001?Oy(e):(e.h.qa(e.g,"seeking",function(){Oy(e)}),Uy(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function Oy(e){e.u=!0,e.h.o(e.g,"seeking",function(){return e.m()}),e.A(e.g.currentTime)}function _y(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new le(function(){t.i<=0||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}_y.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null};function Uy(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.va(.1)}function jy(e){this.g=e,this.i=!1,this.h=null,this.j=new Fe}h=jy.prototype,h.ready=function(){function e(){if(t.h==null||t.h==0&&t.g.duration!=1/0)t.i=!0;else{var n=t.g.currentTime,i=null;if(typeof t.h=="number")i=t.h;else if(t.h instanceof Date){var r=By(t);r!==null&&(i=t.h.getTime()/1e3-r,i=Fy(t,i))}i==null?t.i=!0:(i<0&&(i=Math.max(0,n+i)),n!=i?(t.j.qa(t.g,"seeking",function(){t.i=!0}),t.g.currentTime=i):t.i=!0)}}var t=this;Uo(this.g,HTMLMediaElement.HAVE_FUTURE_DATA,this.j,function(){e()})},h.release=function(){this.j&&(this.j.release(),this.j=null),this.g=null},h.Fg=function(e){this.h=this.i?this.h:e},h.le=function(){var e=this.i?this.g.currentTime:this.h;return e instanceof Date&&(e=e.getTime()/1e3-(By(this)||0),e=Fy(this,e)),e||0},h.Hi=function(){return 0},h.Fi=function(){return 0},h.Gi=function(){return!1},h.yj=function(){},h.mj=function(){var e=Jl(this.g.buffered);return e!=null&&e>=this.g.duration-1};function By(e){return e.g.getStartDate&&(e=e.g.getStartDate().getTime(),!isNaN(e))?e/1e3:null}function Fy(e,t){return e=e.g.seekable,e.length>0&&(t=Math.max(e.start(0),t),t=Math.min(e.end(e.length-1),t)),t}function qy(e,t,n,i,r,o){var s=this;this.h=e,this.g=t.presentationTimeline,this.l=n,this.A=r,this.u=null,this.i=new Xf(e,t.presentationTimeline,n,o),this.j=new by(e,function(){e:{var u=s.i;u.m=!0,u.C=!1,u.i&&u.i.va(u.h.gapJumpTimerTime),Wu(u);var a=Yf(s.j);if(u=Gy(s,a),!$1()&&Math.abs(u-a)>.001){a=!1;var l=ke().Lj();if(l){var c=Date.now()/1e3;(!s.u||s.u<c-l)&&(s.u=c,a=!0)}else a=!0;if(a){Dy(s.j,u),u=void 0;break e}}s.A(),u=void 0}return u},function(u){var a=s.i;a.g.seeking&&!a.m&&(a.m=!0,a.l=u),a.i&&a.i.va(a.h.gapJumpTimerTime),Wu(a)},function(){return Vy(s,i)}),this.m=new le(function(){if(s.h.readyState!=0&&!s.h.paused){var u=Yf(s.j),a=s.g.jc(),l=s.g.Mb();l-a<3&&(a=l-3),u<a&&(u=Gy(s,u),s.h.currentTime=u)}})}h=qy.prototype,h.ready=function(){this.m.va(.25)},h.release=function(){this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.m&&(this.m.stop(),this.m=null),this.h=this.j=this.g=this.l=null,this.A=function(){}},h.Fg=function(e){Dy(this.j,Vy(this,e))},h.le=function(){var e=Yf(this.j);return this.h.readyState>0&&!this.h.paused?zy(this,e):e},h.Hi=function(){return this.i.H},h.Fi=function(){return this.i.G},h.Gi=function(){return this.i.D};function Vy(e,t){return t==null?t=e.g.getDuration()<1/0?e.g.jc():e.g.Mb():t instanceof Date?t=t.getTime()/1e3-(e.g.m||e.g.i):t<0&&(t=e.g.Mb()+t),Hy(e,zy(e,t))}h.yj=function(){this.i.Rd()},h.mj=function(){if(this.g.U()){var e=this.g.Uc(),t=Jl(this.h.buffered);if(t!=null&&t>=e)return!0}return!1};function Hy(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Gy(e,t){var n=e.l.rebufferingGoal,i=e.l.safeSeekOffset,r=e.g.jc(),o=e.g.Mb(),s=e.g.getDuration();o-r<3&&(r=o-3);var u=e.g.we(n),a=e.g.we(i);return n=e.g.we(n+i),t>=s?Hy(e,t):t>o?o-e.l.safeSeekEndOffset:t<r?e.g.U()&&e.l.returnToEndOfLiveWindowWhenOutside?o-e.l.safeSeekEndOffset:bf(e.h.buffered,a)?a:n:t>=u||bf(e.h.buffered,t)?t:n}function zy(e,t){var n=e.g.jc();return t<n?n:(e=e.g.Mb(),t>e?e:t)}function Ve(e){this.g=e,this.m=null,this.i=0,this.u=!1}h=Ve.prototype,h.getNumReferences=function(){return this.g.length},h.getNumEvicted=function(){return this.i},h.release=function(){this.u||(this.g=[],this.m&&this.m.stop(),this.m=null)},h.Tl=function(){this.u=!0},h.Lb=function(e){for(var t=T(this.g),n=t.next();!n.done;n=t.next())e(n.value)};function bi(e){return e.g[0]||null}h.find=function(e){for(var t=this.g.length-1,n=t;n>=0;--n){var i=this.g[n],r=n<t?this.g[n+1].startTime:i.endTime;if(e>=i.startTime&&e<r)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},h.get=function(e){return this.g.length==0?null:(e-=this.i,e<0||e>=this.g.length?null:this.g[e])},h.offset=function(e){if(!this.u)for(var t=T(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},h.Rf=function(e){if(!this.u&&e.length){var t=Math.round(e[0].startTime*1e3)/1e3;this.g=this.g.filter(function(n){return Math.round(n.startTime*1e3)/1e3<t}),this.g.push.apply(this.g,X(e))}},h.Ee=function(e,t){var n=this;e=e.filter(function(i){return i.endTime>t&&(n.g.length==0||i.endTime>n.g[0].startTime)}),this.Rf(e),this.eb(t)},h.eb=function(e){if(!this.u){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},h.Gd=function(e,t,n){if(n=n===void 0?!1:n,!this.u){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],t=new he(e.startTime,t,e.D,e.startByte,e.endByte,e.ka,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.C,e.h,e.status,e.aesKey),t.mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},h.wg=function(e,t){var n=this;this.u||(this.m&&this.m.stop(),this.m=new le(function(){var i=t();i?n.g.push.apply(n.g,X(i)):(n.m.stop(),n.m=null)}),this.m.va(e))},Ve.prototype[Symbol.iterator]=function(){return this.fc(0)},Ve.prototype.fc=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?!1:n;var i=this.find(e);if(i==null)return null;var r=this.get(i);n?i++:i--;var o=-1;if(r&&r.g.length>0)for(var s=r.g.length-1;s>=0;--s){var u=r.g[s];if(e>=u.startTime&&e<u.endTime){if(!t){for(;s&&!u.l;)s--,u=r.g[s];if(!u.l)return ji("No independent partial segment found!"),null}n?i--:i++,o=s-1;break}}return new oi(this,i,o,n)},Ve.prototype.tf=function(){return-1};function rc(e,t,n){return e=new he(e,e+t,function(){return n},0,null,null,e,e,e+t),new Ve([e])}K("shaka.media.SegmentIndex",Ve),Ve.forSingleSegment=rc,Ve.prototype.getIteratorForTime=Ve.prototype.fc,Ve.prototype.updateEvery=Ve.prototype.wg,Ve.prototype.fit=Ve.prototype.Gd,Ve.prototype.evict=Ve.prototype.eb,Ve.prototype.mergeAndEvict=Ve.prototype.Ee,Ve.prototype.offset=Ve.prototype.offset,Ve.prototype.get=Ve.prototype.get,Ve.prototype.find=Ve.prototype.find,Ve.prototype.markImmutable=Ve.prototype.Tl,Ve.prototype.release=Ve.prototype.release,Ve.prototype.getNumEvicted=Ve.prototype.getNumEvicted,Ve.prototype.getNumReferences=Ve.prototype.getNumReferences;function oi(e,t,n,i){this.i=e,this.h=t,this.g=n,this.reverse=i}h=oi.prototype,h.ae=function(e){this.reverse=e},h.Ck=function(){return this.h},h.current=function(){var e=this.i.get(this.h);return e&&e.g.length>0&&e.m&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&e.g.length>0?e.g[this.g]:e},h.next=function(){var e=this.i.get(this.h);return this.reverse?e&&e.g.length>0?(this.g--,this.g<0&&(this.h--,this.g=(e=this.i.get(this.h))&&e.g.length>0?e.g.length-1:0)):(this.h--,this.g=0):e&&e.g.length>0?(this.g++,e.m&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},h.ai=function(){var e=this.current();if(e&&e.od&&!e.l&&(e=this.i.get(this.h))&&e.g.length>0)for(var t=e.g[this.g];t.l&&!(this.g<=0);)this.g--,t=e.g[this.g]},K("shaka.media.SegmentIterator",oi),oi.prototype.resetToLastIndependent=oi.prototype.ai,oi.prototype.next=oi.prototype.next,oi.prototype.current=oi.prototype.current,oi.prototype.currentPosition=oi.prototype.Ck,oi.prototype.setReverse=oi.prototype.ae;function mt(){Ve.call(this,[]),this.h=[]}se(mt,Ve),h=mt.prototype,h.clone=function(){var e=new mt;return e.h=this.h.slice(),e.i=this.i,e},h.release=function(){this.h=[]},h.Lb=function(e){for(var t=T(this.h),n=t.next();!n.done;n=t.next())n.value.Lb(e)};function N5(e,t){e=T(e.h);for(var n=e.next();!n.done;n=e.next())t(n.value)}h.find=function(e){for(var t=this.i,n=T(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.find(e);if(r!=null)return r+t;t+=i.getNumEvicted()+i.getNumReferences()}return null};function O5(e,t){e=T(e.h);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.find(t)!=null)return n.tf();return-1}h.get=function(e){for(var t=this.i,n=T(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.get(e-t);if(r)return r;r=i.getNumReferences(),t+=i.getNumEvicted()+r}return null},h.offset=function(){},h.Rf=function(){},h.eb=function(e){if(this.h.length){var t=this.h[0];t.eb(e),t.getNumReferences()==0&&(this.h.shift(),this.i+=t.getNumEvicted(),t.release(),this.eb(e))}},h.Ee=function(){},h.Gd=function(){},h.wg=function(){},K("shaka.media.MetaSegmentIndex",mt),mt.prototype.updateEvery=mt.prototype.wg,mt.prototype.fit=mt.prototype.Gd,mt.prototype.mergeAndEvict=mt.prototype.Ee,mt.prototype.evict=mt.prototype.eb,mt.prototype.merge=mt.prototype.Rf,mt.prototype.offset=mt.prototype.offset,mt.prototype.get=mt.prototype.get,mt.prototype.find=mt.prototype.find,mt.prototype.forEachTopLevelReference=mt.prototype.Lb,mt.prototype.release=mt.prototype.release;function Xu(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Bf(),this.h=new le(function(){t.g.wj(t.i*.25)})}Xu.prototype.release=function(){this.set(this.kd()),this.h&&(this.h.stop(),this.h=null),this.g=null},Xu.prototype.set=function(e){this.i=e,Zf(this)},Xu.prototype.kd=function(){return this.g.kd()};function Zf(e){e.h.stop();var t=e.j?0:e.i;if(t>=0)try{e.g.Bf()!=t&&e.g.li(t);return}catch{}e.h.va(.25),e.g.Bf()!=0&&e.g.li(0)}function Jf(e){var t=this;this.j=e,this.h=new Fe,this.g=new Set,this.i=new le(function(){Ky(t,!1)}).Ja(),e.paused||this.i.va(.25),this.h.o(e,"playing",function(){t.i.Ja().va(.25)}),this.h.o(e,"pause",function(){t.i.stop()}),this.h.o(e,"seeked",function(){t.i.Ja(),e.paused||t.i.va(.25)})}Jf.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=T(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function Ky(e,t){var n=e.j.currentTime;e=T(e.g);for(var i=e.next();!i.done;i=e.next())i.value.j(n,t)}function oc(e){_e.call(this),this.g=new Map,this.h=e}se(oc,_e),oc.prototype.release=function(){this.g.clear(),_e.prototype.release.call(this)};function _5(e,t){var n=e.g.get(t);return n||(n={Ke:[],Xg:null,contentType:t},e.g.set(t,n)),n}function U5(e,t,n){var i=_5(e,t.contentType);j5(e,i),e={Pd:t,position:n},i=i.Ke,t=i.findIndex(function(r){return r.position>=n}),t>=0?i.splice(t,i[t].position==n?1:0,e):i.push(e)}oc.prototype.j=function(e){for(var t=T(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;var i=n.Xg;e:{for(var r=n.Ke,o=r.length-1;o>=0;o--){var s=r[o];if(s.position<=e){r=s.Pd;break e}}r=null}o=r&&!(i===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width),s=r&&i&&r.label&&i.label&&i.label!==r.label;var u=r&&i&&r.language&&i.language&&i.language!==r.language;i=r&&i&&r.roles&&i.roles&&!sr(i.roles,r.roles),(s||u||i)&&Wy(this,e,r.contentType)&&(n.Xg=r,i=new J("audiotrackchange",new Map([["quality",r],["position",e]])),this.dispatchEvent(i)),o&&Wy(this,e,r.contentType)&&(n.Xg=r,JSON.stringify(r),n=new J("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}};function Wy(e,t,n){return!!((e=e.h()[n])&&e.length>0&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function j5(e,t){if((e=e.h()[t.contentType])&&e.length>0){var n=e[0].start,i=e[e.length-1].end,r=t.Ke;t.Ke=r.filter(function(o,s){return!(o.position<=n&&s+1<r.length&&r[s+1].position<=n||o.position>=i)})}else t.Ke=[]}function sc(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return e.type=="video"&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),e.type=="audio"&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function Yu(e){_e.call(this),this.h=new Map,this.i=e,this.g=null}se(Yu,_e),Yu.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),_e.prototype.release.call(this)};function $f(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+(t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1));e.h.has(n)||(e.h.set(n,t),t=new J("regionadd",new Map([["region",t]])),e.dispatchEvent(t),B5(e))}function B5(e){e.g||(e.g=new le(function(){for(var t=e.i(),n=T(e.h),i=n.next();!i.done;i=n.next()){var r=T(i.value);i=r.next().value,r=r.next().value,r.endTime<t.start&&(e.h.delete(i),i=new J("regionremove",new Map([["region",r]])),e.dispatchEvent(i))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)}).va(2))}function uc(e,t,n,i,r){function o(s,u){return!(u.fastSwitching&&s.od&&s.Ce)}this.m=e,this.i=t,this.l=n,this.g=new Map,this.j=new Map,this.h=null,this.u=i,this.A=r||o}function F5(e,t){e.l=t,e=T(e.g.values());for(var n=e.next();!n.done;n=e.next())n.value.g=t}function Zu(e,t,n){if(n=n===void 0?!1:n,!e.i.segmentIndex||(e.h||(e.h=e.i.segmentIndex.fc(t,!0,e.u)),!e.h))return Promise.resolve();for(n&&e.h.next(),t=[];e.g.size<e.m&&(n=e.h.next().value,!!n);){var i=!0;if(n.isPreload()&&n.endByte!=null&&(i=!1),n.lc()==2&&(i=!1),n.kc(!1)&&(i=!1),i&&n.ka&&t.push(Xy(e,n.ka)),i&&!e.g.has(n)&&(i=new ep(e.l),t.push(Jy(i,n,e.i)),e.g.set(n,i)),!e.A(n,e.i))break}return Qf(e),Promise.all(t)}function Xy(e,t){if(!e.i.segmentIndex||t.kc()||Array.from(e.j.keys()).some(function(r){return Gu(r,t)}))return Promise.resolve();var n=new ep(e.l),i=Jy(n,t,e.i);return e.j.set(t,n),i}function Yy(e,t){t=T(t.keys());for(var n=t.next();!n.done;n=t.next())(n=n.value)&&Ju(e,n)}function Di(e){Yy(e,e.g),Yy(e,e.j),e.h=null}uc.prototype.eb=function(e,t){t=t===void 0?!1:t;for(var n=T(this.g.keys()),i=n.next();!i.done;i=n.next())i=i.value,e>i.endTime&&Ju(this,i);t&&Qf(this)},uc.prototype.ae=function(e){this.u=e,this.h&&this.h.ae(e)};function Qf(e){if(e.g.size)for(var t=Array.from(e.g.keys()),n=T(e.j.keys()),i=n.next(),r={};!i.done;r={Ih:void 0},i=n.next())r.Ih=i.value,t.some((function(o){return function(s){return Gu(s.ka,o.Ih)}})(r))||Ju(e,r.Ih)}function Zy(e,t){e.m=t;for(var n=Array.from(e.g.keys());n.length>t;){var i=n.pop();i&&Ju(e,i)}Qf(e)}function q5(e,t){t&&t!==e.i&&(Di(e),e.i=t)}function Ju(e,t){var n=e.g;t instanceof Rn&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function ep(e){this.g=e,this.He=this.si=null}function Jy(e,t,n){var i=new Uint8Array(0);return e.He=e.g(t,n,function(r){return N(function(o){if(o.g==1)return i.byteLength>0?i=Mt(i,r):i=r,e.si?w(o,e.si(i),3):o.B(0);i=new Uint8Array(0),Z(o)})}),e.He.promise.catch(function(r){return r instanceof _&&r.code==7001?Promise.resolve():Promise.reject(r)})}ep.prototype.abort=function(){this.He&&this.He.abort()},K("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"});function tp(e){var t=_n(e),n=t.split("/")[0];return e=Mn(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Se:null,colorGamut:null,frameRate:null,timescale:null}}function V5(e,t,n){function i(P){I=P.name;var j=P.reader;j.skip(24);var b=j.Ia(),U=j.Ia();j.skip(50),p=String(b),d=String(U),P.reader.Sa()&&Me(P)}function r(P){var j=Q1(P.reader);v=j.channelCount,y=j.sampleRate,o(P.name)}function o(P){switch(P=P.toLowerCase(),P){case"avc1":case"avc3":u.push(P+".42E01E"),l=!0;break;case"hev1":case"hvc1":u.push(P+".1.6.L93.90"),l=!0;break;case"dvh1":case"dvhe":u.push(P+".05.04"),l=!0;break;case"vp09":u.push(P+".00.10.08"),l=!0;break;case"av01":u.push(P+".0.01M.08"),l=!0;break;case"mp4a":s.push("mp4a.40.2"),a=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":s.push(P),a=!0;break;case"apac":s.push("apac.31.00"),a=!0}}var s=[],u=[],a=!1,l=!1,c=null,d=null,p=null,v=null,y=null,E=null,A=null,k=null,I;if(new Je().box("moov",Me).box("trak",Me).box("mdia",Me).W("mdhd",function(P){P=Yl(P.reader,P.version),c=P.language,k=P.timescale}).box("minf",Me).box("stbl",Me).W("stsd",gr).box("mp4a",function(P){var j=Q1(P.reader);v=j.channelCount,y=j.sampleRate,P.reader.Sa()?Me(P):o(P.name)}).box("esds",function(P){P=P.reader;for(var j="mp4a",b,U;P.Sa();){b=P.ea();for(var B=P.ea();B&128;)B=P.ea();if(b==3)P.Ia(),B=P.ea(),B&128&&P.Ia(),B&64&&P.skip(P.ea()),B&32&&P.Ia();else if(b==4)U=P.ea(),P.skip(12);else if(b==5)break}U&&(j+="."+Fu(U),b==5&&P.Sa()&&(b=P.ea(),U=(b&248)>>3,U===31&&P.Sa()&&(U=32+((b&7)<<3)+((P.ea()&224)>>5)),j+="."+U)),s.push(j),a=!0}).box("ac-3",r).box("ec-3",r).box("ac-4",r).box("Opus",r).box("fLaC",r).box("apac",r).box("avc1",i).box("avc3",i).box("hev1",i).box("hvc1",i).box("dva1",i).box("dvav",i).box("dvh1",i).box("dvhe",i).box("vp09",i).box("av01",i).box("avcC",function(P){var j=I||"";switch(I){case"dvav":j="avc3";break;case"dva1":j="avc1"}P=P.reader,P.skip(1),P=j+"."+Fu(P.ea())+Fu(P.ea())+Fu(P.ea()),u.push(P),l=!0}).box("hvcC",function(P){var j=I||"";switch(I){case"dvh1":j="hvc1";break;case"dvhe":j="hev1"}var b=P.reader;b.skip(1),P=b.ea();var U=["","A","B","C"][P>>6],B=P&31,G=b.$(),H=(P&32)>>5?"H":"L";P=[b.ea(),b.ea(),b.ea(),b.ea(),b.ea(),b.ea()],b=b.ea();for(var F=0,q=0;q<32&&(F|=G&1,q!=31);q++)F<<=1,G>>=1;for(j=j+("."+U+B)+("."+Fu(F,!0)),j+="."+H+b,U="",B=P.length;B--;)((H=P[B])||U)&&(U="."+H.toString(16).toUpperCase()+U);j+=U,u.push(j),l=!0}).box("dvcC",function(P){var j=I||"";switch(I){case"hvc1":j="dvh1";break;case"hev1":j="dvhe";break;case"avc1":j="dva1";break;case"avc3":j="dvav";break;case"av01":j="dav1"}var b=P.reader;b.skip(2),P=b.ea(),b=b.ea(),u.push(j+"."+jn(P>>1&127)+"."+jn(P<<5&32|b>>3&31)),l=!0}).box("dvvC",function(P){var j=I||"";switch(I){case"hvc1":j="dvh1";break;case"hev1":j="dvhe";break;case"avc1":j="dva1";break;case"avc3":j="dvav";break;case"av01":j="dav1"}var b=P.reader;b.skip(2),P=b.ea(),b=b.ea(),u.push(j+"."+jn(P>>1&127)+"."+jn(P<<5&32|b>>3&31)),l=!0}).W("vpcC",function(P){var j=I||"",b=P.reader;P=b.ea();var U=b.ea();b=b.ea()>>4&15,u.push(j+"."+jn(P)+"."+jn(U)+"."+jn(b)),l=!0}).box("av1C",function(P){var j=I||"";switch(I){case"dav1":j="av01"}var b=P.reader;b.skip(1),P=b.ea(),b=b.ea();var U=P>>>5,B=(b&64)>>6;u.push(j+"."+U+"."+jn(P&31)+(b>>>7?"H":"M")+"."+jn(U===2&&B?(b&32)>>5?12:10:B?10:8)+"."+((b&16)>>4)+"."+((b&8)>>3)+((b&4)>>2)+(b&3)+"."+jn(1)+"."+jn(1)+"."+jn(1)+".0"),l=!0}).box("enca",Hl).box("encv",Un).box("sinf",Me).box("frma",function(P){P=Lf(P.reader).codec,o(P)}).box("colr",function(P){u=u.map(function(U){if(U.startsWith("av01.")){var B=P.reader,G=B.Wa(),H=B.bc(4,!1),F=String.fromCharCode(H[0]);if(F+=String.fromCharCode(H[1]),F+=String.fromCharCode(H[2]),F+=String.fromCharCode(H[3]),F==="nclx"){H=B.Ia(),F=B.Ia();var q=B.Ia(),z=B.ea()>>7,Y=U.split(".");Y.length==10&&(Y[6]=jn(H),Y[7]=jn(F),Y[8]=jn(q),Y[9]=String(z),U=Y.join("."))}B.seek(G)}return U});var j=Hw(P.reader),b=j.colorGamut;E=j.Se,A=b}).parse(e||t,!0,!0),!s.length&&!u.length)return null;var C=a&&!l,L=new Map;if(l&&!n){n=new Li("video/mp4"),e&&n.init(e);try{n.Yf(t);for(var O=T(n.Eg()),M=O.next();!M.done;M=O.next()){var D=M.value;L.set(D,D)}}catch{}n.ke()}return{type:C?"audio":"video",mimeType:C?"audio/mp4":"video/mp4",codecs:np(s.concat(u)).join(", "),language:c,height:d,width:p,channelCount:v,sampleRate:y,closedCaptions:L,Se:E,colorGamut:A,frameRate:null,timescale:k}}function np(e){var t=new Set,n=[];e=T(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r=Vr(i);t.has(r)||(n.push(i),t.add(r))}return t=Zh("audio",n),i=Zh("video",n),e=Zh(Re,n),i=H5(i),t=t.concat(i).concat(e),n.length&&!t.length?n:t}function H5(e){if(e.length<=1)return e;var t=e.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?hn('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(n){return n!=t}):e}function G5(e){var t=null;return new Je().box("moov",Me).box("trak",Me).box("mdia",Me).box("minf",Me).box("stbl",Me).W("stsd",gr).box("encv",Un).box("enca",Hl).box("sinf",Me).box("schi",Me).W("tenc",function(n){n=n.reader,n.ea(),n.ea(),n.ea(),n.ea(),n=n.bc(16,!1),t=Ur(n)}).parse(e,!0),t}function ip(e,t,n){var i,r,o,s,u;return N(function(a){if(a.g==1)return i=t,i.cryptoKey?a.B(2):w(a,i.fetchKey(),3);if(r=i.iv,!r)for(r=Te(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+n,s=r.byteLength-1;s>=0;s--)r[s]=o&255,o>>=8;return t.blockCipherMode=="CBC"?u={name:"AES-CBC",iv:r}:u={name:"AES-CTR",counter:r,length:64},a.return(S.crypto.subtle.decrypt(u,i.cryptoKey,e))})}function Rs(e,t,n){var i,r,o,s,u,a,l;return N(function(c){switch(c.g){case 1:return i=Ls(e),(r=z5.get(i))?c.return(r):(o=0,s=Lt([e],n),ue(c,2),s.method="HEAD",w(c,t.request(o,s).promise,4));case 4:u=c.h,r=u.headers["content-type"],Ae(c,3);break;case 2:if(a=ae(c),!a||a.code!=1002&&a.code!=1001){c.B(3);break}return s.method="GET",w(c,t.request(o,s).promise,6);case 6:l=c.h,r=l.headers["content-type"];case 3:return c.return(r?r.toLowerCase().split(";").shift():"")}})}function Ls(e){return e=new It(e).Tb.split("/").pop().split("."),e.length==1?"":e.pop().toLowerCase()}function Ps(e,t,n,i,r){return e=Lt(e,i,r),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}var z5=new Map().set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html");function $y(e,t){var n=this;this.g=t,this.j=e,this.i=null,this.L=new Map,this.D=1,this.C=this.u=null,this.T=0,this.h=new Map,this.M=!1,this.V=null,this.F=!1,this.l=new ys(function(){return K5(n)}),this.P=Date.now()/1e3,this.m=new Map,this.R={projection:null,hfov:null},this.Z=0,this.X=1/0,this.H=null,this.O=[],this.A=new le(function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var i=n.j.presentationTimeline.jc(),r=n.j.presentationTimeline.Mb();r-i>1?x5(n.g.ba,i,r):Hf(n.g.ba)}else Hf(n.g.ba),n.A&&n.A.stop();else n.A&&n.A.stop()}),this.I=null,this.J=!1,this.K=new le(function(){var i=n.g.video;!i.ended&&n.I&&(n.J=!0,i.currentTime=n.I,n.I=null)}),this.G=new Fe}h=$y.prototype,h.destroy=function(){return this.l.destroy()};function K5(e){var t,n,i,r,o,s,u;return N(function(a){if(a.g==1){for(e.A&&e.A.stop(),e.A=null,e.K&&e.K.stop(),e.K=null,e.G&&(e.G.release(),e.G=null),t=[],n=T(e.h.values()),i=n.next();!i.done;i=n.next())r=i.value,zi(r),t.push(fc(r)),r.na&&(Di(r.na),r.na=null);for(o=T(e.m.values()),s=o.next();!s.done;s=o.next())u=s.value,Di(u);return w(a,Promise.all(t),2)}e.h.clear(),e.m.clear(),e.g=null,e.j=null,e.i=null,e.I=null,Z(a)})}h.configure=function(e){if(this.i=e,this.V=new A1({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor},!0),e.disableAudioPrefetch){var t=this.h.get("audio");t&&t.na&&(Di(t.na),t.na=null),t=T(this.m.keys());for(var n=t.next();!n.done;n=t.next())n=n.value,Di(this.m.get(n)),this.m.delete(n)}for(e.disableTextPrefetch&&(t=this.h.get(Re))&&t.na&&(Di(t.na),t.na=null),e.disableVideoPrefetch&&(t=this.h.get("video"))&&t.na&&(Di(t.na),t.na=null),t=T(this.h.keys()),n=t.next();!n.done;n=t.next())n=this.h.get(n.value),n.na?(Zy(n.na,e.segmentPrefetchLimit),e.segmentPrefetchLimit>0||(Di(n.na),n.na=null)):e.segmentPrefetchLimit>0&&(n.na=op(this,n.stream));e.disableAudioPrefetch||Q5(this)};function W5(e,t,n){e.j.presentationTimeline.U()||(e.Z=t,e.X=n)}h.start=function(e){var t=this;return N(function(n){if(n.g==1)return w(n,$5(t,e||new Map),2);nt(t.l),t.M=!0,Z(n)})};function X5(e,t){var n,i,r,o,s,u;N(function(a){switch(a.g){case 1:return n=Rt,e.T++,i=e.T,ue(a,2),w(a,Sy(e.g.ba,n.Va),4);case 4:Ae(a,3);break;case 2:r=ae(a),e.g&&e.g.onError(r);case 3:o=St(t.mimeType,t.codecs),tc(e.g.ba,o,e.j.sequenceMode,t.external),s=e.g.ba.Z,(s.isTextVisible()||e.i.alwaysStreamText)&&e.T==i&&(u=lc(e,t),e.h.set(n.Va,u),rn(e,u,0)),Z(a)}})}function Y5(e){var t=e.h.get(Re);t&&(zi(t),fc(t).catch(function(){}),e.H=e.h.get(Re),e.h.delete(Re),t.stream&&t.stream.closeSegmentIndex&&t.stream.closeSegmentIndex()),e.C=null}function Qy(e,t){for(var n=e.g.Za()<0,i=T(e.h.values()),r=i.next();!r.done;r=i.next())r=r.value,r.Aa&&r.Aa.ae(n),r.na&&r.na.ae(n);for(i=T(e.m.values()),r=i.next();!r.done;r=i.next())r.value.ae(n);(n=e.h.get("video"))&&(i=n.stream)&&(t?(t=i.trickModeVideo)&&!n.$c&&(bs(e,t,!1,0,!1),n.$c=i):(t=n.$c)&&(n.$c=null,bs(e,t,!0,0,!1)))}function e2(e,t,n,i,r,o){n=n===void 0?!1:n,i=i===void 0?0:i,r=r===void 0?!1:r,o=o===void 0?!1:o,e.u=t,e.M&&(t.video&&bs(e,t.video,n,i,r,o),t.audio&&bs(e,t.audio,n,i,r,o))}function ac(e,t){N(function(n){if(n.g==1)return e.H=null,e.C=t,e.M?t.segmentIndex?n.B(2):w(n,t.createSegmentIndex(),2):n.return();bs(e,t,!0,0,!1),Z(n)})}function Z5(e){var t=e.h.get(Re);t&&bs(e,t.stream,!0,0,!0)}function J5(e,t){for(var n=T(e.L.entries()),i=n.next();!i.done;i=n.next()){var r=T(i.value);i=r.next().value,r=r.next().value,i.includes(t.type)&&(r(),e.L.delete(i))}}function bs(e,t,n,i,r,o){var s=e.h.get(t.type);s||t.type!=Re?s&&(s.$c&&(t.trickModeVideo?(s.$c=t,t=t.trickModeVideo):s.$c=null),s.stream!=t||r)&&(e.m.has(t)?s.na=e.m.get(t):s.na&&q5(s.na,t),t.type==Re&&s.stream!=t&&(r=St(t.mimeType,t.codecs),tc(e.g.ba,r,e.j.sequenceMode,t.external)),!e.m.has(s.stream)&&s.stream.closeSegmentIndex&&(s.Ra?(r="("+s.type+":"+s.stream.id+")",e.L.has(r)||e.L.set(r,s.stream.closeSegmentIndex)):s.stream.closeSegmentIndex()),r=s.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,s.stream=t,s.Aa=null,s.Lg=!!o,t.dependencyStream?s.Rc=lc(e,t.dependencyStream):s.Rc=null,r2(e),r&&(s.xb=null,s.Fc=null,s.Ec=null,t.isAudioMuxedInVideo&&(t=null,s.type==="video"?t=e.h.get("audio"):s.type==="audio"&&(t=e.h.get("video")),t&&(fc(t).catch(function(){}),t.xb=null,t.Fc=null,t.Ec=null,rp(e,t),t2(e,t).catch(function(u){e.g&&e.g.onError(u)})))),n?s.ec?s.ge=!0:s.Ra?(s.dc=!0,s.Cd=i,s.ge=!0):(zi(s),ap(e,s,!0,i).catch(function(u){e.g&&e.g.onError(u)})):s.Ra||s.yb||rn(e,s,0),t2(e,s).catch(function(u){e.g&&e.g.onError(u)})):X5(e,t)}function t2(e,t){var n,i,r;return N(function(o){if(o.g==1)return t.ab?(n=t.stream,i=t.ab,n.segmentIndex?o.B(2):w(o,n.createSegmentIndex(),2)):o.return();if(o.g!=4)return r=n.dependencyStream,!r||r.segmentIndex?o.B(4):w(o,r.createSegmentIndex(),4);if(t.ab!=i||t.stream!=n)return o.return();var s=e.g.hc(),u=Xr(e.g.ba,t.type),a=t.stream.segmentIndex.find(t.Qa?t.Qa.endTime:s),l=a==null?null:t.stream.segmentIndex.get(a);a=l?Pf(l):null,l&&!a&&(a=(l.endTime-l.getStartTime())*(t.stream.bandwidth||e.u.bandwidth)/8),a?((l=l.ka)&&(a+=(l.endByte?l.endByte+1-l.startByte:null)||0),l=e.g.getBandwidthEstimate(),s=a*8/l<(u||0)-s-e.i.rebufferingGoal||t.ab.h.g>a):s=!0,s&&t.ab.abort(),Z(o)})}h.rd=function(){if(this.g){for(var e=this.g.hc(),t=T(this.h.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=this.h.get(i);var r;if((r=!this.J)&&(r=this.g.ba,i==Re?(r=r.h,r=r.g==null||r.h==null?!1:e>=r.g&&e<r.h):(r=ks(r,i),r=bf(r,e)),r=!r),r){if(this.P=0,n.na&&(n.na.h=null),n.type==="audio"){r=T(this.m.values());for(var o=r.next();!o.done;o=r.next())o.value.h=null}n.Aa=null,(Xr(this.g.ba,i)!=null||n.Ra)&&rp(this,n),n.ab&&(n.ab.abort(),n.ab=null),i===Re&&(i=this.g.ba,i.K&&i.K.ke()),n.rd=!0}!this.J||n.ec||n.Ra||n.yb||rn(this,n,0)}Qu(this)&&dp(this)}};function rp(e,t){t.ec||t.dc||(t.Ra?(t.dc=!0,t.Cd=0):Vf(e.g.ba,t.type)==null?t.yb==null&&rn(e,t,0):(zi(t),ap(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function $5(e,t){var n,i,r,o,s,u,a,l;return N(function(c){if(c.g==1){if(!e.u)throw new _(2,5,5006);return n=gc(e,!0),i=e.g.ba,w(c,i.init(n,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(nt(e.l),e.updateDuration(),r=T(n.keys()),o=r.next();!o.done;o=r.next())s=o.value,u=n.get(s),e.h.has(s)||(a=lc(e,u),t.has(u.id)&&(l=t.get(u.id),F5(l,function(d,p,v){return hc(d,p,v||null,e.i.retryParameters,e.g.Hc)}),a.na=l),e.h.set(s,a),rn(e,a,0));r2(e),Z(c)})}function lc(e,t){var n={stream:t,type:t.type,Aa:null,na:op(e,t),Qa:null,xb:null,Of:null,Fc:null,Ec:null,Mf:null,Nf:null,$c:null,endOfStream:!1,Ra:!1,yb:null,dc:!1,Cd:0,ge:!1,ec:!1,rd:!0,Lg:!1,Xh:!1,Kd:!1,ab:null,Rc:null};return t.dependencyStream&&(n.Rc=lc(e,t.dependencyStream)),n}function op(e,t){if(t.type==="video"&&e.i.disableVideoPrefetch||t.type==="audio"&&e.i.disableAudioPrefetch||t.type===Re&&(t.mimeType=="application/cea-608"||t.mimeType=="application/cea-708")||t.type===Re&&e.i.disableTextPrefetch)return null;if(e.m.has(t))return e.m.get(t);var n=e.h.get(t.type);return(n=n&&n.na)&&t===n.i?n:e.i.segmentPrefetchLimit>0?new uc(e.i.segmentPrefetchLimit,t,function(i,r,o){return hc(i,r,o||null,e.i.retryParameters,e.g.Hc)},e.g.Za()<0,e.g.Am):null}function Q5(e){for(var t=e.i.segmentPrefetchLimit,n=e.i.prefetchAudioLanguages,i=T(e.j.variants),r=i.next(),o={};!r.done;o={Sb:void 0},r=i.next())if(o.Sb=r.value,o.Sb.audio)if(e.m.has(o.Sb.audio)){if(r=e.m.get(o.Sb.audio),Zy(r,t),!(t>0&&n.some((function(u){return function(a){return ss(u.Sb.audio.language,a)}})(o)))){var s=e.h.get(o.Sb.audio.type);r!==(s&&s.na)&&Di(r),e.m.delete(o.Sb.audio)}}else t<=0||!n.some((function(u){return function(a){return ss(u.Sb.audio.language,a)}})(o))||!(r=op(e,o.Sb.audio))||(o.Sb.audio.segmentIndex||o.Sb.audio.createSegmentIndex(),e.m.set(o.Sb.audio,r))}h.updateDuration=function(){var e=$1(),t=this.j.presentationTimeline.getDuration();t<1/0?(e&&(this.A&&this.A.stop(),Hf(this.g.ba)),this.g.ba.Fb(t)):e?(this.A&&this.A.va(.5),this.g.ba.Fb(1/0)):this.g.ba.Fb(4294967296)};function eI(e,t){var n,i,r,o,s,u,a,l,c;return N(function(d){switch(d.g){case 1:if(nt(e.l),n=Rt,t.Ra||t.yb==null||t.ec)return d.return();if(t.yb=null,!t.dc){d.B(2);break}return w(d,ap(e,t,t.ge,t.Cd),3);case 3:return d.return();case 2:if(J5(e,t),t.stream.segmentIndex){d.B(4);break}return i=t.stream,ue(d,5),w(d,t.stream.createSegmentIndex(),7);case 7:Ae(d,6);break;case 5:return r=ae(d),w(d,lp(e,t,r),8);case 8:return d.return();case 6:if(i!=t.stream)return i.closeSegmentIndex&&i.closeSegmentIndex(),t.Ra||t.yb||rn(e,t,0),d.return();case 4:if(!t.Rc){d.B(9);break}if(t.Rc.stream.segmentIndex){d.B(9);break}return ue(d,11),w(d,t.Rc.stream.createSegmentIndex(),13);case 13:Ae(d,9);break;case 11:ae(d);case 9:ue(d,14),o=tI(e,t),o!=null&&(rn(e,t,o),t.Kd=!1),Ae(d,15);break;case 14:return s=ae(d),w(d,lp(e,t,s),16);case 16:return d.return();case 15:if(t.type===n.Va)return d.return();if(u=[],t.stream&&!t.stream.isAudioMuxedInVideo&&u.push(t),a=t.type===n.ia?n.Ga:n.ia,(l=e.h.get(a))&&l.stream&&!l.stream.isAudioMuxedInVideo&&u.push(l),!e.M||!u.every(function(p){return p.endOfStream})){d.B(0);break}return w(d,e.g.ba.endOfStream(),18);case 18:nt(e.l),c=e.g.ba.getDuration(),c!=0&&c<e.j.presentationTimeline.getDuration()&&e.j.presentationTimeline.Fb(c),Z(d)}})}function tI(e,t){if(up(t))return E5(e.g.ba,t.stream.originalId||""),null;if(t.type==Re&&A5(e.g.ba),t.stream.isAudioMuxedInVideo&&t.type=="audio")return null;if(t.type!=Re&&Wr(e.g.ba))return pc(e,!0),null;var n=e.i.updateIntervalSeconds/Math.max(1,Math.abs(e.g.Za()));if(!Ty(e.g.ba)&&t.type!=Re)return n/2;var i=e.g.hc();if(t.type==="audio")for(var r=T(e.m.keys()),o=r.next();!o.done;o=r.next())o=e.m.get(o.value),o.eb(i,!0),Zu(o,i);r=t.Qa?t.Qa.endTime:i;var s=T5(e.g.ba,t.type,i);o=Math.max(1,Math.max(e.i.rebufferingGoal,e.i.bufferingGoal)*e.D);var u=e.j.presentationTimeline.getDuration()-r,a=Xr(e.g.ba,t.type);if(u<1e-6&&a)return t.endOfStream=!0,t.type=="video"&&(n=e.h.get(Re))&&up(n)&&(n.endOfStream=!0),null;if(t.endOfStream=!1,s>=o)return n/2;if(u=!t.Aa,a=cc(e,t,i,a),!a)return e=1/0,(t=t.Qa)&&(e=t.endTime-t.startTime),Math.min(e/2,n);s=t.xb;var l=a.ka;s&&l&&Gu(l,s)&&(s.g=l.g),s=!1,u&&t.Lg&&(s=!0,t.Lg=!1),u=1/0,l=Array.from(e.h.values()),l=T(l);for(var c=l.next();!c.done;c=l.next())c=c.value,up(c)||c.Aa&&!c.Aa.current()||(u=Math.min(u,c.Qa?c.Qa.endTime:i));return r>=u+e.j.presentationTimeline.h?n:(t.na&&t.Aa&&!e.m.has(t.stream)&&(t.na.eb(a.startTime+.001),Zu(t.na,a.startTime).catch(function(){})),Qu(e)&&sI(e,t,a)||(nI(e,t,i,a,s).catch(function(){}),t.Rc&&n2(e,t.Rc,i,o)),null)}function cc(e,t,n,i){if(t.Aa){var r=t.Aa.current();return r&&t.Qa&&Math.abs(t.Qa.startTime-r.startTime)<.001&&(r=t.Aa.next().value),r}if(t.Qa||i)return r=t.Qa?t.Qa.endTime:i,n=e.g.Za()<0,t.stream.segmentIndex&&(t.Aa=t.stream.segmentIndex.fc(r,!1,n)),t.Aa&&t.Aa.next().value;i=e.j.sequenceMode||Qu(e)?0:e.i.inaccurateManifestTolerance;var o=Math.max(n-i,0),s=e.g.ba.getDuration();for(Math.abs(o-s)<1&&(i=1,o=Math.max(n-i,0)),s=e.g.Za()<0,e=null,i&&(t.stream.segmentIndex&&(t.Aa=t.stream.segmentIndex.fc(o,!1,s)),e=t.Aa&&t.Aa.next().value),e||(t.stream.segmentIndex&&(t.Aa=t.stream.segmentIndex.fc(n,!1,s)),e=t.Aa&&t.Aa.next().value);((r=e)==null?void 0:r.lc())===2;)i=n=void 0,e=(i=(n=t.Aa)==null?void 0:n.next().value)!=null?i:null;return e}function nI(e,t,n,i,r){var o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O;return N(function(M){switch(M.g){case 1:if(o=Rt,s=t.stream,u=t.Aa,t.Ra=!0,ue(M,2),i.lc()==2)throw new _(1,1,1011);return w(M,rI(e,t,i,r),4);case 4:return nt(e.l),e.F?M.return():(a=s.mimeType=="video/mp4"||s.mimeType=="audio/mp4",l=S.ReadableStream,e.i.lowLatencyMode&&e.j.isLowLatency&&l&&a&&(e.j.type!="HLS"||i.u)?(p=new Uint8Array(0),y=v=!1,A=function(D){var P,j,b;return N(function(U){switch(U.g){case 1:if(v||(y=!0,nt(e.l),e.F))return U.return();if(ue(U,2),p=Mt(p,D),P=!1,j=0,new Je().box("mdat",function(B){j=B.size+B.start,P=!0}).parse(p,!1,!0),!P){U.B(4);break}return b=p.subarray(0,j),p=p.subarray(j),w(U,sp(e,t,n,s,i,b,!0,r),5);case 5:t.na&&t.Aa&&Zu(t.na,i.startTime,!0);case 4:Ae(U,0);break;case 2:E=ae(U),Z(U)}})},w(M,$u(e,t,i,A),9)):(c=$u(e,t,i),w(M,c,7)));case 7:return d=M.h,nt(e.l),e.F?M.return():(nt(e.l),t.dc?(t.Ra=!1,rn(e,t,0),M.return()):w(M,sp(e,t,n,s,i,d,!1,r),6));case 9:if(k=M.h,E)throw E;if(y){M.B(10);break}return v=!0,nt(e.l),e.F?M.return():t.dc?(t.Ra=!1,rn(e,t,0),M.return()):w(M,sp(e,t,n,s,i,k,!1,r),10);case 10:t.na&&t.Aa&&Zu(t.na,i.startTime,!0);case 6:if(nt(e.l),e.F)return M.return();t.Qa=i,u.next(),t.Ra=!1,t.Xh=!1,I=e.g.ba.Sc(),C=I[t.type],JSON.stringify(C),t.dc||(L=null,t.type===o.Ga?L=e.h.get(o.ia):t.type===o.ia&&(L=e.h.get(o.Ga)),L&&L.type==o.ia?e.g.Rd(i,t.stream,L.stream.isAudioMuxedInVideo,!1):e.g.Rd(i,t.stream,t.stream.codecs.includes(","),!1)),zi(t),rn(e,t,0),Ae(M,0);break;case 2:if(O=ae(M),nt(e.l,O),e.F)return M.return();if(t.Ra=!1,O.code==7001)t.Ra=!1,zi(t),rn(e,t,0),M.B(0);else if(t.type==o.Va&&e.i.ignoreTextStreamFailures)e.h.delete(o.Va),M.B(0);else return O.code==3017?w(M,iI(e,t,O),0):(t.Kd=!0,O.category==1&&t.na&&Ju(t.na,i),O.severity=2,w(M,lp(e,t,O),0))}})}function n2(e,t,n,i){var r,o,s,u,a,l,c,d,p,v,y,E,A;return N(function(k){switch(k.g){case 1:for(r=Rt,o=t.stream,a=(u=(s=o.segmentIndex)&&s.fc(n))&&u.next().value;a&&e.O.includes(a.startTime);)a=u&&u.next().value;if(!a){k.B(0);break}if(l=a.ka,!l||Gu(l,t.xb)){k.B(3);break}return t.xb=l,ue(k,4),w(k,$u(e,t,l),6);case 6:if(c=k.h,!e.g)return k.return();var I=e.g.ba;I.D&&El(I.D,c,0,o),e.O=[],Ae(k,3);break;case 4:throw d=ae(k),t.xb=null,d;case 3:if(t.Qa&&t.Qa==a){k.B(0);break}return t.Qa=a,ue(k,8),w(k,$u(e,t,a),10);case 10:if(p=k.h,!e.g)return k.return();I=e.g.ba,I.D&&El(I.D,p,0,o),e.O.push(a.startTime),Ae(k,9);break;case 8:throw v=ae(k),t.Qa=null,v;case 9:if(!e.g)return k.return();if(t.dc||(y=null,t.type===r.Ga?y=e.h.get(r.ia):t.type===r.ia&&(y=e.h.get(r.Ga)),y&&y.type==r.ia?e.g.Rd(a,t.stream,y.stream.isAudioMuxedInVideo,!0):e.g.Rd(a,t.stream,t.stream.codecs.includes(","),!0)),E=Math.max.apply(Math,[0].concat(X(e.O))),A=e.g.hc(),A+i>E)return w(k,n2(e,t,a.startTime,i),0);k.B(0)}})}function iI(e,t,n){var i,r,o,s,u,a,l;return N(function(c){switch(c.g){case 1:if(i=Array.from(e.h.values()),i.some(function(d){return d!=t&&d.Xh})){c.B(2);break}if(e.i.avoidEvictionOnQuotaExceededError)return r=cp(e,n),e.g.disableStream(t.stream,r)||rn(e,t,4),c.return();if(o=Math.round(100*e.D),o>20){e.D-=.2,c.B(3);break}if(o>4){e.D-=.04,c.B(3);break}if(s=cp(e,n),u=e.g.disableStream(t.stream,s),!u){t.Kd=!0,e.F=!0,e.g.onError(n),c.B(5);break}return e.D=1,a=e.g.hc(),w(c,dc(e,t,a),5);case 5:return c.return();case 3:return t.Xh=!0,l=e.g.hc(),w(c,dc(e,t,l),2);case 2:rn(e,t,4),Z(c)}})}function rI(e,t,n,i){var r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C;return N(function(L){switch(L.g){case 1:if(r=Rt,o=t.Qa==null,s=[],u=Math.max(0,Math.max(n.appendWindowStart,e.Z)-.1),a=Math.min(n.appendWindowEnd,e.X)+.1,l=n.codecs||t.stream.codecs,c=Vr(l),d=_n(n.mimeType||t.stream.mimeType),p=n.timestampOffset,p==t.Of&&u==t.Fc&&a==t.Ec&&c==t.Mf&&d==t.Nf){L.B(2);break}if(v=t.Mf&&t.Nf&&R5(e.g.ba,t.type,d,l,gc(e)),!v){L.B(3);break}if(y=null,t.type===r.Ga?y=e.h.get(r.ia):t.type===r.ia&&(y=e.h.get(r.Ga)),!y){L.B(3);break}return w(L,fc(y).catch(function(){}),5);case 5:y.xb=null,y.Fc=null,y.Ec=null,rp(e,y);case 3:return w(L,i2(e,t,p,u,a,n,c,d),2);case 2:return Gu(n.ka,t.xb)||(t.xb=n.ka,n.l&&n.ka&&(E=$u(e,t,n.ka),A=function(){var O,M,D,P,j,b,U,B,G,H,F;return N(function(q){switch(q.g){case 1:return ue(q,2),w(q,E,4);case 4:return O=q.h,nt(e.l),M=null,D=new Map,P={projection:null,hfov:null},t.stream&&(j=t.stream.videoLayout)&&(b=j.split("/"),b.includes("PROJ-RECT")?P.projection="rect":b.includes("PROJ-EQUI")?P.projection="equi":b.includes("PROJ-HEQU")?P.projection="hequ":b.includes("PROJ-PRIM")?P.projection="prim":b.includes("PROJ-AIV")&&(P.projection="hequ")),U=new Je,U.box("moov",Me).box("trak",Me).box("mdia",Me).W("mdhd",function(z){M=Yl(z.reader,z.version).timescale}).W("hdlr",function(z){switch(z=z.reader,z.skip(4),z=z.bc(4,!1),String.fromCharCode(z[0],z[1],z[2],z[3])){case"soun":D.set(r.ia,M);break;case"vide":D.set(r.Ga,M)}M=null}),t.type!==r.Ga||P.projection||U.box("minf",Me).box("stbl",Me).W("stsd",gr).box("encv",Un).box("avc1",Un).box("avc3",Un).box("hev1",Un).box("hvc1",Un).box("dvav",Un).box("dva1",Un).box("dvh1",Un).box("dvhe",Un).box("dvc1",Un).box("dvi1",Un).box("vexu",Me).box("proj",Me).W("prji",function(z){z=z.reader.Vd(),P.projection=z}).box("hfov",function(z){z=z.reader.$()/1e3,P.hfov=z}),U.parse(O,!0,!0),t.type===r.Ga&&oI(e,P),D.has(t.type)?n.ka.timescale=D.get(t.type):M!=null&&(n.ka.timescale=M),B=t.stream.segmentIndex,B instanceof mt&&(G=O5(B,n.startTime)),H=t.stream.closedCaptions&&t.stream.closedCaptions.size>0,w(q,e.g.Pi(t.type,O),5);case 5:return w(q,nc(e.g.ba,t.type,O,null,t.stream,H,t.rd,i,!1,!1,G),6);case 6:Ae(q,0);break;case 2:throw F=ae(q),t.xb=null,F}})},k=n.startTime,o&&(I=Xr(e.g.ba,t.type),I!=null&&(k=I)),e.g.Xl(k,n.ka),s.push(A()))),C=t.Qa?t.Qa.i:-1,n.i!=C&&s.push(Ay(e.g.ba,t.type,n.startTime)),w(L,Promise.all(s),0)}})}function i2(e,t,n,i,r,o,s,u){var a,l,c,d,p;return N(function(v){switch(v.g){case 1:if(a=Rt,l=gc(e),ue(v,2),t.Fc=i,t.Ec=r,s&&(t.Mf=s),u&&(t.Nf=u),t.Of=n,c=e.j.sequenceMode||e.j.type=="HLS",d=null,t.type===a.Ga?d=e.h.get(a.ia):t.type===a.ia&&(d=e.h.get(a.Ga)),!(d&&d.stream&&d.stream.isAudioMuxedInVideo)){v.B(4);break}return w(v,Ey(e.g.ba,d.type,n,i,r,c,d.stream.mimeType,d.stream.codecs,l),4);case 4:return w(v,Ey(e.g.ba,t.type,n,i,r,c,o.mimeType||t.stream.mimeType,o.codecs||t.stream.codecs,l),6);case 6:Ae(v,0);break;case 2:throw p=ae(v),t.Fc=null,t.Ec=null,t.Mf=null,t.Nf=null,t.Of=null,p}})}function sp(e,t,n,i,r,o,s,u){s=s===void 0?!1:s,u=u===void 0?!1:u;var a,l,c,d;return N(function(p){switch(p.g){case 1:return a=i.closedCaptions&&i.closedCaptions.size>0,e.i.shouldFixTimestampOffset&&(l=i.mimeType=="video/mp4"||i.mimeType=="audio/mp4",c=null,r.ka&&(c=r.ka.timescale),l&&c&&i.type==="video"&&e.j.type=="DASH"&&new Je().box("moof",Me).box("traf",Me).W("tfdt",function(v){var y,E,A,k,I,C;return N(function(L){return y=Xl(v.reader,v.version),E=y.baseMediaDecodeTime,E?(A=-E/c,k=Number(t.Of)||0,k<A?(I=t.Fc,C=t.Ec,w(L,i2(e,t,A,I,C,r),0)):L.B(0)):L.return()})}).parse(o,!1,s)),w(p,dc(e,t,n),2);case 2:return nt(e.l),d=t.rd,t.rd=!1,w(p,e.g.Pi(t.type,o),3);case 3:return w(p,nc(e.g.ba,t.type,o,r,i,a,d,u,s),4);case 4:nt(e.l),Z(p)}})}function dc(e,t,n){var i,r,o,s,u,a,l,c,d;return N(function(p){if(p.g==1)return e.H==t&&(e.H=null),i=t.stream.segmentIndex,i instanceof mt&&(i.eb(e.j.presentationTimeline.Nb()),r=[],N5(i,function(v){r.push(v.tf())})),o=Math.max(e.i.bufferBehind*e.D,e.j.presentationTimeline.h),s=Vf(e.g.ba,t.type),s==null?p.return():(u=n-s,a=e.i.evictionGoal,l=e.j.presentationTimeline.jc(),c=e.j.presentationTimeline.Mb(),d=u-o,c-l>a&&(d=Math.max(u-o,l-a-s)),d<=a?p.return():w(p,e.g.ba.remove(t.type,s,s+d,r),2));if(p.g!=4)return nt(e.l),e.H?w(p,dc(e,e.H,n),4):p.B(0);nt(e.l),Z(p)})}function up(e){return e&&e.type==Re&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function $u(e,t,n,i){var r,o,s,u,a;return N(function(l){switch(l.g){case 1:if(r=n.kc())return l.return(r);if(o=null,t.na){var c=t.na,d=c.g;n instanceof Rn&&(d=c.j),d.has(n)?(c=d.get(n),i&&(c.si=i),o=c.He):o=null}return o||(o=hc(n,t.stream,i||null,e.i.retryParameters,e.g.Hc)),s=0,t.Aa&&(s=t.Aa.h),t.ab=o,w(l,o.promise,2);case 2:if(u=l.h,t.ab=null,a=u.data,!n.aesKey){l.B(3);break}return w(l,ip(a,n.aesKey,s),4);case 4:a=l.h;case 3:return l.return(a)}})}function hc(e,t,n,i,r,o){o=o===void 0?!1:o;var s=e instanceof he?e:void 0,u=s?1:0;return e=Ps(e.S(),e.startByte,e.endByte,i,n),e.contentType=t.type,r.request(zn,e,{type:u,stream:t,segment:s,isPreload:o})}function ap(e,t,n,i){var r,o;return N(function(s){if(s.g==1)return t.dc=!1,t.ge=!1,t.Cd=0,t.ec=!0,t.Qa=null,t.Aa=null,t.na&&!e.m.has(t.stream)&&Di(t.na),i?(r=e.g.hc(),o=e.g.ba.getDuration(),w(s,e.g.ba.remove(t.type,r+i,o),3)):w(s,Sy(e.g.ba,t.type),4);if(s.g!=3)return nt(e.l),n?w(s,e.g.ba.flush(t.type),3):s.B(3);nt(e.l),t.ec=!1,t.endOfStream=!1,t.Ra||t.yb||rn(e,t,0),Z(s)})}function rn(e,t,n){var i=t.type;(i!=Re||e.h.has(i))&&(t.yb=new Nu(function(){var r;return N(function(o){if(o.g==1)return ue(o,2),w(o,eI(e,t),4);if(o.g!=2)return Ae(o,0);r=ae(o),e.g&&e.g.onError(r),Z(o)})}).Y(n))}function zi(e){e.yb!=null&&(e.yb.stop(),e.yb=null)}function fc(e){return N(function(t){return e.ab?w(t,e.ab.abort(),0):t.B(0)})}function lp(e,t,n){var i,r,o,s,u;return N(function(a){switch(a.g){case 1:return n.code==3024?(t.Ra=!1,zi(t),rn(e,t,0),a.return()):w(a,x1(e.V),2);case 2:if(nt(e.l),n.category===1&&n.code!=1003){if(t.$c)return Qy(e,!1),a.return();i=cp(e,n),n.handled=e.g.disableStream(t.stream,i),n.handled&&(n.severity=1)}if(n.handled||n.code!=1011){a.B(3);break}for(r=e.g.hc(),o=Xr(e.g.ba,t.type),s=cc(e,t,r,o);((u=s)==null?void 0:u.lc())===2;)t.Qa=s,s=cc(e,t,r,o);if(!s){a.B(3);break}return w(a,Ay(e.g.ba,t.type,s.startTime),5);case 5:return t.Ra=!1,t.Kd=!1,zi(t),rn(e,t,0),a.return();case 3:(!n.handled||n.code!=1011)&&e.g.onError(n),n.handled||e.i.failureCallback(n),Z(a)}})}function cp(e,t){return e.i.maxDisabledTime===0&&t.code==1011?1:e.i.maxDisabledTime}function pc(e,t){t=t===void 0?!1:t;var n,i,r,o,s,u;return N(function(a){if(a.g==1){if(n=Date.now()/1e3,i=e.i.minTimeBetweenRecoveries,!t){if(!e.i.allowMediaSourceRecoveries||n-e.P<i)return a.return(!1);e.P=n}return r=Rt,(o=e.h.get(r.ia))&&(zi(o),o.ab&&(o.ab.abort(),o.ab=null),o.xb=null,o.Fc=null,o.Ec=null,o.Ra=!1,o.dc=!1,o.Cd=0,o.ge=!1,o.ec=!1,o.Aa&&o.Aa.ai()),(s=e.h.get(r.Ga))&&(zi(s),s.ab&&(s.ab.abort(),s.ab=null),s.xb=null,s.Fc=null,s.Ec=null,s.Ra=!1,s.dc=!1,s.Cd=0,s.ge=!1,s.ec=!1,s.Aa&&s.Aa.ai()),u=e.g.video.paused,w(a,Iy(e.g.ba,gc(e)),2)}return!s||s.ec||s.Ra||s.yb||rn(e,s,0),!o||o.ec||o.Ra||o.yb||rn(e,o,0),u||e.g.video.play(),a.return(!0)})}function oI(e,t){if(e.R.projection!=t.projection||e.R.hfov!=t.hfov){if(t.projection!=null||t.hfov!=null){var n=new Map().set("detail",t);n=new J("spatialvideoinfo",n)}else n=new J("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.R=t}}function Qu(e){if(e.i.crossBoundaryStrategy!=="keep")return!0;var t=ke();if(t.Gb()){if(!t.qg()){for(t=T(e.h.keys()),n=t.next();!n.done;n=t.next())if(n=e.h.get(n.value),n.type!==Rt.Va&&(n=n.stream)&&n.fullMimeTypes&&n.fullMimeTypes.size>1){for(e=new Set,t=T(n.fullMimeTypes),n=t.next();!n.done;n=t.next())e.add(Lu(n.value));return e.size>1}}}else{t=T(e.h.keys());for(var n=t.next();!n.done;n=t.next())if(n=e.h.get(n.value),n.type!==Rt.Va&&(n=n.stream)&&n.fullMimeTypes&&n.fullMimeTypes.size>1)return!0}return!1}function r2(e){e.G.Ta(),Qu(e)&&(e.G.o(e.g.video,"waiting",function(){return dp(e)}),e.G.o(e.g.video,"timeupdate",function(){return dp(e)}))}function dp(e){if(Qu(e)){e.K.stop();var t=e.g.hc(),n=e.h.get("video")||e.h.get("audio");n&&(n=n.xb)&&n.g!==null&&(t=n.g-t,t<0||t>1||(e.I=n.g+.1,e.K.Y(t)))}}function sI(e,t,n){if(t.type===Re)return!1;var i=t.xb;if(!i)return!1;var r=n.ka;if(n=i.g!==r.g,e.i.crossBoundaryStrategy==="reset_to_encrypted"&&(i.encrypted||r.encrypted||(n=!1),i.encrypted&&(e.i.crossBoundaryStrategy="keep")),e.i.crossBoundaryStrategy==="RESET_ON_ENCRYPTION_CHANGE"&&i.encrypted==r.encrypted&&(n=!1),e.i.crossBoundaryStrategy==="keep"&&i.mimeType&&r.mimeType){var o=Et(Mn(i.mimeType)),s=Et(Mn(i.mimeType));i.mimeType==r.mimeType&&o==s&&(n=!1)}return(e.h.get("video")||e.h.get("audio"))===t&&n&&(e.J||t.rd)&&(e.J=!1,pc(e,!0).then(function(){var u=new Map().set("oldEncrypted",i.encrypted).set("newEncrypted",r.encrypted);e.g.onEvent(new J("boundarycrossed",u))})),n}function gc(e,t){function n(o){if(o.fullMimeTypes&&o.fullMimeTypes.size>1&&e.h.has(o.type)){var s=e.h.get(o.type),u=Xr(e.g.ba,s.type),a=e.g.hc();(s=cc(e,s,a,u))&&s.codecs&&s.mimeType&&(o.codecs=s.codecs,o.mimeType=s.mimeType)}}t=t===void 0?!1:t;var i=new Map,r=e.u.audio;return r&&(n(r),i.set("audio",r)),(r=e.u.video)&&(n(r),i.set("video",r)),t&&e.C&&i.set(Re,e.C),i}function mc(){}function ea(e,t,n,i,r){var o=r in i,s=o?n.constructor==Object&&Object.keys(i).length==0:n.constructor==Object&&Object.keys(n).length==0,u=o||s,a=!0,l;for(l in t){var c=r+"."+l,d=o?i[r]:n[l];u||l in n?t[l]===void 0?d===void 0||u?delete e[l]:e[l]=Ti(d):s?e[l]=t[l]:d.constructor==Object&&t[l]&&t[l].constructor==Object?(e[l]||(e[l]=Ti(d)),c=ea(e[l],t[l],d,i,c),a=a&&c):typeof t[l]!=typeof d||t[l]==null||typeof t[l]!="function"&&t[l].constructor!=d.constructor?(ji("Invalid config, wrong type for "+c),a=!1):typeof n[l]=="function"&&n[l].length!=t[l].length?(ye("Unexpected number of arguments for "+c),e[l]=t[l]):e[l]=Array.isArray(e[l])?t[l].slice():t[l]:(ji("Invalid config, unrecognized key "+c),a=!1)}return a}function ta(e,t){for(var n={},i=n,r=0,o=0;r=e.indexOf(".",r),!(r<0);)(r==0||e[r-1]!="\\")&&(o=e.substring(o,r).replace(/\\\./g,"."),i[o]={},i=i[o],o=r+1),r+=1;return i[e.substring(o).replace(/\\\./g,".")]=t,n}function Ds(e,t){return e&&t}function hp(e,t){function n(o){for(var s=T(Object.keys(o)),u=s.next();!u.done;u=s.next())if(u=u.value,!(o[u]instanceof HTMLElement))if(r(o[u])&&Object.keys(o[u]).length===0)delete o[u];else{var a=o[u];Array.isArray(a)&&a.length===0||typeof o[u]=="function"?delete o[u]:r(o[u])&&(n(o[u]),Object.keys(o[u]).length===0&&delete o[u])}}function i(o,s){return Object.keys(o).reduce(function(u,a){var l=o[a];return s.hasOwnProperty(a)?l instanceof HTMLElement&&s[a]instanceof HTMLElement?l.isEqualNode(s[a])||(u[a]=l):r(l)&&r(s[a])?(l=i(l,s[a]),(Object.keys(l).length>0||!r(l))&&(u[a]=l)):Array.isArray(l)&&Array.isArray(s[a])?yo(l,s[a])||(u[a]=l):Number.isNaN(l)&&Number.isNaN(s[a])||l!==s[a]&&(u[a]=l):u[a]=l,u},{})}function r(o){return o&&typeof o=="object"&&!Array.isArray(o)}return e=i(e,t),n(e),e}K("shaka.util.ConfigUtils",mc),mc.getDifferenceFromConfigObjects=hp,mc.convertToConfigObject=ta,mc.mergeConfigObjects=ea,K("shaka.config.RepeatMode",{OFF:0,ALL:1,SINGLE:2});function Ln(){}function o2(e){return e=Bi(e),new It(e).Jb}function na(e,t,n){function i(u){kn(o).setUint32(s,u.byteLength,!0),s+=4,o.set(Te(u),s),s+=u.byteLength}if(!n||!n.byteLength)throw new _(2,6,6015);var r;typeof t=="string"?r=Yh(t,!0):r=t,e=Bi(e),e=Yh(e,!0);var o=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),s=0;return i(e),i(r),i(n),o}function fp(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=Bi(e).split("skd://").pop(),na(e,n,t))}function vc(e,t){e===2&&(e=t.drmInfo)&&is(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}K("shaka.drm.FairPlay",Ln),Ln.commonFairPlayResponse=function(e,t){if(e===2&&(e=t.originalRequest.drmInfo)&&is(e.keySystem)){try{var n=dt(t.data)}catch{return}if(e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0),!e)try{var i=JSON.parse(n);i.ckc&&(n=i.ckc,e=!0),i.CkcMessage&&(n=i.CkcMessage,e=!0),i.License&&(n=i.License,e=!0)}catch{}e&&(t.data=ti(ni(n)))}},Ln.muxFairPlayRequest=function(e,t){vc(e,t)},Ln.expressplayFairPlayRequest=function(e,t){if(e===2){var n=t.drmInfo;n&&is(n.keySystem)&&vc(e,t)}},Ln.conaxFairPlayRequest=function(e,t){vc(e,t)},Ln.ezdrmFairPlayRequest=function(e,t){vc(e,t)},Ln.verimatrixFairPlayRequest=function(e,t){e===2&&(e=t.drmInfo)&&is(e.keySystem)&&(e=Te(t.body),e=rr(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=vi("spc="+e))},Ln.muxInitDataTransform=function(e,t,n){return fp(e,t,n)},Ln.expressplayInitDataTransform=function(e,t,n){return fp(e,t,n)},Ln.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=Bi(e).split("skd://").pop().split("?").shift(),n=S.atob(n);var i=new ArrayBuffer(n.length*2);i=Iv(i);for(var r=0,o=n.length;r<o;r++)i[r]=n.charCodeAt(r);return na(e,i,t)},Ln.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=Bi(e).split(";").pop(),na(e,n,t))},Ln.verimatrixInitDataTransform=function(e,t,n){return fp(e,t,n)},Ln.initDataTransform=na,Ln.defaultGetContentId=o2,Ln.isFairPlaySupported=function(){var e;return N(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},ue(t,2),w(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(ae(t),t.return(!1))})};function yc(e,t,n){for(n=n===void 0?!0:n,this.h=e,this.g=new Set([e]),t=t||[],e=T(t),t=e.next();!t.done;t=e.next())this.add(t.value,n)}yc.prototype.add=function(e,t){var n=this.h;t=t===void 0?!0:t;var i;if(!(i=!!n.audio!=!!e.audio||!!n.video!=!!e.video||n.language!=e.language)&&(i=n.audio&&e.audio)){i=n.audio;var r=e.audio;i=!(!((!i.channelsCount||!r.channelsCount||i.channelsCount>2||r.channelsCount>2)&&i.channelsCount!=r.channelsCount||i.spatialAudio!==r.spatialAudio||t&&!s2(i,r))&&yo(i.roles,r.roles)&&i.groupId===r.groupId)}return!i&&(i=n.video&&e.video)&&(n=n.video,i=e.video,i=!((!t||s2(n,i))&&yo(n.roles,i.roles))),i?!1:(this.g.add(e),!0)},yc.prototype.values=function(){return this.g.values()};function s2(e,t){return e.mimeType!=t.mimeType?!1:(e=e.codecs.split(",").map(function(n){return Vr(n)}),t=t.codecs.split(",").map(function(n){return Vr(n)}),yo(e,t))}K("shaka.media.AdaptationSet",yc);function ia(){this.h=this.g=null}ia.prototype.configure=function(e){this.g=e},ia.prototype.getConfiguration=function(){return this.g},ia.prototype.create=function(e){var t;if(this.g.language){var n=uI(e,this.g.language);n.length&&(t=n)}t||(t=e.filter(function(o){return o.primary}),t=t.length?t:e),e=aI(t,this.g.role),e.length&&(t=e),e=lI(t,this.g.videoRole),e.length&&(t=e),this.g.videoLayout&&(e=pI(t,this.g.videoLayout),e.length&&(t=e)),this.g.hdrLevel&&(e=fI(t,this.g.hdrLevel),e.length&&(t=e));var i=[this.g.channelCount,this.g.preferredAudioChannelCount];if(e=i.filter(function(o,s){return o&&i.indexOf(o)===s}),e.length){for(e=T(e),n=e.next();!n.done;n=e.next())if(n=hI(t,n.value),n.length){t=n;break}}this.g.audioLabel&&(e=cI(t,this.g.audioLabel),e.length&&(t=e)),this.g.videoLabel&&(e=dI(t,this.g.videoLabel),e.length&&(t=e)),e=gI(t,this.g.spatialAudio),e.length&&(t=e);var r=[this.g.audioCodec,this.g.activeAudioCodec].concat(X(this.g.preferredAudioCodecs));if(e=r.filter(function(o,s){return o&&r.indexOf(o)===s}),e.length){for(e=T(e),n=e.next();!n.done;n=e.next())if(n=mI(t,n.value),n.length){t=n;break}}return e=ke(),e=this.g.codecSwitchingStrategy=="smooth"&&e.Gb(),this.h=new yc(t[0],t,!e)},ia.prototype.getLastAdaptationSet=function(){return this.h};function uI(e,t){t=We(t);var n=Tl(t,e.map(function(i){return $h(i)}));return n?e.filter(function(i){return n==$h(i)}):[]}function aI(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function lI(e,t){return e.filter(function(n){return n.video?t?n.video.roles.includes(t):n.video.roles.length==0:!1})}function cI(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function dI(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function hI(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount>t)}).sort(function(n,i){return n.audio||i.audio?n.audio?i.audio?(i.audio.channelsCount||0)-(n.audio.channelsCount||0):1:-1:0})}function fI(e,t){if(t=="AUTO"){var n=e.some(function(i){return!!(i.video&&i.video.hdr&&i.video.hdr=="HLG")});t=ke().Id(n)}return e.filter(function(i){return!(i.video&&i.video.hdr&&i.video.hdr!=t)})}function pI(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function gI(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function mI(e,t){return e.filter(function(n){return!(n.audio&&n.audio.codecs!=t)})}function Tc(){}function Ns(){var e=1/0,t=ke();navigator.connection&&navigator.connection.saveData&&(e=360);var n={retryParameters:Si(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(u,a,l){return S.shakaMediaKeysPolyfill==="apple"&&a=="skd"&&(a=l.serverCertificate,l=o2(u),u=na(u,l,a)),u},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:!1,minHdcpVersion:"",ignoreDuplicateInitData:!0,defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"},i="reload";t.Gb()&&(i="smooth");var r={retryParameters:Si(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,enableAudioGroups:!0,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:Sc,manifestPreprocessorTXml:Ec,sequenceMode:!1,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:t.vd(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:Sc,manifestPreprocessorTXml:Ec,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}},o={trackSelectionCallback:function(u){return N(function(a){return a.return(u)})},downloadSizeCallback:function(u){var a;return N(function(l){return l.g==1?navigator.storage&&navigator.storage.estimate?w(l,navigator.storage.estimate(),3):l.return(!0):(a=l.h,l.return(a.usage+u<a.quota*.95))})},progressCallback:function(u,a){return Ds([u,a])},usePersistentLicense:!0,numberOfParallelDownloads:5},s={drm:n,manifest:r,streaming:{retryParameters:Si(),failureCallback:function(u){return Ds([u])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!0,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:!1,dontChooseCodecs:!1,shouldFixTimestampOffset:!1,avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep",returnToEndOfLiveWindowWhenOutside:!1},networking:{forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3},mediaSource:{codecSwitchingStrategy:i,addExtraFeaturesToSourceBuffer:function(u){return Ds([u],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,correctEc3Enca:!1,modifyCueCallback:function(u,a,l){return Ds([u,a,l])},dispatchAllEmsgBoxes:!1,useSourceElements:!0,durationReductionEmitsUpdateEnd:!0},offline:o,abrFactory:function(){return new gt},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(ia,[null].concat(X(qt.apply(0,arguments)))))},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:5,minTimeToSwitch:0,preferNetworkInformationBandwidth:!1,removeLatencyFromFirstPacketTime:!1},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredAudioRole:"",preferredVideoRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1,targets:[]},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1,poster:!0},ads:{customPlayheadTracker:!1,skipPlayDetection:!1,supportsMultipleMediaElements:!0,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0,allowStartInMiddleOfInterstitial:!0},ignoreHardwareResolution:!1,queue:{preloadNextUrlWindow:1/0,preloadPrevItem:!0,repeatMode:0}};return o.trackSelectionCallback=function(u){return N(function(a){return a.return(vI(u,s.preferredAudioLanguage,s.preferredVideoHdrLevel))})},t.bb(s)}function u2(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function Tr(e,t,n){var i={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return ea(e,t,n||Ns(),i,"")}function vI(e,t,n){var i=n;i=="AUTO"&&(n=e.some(function(u){return!!(u.hdr&&u.hdr=="HLG")}),i=ke().Id(n));var r=e.filter(function(u){return!(u.type!="variant"||u.hdr&&u.hdr!=i)});n=[];var o=Tl(t,r.map(function(u){return u.language}));o&&(n=r.filter(function(u){return We(u.language)==o})),n.length==0&&(n=r.filter(function(u){return u.primary})),n.length==0&&(r.map(function(u){return u.language}),n=r);var s=n.filter(function(u){return u.height&&u.height<=480});for(s.length&&(s.sort(function(u,a){return a.height-u.height}),n=s.filter(function(u){return u.height==s[0].height})),t=[],n.length&&(r=Math.floor(n.length/2),n.sort(function(u,a){return u.bandwidth-a.bandwidth}),t.push(n[r])),e=T(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=Re&&n.type!="image"||t.push(n);return t}function Sc(e){return Ds([e],e)}function Ec(e){return Ds([e],e)}K("shaka.util.PlayerConfiguration",Tc),Tc.mergeConfigObjects=Tr,Tc.createDefaultForLL=u2,Tc.createDefault=Ns;function yI(){this.g=null,this.h=[]}function pp(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=T(e.h);for(var i=e.next();!i.done;i=e.next())i=i.value,n+=i.state==t?i.duration:0;return n}function TI(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],i=T(e.h),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.g&&n.push(t(e.g)),n}function SI(){this.i=this.h=null,this.g=[]}function gp(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function Ac(){this.D=this.V=NaN,this.l="",this.j=this.qj=this.A=this.C=this.K=this.F=this.u=this.m=this.J=this.G=this.i=this.R=this.T=this.M=this.O=this.P=NaN,this.L=0,this.H=this.I=NaN,this.g=new yI,this.h=new SI}function EI(e,t,n){e.P=t,e.O=n}function a2(e,t,n){e.V=t,e.D=n}function AI(e,t){e.i=isNaN(e.i)?t:Math.max(e.i,t)}function l2(e,t){e.j=isNaN(e.j)?t:e.j+t}function xI(e){var t=e.V,n=e.D,i=e.l,r=e.C,o=e.O,s=e.P,u=e.M,a=e.T,l=e.R,c=e.A,d=e.i,p=e.G,v=e.J,y=e.m,E=pp(e.g,"playing"),A=pp(e.g,"paused"),k=pp(e.g,"buffering"),I=e.u,C=e.F,L=e.K,O=e.qj,M=e.j,D=e.L,P=e.I,j=e.H,b=TI(e.g),U=[];e=T(e.h.g);for(var B=e.next();!B.done;B=e.next())B=B.value,U.push({timestamp:B.timestamp,id:B.id,type:B.type,fromAdaptation:B.fromAdaptation,bandwidth:B.bandwidth});return{width:t,height:n,currentCodecs:i,streamBandwidth:r,decodedFrames:o,droppedFrames:s,corruptedFrames:u,stallsDetected:a,gapsJumped:l,estimatedBandwidth:c,completionPercent:d,loadLatency:p,manifestTimeSeconds:v,drmTimeSeconds:y,playTime:E,pauseTime:A,bufferingTime:k,licenseTime:I,liveLatency:C,maxSegmentDuration:L,manifestSizeBytes:O,bytesDownloaded:M,nonFatalErrorCount:D,manifestPeriodCount:P,manifestGapCount:j,stateHistory:b,switchHistory:U}}function si(e,t,n,i){_e.call(this),this.M=e,this.T=t,this.ya=i.networkingEngine,this.u=n,this.D=null,this.ua=0,this.La=i.Dd,this.G=i.Ql,this.Na=i.Rl,this.g=i.config,this.m=this.H=this.h=null,this.ha=!1,this.I=i.bm,this.oa=!1,this.j=null,this.Z=!1,this.A=null,this.L=new Map,this.sa=!1,this.Fa=i.am,this.V=new Ac,this.aa=new Qe,this.C=new Qe,this.O=null,this.l=!1,this.X=i.vk,this.R=this.i=null,this.P=!1,this.K=[],this.J=[],this.F=!0}se(si,_e);function ra(e,t,n){(e=t?e.J:e.K)?e.push(n):n()}function wI(e){if(e.J)for(var t=T(e.J),n=t.next();!n.done;n=t.next())n=n.value,n();e.J=null}function c2(e,t){if(e.O=t,e.P=!0,e.K){t=T(e.K);for(var n=t.next();!n.done;n=t.next())n=n.value,n()}e.K=null}h=si.prototype,h.getStartTime=function(){return this.u},h.jd=function(){return this.M},h.yh=function(){return this.h};function II(e){return e.oa=!0,e.I}h.getStats=function(){return this.V};function kI(e){return e.Z=!0,e.j}h.il=function(){return this.i?ko(this.i):null},h.hl=function(){return this.R?Co(this.R):null};function CI(e){return e.sa=!0,e.L}h.start=function(){var e=this;(function(){var t;return N(function(n){switch(n.g){case 1:return w(n,Promise.resolve(),2);case 2:return ue(n,3),w(n,MI(e),5);case 5:if(Zr(e),S.shakaMediaKeysPolyfill==="webkit"){n.B(6);break}return w(n,d2(e),7);case 7:Zr(e);case 6:return w(n,LI(e),8);case 8:if(Zr(e),!e.X){n.B(9);break}return w(n,PI(e),10);case 10:Zr(e);case 9:if(!e.X||!e.j){n.B(11);break}return w(n,Pw(e.j),12);case 12:Zr(e);case 11:e.C.resolve(),Ae(n,0);break;case 3:t=ae(n),t instanceof _&&(t.code==7001||t.code==7003)||e.C.reject(t),Z(n)}})})()},h.dispatchEvent=function(e){return this.O?this.O.dispatchEvent(e):_e.prototype.dispatchEvent.call(this,e)},h.onError=function(e){e.severity===2&&(this.C.reject(e),this.destroy());var t=new Map().set("detail",e);t=new J("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)};function Zr(e){if(e.l)throw new _(2,7,7003)}function mp(e,t){e.dispatchEvent(new J("onstatechange",new Map().set("state",t)))}function MI(e){var t,n,i,r,o,s;return N(function(u){switch(u.g){case 1:if(mp(e,"manifest-parser"),e.m||(e.H=qv(e.M,e.T),e.m=e.H(),e.m.configure(e.g.manifest,function(){return e.F})),t=Date.now()/1e3,mp(e,"manifest"),e.h){u.B(2);break}return w(u,e.m.start(e.M,e.Na),3);case 3:return e.h=u.h,f2(e.h),w(u,RI(e),2);case 2:return e.aa.resolve(),n=new J("manifestparsed",void 0),w(u,Promise.resolve(),5);case 5:if(e.dispatchEvent(n),e.h.variants.length==0)throw new _(2,4,4036);if(f2(e.h),i=W1(e.G,e.h),!i){u.B(6);break}return r=new J("trackschanged",void 0),w(u,Promise.resolve(),7);case 7:Zr(e),e.dispatchEvent(r);case 6:o=Date.now()/1e3,s=o-t,e.V.J=s,Z(u)}})}function d2(e,t){var n,i,r,o;return N(function(s){switch(s.g){case 1:return!e.h||e.j?s.return():(mp(e,"drm-engine"),e.ua=Date.now()/1e3,e.j=e.La(),e.G.g=e.j,e.j.configure(e.g.drm,function(){return e.F}),n=jl(e.h.variants),i=!0,e.h&&e.h.presentationTimeline&&(i=e.h.presentationTimeline.U()),w(s,N1(e.j,n,e.h.offlineSessionIds,i),2));case 2:if(Zr(e),!t){s.B(3);break}return w(s,e.j.Ub(t),4);case 4:Zr(e);case 3:return w(s,K1(e.G,e.h),5);case 5:if(r=s.h,!r){s.B(0);break}return o=new J("trackschanged",void 0),w(s,Promise.resolve(),7);case 7:e.dispatchEvent(o),Z(s)}})}h.configure=function(e,t){e=ta(e,t),Tr(this.g,e)},h.getConfiguration=function(){return Ti(this.g)};function RI(e){return N(function(t){return e.D||(e.D=e.g.adaptationSetCriteriaFactory(),e.D.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredAudioRole,videoRole:e.g.preferredVideoRole,channelCount:0,hdrLevel:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,audioLabel:e.g.preferredAudioLabel,videoLabel:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:e.g.preferredAudioCodecs,preferredAudioChannelCount:e.g.preferredAudioChannelCount})),e.i||!e.h.variants.length||e.h.variants.length!=1&&e.h.type!="HLS"?t.B(0):(e.i=vp(e),e.i?w(t,h2(e.i),0):t.B(0))})}function LI(e){return N(function(t){return t.g==1?!e.i||e.h.variants.includes(e.i)?t.B(0):w(t,bI(e.i),3):(e.i=vp(e),e.i?w(t,h2(e.i),0):t.B(0))})}function PI(e){var t,n,i,r,o;return N(function(s){return!e.i&&(t=vp(e))&&(e.i=t),e.i?(n=e.h.presentationTimeline.U(),i=[],r=e.i,r.video&&i.push(yp(e,r.video,n)),r.audio&&i.push(yp(e,r.audio,n)),(o=gs(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&T1(r.audio,o,e.g)&&(i.push(yp(e,o,n)),e.R=o),w(s,Promise.all(i),0)):s.B(0)})}function vp(e){if(!e.A){var t=e.g.abrFactory;e.A=t(),e.A.configure(e.g.abr)}return t=jl(e.h.variants),t=e.D.create(t),e.A.setVariants(Array.from(t.values())),e.A.chooseVariant(!0)}function yp(e,t,n){var i,r,o,s,u;return N(function(a){return a.g==1?(i=e.g.streaming.segmentPrefetchLimit||2,r=new uc(i,t,function(l,c,d){return hc(l,c,d||null,e.g.streaming.retryParameters,e.ya,e.F)},!1),e.L.set(t.id,r),t.segmentIndex?a.B(2):w(a,t.createSegmentIndex(),2)):(o=typeof e.u=="number"?e.u:0,s=t.segmentIndex.fc(o),u=null,s&&(u=s.current(),u||(u=s.next().value)),u||(u=bi(t.segmentIndex)),u?n?u.ka?w(a,Xy(r,u.ka),0):a.B(0):w(a,Zu(r,u.startTime),0):a.B(0))})}function h2(e){var t,n,i,r;return N(function(o){for(t=[],n=T([e.video,e.audio]),i=n.next();!i.done;i=n.next())(r=i.value)&&!r.segmentIndex&&t.push(r.createSegmentIndex());return t.length>0?w(o,Promise.all(t),0):o.B(0)})}function bI(e){var t,n,i,r;return N(function(o){for(t=[],n=T([e.video,e.audio]),i=n.next();!i.done;i=n.next())(r=i.value)&&r.segmentIndex&&r.closeSegmentIndex&&t.push(r.closeSegmentIndex());return t.length>0?w(o,Promise.all(t),0):o.B(0)})}h.Hm=function(){return this.C},h.destroy=function(){var e=this,t,n,i;return N(function(r){if(r.g==1)return e.l=!0,!e.m||e.ha?r.B(2):w(r,e.m.stop(),2);if(r.g!=4)return e.A&&e.A.release(),e.I&&!e.oa&&e.I.release(),!e.j||e.Z?r.B(4):w(r,e.j.destroy(),4);if(e.L.size>0&&!e.sa)for(t=T(e.L.values()),n=t.next();!n.done;n=t.next())i=n.value,Di(i);Z(r)})};function f2(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}K("shaka.media.PreloadManager",si),si.prototype.destroy=si.prototype.destroy,si.prototype.waitForFinish=si.prototype.Hm,si.prototype.getPrefetchedTextTrack=si.prototype.hl,si.prototype.getPrefetchedVariantTrack=si.prototype.il;function jo(e,t){_e.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{zd:null,yd:Os,ld:function(i,r){return Sr(n,"enter",i,r)}},{zd:oa,yd:Os,ld:function(i,r){return Sr(n,"enter",i,r)}},{zd:sa,yd:Os,ld:function(i,r){return Sr(n,"enter",i,r)}},{zd:Os,yd:oa,ld:function(i,r){return Sr(n,"exit",i,r)}},{zd:Os,yd:sa,ld:function(i,r){return Sr(n,"exit",i,r)}},{zd:oa,yd:sa,ld:function(i,r){r?Sr(n,"skip",i,r):(Sr(n,"enter",i,r),Sr(n,"exit",i,r))}},{zd:sa,yd:oa,ld:function(i,r){return Sr(n,"skip",i,r)}}],this.h=new Fe,this.h.o(this.i,"regionremove",function(i){n.g.delete(i.region)})}se(jo,_e),jo.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,_e.prototype.release.call(this)},jo.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=T(this.i.h.values()),i=n.next();!i.done;i=n.next()){i=i.value;var r=this.g.get(i),o=e<i.startTime?oa:e>i.endTime?sa:Os;this.g.set(i,o);for(var s=T(this.m),u=s.next();!u.done;u=s.next())u=u.value,u.zd==r&&u.yd==o&&u.ld(i,t)}}};function Sr(e,t,n,i){t=new J(t,new Map([["region",n],["seeking",i]])),e.dispatchEvent(t)}var oa=1,Os=2,sa=3;/*
		 @license
		 Copyright 2013 Ali Al Dallal

		 Licensed under the MIT license.

		 Permission is hereby granted, free of charge, to any person obtaining a copy
		 of this software and associated documentation files (the "Software"), to deal
		 in the Software without restriction, including without limitation the rights
		 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		 copies of the Software, and to permit persons to whom the Software is
		 furnished to do so, subject to the following conditions:

		 The above copyright notice and this permission notice shall be included in
		 all copies or substantial portions of the Software.

		 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
		 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
		 SOFTWARE.
		*/for(var Ei={ach:"Lwo",ady:"Адыгэбзэ",af:"Afrikaans","af-NA":"Afrikaans (Namibia)","af-ZA":"Afrikaans (South Africa)",ak:"Tɕɥi",ar:"العربية","ar-AR":"العربية","ar-MA":"العربية","ar-SA":"العربية (السعودية)","ay-BO":"Aymar aru",az:"Azərbaycan dili","az-AZ":"Azərbaycan dili","be-BY":"Беларуская",bg:"Български","bg-BG":"Български",bn:"বাংলা","bn-IN":"বাংলা (ভারত)","bn-BD":"বাংলা(বাংলাদেশ)","bs-BA":"Bosanski",ca:"Català","ca-ES":"Català",cak:"Maya Kaqchikel","ck-US":"ᏣᎳᎩ (tsalagi)",cs:"Čeština","cs-CZ":"Čeština",cy:"Cymraeg","cy-GB":"Cymraeg",da:"Dansk","da-DK":"Dansk",de:"Deutsch","de-AT":"Deutsch (Österreich)","de-DE":"Deutsch (Deutschland)","de-CH":"Deutsch (Schweiz)",dsb:"Dolnoserbšćina",el:"Ελληνικά","el-GR":"Ελληνικά",en:"English","en-GB":"English (UK)","en-AU":"English (Australia)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-IN":"English (India)","en-PI":"English (Pirate)","en-UD":"English (Upside Down)","en-US":"English (US)","en-ZA":"English (South Africa)","en@pirate":"English (Pirate)",eo:"Esperanto","eo-EO":"Esperanto",es:"Español","es-AR":"Español (Argentine)","es-419":"Español (Latinoamérica)","es-CL":"Español (Chile)","es-CO":"Español (Colombia)","es-EC":"Español (Ecuador)","es-ES":"Español (España)","es-LA":"Español (Latinoamérica)","es-NI":"Español (Nicaragua)","es-MX":"Español (México)","es-US":"Español (Estados Unidos)","es-VE":"Español (Venezuela)",et:"eesti keel","et-EE":"Eesti (Estonia)",eu:"Euskara","eu-ES":"Euskara",fa:"فارسی","fa-IR":"فارسی","fb-LT":"Leet Speak",ff:"Fulah",fi:"Suomi","fi-FI":"Suomi","fo-FO":"Føroyskt",fr:"Français","fr-CA":"Français (Canada)","fr-FR":"Français (France)","fr-BE":"Français (Belgique)","fr-CH":"Français (Suisse)","fy-NL":"Frysk",ga:"Gaeilge","ga-IE":"Gaeilge (Gaelic)",gl:"Galego","gl-ES":"Galego","gn-PY":"Avañe'ẽ","gu-IN":"ગુજરાતી","gx-GR":"Ἑλληνική ἀρχαία",he:"עברית‏","he-IL":"עברית‏",hi:"हिन्दी","hi-IN":"हिन्दी",hr:"Hrvatski","hr-HR":"Hrvatski",hsb:"Hornjoserbšćina",ht:"Kreyòl",hu:"Magyar","hu-HU":"Magyar","hy-AM":"Հայերեն",id:"Bahasa Indonesia","id-ID":"Bahasa Indonesia",is:"Íslenska","is-IS":"Íslenska (Iceland)",it:"Italiano","it-IT":"Italiano",ja:"日本語","ja-JP":"日本語","jv-ID":"Basa Jawa","ka-GE":"ქართული","kk-KZ":"Қазақша",km:"ភាសាខ្មែរ","km-KH":"ភាសាខ្មែរ",kab:"Taqbaylit",kn:"ಕನ್ನಡ","kn-IN":"ಕನ್ನಡ (India)",ko:"한국어","ko-KR":"한국어 (韩国)",ku:"Kurdî","ku-TR":"Kurdî",la:"Latin","la-VA":"Latin",lb:"Lëtzebuergesch","li-NL":"Lèmbörgs",lt:"Lietuvių","lt-LT":"Lietuvių",lv:"Latviešu","lv-LV":"Latviešu",mai:"मैथिली, মৈথিলী","mg-MG":"Malagasy",mk:"Македонски","mk-MK":"Македонски (Македонски)",ml:"മലയാളം","ml-IN":"മലയാളം","mn-MN":"Монгол",mr:"मराठी","mr-IN":"मराठी",ms:"Bahasa Melayu","ms-MY":"Bahasa Melayu",mt:"Malti","mt-MT":"Malti",my:"ဗမာစကာ",nb:"Norsk (bokmål)","nb-NO":"Norsk (bokmål)",ne:"नेपाली","ne-NP":"नेपाली",nl:"Nederlands","nl-BE":"Nederlands (België)","nl-NL":"Nederlands (Nederland)","nn-NO":"Norsk (nynorsk)",no:"Norsk",oc:"Occitan","or-IN":"ଓଡ଼ିଆ",pa:"ਪੰਜਾਬੀ","pa-IN":"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",pl:"Polski","pl-PL":"Polski","ps-AF":"پښتو",pt:"Português","pt-BR":"Português (Brasil)","pt-PT":"Português (Portugal)","qu-PE":"Qhichwa","rm-CH":"Rumantsch",ro:"Română","ro-RO":"Română",ru:"Русский","ru-RU":"Русский","sa-IN":"संस्कृतम्","se-NO":"Davvisámegiella","si-LK":"පළාත",sk:"Slovenčina","sk-SK":"Slovenčina (Slovakia)",sl:"Slovenščina","sl-SI":"Slovenščina","so-SO":"Soomaaliga",sq:"Shqip","sq-AL":"Shqip",sr:"Српски","sr-RS":"Српски (Serbia)",su:"Basa Sunda",sv:"Svenska","sv-SE":"Svenska",sw:"Kiswahili","sw-KE":"Kiswahili",ta:"தமிழ்","ta-IN":"தமிழ்",te:"తెలుగు","te-IN":"తెలుగు",tg:"забо́ни тоҷикӣ́","tg-TJ":"тоҷикӣ",th:"ภาษาไทย","th-TH":"ภาษาไทย (ประเทศไทย)",tl:"Filipino","tl-PH":"Filipino",tlh:"tlhIngan-Hol",tr:"Türkçe","tr-TR":"Türkçe","tt-RU":"татарча",uk:"Українська","uk-UA":"Українська",ur:"اردو","ur-PK":"اردو",uz:"O'zbek","uz-UZ":"O'zbek",vi:"Tiếng Việt","vi-VN":"Tiếng Việt","xh-ZA":"isiXhosa",yi:"ייִדיש","yi-DE":"ייִדיש (German)",zh:"中文","zh-HANS":"中文简体","zh-HANT":"中文繁體","zh-CN":"中文（中国）","zh-HK":"中文（香港）","zh-SG":"中文（新加坡）","zh-TW":"中文（台灣）","zu-ZA":"isiZulu"},p2=T(Object.keys(Ei)),Tp=p2.next();!Tp.done;Tp=p2.next()){var g2=Tp.value;Ei[g2.toLowerCase()]=Ei[g2]}function m2(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(s){return m2(s,e)}).join("");if(!e.payload)return e.payload;var n=[],i=e.fontWeight>=hs,r=e.fontStyle==fs,o=e.textDecoration.includes(lr);return i&&n.push(["b"]),r&&n.push(["i"]),o&&n.push(["u"]),r=e.color,r==""&&t&&(r=t.color),i="",(r=v2(r))&&(i+="."+r),r=e.backgroundColor,r==""&&t&&(r=t.backgroundColor),(t=v2(r))&&(i+=".bg_"+t),i&&n.push(["c",i]),n.reduceRight(function(s,u){var a=T(u);return u=a.next().value,a=a.next().value,"<"+u+(a===void 0?"":a)+">"+s+"</"+u+">"},e.payload)}function v2(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&e.length>7&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Sp(e,t){var n=[];e=T(y2(e));for(var i=e.next();!i.done;i=e.next())if(i=i.value,i.isContainer)n.push.apply(n,X(Sp(i.nestedCues,i)));else{var r=i.clone();r.nestedCues=[],r.payload=m2(i,t),n.push(r)}return n}function y2(e){var t=[];e=T(e);for(var n=e.next(),i={};!n.done;i={Ug:void 0},n=e.next())i.Ug=n.value,t.some((function(r){return function(o){return Rl(r.Ug,o)}})(i))||t.push(i.Ug);return t}function DI(e){function t(i){for(var r=5381,o=i.length;o;)r=r*33^i.charCodeAt(--o);return(r>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch{}return e.textAlign=="center"&&n.align!="center"&&(n.align="middle"),e.writingMode=="vertical-lr"?n.vertical="lr":e.writingMode=="vertical-rl"&&(n.vertical="rl"),e.lineInterpretation==1&&(n.snapToLines=!1),e.line!=null&&(n.line=e.line),e.position!=null&&(n.position=e.position),n}function T2(e,t){var n=Sp(t),i=[];t=e.cues?Array.from(e.cues):[],n=T(n);for(var r=n.next(),o={};!r.done;o={Ld:void 0},r=n.next())o.Ld=r.value,!t.some((function(s){return function(u){return u.startTime==s.Ld.startTime&&u.endTime==s.Ld.endTime&&u.text==s.Ld.payload}})(o))&&o.Ld.payload&&(r=DI(o.Ld))&&i.push(r);for(t=i.slice().sort(function(s,u){return s.startTime!=u.startTime?s.startTime-u.startTime:s.endTime!=u.endTime?s.endTime-u.startTime:"line"in VTTCue.prototype?i.indexOf(u)-i.indexOf(s):i.indexOf(s)-i.indexOf(u)}),t=T(t),n=t.next();!n.done;n=t.next())e.addCue(n.value)}function Ep(e,t){var n=!1;e.mode==="disabled"&&(n=!0,e.mode="hidden");for(var i=0;i<e.cues.length;){var r=e.cues[i];t(r)?e.removeCue(r):i++}n&&(e.mode="disabled")}function _t(e){var t=this;this.i=e,this.l=new Fe,this.j=null,this.h=new Map,this.g=-1,this.A=!1,this.u=null,this.D=function(){t.l.Ea(t.i,"textchanged",t.m),t.l.Ea(t.j.textTracks,"change",t.C);for(var n=T(t.h.values()),i=n.next();!i.done;i=n.next())i.value.remove();t.h.clear(),t.g=-1,t.j=null},this.m=function(){var n=new Map,i=t.i.Dc();i=T(i);for(var r=i.next();!r.done;r=i.next()){if(r=r.value,t.h.has(r.id)){var o=t.h.get(r.id);r.active||o.track.mode==="disabled"||(o.track.mode="disabled"),t.h.delete(r.id)}else{o=t.j.ownerDocument.createElement("track"),o.kind=NI(r);var s=o,u=void 0;if(r.label)u=r.label;else if(r.language)if(r.language in Ei)u=Ei[r.language];else{var a=vo(r.language);a in Ei&&(u=Ei[a]+" ("+r.language+")")}u||(u=r.originalTextId,r.language&&r.language!==r.originalTextId&&(u+=" ("+r.language+")")),s.label=u,r.language in Ei&&(o.srclang=r.language),o.src="data:,WEBVTT",o.track.mode="disabled",t.j.appendChild(o)}n.set(r.id,o),r.active&&(t.g=r.id)}for(i=T(t.h.values()),r=i.next();!r.done;r=i.next())r.value.remove();t.g>-1&&(n.has(t.g)?(i=n.get(t.g).track,i.mode==="disabled"&&(i.mode=t.A?"showing":"hidden")):t.g=-1),t.h=n},this.C=function(){if(!t.u){var n=t.j;t.u=new le(function(){if(t.u=null,t.j===n){var i=-1,r=!1;if(t.h.has(t.g)){var o=t.h.get(t.g);o.track.mode==="showing"?(i=t.g,r=!0):o.track.mode==="hidden"&&(i=t.g)}if(!r)for(r=T(t.h),o=r.next();!o.done;o=r.next()){var s=T(o.value);if(o=s.next().value,s=s.next().value,s.track.mode==="showing"){i=o;break}else i<0&&s.track.mode==="hidden"&&(i=o)}for(r=T(t.h),o=r.next();!o.done;o=r.next())s=T(o.value),o=s.next().value,s=s.next().value,o!==i&&s.track.mode!=="disabled"&&(s.track.mode="disabled");t.g!==i&&(t.g=i,i>-1&&t.i.kg({id:i})),t.i.be(i>-1&&t.h.get(i).track.mode==="showing")}}).Y(0)}},this.l.o(e,"loaded",function(){return t.enableTextDisplayer()}),this.enableTextDisplayer()}h=_t.prototype,h.configure=function(){},h.remove=function(e,t){if(this.i)this.h.has(this.g)&&Ep(this.h.get(this.g).track,function(n){return n.startTime<t&&n.endTime>e});else return!1;return!0},h.append=function(e){this.h.has(this.g)&&T2(this.h.get(this.g).track,e)},h.destroy=function(){return this.i&&(this.j&&this.D(),this.i=null),this.l&&(this.l.release(),this.l=null),Promise.resolve()},h.isTextVisible=function(){return this.A},h.setTextVisibility=function(e){if(this.A=e,this.h.has(this.g)){var t=this.h.get(this.g).track;t.mode!=="disabled"&&(e=e?"showing":"hidden",t.mode!==e&&(t.mode=e))}else if(this.i&&this.i.Cc()===3)if(t=Array.from(this.i.zf().textTracks).filter(function(i){return["captions","subtitles","forced"].includes(i.kind)}),e){e=null,t=T(t);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n.mode==="showing"){e=null;break}else e||n.mode!=="hidden"||(e=n);e&&(e.mode="showing")}else for(e=T(t),t=e.next();!t.done;t=e.next())t=t.value,t.mode==="showing"&&(t.mode="hidden")},h.setTextLanguage=function(){},h.enableTextDisplayer=function(){!this.j&&this.i&&this.i.Cc()===2&&(this.j=this.i.zf(),this.l.qa(this.i,"unloading",this.D),this.l.o(this.i,"textchanged",this.m),this.l.o(this.j.textTracks,"change",this.C),this.m())};function NI(e){var t=ke();return e.forced&&t.Ka()==="WEBKIT"?"forced":e.kind==="caption"||e.roles&&e.roles.some(function(n){return n.includes("transcribes-spoken-dialog")})&&e.roles.some(function(n){return n.includes("describes-music-and-sound")})?"captions":"subtitles"}K("shaka.text.NativeTextDisplayer",_t),_t.prototype.enableTextDisplayer=_t.prototype.enableTextDisplayer,_t.prototype.setTextLanguage=_t.prototype.setTextLanguage,_t.prototype.setTextVisibility=_t.prototype.setTextVisibility,_t.prototype.isTextVisible=_t.prototype.isTextVisible,_t.prototype.destroy=_t.prototype.destroy,_t.prototype.append=_t.prototype.append,_t.prototype.remove=_t.prototype.remove,_t.prototype.configure=_t.prototype.configure;function on(e,t){for(qe("SimpleTextDisplayer","Please migrate to NativeTextDisplayer"),this.h=e,this.i=t,this.g=null,e=T(Array.from(this.h.textTracks)),t=e.next();!t.done;t=e.next())t=t.value,t.kind!=="metadata"&&t.kind!=="chapters"&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}h=on.prototype,h.configure=function(){},h.remove=function(e,t){return this.g?(Ep(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},h.append=function(e){this.g&&T2(this.g,e)},h.destroy=function(){return this.g&&(Ep(this.g,function(){return!0}),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},h.isTextVisible=function(){return this.g?this.g.mode=="showing":!1},h.setTextVisibility=function(e){e&&!this.g&&S2(this),this.g&&(this.g.mode=e?"showing":"hidden")},h.setTextLanguage=function(){},h.enableTextDisplayer=function(){S2(this)};function S2(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}K("shaka.text.SimpleTextDisplayer",on),on.prototype.enableTextDisplayer=on.prototype.enableTextDisplayer,on.prototype.setTextLanguage=on.prototype.setTextLanguage,on.prototype.setTextVisibility=on.prototype.setTextVisibility,on.prototype.isTextVisible=on.prototype.isTextVisible,on.prototype.destroy=on.prototype.destroy,on.prototype.append=on.prototype.append,on.prototype.remove=on.prototype.remove,on.prototype.configure=on.prototype.configure;function sn(){}h=sn.prototype,h.configure=function(){},h.remove=function(){},h.append=function(){},h.destroy=function(){},h.isTextVisible=function(){return!1},h.setTextVisibility=function(){},h.setTextLanguage=function(){},h.enableTextDisplayer=function(){},K("shaka.text.StubTextDisplayer",sn),sn.prototype.enableTextDisplayer=sn.prototype.enableTextDisplayer,sn.prototype.setTextLanguage=sn.prototype.setTextLanguage,sn.prototype.setTextVisibility=sn.prototype.setTextVisibility,sn.prototype.isTextVisible=sn.prototype.isTextVisible,sn.prototype.destroy=sn.prototype.destroy,sn.prototype.append=sn.prototype.append,sn.prototype.remove=sn.prototype.remove,sn.prototype.configure=sn.prototype.configure;function un(e,t){var n=this;this.m=!1,this.h=[],this.j=e,this.u=t,this.D=this.A=null,this.g=ee("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C=new le(function(){n.j.paused||Jr(n)}),ua(this),this.l=new Map,this.i=new Fe,this.i.o(document,"fullscreenchange",function(){Jr(n,!0)}),this.i.o(this.j,"seeking",function(){Jr(n,!0)}),this.i.o(this.j,"ratechange",function(){ua(n)}),this.i.o(this.j,"resize",function(){var i=n.j,r=i.videoWidth;i=i.videoHeight,r&&i?n.A=r/i:n.A=null}),this.F=null,"ResizeObserver"in S&&(this.F=new ResizeObserver(function(){Jr(n,!0)}),this.F.observe(this.g)),this.G=new Map}h=un.prototype,h.configure=function(e){this.D=e,ua(this),Jr(this,!0)},h.append=function(e){var t=[].concat(X(this.h));e=T(y2(e));for(var n=e.next(),i={};!n.done;i={Vg:void 0},n=e.next())i.Vg=n.value,t.some((function(r){return function(o){return Rl(o,r.Vg)}})(i))||this.h.push(i.Vg);this.h.length&&ua(this),Jr(this)},h.destroy=function(){return this.g&&(this.g.parentElement&&this.u.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.C&&(this.C.stop(),this.C=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.F&&(this.F.disconnect(),this.F=null)),Promise.resolve()},h.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(i){return i.startTime<e||i.endTime>=t}),Jr(this,n>this.h.length),this.h.length||ua(this),!0},h.isTextVisible=function(){return this.m},h.setTextVisibility=function(e){(this.m=e)?(this.g.parentElement||this.u.appendChild(this.g),Jr(this,!0)):this.g.parentElement&&this.u.removeChild(this.g)},h.setTextLanguage=function(e){e&&e!="und"?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},h.enableTextDisplayer=function(){};function ua(e){e.C&&(e.h.length?e.C.va((e.D?e.D.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.C.stop())}function OI(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function E2(e,t,n,i,r){var o=!1,s=[],u=[];t=T(t);for(var a=t.next();!a.done;a=t.next()){a=a.value,r.push(a);var l=e.l.get(a),c=a.startTime<=i&&a.endTime>i,d=l?l.qk:null;l&&(s.push(l.Wg),l.qd&&s.push(l.qd),c||(o=!0,e.l.delete(a),l=null)),c&&(u.push(a),l?OI(e,d)||(o=!0):(_I(e,a,r),l=e.l.get(a),d=l.qk,o=!0)),a.nestedCues.length>0&&d&&E2(e,a.nestedCues,d,i,r),r.pop()}if(o){for(i=T(s),r=i.next();!r.done;r=i.next())r=r.value,r.parentElement&&r.parentElement.removeChild(r);for(u.sort(function(p,v){return p.startTime!=v.startTime?p.startTime-v.startTime:p.endTime-v.endTime}),u=T(u),i=u.next();!i.done;i=u.next())i=e.l.get(i.value),i.qd?(i.qd.contains(n)&&i.qd.removeChild(n),n.appendChild(i.qd),i.qd.appendChild(i.Wg)):n.appendChild(i.Wg)}}function Jr(e,t){if(e.g){var n=e.j.currentTime;if(!e.m||t!==void 0&&t){t=T(e.G.values());for(var i=t.next();!i.done;i=t.next())Gi(i.value);Gi(e.g),e.l.clear(),e.G.clear()}e.m&&E2(e,e.h,e.g,n,[])}}function _I(e,t,n){var i=n.length>1,r=i?"span":"div";t.lineBreak&&(r="br"),t.rubyTag&&(r=t.rubyTag),i=!i&&t.nestedCues.length>0;var o=ee(r);if(r!="br"&&jI(e,o,t,n,i),n=null,t.region&&t.region.id){var s=t.region,u=e.A===4/3?2.5:1.9;if(n=s.id+"_"+s.width+"x"+s.height+(s.heightUnits==On?"%":"px")+"-"+s.viewportAnchorX+"x"+s.viewportAnchorY+(s.viewportAnchorUnits==On?"%":"px"),e.G.has(n))n=e.G.get(n);else{r=ee("span");var a=s.heightUnits==On?"%":"px",l=s.widthUnits==On?"%":"px",c=s.viewportAnchorUnits==On?"%":"px";r.id="shaka-text-region---"+n,r.classList.add("shaka-text-region"),r.style.position="absolute";var d=s.height,p=s.width;s.heightUnits===2&&(d=s.height*5.33,a="%"),s.widthUnits===2&&(p=s.width*u,l="%"),r.style.height=d+a,r.style.width=p+l,s.viewportAnchorUnits===2?(u=s.viewportAnchorY/75*100,a=s.viewportAnchorX/(e.A===4/3?160:210)*100,u-=s.regionAnchorY*d/100,a-=s.regionAnchorX*p/100,r.style.top=u+"%",r.style.left=a+"%"):(r.style.top=s.viewportAnchorY-s.regionAnchorY*d/100+c,r.style.left=s.viewportAnchorX-s.regionAnchorX*p/100+c),s.heightUnits!==0&&s.widthUnits!==0&&s.viewportAnchorUnits!==0&&(s=Math.max(0,Math.min(100-(parseInt(r.style.width.slice(0,-1),10)||0),parseInt(r.style.left.slice(0,-1),10)||0)),r.style.top=Math.max(0,Math.min(100-(parseInt(r.style.height.slice(0,-1),10)||0),parseInt(r.style.top.slice(0,-1),10)||0))+"%",r.style.left=s+"%"),r.style.display="flex",r.style.flexDirection="column",r.style.alignItems="center",r.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.G.set(n,r),n=r}}r=o,i&&(r=ee("span"),r.classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",o.appendChild(r)),e.l.set(t,{Wg:o,qk:r,qd:n})}function UI(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==Pl?n:e==="left"||e==="start"&&t===Mu||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===Mu?"line-right":"center"}function jI(e,t,n,i,r){var o=t.style,s=n.nestedCues.length==0,u=i.length>1;o.whiteSpace="pre-wrap";var a=n.payload.replace(/\s+$/g,function(c){return" ".repeat(c.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=Ap(n.linePadding,n,e.u),o.paddingRight=Ap(n.linePadding,n,e.u),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",n.backgroundColor&&(o.backgroundColor=n.backgroundColor),o.width="100%",o.height="100%";else{if(n.nestedCues.length)var l=t;else l=ee("span"),t.appendChild(l);n.border&&(l.style.border=n.border),r||((t=BI(i,function(c){return c.backgroundColor}))?l.style.backgroundColor=t:a&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),a&&(l.setAttribute("translate","no"),l.textContent=a)}u&&!i[i.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",n.textAlign=="left"||n.textAlign=="start"?(o.width="100%",o.alignItems="flex-start"):(n.textAlign=="right"||n.textAlign=="end")&&(o.width="100%",o.alignItems="flex-end"),o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),s||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,i=e.D?e.D.fontScaleFactor:1,(i!==1||n.fontSize)&&(o.fontSize=Ap(n.fontSize||"1em",n,e.u,i)),i=n.line,i!=null&&(s=n.lineInterpretation,s==Ru&&(s=1,u=16,e.A&&e.A<1&&(u=32),i=i<0?100+i/u*100:i/u*100),s==1&&(o.position="absolute",n.writingMode==wo?(o.width="100%",n.lineAlign==Io?o.top=i+"%":n.lineAlign=="end"&&(o.bottom=100-i+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==Io?o.left=i+"%":n.lineAlign=="end"&&(o.right=100-i+"%")):(o.height="100%",n.lineAlign==Io?o.right=i+"%":n.lineAlign=="end"&&(o.left=100-i+"%")))),o.lineHeight=n.lineHeight,e=UI(n),e=="line-left"?(o.cssFloat="left",n.position!==null&&(o.position="absolute",n.writingMode==wo?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%")):e=="line-right"?(o.cssFloat="right",n.position!==null&&(o.position="absolute",n.writingMode==wo?(o.right=100-n.position+"%",o.width="auto"):o.bottom=n.position+"%")):n.position!==null&&n.position!=50&&(o.position="absolute",n.writingMode==wo?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%",n.size&&(o.transform="translateX(-50%)")),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==wo?o.width=n.size+"%":o.height=n.size+"%")}function Ap(e,t,n,i){i=i===void 0?1:i;var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;switch(e=r.unit,i*=r.value,e){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return i+e}}function BI(e,t){for(var n=e.length-1;n>=0;n--){var i=t(e[n]);if(i||i===0)return i}return null}K("shaka.text.UITextDisplayer",un),un.prototype.enableTextDisplayer=un.prototype.enableTextDisplayer,un.prototype.setTextLanguage=un.prototype.setTextLanguage,un.prototype.setTextVisibility=un.prototype.setTextVisibility,un.prototype.isTextVisible=un.prototype.isTextVisible,un.prototype.remove=un.prototype.remove,un.prototype.destroy=un.prototype.destroy,un.prototype.append=un.prototype.append,un.prototype.configure=un.prototype.configure;function FI(e,t){function n(o){for(var s=o,u=T(t),a=u.next();!a.done;a=u.next())a=a.value,a.end&&a.start<o&&(s+=a.end-a.start);return o=Math.floor(s/3600),u=Math.floor(s/60%60),a=Math.floor(s%60),s=Math.floor(s*1e3%1e3),(o<10?"0":"")+o+":"+(u<10?"0":"")+u+":"+(a<10?"0":"")+a+"."+(s<100?s<10?"00":"0":"")+s}var i=Sp(e);e=`WEBVTT

`,i=T(i);for(var r=i.next();!r.done;r=i.next())r=r.value,e+=n(r.startTime)+" --> "+n(r.endTime)+(function(o){var s=[];switch(o.textAlign){case"left":s.push("align:left");break;case"right":s.push("align:right");break;case Hi:s.push("align:middle");break;case"start":s.push("align:start");break;case"end":s.push("align:end")}switch(o.writingMode){case"vertical-lr":s.push("vertical:lr");break;case"vertical-rl":s.push("vertical:rl")}return s.length?" "+s.join(" "):""})(r)+`
`,e+=r.payload+`

`;return e}K("shaka.text.WebVttGenerator",function(){});function xp(e,t){this.g=t,this.j=e,this.m=new Map,this.l=void 0,this.F=!1,this.J=!0,this.A=this.I=!1,this.D=this.C=void 0,this.H=0,this.K={request:!1,response:!1,event:!1},this.u={},this.i=new Fe,this.G=[],this.h=null}xp.prototype.setMediaElement=function(e){this.h=e,zI(this)},xp.prototype.configure=function(e){this.g=e,KI(this)};function qI(e){e.m.clear(),e.F=!1,e.J=!0,e.I=!1,e.A=!1,e.C=0,e.D=0,e.H=0,e.K={request:!1,response:!1,event:!1},A2(e),e.u={},e.h=null,e.i.Ta()}function VI(e,t){e.A=t,e.A?e.l==Mc?e.l=Rc:e.l==Lc&&(e.l=Pc):e.l==Rc?e.l=Mc:e.l==Pc&&(e.l=Lc)}function HI(e,t){if(e.g&&e.g.enabled&&(an(e,"ps",{td:"d"}),e.h&&e.h.autoplay)){var n=e.h.play();n&&n.then(function(){e.H=t}).catch(function(){e.H=0})}}function GI(e,t,n){try{if(!e.g.enabled)return t;var i=Ip(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var r=wc;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":r=kc;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":r=R2;break e}r=void 0}i.ot=r,i.su=!0;var o=aa(i);return xc(t,o)}catch(s){return Or("CMCD_SRC_ERROR","Could not generate src CMCD data.",s),t}}function zI(e){e.i.o(e.h,"playing",function(){e.D||(e.D=Date.now()),an(e,"ps",{td:"p"})}),e.i.o(e.h,"volumechange",function(){an(e,e.h.muted?"m":"um")}),e.i.o(e.h,"play",function(){e.C||(e.C=Date.now(),an(e,"ps",{td:"s"}))}),e.i.o(e.h,"pause",function(){an(e,"ps",{td:"a"})}),e.i.o(e.j,"buffering",function(){an(e,"ps",{td:"w"})}),e.i.o(e.h,"seeking",function(){return an(e,"ps",{td:"k"})}),e.i.o(document,"fullscreenchange",function(){an(e,document.fullscreenElement?"pe":"pc")});var t=e.h;(t.webkitPresentationMode||t.webkitSupportsFullscreen)&&e.i.o(t,"webkitpresentationmodechanged",function(){t.webkitPresentationMode?an(e,t.webkitPresentationMode!=="inline"?"pe":"pc"):t.webkitSupportsFullscreen&&an(e,t.webkitDisplayingFullscreen?"pe":"pc")}),e.i.o(e.h,"enterpictureinpicture",function(){an(e,"pe")}),e.i.o(e.h,"leavepictureinpicture",function(){an(e,"pc")}),"documentPictureInPicture"in S&&e.i.o(S.documentPictureInPicture,"enter",function(n){an(e,"pe"),e.i.qa(n.window,"pagehide",function(){an(e,"pc")})}),e.i.o(document,"visibilitychange",function(){document.hidden?an(e,"b",{bg:!0}):an(e,"b")}),e.i.o(e.j,"complete",function(){an(e,"ps",{td:"e"})})}function KI(e){A2(e);var t=x2(e);t=T(t);for(var n=t.next();!n.done;n=t.next())if(n=n.value.timeInterval,n===void 0&&(n=ok),n>=1){var i=new le(function(){return an(e,sk)});i.va(n),e.G.push(i)}}function A2(e){if(e.G)for(var t=T(e.G),n=t.next();!n.done;n=t.next())n.value.stop();e.G=[]}function x2(e){return(e=e.g.targets)?e.filter(function(t){return t.mode===N2&&t.enabled}):[]}function wp(e){return(e=e.g.targets)?e.filter(function(t){return t.mode===D2&&t.enabled===!0}):[]}function Ip(e){return e.g.sessionId||(e.g.sessionId=S.crypto.randomUUID()),{v:e.g.version,sf:e.l,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.j.getBandwidthEstimate()/1e3}}function an(e,t,n){if(n=n===void 0?{}:n,t=Object.assign({e:t,ts:Date.now()},n),t=Mp(e,t,N2),n=e.g.targets,!(e.g.version<Lp)&&n){var i=x2(e);n=Array.from(new Set([].concat(X(Pp),X(nk)))),i=T(i);for(var r=i.next();!r.done;r=i.next()){r=r.value;var o=kp(r.includeKeys||[],n);o.includes(P2)||o.push(P2),o=Cp(t,o);var s=r.events||[],u=o.e,a=o.sta;u&&(!ik.includes(u)||!(u!=="ps"||a&&rk.includes(a))||s&&s.length>0&&!s.includes(u))||w2(e,o,r)}}}function _s(e,t,n){if(e.g.enabled){n=Mp(e,n,b2);var i=I2({mode:b2,useHeaders:e.g.useHeaders,includeKeys:e.g.includeKeys||[]});e.u[i]||(e.u[i]={request:1,response:1}),n.sn=e.u[i].request++,i=e.g.includeKeys||[];var r=e.g.version==Lp?Array.from(new Set([].concat(X(Pp),X(ek)))):L2;i=kp(i,r),n=Cp(n,i),WI(e,n,t,e.g.useHeaders)}}function w2(e,t,n,i){var r=Si(),o=n.url;if(n.useHeaders){if(t=M2(t),!Object.keys(t).length)return;i&&Object.assign(i.headers,t),i=Lt([o],r),Object.assign(i.headers,t)}else{if(t=aa(t),!t)return;o=xc(o,t),i&&(i.uri=o),i=Lt([o],r)}e.j.Wb().request(9,i)}function WI(e,t,n,i){if(i){if(t=M2(t),!Object.keys(t).length)return;Object.assign(n.headers,t)}else{var r=aa(t);if(!r)return;n.uris=n.uris.map(function(o){return xc(o,r)})}wp(e).length>0||!e.m.has(n)||e.m.delete(n)}function kp(e,t){if(!e||e.length===0)return t;for(var n=T(e),i=n.next();!i.done;i=n.next())t.includes(i.value);return e=e.filter(function(r){return t.includes(r)})}function Cp(e,t){return Object.keys(e).reduce(function(n,i){return t.includes(i)&&(n[i]=e[i]),n},{})}function XI(e){if(e.type===0)return JI;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?kc:Ic;if(t=="audio")return wc;if(t=="text")return e.mimeType==="application/mp4"?Cc:Rp}}function I2(e){var t=Object.keys(e).sort().reduce(function(n,i){return i!=="enabled"&&(n[i]=e[i]),n},{});return JSON.stringify(t)}function YI(e,t){if(t=e.j.Sc()[t],!t.length)return NaN;var n=e.h?e.h.currentTime:0;return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?(e.end-n)*1e3:NaN}function k2(e,t){if(t=e.j.Sc()[t],!t.length)return 0;var n=e.h?e.h.currentTime:0;return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?(e.end-n)*1e3:0}function ZI(e,t){var n=e.j.Ob();if(!n.length)return NaN;e=n[0],n=T(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.type==="variant"&&i.bandwidth>e.bandwidth&&(e=i);switch(t){case Ic:return e.videoBandwidth||NaN;case wc:return e.audioBandwidth||NaN;default:return e.bandwidth}}function C2(e,t,n){var i=t.segment,r=0;i&&(r=i.endTime-i.startTime),r={d:r*1e3,st:e.j.U()?QI:$I},r.ot=XI(t);var o=r.ot===Ic||r.ot===wc||r.ot===kc||r.ot===Cc;if(t=t.stream){var s=e.j.Za();if(o&&(r.bl=YI(e,t.type),r.ot!==Cc)){var u=k2(e,t.type);r.dl=s?u/Math.abs(s):u}if(t.bandwidth&&(r.br=t.bandwidth/1e3),t.segmentIndex&&i){if((s=t.segmentIndex.fc(i.endTime,!0,s<0))&&(s=s.next().value)&&s!=i){if(n&&!sr(i.S(),s.S())){var a=s.S()[0];u=new URL(a);var l=new URL(n);if(u.origin!==l.origin)n=a;else{n=u.pathname.split("/").slice(1),a=l.pathname.split("/").slice(1,-1),l=Math.min(n.length,a.length);for(var c=0;c<l&&n[c]===a[c];c++)n.shift(),a.shift();for(;a.length;)a.shift(),n.unshift("..");n=n.join("/")+u.search+u.hash}r.nor=n}!s.startByte&&!s.endByte||i.startByte==s.startByte&&i.endByte==s.endByte||(n=s.startByte+"-",s.endByte&&(n+=s.endByte),r.nrr=n)}s=e.j.Za()||1,n=k2(e,t.type)||500,i=(t=t.bandwidth)?t*(i.endTime-i.startTime)/1e3/(n/s/1e3)*e.g.rtpSafetyFactor:NaN,isNaN(i)||(r.rtp=i)}}return o&&r.ot!==Cc&&(r.tb=ZI(e,r.ot)/1e3),r}function Mp(e,t,n){Object.assign(t,Ip(e)),t.pr=e.j.Za();var i=t.ot===Ic||t.ot===kc;return e.I&&i&&(t.bs=!0,t.su=!0,e.I=!1),t.su==null&&(t.su=e.J),e.j.U()&&(i=nT(e.j),t.ltc=i||void 0),document.hidden&&(t.bg=!0),i=e.D&&e.C?e.D-(e.H||e.C):void 0,i==null||e.K[n]||(t.msd=i,e.K[n]=!0),t}function aa(e){function t(d){return n(d/100)*100}function n(d){return Math.round(d)}function i(d){return!Number.isNaN(d)&&d!=null&&d!==""&&d!==!1}var r=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(d){return encodeURIComponent(d)},rtp:t,tb:n,ttfb:n,ttlb:n},s=Object.keys(e||{}).sort();s=T(s);for(var u=s.next();!u.done;u=s.next()){u=u.value;var a=e[u];if(i(a)&&(u!=="v"||a!==1)&&(u!="pr"||a!==1)){var l=o[u];l&&(a=l(a)),l=typeof a;var c=void 0;c=l==="string"&&u!=="ot"&&u!=="sf"&&u!=="st"?u+"="+JSON.stringify(a):l==="boolean"?u:l==="symbol"?u+"="+a.description:u+"="+a,r.push(c)}}return r.join(",")}function M2(e){var t=Object.keys(e),n={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,url:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,ttfb:1,ttlb:1,ts:1,rc:1,cmsdd:1,cmsds:1,sn:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3,bg:3};t=T(t);for(var s=t.next();!s.done;s=t.next())s=s.value,r[o[s]!=null?o[s]:1][s]=e[s];for(e=0;e<r.length;e++)(o=aa(r[e]))&&(n["CMCD-"+i[e]]=o);return n}function xc(e,t){return!t||e.includes("offline:")?e:(e=new It(e),e.g.set("CMCD",t),e.toString())}var R2="m",wc="a",Ic="v",kc="av",JI="i",Rp="c",Cc="tt",Lp=2,$I="v",QI="l",Mc="d",Rc="ld",Lc="h",Pc="lh";K("shaka.util.CmcdManager.StreamingFormat",{DASH:Mc,hn:Rc,HLS:Lc,jn:Pc,zn:"s",OTHER:"o"});var L2="br bl bs cid d dl mtp nor nrr ot pr rtp sf sid st su tb v".split(" "),Pp="br ab bl tbl bs cdn cid ltc mtp pr sf sid bg sta st ts tpb tb lb tab lab pt ec msd v sn".split(" "),ek="ab bl tbl bs cdn cid d dl ltc mtp nor ot pr rtp sf sid bg sta st su ts tpb tb lb tab lab pt ec msd v".split(" "),tk="d dl nor ot rtp rc su ttfb ttfbb ttlb url cmsdd cmsds".split(" "),nk=["e","sta"],ik="ps e t c b m um pe pc".split(" "),rk="spawkrfeqd".split(""),ok=10,P2="ts",sk="t",b2="request",D2="response",N2="event";function ui(e){this.h=e,this.g=null}h=ui.prototype,h.configure=function(e){this.h=e},h.dj=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(U2)?this.g.get(U2)*1e3:null},h.cj=function(){return this.h.enabled&&this.g&&this.g.has(_2)?this.g.get(_2)*1e3:null},h.kl=function(){return this.h.enabled&&this.g&&this.g.has(j2)?this.g.get(j2):null},h.ll=function(){return this.h.enabled&&this.g&&this.g.has(B2)?this.g.get(B2):null},h.getBandwidthEstimate=function(e){var t=this.cj();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return n>0&&n<=1?e*(1-n)+t*n:e};function O2(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}K("shaka.util.CmsdManager",ui),ui.prototype.getBandwidthEstimate=ui.prototype.getBandwidthEstimate,ui.prototype.getRoundTripTime=ui.prototype.ll,ui.prototype.getResponseDelay=ui.prototype.kl,ui.prototype.getEstimatedThroughput=ui.prototype.cj,ui.prototype.getMaxBitrate=ui.prototype.dj;var _2="etp",U2="mb",j2="rd",B2="rtt";function F2(){this.g=null,this.h=[]}function bp(e,t){return N(function(n){if(n.g==1)return e.g?w(n,new Promise(function(i){return e.h.push(i)}),2):n.B(2);e.g=t,Z(n)})}F2.prototype.release=function(){this.h.length>0?this.h.shift()():this.g=null};function Dp(e,t,n){return n=n===void 0?Number.EPSILON:n,e===t?!0:(e=Math.abs(e-t),e<=n?!0:n!==Number.EPSILON?Math.abs(e-n)<=Number.EPSILON:!1)}function V(e,t,n){t=t===void 0?null:t,_e.call(this);var i=this;this.m=jc,this.h=null,this.Ue=t,this.X=!1,this.ef=new Fe,this.Ve=new Fe,this.j=new Fe,this.qc=new Fe,this.Yd=new Fe,this.G=this.H=this.F=this.M=null,this.gf=0,this.Z=new F2,this.O=this.Fa=this.V=this.i=this.Lc=this.I=this.l=this.Re=this.R=this.Ji=this.oa=this.K=this.jb=this.ya=this.Te=this.P=this.La=this.L=this.Pb=null,this.Na=!1,this.Ze=this.u=null,this.Ye=1e9,this.df=[],this.Kc=new Map,this.kb=[],this.Gg=-1,this.g=Ni(this),this.Ig=u2(),this.T=null,this.hf=-1,this.nc=null,this.sa={width:1/0,height:1/0},this.Xe=new Mf(this.g,this.sa,null),this.bf=[],this.C=null,this.J=this.g.adaptationSetCriteriaFactory(),this.J.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredAudioRole,videoRole:this.g.preferredVideoRole,channelCount:0,hdrLevel:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,audioLabel:this.g.preferredAudioLabel,videoLabel:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:this.g.preferredAudioCodecs,preferredAudioChannelCount:this.g.preferredAudioChannelCount}),this.ee=this.g.preferredTextLanguage,this.je=this.g.preferredTextRole,this.ie=this.g.preferForcedSubs,this.We=[],n&&n(this),this.K=new xp(this,this.g.cmcd),this.oa=new ui(this.g.cmsd),this.M=X2(this),this.aa=this.ha=this.ua=this.D=null,this.Kg=!1,this.Hg=[],this.Jg=new le(function(){return N(function(r){if(r.g==1)return i.ha?w(r,i.Ub(i.aa,!0),3):r.B(0);if(r.g!=4)return w(r,i.load(i.ha),4);i.Kg?i.aa.pause():i.aa.play(),i.ha=null,i.Kg=!1,Z(r)})}),Bc&&(this.D=Bc(),this.D.configure(this.g.ads),this.Yd.o(this.D,"ad-content-pause-requested",function(r){var o,s;return N(function(u){if(u.g==1)return i.Jg.stop(),i.ha?u.B(0):(i.aa=i.h,i.Kg=i.isEnded(),o=r.saveLivePosition||!1,s=!0,i.U()&&(s=o),w(u,i.Yi(!0,s),3));i.ha=u.h,Z(u)})}),this.Yd.o(this.D,"ad-content-resume-requested",function(r){if(r=r.offset||0,i.ha){var o=i.ha;o.u&&r&&(typeof o.u=="number"?o.u+=r:o.u.setTime(o.u.getTime()+r*1e3))}i.Jg.Y(.1)}),this.Yd.o(this.D,"ad-content-attach-requested",function(){return N(function(r){if(r.g==1)return i.h||!i.aa?r.B(0):w(r,i.Ub(i.aa,!0),3);i.aa=null,Z(r)})})),Fc&&(this.ua=Fc(this),this.ua.configure(this.g.queue)),this.ef.o(S,"online",function(){Fp(i),i.bi()}),this.$e=new le(function(){for(var r=Date.now()/1e3,o=!1,s=!0,u=T(i.i.variants),a=u.next();!a.done;a=u.next())a=a.value,a.disabledUntilTime>0&&a.disabledUntilTime<=r&&(a.disabledUntilTime=0,o=!0),a.disabledUntilTime>0&&(s=!1);s&&i.$e.stop(),o&&Qr(i,!1,void 0,!1,!1)}),this.$a=null,e&&(qe("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Ub(e,!0)),this.A=null}se(V,_e);function bc(e){e.R!=null&&(Bv(e.R),e.R.release(),e.R=null)}function uk(e,t,n){n||t.lcevc.enabled?(bc(e),e.R==null&&(e.R=new Eu(e.h,e.Ji,t.lcevc,n),e.H&&(e.H.D=e.R))):bc(e)}function tt(e,t){return new J(e,t)}h=V.prototype,h.destroy=function(){var e=this,t;return N(function(n){switch(n.g){case 1:return e.m==Ai?n.return():(bc(e),t=e.detach(),e.m=Ai,w(n,t,2));case 2:return w(n,e.Zg(),3);case 3:if(e.ef&&(e.ef.release(),e.ef=null),e.Ve&&(e.Ve.release(),e.Ve=null),e.j&&(e.j.release(),e.j=null),e.qc&&(e.qc.release(),e.qc=null),e.Yd&&(e.Yd.release(),e.Yd=null),e.Ze=null,e.g=null,e.C=null,e.Ue=null,e.K=null,e.oa=null,!e.M){n.B(4);break}return w(n,e.M.destroy(),5);case 5:e.M=null;case 4:e.u&&(e.u.release(),e.u=null),e.ua&&(e.ua.destroy(),e.ua=null),_e.prototype.release.call(e),Z(n)}})};function q2(e,t){vT.set(e,t)}function V2(){return S.Promise||ye("A Promise implementation or polyfill is required"),!(S.Promise&&S.Uint8Array&&Array.prototype.forEach)||(navigator.userAgent||"").includes("Trident/")?!1:(ke(),Wi()?!0:No().canPlayType("application/x-mpegurl")!="")}function Us(e,t){e.dispatchEvent(tt("onstatechange",new Map().set("state",t)))}h.Ub=function(e,t){t=t===void 0?!0:t;var n=this,i,r,o;return N(function(s){switch(s.g){case 1:if(n.m==Ai)throw new _(2,7,7e3);if(i=n.h&&n.h==e,!n.h||n.h==e){s.B(2);break}return w(s,n.detach(),2);case 2:return w(s,Np(n,"attach"),4);case 4:if(s.h)return s.return();if(ue(s,5,6),i||(Us(n,"attach"),r=function(){var u=qp(n,!1);u&&js(n,u)},n.Ve.o(e,"error",r),n.h=e,n.K&&n.K.setMediaElement(e)),ke(),!t||!Wi()||n.H){s.B(6);break}return w(s,Op(n),6);case 6:Hn(s),n.Z.release(),Gn(s,0);break;case 5:return o=ae(s),w(s,n.detach(),10);case 10:throw o}})},h.Li=function(e){this.Ji=e},h.detach=function(e){e=e===void 0?!1:e;var t=this;return N(function(n){if(n.g==1){if(t.m==Ai)throw new _(2,7,7e3);return w(n,t.yc(!1,e),2)}if(n.g!=3)return w(n,Np(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.Ve.Ta(),t.h=null),Us(t,"detach"),t.D&&!e&&t.D.release()}finally{t.Z.release()}Z(n)})};function Np(e,t){var n;return N(function(i){return i.g==1?(n=++e.gf,w(i,bp(e.Z,t),2)):n!=e.gf?(e.Z.release(),i.return(!0)):i.return(!1)})}h.yc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I;return N(function(C){switch(C.g){case 1:return n.m!=Ai&&(n.m=jc),w(C,Np(n,"unload"),2);case 2:return C.h?C.return():(nr(C,3),n.Na=!1,Us(n,"unload"),bc(n),i=n.We.map(function(L){return L()}),n.We=[],w(C,Promise.all(i),5));case 5:if(n.dispatchEvent(tt("unloading")),n.Te&&(n.Te.release(),n.Te=null),n.ya&&(n.ya.release(),n.ya=null),n.jb&&(n.jb.release(),n.jb=null),n.h&&(n.j.Ta(),n.qc.Ta()),n.$e.stop(),n.Pb&&(n.Pb.release(),n.Pb=null),n.La&&(n.La.stop(),n.La=null),!n.I){C.B(6);break}return w(C,n.I.stop(),7);case 7:n.I=null,n.Lc=null;case 6:if(n.u&&n.u.stop(),!n.l){C.B(8);break}return w(C,n.l.destroy(),9);case 9:n.l=null;case 8:if(n.L&&(n.L.release(),n.L=null),n.G&&(n.G.release(),n.G=null),S.shakaMediaKeysPolyfill!=="webkit"||!n.F){C.B(10);break}return w(C,n.F.destroy(),11);case 11:n.F=null;case 10:if(!n.H){C.B(12);break}return w(C,n.H.destroy(),13);case 13:n.H=null;case 12:if(n.D&&!t&&n.D.onAssetUnload(),n.ha&&!t&&(n.ha.destroy(),n.ha=null),t||n.Jg.stop(),n.K&&qI(n.K),n.oa&&(n.oa.g=null),!n.A){C.B(14);break}return w(C,n.A.destroy(),15);case 15:n.A=null;case 14:if(n.X=!1,n.h){for(r=T(n.Hg),o=r.next();!o.done;o=r.next())s=o.value,s.src.startsWith("blob:")&&URL.revokeObjectURL(s.src),s.remove();n.Hg=[],$l(n.h)&&n.h.load()}if(!n.F){C.B(16);break}return w(C,n.F.destroy(),17);case 17:n.F=null;case 16:if(n.$a&&n.V!=n.$a.jd()&&(n.$a.l||n.$a.destroy(),n.$a=null),n.V=null,n.Fa=null,n.P=null,n.i){for(u=T(n.i.variants),a=u.next();!a.done;a=u.next())for(l=a.value,c=T([l.audio,l.video]),d=c.next();!d.done;d=c.next())(p=d.value)&&p.segmentIndex&&p.segmentIndex.release();for(v=T(n.i.textStreams),y=v.next();!y.done;y=v.next())E=y.value,E.segmentIndex&&E.segmentIndex.release()}for(n.g&&n.g.streaming.clearDecodingCache&&(Bl.clear(),rs.clear()),n.i=null,n.C=new Ac,n.Ii=null,n.nc=null,n.T=null,n.hf=-1,n.df=[],A=T(n.Kc.values()),k=A.next();!k.done;k=A.next())I=k.value,I.stop();n.Kc.clear(),n.kb=[],n.Gg=-1,n.M&&n.M.Ti(),la(n);case 3:Hn(C),n.Z.release(),Gn(C,4);break;case 4:if(ke(),e&&Wi()&&!n.H&&n.h)return w(C,Op(n),0);C.B(0)}})},h.Gm=function(e){this.O=e},h.load=function(e,t,n){t=t===void 0?null:t;var i=this,r,o,s,u,a,l,c,d,p,v,y,E,A,k;return N(function(I){switch(I.g){case 1:if(i.m==Ai)throw new _(2,7,7e3);if(i.h||!i.aa){I.B(2);break}return w(I,i.Ub(i.aa,!0),3);case 3:i.aa=null;case 2:if(r=null,o="",e instanceof si){if(e.l)throw new _(2,7,7006);r=e,o=r.jd()||""}else o=e||"";return w(I,bp(i.Z,"load"),4);case 4:if(i.Z.release(),!i.h)throw new _(2,7,7002);if(!i.V){I.B(5);break}return i.V=o,w(I,i.yc(!1),5);case 5:if(s=++i.gf,u=function(){return N(function(C){if(C.g==1)return i.gf==s?C.B(0):r?w(C,r.destroy(),3):C.B(3);throw new _(2,7,7e3)})},a=function(C,L){return N(function(O){switch(O.g){case 1:return nr(O,2),w(O,bp(i.Z,L),4);case 4:return w(O,u(),5);case 5:return w(O,C(),6);case 6:return w(O,u(),7);case 7:r&&i.g&&(r.g=i.g);case 2:Hn(O),i.Z.release(),Gn(O,0)}})},ue(I,7,8),t==null&&r&&(t=r.getStartTime()),i.O=t,i.Na=!1,i.dispatchEvent(tt("loading")),r){n=r.T,I.B(10);break}if(n){I.B(10);break}return w(I,a(function(){return N(function(C){if(C.g==1)return w(C,K2(i,o),2);n=C.h,Z(C)})},"guessMimeType_"),10);case 10:if(l=!!r,r){c2(r,i),i.C=r.getStats(),I.B(13);break}return w(I,G2(i,o,t,n,!0,i.g),14);case 14:(r=I.h)?(r.F=!1,c2(r,i),i.C=r.getStats(),r.start(),r.C.catch(function(){})):i.C=new Ac;case 13:return c=!r,d=Date.now()/1e3,i.C=r?r.getStats():new Ac,i.V=o,i.Fa=n||null,la(i),p=function(){var C=i.h?i.h.buffered:null;return{start:ly(C)||0,end:Jl(C)||0}},i.ya=new Yu(p),i.ya.addEventListener("regionadd",function(C){_p(i,C.region,"metadataadded")}),c?w(I,a(function(){return N(function(C){return w(C,dk(i,n),0)})},"initializeSrcEqualsDrmInner_"),25):(i.jb=new Yu(p),w(I,a(function(){return N(function(C){if(C.g==1)return w(C,Promise.race([r.aa,r.C]),2);i.Lc=r.H;var L=r;L.ha=!0,i.I=L.m,i.i=r.yh(),Z(C)})},"waitForFinish"),17));case 17:if(i.H){I.B(18);break}return w(I,a(function(){return N(function(C){return w(C,Op(i),0)})},"initializeMediaSourceEngineInner_"),18);case 18:return i.i&&i.i.textStreams.length&&(i.A.enableTextDisplayer?i.A.enableTextDisplayer():qe("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),w(I,a(function(){return N(function(C){return w(C,r.C,0)})},"waitForFinish"),20);case 20:if(i.g=r.getConfiguration(),i.Xe=r.G,i.I&&i.I.setMediaElement&&i.h&&i.I.setMediaElement(i.h),i.Te=II(r),i.Re=r.Fa,(v=r.D)&&(i.J=v),l&&i.h&&i.h.nodeName==="AUDIO"&&(ak(i),i.configure("manifest.disableVideo",!0)),r.j){I.B(21);break}return w(I,a(function(){return N(function(C){return w(C,d2(r,i.h),0)})},"drmEngine_.init"),21);case 21:return i.F=kI(r),w(I,a(function(){return N(function(C){return w(C,i.F.Ub(i.h),0)})},"drmEngine_.attach"),23);case 23:return y=i.g.abrFactory,i.u&&i.Ze==y||(i.Ze=y,i.u&&i.u.release(),i.u=y(),typeof i.u.setMediaElement!="function"&&(qe("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),i.u.setMediaElement=function(){}),typeof i.u.setCmsdManager!="function"&&(qe("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),i.u.setCmsdManager=function(){}),typeof i.u.trySuggestStreams!="function"&&(qe("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),i.u.trySuggestStreams=function(){}),i.u.configure(i.g.abr)),E=CI(r),A=r.i,w(I,a(function(){return N(function(C){return w(C,ck(i,d,A,E),0)})},"loadInner_"),24);case 24:wI(r),i.Fa&&ke().pg()&&Dl(i.Fa)&&m5(i.H,i.V,i.Fa),I.B(16);break;case 25:return w(I,a(function(){return N(function(C){return w(C,hk(i,d,n),0)})},"srcEqualsInner_"),16);case 16:i.dispatchEvent(tt("loaded"));case 8:if(Hn(I),!r){I.B(27);break}return w(I,r.destroy(),27);case 27:i.$a=null,Gn(I,0);break;case 7:if(k=ae(I),!k||k.code==7e3){I.B(29);break}return w(I,i.yc(!1),29);case 29:throw k}})};function ak(e){for(var t=T(e.i.variants),n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(i){return i.audio})}h.ik=function(e,t,n){e=e===void 0?!0:e,t=t===void 0?!1:t,n=n===void 0?!1:n;var i=this,r;return N(function(o){return o.g==1?w(o,H2(i,n),2):o.g!=3?(r=o.h,w(o,i.yc(e,t),3)):o.return(r)})},h.Yi=function(e,t){e=e===void 0?!1:e,t=t===void 0?!1:t;var n=this,i;return N(function(r){return r.g==1?w(r,H2(n,t),2):r.g!=3?(i=r.h,w(r,n.detach(e),3)):r.return(i)})};function H2(e,t){t=t===void 0?!1:t;var n,i,r;return N(function(o){if(o.g==1)return n=null,e.i&&e.I&&e.Lc&&e.V&&e.g?(i=e.h.currentTime,t||(i=null),w(o,z2(e,e.V,i,e.Fa,e.g,!0,!1),3)):o.B(2);if(o.g!=2){n=o.h,e.bf.push(n),e.I&&e.I.setMediaElement&&e.I.setMediaElement(null),(r=e.l?e.l.u:null)&&(n.i=r);var s=n,u=e.I,a=e.Lc;s.h=e.i,s.m=u,s.H=a,n.D=e.J,n.start(),e.i=null,e.I=null,e.Lc=null,e.u=null,e.Ze=null}return o.return(n)})}h.preload=function(e,t,n,i){t=t===void 0?null:t;var r=this,o,s;return N(function(u){return u.g==1?(o=Ni(r),Tr(o,i||r.g,Ni(r)),w(u,G2(r,e,t,n,!1,o),2)):((s=u.h)?s.start():js(r,new _(2,7,7005)),u.return(s))})},h.Zg=function(){var e=this,t,n,i,r;return N(function(o){for(t=[],n=T(e.bf),i=n.next();!i.done;i=n.next())r=i.value,r.l||t.push(r.destroy());return e.bf=[],w(o,Promise.all(t),0)})};function G2(e,t,n,i,r,o){r=r===void 0?!1:r;var s,u,a;return N(function(l){return l.g==1?i?l.B(2):w(l,K2(e,t),3):(l.g!=2&&(i=l.h),lk(e,i)?l.return(null):(s=o||e.g,u=!1,r&&e.h&&e.h.nodeName==="AUDIO"&&(u=!0),a=z2(e,t,n,i||null,s,!r,u),a=r?a.then(function(c){return c.F=!1,c}):a.then(function(c){return e.bf.push(c),c}),l.return(a)))})}function z2(e,t,n,i,r,o,s){o=o===void 0?!0:o,s=s===void 0?!1:s;var u,a,l,c,d,p,v,y,E,A,k,I,C,L,O;return N(function(M){return M.g==1?(u=null,a=Ti(r),s&&(a.manifest.disableVideo=!0),l=function(){return u.P&&u.l?null:u},c=function(){return l()?l().getConfiguration():e.g},e.sa.width!=1/0||e.sa.height!=1/0||e.g.ignoreHardwareResolution?M.B(2):(d=ke(),w(M,d.Ac(),3))):(M.g!=2&&(p=M.h,e.sa.width=p.width,e.sa.height=p.height),v=new Mf(a,e.sa,null),y={networkingEngine:e.M,filter:function(D){var P,j;return N(function(b){if(b.g==1)return w(b,K1(v,D),2);if(b.g!=4)return P=b.h,P?(j=tt("trackschanged"),w(b,Promise.resolve(),4)):b.B(0);u.dispatchEvent(j),Z(b)})},makeTextStreamsForClosedCaptions:function(D){return Ik(e,D)},onTimelineRegionAdded:function(D){$f(u.I,D)},onEvent:function(D){return u.dispatchEvent(D)},onError:function(D){return u.onError(D)},isLowLatencyMode:function(){return c().streaming.lowLatencyMode},updateDuration:function(){e.l&&u.P&&e.l.updateDuration()},newDrmInfo:function(D){var P=u.j,j=P?P.g:null;j&&P.C&&Y1(v,j.keySystem,D)},onManifestUpdated:function(){var D=new Map().set("isLive",e.U());u.dispatchEvent(tt("manifestupdated",D)),ra(u,!1,function(){e.D&&e.D.onManifestUpdated(e.U())})},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()},onMetadata:function(D,P,j,b){var U=D;(D=="com.apple.hls.interstitial"||D=="com.apple.hls.overlay")&&(U="com.apple.quicktime.HLS",D={startTime:P,endTime:j,values:b},e.D&&e.D.onHLSInterstitialMetadata(e,e.h,D)),b=T(b),D=b.next();for(var B={};!D.done;B={Vh:void 0},D=b.next())B.Vh=D.value,B.Vh.name!="ID"&&ra(u,!1,(function(G){return function(){Up(e,P,j,U,G.Vh)}})(B))},disableStream:function(D){return e.disableStream(D,e.g.streaming.maxDisabledTime)},addFont:function(D,P){return e.addFont(D,P)}},E=new Yu(function(){return e.xa()}),E.addEventListener("regionadd",function(D){var P=D.region;ha(e,"timelineregionadded",P,u),ra(u,!1,function(){e.D&&(e.D.onDashTimedMetadata(P),e.D.onDASHInterstitialMetadata(e,e.h,P))})}),A=null,a.streaming.observeQualityChanges&&(A=new oc(function(){return e.Sc()}),A.addEventListener("qualitychange",function(D){fT(e,D.quality,D.position)}),A.addEventListener("audiotrackchange",function(D){fT(e,D.quality,D.position,!0)})),k=!0,I={Hc:e.M,onError:function(D){return u.onError(D)},Xf:function(D){ra(u,!0,function(){e.F&&Ck(e,D)})},onExpirationUpdated:function(D,P){var j=tt("expirationupdated");u.dispatchEvent(j),(j=u.m)&&j.onExpirationUpdated&&j.onExpirationUpdated(D,P)},onEvent:function(D){u.dispatchEvent(D),D.type=="drmsessionupdate"&&k&&(k=!1,D=Date.now()/1e3-u.ua,(e.C||u.getStats()).m=D,e.R&&Bv(e.R))}},C=X2(e,l),k1(e.M,C),L=function(){return e.Dd(I)},O={config:a,Rl:y,bm:E,am:A,Dd:L,Ql:v,networkingEngine:C,vk:o},u=new si(t,i,n,O),M.return(u))})}function K2(e,t){var n,i,r,o;return N(function(s){return s.g==1?(n=e.g.manifest.retryParameters,w(s,Rs(t,e.M,n),2)):(i=s.h,i=="application/x-mpegurl"&&(r=ke(),r.Ka()==="WEBKIT"&&(i="application/vnd.apple.mpegurl")),i=="video/quicktime"&&(o=ke(),o.Ka()==="CHROMIUM"&&(i="video/mp4")),s.return(i))})}function lk(e,t){if(!Wi(ke()))return!0;if(t){if((e.h||No()).canPlayType(t)=="")return!1;if(!Wi(ke())||!as.has(t.toLowerCase()))return!0;if(Dl(t))return ke().Ka()==="WEBKIT"&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if(t==="application/dash+xml"||t==="video/vnd.mpeg.dash.mpd")return e.g.streaming.preferNativeDash}return!1}function Dc(e,t){var n=e.g.textDisplayFactory;e.Ii!==n||t!==void 0&&t?(t=e.A,e.A=n(),e.A.configure?e.A.configure(e.g.textDisplayer):qe("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.A.setTextLanguage||qe("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),t?(e.A.setTextVisibility(t.isTextVisible()),t.destroy().catch(function(){})):e.A.setTextVisibility(e.X),e.H&&w5(e.H,e.A),e.Ii=n,e.l&&Z5(e.l)):e.A&&e.A.configure&&e.A.configure(e.g.textDisplayer)}function Op(e){var t,n,i;return N(function(r){if(r.g==1)return ke(),Us(e,"media-source"),e.g.mediaSource.useSourceElements&&$l(e.h),Dc(e),t=Sk(e.h,e.A,{Wk:function(){return e.keySystem()},onMetadata:function(o,s,u){o=T(o);for(var a=o.next();!a.done;a=o.next())if(a=a.value,a.data&&typeof a.cueTime=="number"&&a.frames){var l=a.cueTime+s,c=u;c&&l>c&&(c=l);for(var d=T(a.frames),p=d.next();!p.done;p=d.next())Up(e,l,c,"org.id3",p.value);e.D&&e.D.onHlsTimedMetadata(a,l)}},Wl:function(o){e.jb&&$f(e.jb,{schemeIdUri:o.schemeIdUri,startTime:o.startTime,endTime:o.endTime,id:String(o.id),emsg:o})},onEvent:function(o){return e.dispatchEvent(o)},Yl:function(){e.I&&e.I.update&&e.I.update()}},e.R,e.g.mediaSource),n=e.g.manifest,i=n.segmentRelativeVttTiming,t.Fa=i,w(r,t.L,2);e.H=t,Z(r)})}function W2(e,t,n){function i(){return jp(e)}if(e.j.o(t,"playing",i),e.j.o(t,"pause",i),e.j.o(t,"ended",i),e.j.o(t,"ratechange",function(){var o=e.h.playbackRate;o!=0&&(e.L&&(e.L.set(o),e.m==Gt&&e.u.playbackRateChanged(o),rT(e,o)),o=tt("ratechange"),e.dispatchEvent(o))}),t.remote&&(e.j.o(t.remote,"connect",function(){e.l&&t.remote.state=="connected"&&Er(e),yn(e)}),e.j.o(t.remote,"connecting",function(){return yn(e)}),e.j.o(t.remote,"disconnect",function(){return N(function(o){if(o.g==1)return e.l&&t.remote.state=="disconnected"?w(o,pc(e.l),3):o.B(2);o.g!=2&&Er(e),yn(e),Z(o)})})),t.audioTracks&&(e.j.o(t.audioTracks,"addtrack",function(){return yn(e)}),e.j.o(t.audioTracks,"removetrack",function(){return yn(e)}),e.j.o(t.audioTracks,"change",function(){return yn(e)})),t.videoTracks&&(e.j.o(t.videoTracks,"addtrack",function(){return yn(e)}),e.j.o(t.videoTracks,"removetrack",function(){return yn(e)}),e.j.o(t.videoTracks,"change",function(){return yn(e)})),(t.webkitPresentationMode||t.webkitSupportsFullscreen)&&e.j.o(t,"webkitpresentationmodechanged",function(){e.Ue&&Dc(e,!0)}),t.textTracks){var r=function(){e.m===Tn&&e.A instanceof _t&&Er(e),yn(e)};e.j.o(t.textTracks,"addtrack",function(o){if(o.track)switch(o=o.track,o.kind){case"metadata":gk(e,o);break;case"chapters":mk(e,o);break;default:r()}}),e.j.o(t.textTracks,"removetrack",r),e.j.o(t.textTracks,"change",r)}t.preload!="none"&&e.j.qa(t,"loadedmetadata",function(){e.C.G=Date.now()/1e3-n})}function ck(e,t,n,i){var r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F;return N(function(q){switch(q.g){case 1:for(Us(e,"load"),r=e.h,e.L=new Xu({Bf:function(){return r.playbackRate},kd:function(){return r.defaultPlaybackRate},li:function(z){r.playbackRate=z},wj:function(z){r.currentTime+=z}}),W2(e,r,t),("onchange"in S.screen)&&e.j.o(S.screen,"change",function(){if(e.J.getConfiguration){var z=e.J.getConfiguration();z.hdrLevel=="AUTO"?$r(e):e.g.preferredVideoHdrLevel=="AUTO"&&e.g.abr.enabled&&(z.hdrLevel="AUTO",e.J.configure(z),$r(e))}}),o=!1,s=T(e.i.variants),u=s.next();!u.done;u=s.next())a=u.value,(l=a.video&&a.video.dependencyStream)&&(o=Fv(l));uk(e,e.g,o),e.ee=e.g.preferredTextLanguage,e.je=e.g.preferredTextRole,e.ie=e.g.preferForcedSubs,Vp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u.init(function(z,Y,we){e.i&&e.l&&z!=e.l.u&&ca(e,z,!0,Y===void 0?!1:Y,we===void 0?0:we)}),e.u.setMediaElement(r),e.u.setCmsdManager(e.oa),e.l=Ek(e),e.l.configure(e.g.streaming),e.m=Gt,e.dispatchEvent(tt("streaming")),c=n;case 2:for((p=e.l.u)||c||(c=sT(e,!0)),v=[],d=p||c,y=T([d.video,d.audio]),E=y.next();!E.done;E=y.next())(A=E.value)&&!A.segmentIndex&&(v.push(A.createSegmentIndex()),A.dependencyStream&&v.push(A.dependencyStream.createSegmentIndex()));if(!(v.length>0)){q.B(4);break}return w(q,Promise.all(v),4);case 4:if(!d||d.disabledUntilTime!=0){q.B(2);break}if($r(e),e.I&&e.I.onInitialVariantChosen&&e.I.onInitialVariantChosen(d),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Ig):ye("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.K&&(VI(e.K,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),HI(e.K,t*1e3)),Vp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),W5(e.l,e.g.playRangeStart,e.g.playRangeEnd),e.Na=!0,e.dispatchEvent(tt("canupdatestarttime")),k=function(z){e.G=vk(e,z),e.Pb=yk(e,z),Y2(e,r,!1)},e.g.streaming.startAtSegmentBoundary||(I=e.O,I==null&&e.i.startTime&&(I=e.i.startTime),k(I)),p){q.B(7);break}if(!e.g.streaming.startAtSegmentBoundary){q.B(8);break}return C=e.i.presentationTimeline,e.O instanceof Date&&(O=C.m||C.i,M=e.O.getTime()/1e3-O,M!=null&&(L=M)),L==null&&(L=typeof e.O=="number"?e.O:e.U()?1/0:e.h.currentTime),e.O==null&&e.i.startTime&&(L=e.i.startTime),D=C.jc(),P=C.Mb(),L<D?L=D:L>P&&(L=P),w(q,kk(c,L),9);case 9:j=q.h,k(j);case 8:ca(e,c,!0,!1,0);case 7:return e.G.ready(),b=e.Dc().find(function(z){return z.active}),b||((U=gs(e.i.textStreams,e.ee,e.je,e.ie)[0]||null)&&gp(e.C.h,U,!0),c&&(U?(T1(c.audio,U,e.g)&&(e.X=!0),e.X&&e.A.setTextVisibility(!0)):(e.X=!1,e.A.setTextVisibility(!1)),dT(e)),U&&(e.g.streaming.alwaysStreamText||e.Yc())&&(ac(e.l,U),da(e))),w(q,e.l.start(i),10);case 10:e.g.abr.enabled&&(e.u.enable(),hT(e)),yn(e),e.i.variants.some(function(z){return z.primary}),((B=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(G=function(){return oT(e)},e.j.o(r,"timeupdate",G)),B||(H=function(){return Uc(e)},e.j.o(r,"timeupdate",H),Uc(e),e.i.nextUrl&&(e.g.streaming.preloadNextUrlWindow>0&&(F=function(){var z;return N(function(Y){if(Y.g==1)return z=e.xa().end-e.h.currentTime,isNaN(z)||!(z<=e.g.streaming.preloadNextUrlWindow)?Y.B(0):(e.j.Ea(r,"timeupdate",F),w(Y,e.preload(e.i.nextUrl),4));e.$a=Y.h,Z(Y)})},e.j.o(r,"timeupdate",F)),e.j.o(r,"ended",function(){e.load(e.$a||e.i.nextUrl)}))),e.D&&e.D.onManifestUpdated(B),Z(q)}})}function dk(e,t){var n,i,r;return N(function(o){return o.g==1?(n=Date.now()/1e3,i=!0,e.F=e.Dd({Hc:e.M,onError:function(s){js(e,s)},Xf:function(){},onExpirationUpdated:function(){var s=tt("expirationupdated");e.dispatchEvent(s)},onEvent:function(s){e.dispatchEvent(s),s.type=="drmsessionupdate"&&i&&(i=!1,e.C.m=Date.now()/1e3-n)}}),e.F.configure(e.g.drm),r=S1([t]),e.F.O=!0,w(o,N1(e.F,[r],[]),2)):w(o,e.F.Ub(e.h),0)})}function hk(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y;return N(function(E){switch(E.g){case 1:if(Us(e,"src-equals"),i=e.h,e.G=new jy(i),r=!1,e.We.push(function(){r=!0}),e.dispatchEvent(tt("canupdatestarttime")),e.O!=null&&e.G.Fg(e.O),e.Pb=Tk(e,e.O||0),e.L=new Xu({Bf:function(){return i.playbackRate},kd:function(){return i.defaultPlaybackRate},li:function(A){i.playbackRate=A},wj:function(A){i.currentTime+=A}}),Y2(e,i,!0),i.textTracks&&(Dc(e),o=function(A){if(!(e.A instanceof _t)){var k=Nc(e).find(function(I){return I.mode!=="disabled"});k&&(k.mode=A?"showing":"hidden"),e.A instanceof on&&(k=Ak(e))&&(k.mode=!A&&e.A.isTextVisible()?"showing":"hidden")}},e.j.o(i,"enterpictureinpicture",function(){return o(!0)}),e.j.o(i,"leavepictureinpicture",function(){return o(!1)}),i.remote?(e.j.o(i.remote,"connect",function(){return o(!1)}),e.j.o(i.remote,"connecting",function(){return o(!1)}),e.j.o(i.remote,"disconnect",function(){return o(!1)})):"webkitCurrentPlaybackTargetIsWireless"in i&&e.j.o(i,"webkitcurrentplaybacktargetiswirelesschanged",function(){return o(!1)}),s=i,(s.webkitPresentationMode||s.webkitSupportsFullscreen)&&e.j.o(s,"webkitpresentationmodechanged",function(){s.webkitPresentationMode?o(s.webkitPresentationMode!=="inline"):s.webkitSupportsFullscreen&&o(s.webkitDisplayingFullscreen)})),W2(e,i,t),u=GI(e.K,e.V,n),!u.includes("#t=")&&(e.g.playRangeStart>0||isFinite(e.g.playRangeEnd))&&(u+="#t=",e.g.playRangeStart>0&&(u+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(u+=","+e.g.playRangeEnd)),!e.H){E.B(2);break}return w(E,e.H.destroy(),3);case 3:e.H=null;case 2:return $l(i),i.src=u,a=ke(),a.Oa()=="TV"&&i.load(),i.preload!="none"&&!i.autoplay&&Dl(n)&&a.Ka()==="WEBKIT"&&i.load(),e.m=Tn,e.dispatchEvent(tt("streaming")),l=function(){return new Promise(function(A){var k=new le(A);e.j.o(i.textTracks,"change",function(){return k.Y(.5)}),k.Y(.5)})},c=new Qe,Uo(i,HTMLMediaElement.HAVE_METADATA,e.j,function(){return N(function(A){if(A.g==1)return e.G.ready(),e.Fa&&Dl(e.Fa)?w(A,l(),3):(c.resolve(),A.B(0));c.resolve(),Z(A)})}),Uo(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.j,function(){var A,k,I,C,L;return N(function(O){if(O.g==1)return w(O,l(),2);if(r)return O.return();if(fk(e),A=Nc(e),A.some(function(M){return M.mode==="showing"})&&(e.X=!0,e.A.setTextVisibility(!0)),!(e.A instanceof _t))for(A.length&&(e.A.enableTextDisplayer?e.A.enableTextDisplayer():qe("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method')),k=!1,I=T(A),C=I.next();!C.done;C=I.next())L=C.value,L.mode!=="disabled"&&(k?(L.mode="disabled",ye("Found more than one enabled text track, disabling it",L)):(tT(e,L),k=!0));pk(e),Z(O)})}),i.error?c.reject(qp(e)):i.preload=="none"&&(ye('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),c.resolve()),e.j.qa(i,"error",function(){c.reject(qp(e))}),w(E,Nl(e.g.streaming.loadTimeout,c),4);case 4:((d=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(p=function(){return oT(e)},e.j.o(i,"timeupdate",p)),d||(v=function(){return Uc(e)},e.j.o(i,"timeupdate",v),Uc(e)),e.D&&(e.D.onManifestUpdated(d),d&&(y=e.xa().end,e.j.o(i,"progress",function(){var A=e.xa().end;y!=A&&(e.D.onManifestUpdated(e.U()),y=A)}))),e.Na=!0,Z(E)}})}function fk(e){var t=e.g.preferredAudioLanguage;t!=""&&e.Mj(t,e.g.preferredAudioRole)}function pk(e){var t=e.g.preferredTextLanguage;t!=""&&e.ei(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function gk(e,t){if(t.kind=="metadata"){t.mode="hidden",e.j.o(t,"cuechange",function(){if(t.activeCues)for(var i=T(t.activeCues),r=i.next();!r.done;r=i.next())r=r.value,Up(e,r.startTime,r.endTime,r.type,r.value),e.D&&e.D.onCueMetadataChange(r.value);if(t.cues){i=[],r=T(t.cues);for(var o=r.next(),s={};!o.done;s={Qc:void 0},o=r.next())s.Qc=o.value,s.Qc.type=="com.apple.quicktime.HLS"&&s.Qc.startTime!=null&&(o=i.find((function(u){return function(a){return a.startTime==u.Qc.startTime&&a.endTime==u.Qc.endTime}})(s)),o||(o={startTime:s.Qc.startTime,endTime:s.Qc.endTime,values:[]},i.push(o)),o.values.push(s.Qc.value));for(i=T(i),r=i.next();!r.done;r=i.next())r=r.value,r.values.some(function(u){return u.key=="X-ASSET-URI"||u.key=="X-ASSET-LIST"})&&e.D&&(r.values.push({key:"CUE",description:"",data:r.startTime!=0||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.D.onHLSInterstitialMetadata(e,e.h,r))}});var n=new le(function(){var i=xk(e);i=T(i);for(var r=i.next();!r.done;r=i.next())r.value.mode="hidden"}).Ja().Y(.5);e.We.push(function(){n.stop()})}}function _p(e,t,n){t=new Map().set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(tt(n,t))}function Up(e,t,n,i,r){e.ya&&(t={schemeIdUri:i,startTime:t,endTime:n||1/0,id:"",payload:r},t.id=JSON.stringify(t),$f(e.ya,t))}function mk(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new le(function(){t.mode="hidden"}).Ja().Y(.5);e.We.push(function(){n.stop()})}}h.hm=function(){for(var e=this.Z;e.g;)e.release()},h.Dd=function(e){return new Kl(e)};function X2(e,t){function n(o){t()?t().dispatchEvent(o):e.dispatchEvent(o)}function i(o){t()?ra(t(),!0,o):o()}t||(t=function(){return null});var r=new at(function(o,s,u,a,l){i(function(){e.u&&e.u.segmentDownloaded(o,s,u,a,l)})},function(o,s,u){s=new Map().set("headers",o).set("request",s).set("requestType",u),n(tt("downloadheadersreceived",s)),i(function(){if(e.oa){var a=e.oa;if(a.h.enabled){var l=o["cmsd-static"];if(l)try{var c=new Map,d=l.split(",");for(l=0;l<d.length;l++){var p=d[l].split("=");c.set(p[0],O2(p[1]))}}catch{}if(c=o["cmsd-dynamic"]){e:{try{var v=new Map,y=c.split(";");for(c=1;c<y.length;c++){var E=y[c].split("=");v.set(E[0],O2(E[1]))}var A=v;break e}catch{A=null;break e}A=void 0}A&&(a.g=A)}}}})},function(o,s){o=new Map().set("request",o).set("response",s),n(tt("downloadcompleted",o))},function(o,s,u,a){o=new Map().set("request",o).set("error",s).set("httpResponseCode",u).set("aborted",a),n(tt("downloadfailed",o))},function(o,s,u){i(function(){if(e.K){var a=e.K,l=u;if(l=l===void 0?{}:l,a.g.enabled)if(s.method==="HEAD")_s(a,s,{});else switch(o){case 0:try{if(a.g.enabled){if(l.type){e:{switch(l.type){case 4:var c=a.A?Rc:Mc;break e;case 3:case 2:c=a.A?Pc:Lc;break e;case 5:c="s";break e}c=void 0}a.l=c}_s(a,s,{ot:R2,su:!a.F})}}catch(p){Or("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",p)}break;case zn:try{if(a.g.enabled){var d=C2(a,l,s.uris[0]);d.ts=Date.now(),a.m.has(s)&&a.m.delete(s),a.m.set(s,d.ts),_s(a,s,d)}}catch(p){Or("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",p)}break;case 2:case 5:case 6:_s(a,s,{ot:"k"});break;case 4:_s(a,s,{ot:"o"})}}})},function(o,s,u,a){(o=t()?t().m:e.I)&&o.banLocation&&o.banLocation(a)},function(o,s,u){if(s.data){var a=s.data.byteLength,l=t()?t().getStats():e.C;if(l&&(l2(l,a),o===0&&(l.qj=a)),a=e.K,u=u===void 0?{}:u,wp(a).length!==0)switch(o){case zn:try{var c=C2(a,u,s.uri);s.originalRequest&&s.originalRequest.timeToFirstByte!=null&&(c.ttfb=s.originalRequest.timeToFirstByte),s.timeMs!=null&&(c.ttlb=s.timeMs);var d=s.originalUri||s.uri;if(d.includes("CMCD="))try{var p=new URL(d);p.searchParams.delete("CMCD");var v=p.toString()}catch{v=d}else v=d;c.url=v,a.m.has(s.originalRequest)?(c.ts=a.m.get(s.originalRequest),a.m.delete(s.originalRequest)):c.ts||(c.ts=Date.now());var y=wp(a);if(y.length!==0){var E=a.g.version==Lp?Array.from(new Set([].concat(X(Pp),X(tk)))):L2;c.rc=s.status||0;var A=Mp(a,c,D2);s.headers&&s.headers["CMSD-Static"]&&(A.cmsds=btoa(s.headers["CMSD-Static"])),s.headers&&s.headers["CMSD-Dynamic"]&&(A.cmsdd=btoa(s.headers["CMSD-Dynamic"]));for(var k=T(y),I=k.next();!I.done;I=k.next()){var C=I.value,L=kp(C.includeKeys||[],E),O=I2(C);a.u[O]||(a.u[O]={request:1,response:1}),A.sn=a.u[O].response++;var M=Cp(A,L);w2(a,M,C,s)}}}catch(D){Or("CMCD_SEGMENT_ERROR","Could not generate response segment CMCD data.",D)}}}});return r.configure(e.g.networking),r}function vk(e,t){return new qy(e.h,e.i,e.g.streaming,t,function(){e.Pb&&Ky(e.Pb,!e.G.Gi()),e.l&&e.l.rd(),e.P&&Ki(e,"seeking")},function(n){return e.dispatchEvent(n)})}function yk(e,t){var n=e.U()||typeof t=="number"&&t>0;t=new jo(e.Te,n),t.addEventListener("enter",function(o){ha(e,"timelineregionenter",o.region)}),t.addEventListener("exit",function(o){ha(e,"timelineregionexit",o.region)}),t.addEventListener("skip",function(o){var s=o.region;o.seeking||(ha(e,"timelineregionenter",s),ha(e,"timelineregionexit",s))});var i=new jo(e.ya,n);i.addEventListener("enter",function(o){_p(e,o.region,"metadata")}),n=new jo(e.jb,n),n.addEventListener("enter",function(o){o=new Map().set("detail",o.region.emsg),e.dispatchEvent(tt("emsg",o))});var r=new Jf(e.h);return r.g.add(t),r.g.add(i),r.g.add(n),e.Re&&r.g.add(e.Re),r}function Tk(e,t){t=new jo(e.ya,t instanceof Date||t>0),t.addEventListener("enter",function(i){_p(e,i.region,"metadata")});var n=new Jf(e.h);return n.g.add(t),n}function Y2(e,t,n){e.P=new Vw,Cf(e.P,Lo),Z2(e),la(e),e.La=new le(function(){Ki(e)}),e.g.streaming.rebufferingGoal&&e.La.va(.25),e.j.o(t,"waiting",function(){return Ki(e,"waiting")}),e.j.o(t,"canplaythrough",function(){return Ki(e,"canplaythrough")}),e.j.o(t,"playing",function(){return Ki(e,"playing")}),e.j.o(t,"seeked",function(){return Ki(e,"seeked")}),e.j.o(t,"timeupdate",function(){return Ki(e,"timeupdate")}),n&&(e.j.o(t,"progress",function(){return Ki(e,"progress")}),e.j.o(t,"stalled",function(){return Ki(e,"stalled")}))}function Z2(e){var t=e.g.streaming.rebufferingGoal;e.P.j.set(Po,Math.min(.5,t/2)).set(Lo,t)}function Ki(e,t){if(e.g.streaming.rebufferingGoal){t=e.H?_o(e.H):!1,t=e.isEnded()||t||e.G.mj();var n=cy(e.h.buffered,e.h.currentTime),i=e.P,r=i.j.get(i.g);Cf(i,t||n>=r&&n>0?Po:Lo)&&la(e)}else if(t){n=e.P,i=e.h.currentTime,r=n.h,n.h=i;var o=void 0;switch(t){case"seeking":case"waiting":n.h=-1,o=Lo;break;case"canplaythrough":case"playing":case"seeked":o=Po;break;case"timeupdate":r>=0&&i-r>.01&&(o=Po)}o!==void 0&&Cf(n,o)&&la(e)}}function Sk(e,t,n,i,r){return new yy(e,t,n,r,i)}function Ek(e){return new $y(e.i,{hc:function(){return e.G?e.G.le():0},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()},Za:function(){return e.Za()},video:e.h,ba:e.H,Hc:e.M,onError:function(t){return js(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Rd:function(t,n,i,r){var o=t.startTime,s=t.endTime,u=n.type;if(u!=Re){if(e.G){e.G.yj();var a=Vf(e.H,u);!e.U()&&e.h.paused&&!e.h.seeking&&a!=null&&a>0&&e.G.le()<a&&!Dp(e.G.le(),a,.001)&&e.G.Fg(a)}Ki(e)}i=new Map().set("start",o).set("end",s).set("contentType",u).set("isMuxed",i).set("isDependency",r),e.dispatchEvent(tt("segmentappended",i)),e.u&&n.fastSwitching&&t.od&&t.Ce&&e.u.trySuggestStreams()},Xl:function(t,n){(n=n.Pd)&&e.Re&&U5(e.Re,n,t)},Pi:function(t,n){var i=e.F;if(i.h.parseInbandPsshEnabled&&!i.H&&["audio","video"].includes(t)){t=new xf(Te(n)),n=0;for(var r=T(t.data),o=r.next();!o.done;o=r.next())n+=o.value.length;if(n==0)i=Promise.resolve();else{for(n=new Uint8Array(n),r=0,t=T(t.data),o=t.next();!o.done;o=t.next())o=o.value,n.set(o,r),r+=o.length;Uu(i,"cenc",n),i=i.m}}else i=Promise.resolve();return i},disableStream:function(t,n){return e.disableStream(t,n)},Am:function(t,n){return!(e.g.abr.enabled&&n.fastSwitching&&t.od&&t.Ce)}})}h.configure=function(e,t){var n=this.getConfiguration();if(arguments.length==2&&typeof e=="string"&&(e=ta(e,t)),"preferredVariantRole"in e&&(qe("preferredVariantRole configuration","Please Use preferredAudioRole instead."),e.preferredAudioRole=e.preferredVariantRole,delete e.preferredVariantRole),e.streaming&&"forceTransmuxTS"in e.streaming&&(qe("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource=e.mediaSource||{},e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(qe("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource=e.mediaSource||{},e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming){qe("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead.");var i=ke();e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&i.Ka()==="WEBKIT",delete e.streaming.useNativeHlsOnSafari}if(e.streaming&&typeof e.streaming.liveSync=="boolean"&&(qe("streaming.liveSync","Please Use streaming.liveSync.enabled instead."),i=e.streaming.liveSync,e.streaming.liveSync={},e.streaming.liveSync.enabled=i),e.streaming&&!(e.streaming.liveSync&&"targetLatency"in e.streaming.liveSync)&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){i=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-i)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=i+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(qe("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(qe("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(qe("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(qe("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(qe("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(qe("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(qe("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(qe("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){qe("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var o=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return o},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(qe("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(qe("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(qe("manifest.dash.enableAudioGroups configuration","Please Use manifest.enableAudioGroups instead."),e.manifest.enableAudioGroups=e.manifest.dash.enableAudioGroups,delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(qe("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource=e.mediaSource||{},e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(qe("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(qe("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(qe("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(qe("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(qe("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(qe("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){i=!1;for(var s in e.drm.advanced){var u=e.drm.advanced[s];r=u.videoRobustness,u=u.audioRobustness,"videoRobustness"in e.drm.advanced[s]&&!Array.isArray(e.drm.advanced[s].videoRobustness)&&(e.drm.advanced[s].videoRobustness=[r],i=!0),"audioRobustness"in e.drm.advanced[s]&&!Array.isArray(e.drm.advanced[s].audioRobustness)&&(e.drm.advanced[s].audioRobustness=[u],i=!0)}i&&qe("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"forceHTTP"in e.streaming&&(qe("streaming.forceHTTP configuration","Please Use networking.forceHTTP instead."),e.networking=e.networking||{},e.networking.forceHTTP=e.streaming.forceHTTP,delete e.streaming.forceHTTP),e.streaming&&"forceHTTPS"in e.streaming&&(qe("streaming.forceHTTPS configuration","Please Use networking.forceHTTP instead."),e.networking=e.networking||{},e.networking.forceHTTPS=e.streaming.forceHTTPS,delete e.streaming.forceHTTPS),e.streaming&&"minBytesForProgressEvents"in e.streaming&&(qe("streaming.minBytesForProgressEvents configuration","Please Use networking.minBytesForProgressEvents instead."),e.networking=e.networking||{},e.networking.minBytesForProgressEvents=e.streaming.minBytesForProgressEvents,delete e.streaming.minBytesForProgressEvents),s=Tr(this.g,e,Ni(this)),J2(this,n),s},h.Bk=function(e){this.Ig=e};function J2(e,t){if(e.Xe=new Mf(e.g,e.sa,e.F),e.I){var n=Ti(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(n.disableVideo=!0),e.I.configure(n)}if(e.F&&e.F.configure(e.g.drm),e.l){e.l.configure(e.g.streaming);try{e.m!=Ai&&X1(e.Xe,e.i)&&yn(e)}catch(r){js(e,r)}e.u&&$r(e),n=e.l.u,!n||n.allowedByApplication&&n.allowedByKeySystem||Qr(e)}if(e.M&&e.M.configure(e.g.networking),e.H&&(e.H.configure(e.g.mediaSource),e.H.Fa=e.g.manifest.segmentRelativeVttTiming),e.A&&Dc(e),e.u&&(e.u.configure(e.g.abr),e.g.abr.enabled?e.u.enable():e.u.disable(),hT(e)),e.P&&Z2(e),e.La&&(e.g.streaming.rebufferingGoal?e.La.va(.25):e.La.stop()),e.i&&Vp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.D&&e.D.configure(e.g.ads),e.K&&e.K.configure(e.g.cmcd),e.oa&&e.oa.configure(e.g.cmsd),e.ua&&e.ua.configure(e.g.queue),e.m==Gt&&e.J.getConfiguration){n=e.J.getConfiguration();var i=!1;t.preferredVideoHdrLevel!=e.g.preferredVideoHdrLevel&&n.hdrLevel!=e.g.preferredVideoHdrLevel&&(n.hdrLevel=e.g.preferredVideoHdrLevel,i=!0),t.preferredVideoLayout!=e.g.preferredVideoLayout&&n.videoLayout!=e.g.preferredVideoLayout&&(n.videoLayout=e.g.preferredVideoLayout,i=!0),t.preferSpatialAudio!=e.g.preferSpatialAudio&&n.spatialAudio!=e.g.preferSpatialAudio&&(n.spatialAudio=e.g.preferSpatialAudio,i=!0),t.preferredVideoRole!=e.g.preferredVideoRole&&n.videoRole!=e.g.preferredVideoRole&&(n.videoRole=e.g.preferredVideoRole,i=!0),i&&(e.J.configure(n),Qr(e))}}h.getConfiguration=function(){var e=Ni(this);return Tr(e,this.g,Ni(this)),e},h.Nk=function(){return this.Ig},h.ej=function(){var e=Ni(this);return Tr(e,this.g,Ni(this)),hp(this.g,Ni(this))},h.bj=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.xa().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},h.Hj=function(){var e=this.getConfiguration(),t;for(t in this.g)delete this.g[t];Tr(this.g,Ni(this),Ni(this)),J2(this,e)},h.Cc=function(){return this.m},h.Ah=function(){return this.i?this.i.type:null},h.zf=function(){return this.h},h.Wb=function(){return this.M},h.jd=function(){return this.V},h.xf=function(){return this.D?this.D:null},h.Af=function(){return this.ua?this.ua:null},h.U=function(){return this.i&&!this.Da()?this.i.presentationTimeline.U():this.h&&(this.h.src||this.Da())?this.h.duration==1/0:!1},h.md=function(){return this.i?this.i.presentationTimeline.md():!1},h.Md=function(){if(this.i&&!this.Da()){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&(this.h.src||this.Da())?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},h.Kf=function(){if(this.i&&!this.Da()){var e=this.i.variants;return e.length?(e=e[0],e.audio||!e.video?!1:!e.video.codecs.includes(",")):!1}return this.h&&(this.h.src||this.Da())&&this.h.audioTracks?this.h.audioTracks.length==0:!1},h.xa=function(){if(this.i&&!this.Da()){if(!this.Na&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.jc(),end:e.Mb()}}if(this.h&&(this.h.src||this.Da())&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return e=Math.min(e.end(e.length-1),n),{start:t,end:e}}return{start:0,end:0}},h.Dl=function(){this.U()&&(this.h.currentTime=this.xa().end)},h.Jh=function(){return this.Na},h.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},h.drmInfo=function(){return this.F?this.F.g:null},h.ve=function(){return this.F?this.F.ve():1/0},h.sh=function(){return this.F?this.F.sh():[]},h.yf=function(){return this.F?this.F.yf():{}},h.Hf=function(){return this.P?this.P.g==Lo:!!this.V},h.Za=function(){return this.h?this.L?this.L.i:1:0},h.Ei=function(e){this.m==Gt&&this.l&&Qy(this.l,e)},h.xc=function(e,t){t=t===void 0?!0:t,e==0?ye("A trick play rate of 0 is unsupported!"):(this.L.set(e),this.m==Gt&&(this.u.playbackRateChanged(e),this.Ei(t&&e!=1)),rT(this,e))},h.Bd=function(){var e=this.L.kd();this.m==Tn&&this.L.set(e),this.m==Gt&&(this.L.set(e),this.u.playbackRateChanged(e),this.Ei(!1)),this.qc.Ta()},h.Ob=function(){if(this.i&&!this.Da()){for(var e=this.l?this.l.u:null,t=[],n=0,i=T(this.i.variants),r=i.next();!r.done;r=i.next())if(r=r.value,_u(r)){var o=ko(r);o.active=r==e,o.active||n==1||e==null||r.video!=e.video||r.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}if(this.h&&this.h.audioTracks){var s=uT(this);return e=Array.from(this.h.audioTracks),e.length?e.map(function(u){return Ul(u,s)}):s?[Ul(null,s)]:[]}return[]},h.Dc=function(){if(this.i){if(this.Da())return[];for(var e=this.l?this.l.C:null,t=[],n=T(this.i.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;var r=Co(i);r.active=i==e,t.push(r)}return t}return this.h&&this.h.src&&this.h.textTracks?Nc(this).map(function(o){return g1(o)}):[]},h.xh=function(){var e=this.df;return this.i&&(e=this.i.imageStreams),e.map(function(t){return Tf(t)})},h.Ek=function(e){var t=this,n,i;return N(function(r){return r.g==1?w(r,Q2(t,e),2):(n=r.h,n?(i=[],n.segmentIndex.Lb(function(o){var s=$2(o.tilesLayout||n.tilesLayout);if(s)for(var u=s.rows*s.columns,a=(o.j-o.startTime)/u,l=0;l<u;l++){var c=eT(o,n,o.startTime+l*a,s);if(!c)break;i.push(c)}}),n.closeSegmentIndex&&n.closeSegmentIndex(),r.return(i)):r.return(null))})};function $2(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{columns:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}h.gj=function(e,t){var n=this,i,r,o,s,u,a;return N(function(l){return l.g==1?w(l,Q2(n,e),2):(i=l.h,!i||(i.closeSegmentIndex&&(n.Kc.has(i)||(r=new le(function(){i.closeSegmentIndex(),n.Kc.delete(i)}),n.Kc.set(i,r)),o=n.Kc.get(i),o.Y(5)),s=i.segmentIndex.find(t),s==null)?l.return(null):(u=i.segmentIndex.get(s),(a=$2(u.tilesLayout||i.tilesLayout))?l.return(eT(u,i,t,a)):l.return(null)))})};function Q2(e,t){var n,i;return N(function(r){return r.g==1?e.m!=Gt&&e.m!=Tn||(n=e.df,e.i&&(n=e.i.imageStreams),i=n[0],!i)?r.return(null):(t!=null&&(i=n.find(function(o){return o.id==t})),i?i.segmentIndex?r.B(2):w(r,i.createSegmentIndex(),2):r.return(null)):r.return(i)})}function eT(e,t,n,i){var r=t.width||0,o=t.height||0,s=r/i.columns,u=o/i.rows,a=i.columns*i.rows,l=e.j-e.startTime;l=e.C||l/a;var c=e.startTime,d=0,p=0;return a>1&&(p=Math.floor((n-e.startTime)/l+1e-4),c=e.startTime+p*l,d=p%i.columns*s,p=Math.floor(p/i.columns)*u),c>=e.endTime||Dp(c,e.endTime,1e-4)?null:(i=!1,(n=e.thumbnailSprite)&&(i=!0,u=n.height,d=n.positionX,p=n.positionY,s=n.width),{segment:e,imageHeight:o,imageWidth:r,height:u,positionX:d,positionY:p,startTime:c,duration:l,uris:e.S(),startByte:e.Vc(),endByte:e.Tc(),width:s,sprite:i,mimeType:e.mimeType||t.mimeType,codecs:e.codecs||t.codecs})}h.kg=function(e){function t(){var i=n.i.textStreams.find(function(r){return r.id==e.id});i&&i!=n.l.C&&(gp(n.C.h,i,!1),ac(n.l,i),Er(n),da(n),n.ee=i.language)}var n=this;this.i&&this.G&&(t(),!this.Da())||(function(){if(n.h&&n.h.textTracks){var i=Nc(n),r=i.find(function(u){return _l(u)===e.id});if(r){if(n.A instanceof _t){i=T(i);for(var o=i.next();!o.done;o=i.next()){o=o.value;var s=o===r?n.X?"showing":"hidden":"disabled";o.mode!==s&&(o.mode=s)}}else i=i.find(function(u){return u.mode!=="disabled"}),i!==r&&(i&&(i.mode="disabled",n.j.Ea(i,"cuechange"),n.A.remove(0,1/0)),r&&tT(n,r));Er(n),da(n)}}})()};function tT(e,t){e.j.o(t,"cuechange",function(){e.A.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},i=[],r=Array.from(t.activeCues||[]);r=T(r);for(var o=r.next();!o.done;o=r.next()){if(o=o.value,o.endTime===1/0||o.endTime<o.startTime)o=null;else{var s=new rt(o.startTime,o.endTime,o.text);s.line=typeof o.line=="number"?o.line:null,o.lineAlign&&(s.lineAlign=o.lineAlign),s.lineInterpretation=o.snapToLines?Ru:1,s.position=typeof o.position=="number"?o.position:null,o.positionAlign&&(s.positionAlign=o.positionAlign),s.size=o.size,s.textAlign=o.align,o.vertical==="lr"?s.writingMode="vertical-lr":o.vertical==="rl"&&(s.writingMode="vertical-rl"),o.region&&(s.region.id=o.region.id,s.region.height=o.region.lines,s.region.heightUnits=2,s.region.regionAnchorX=o.region.regionAnchorX,s.region.regionAnchorY=o.region.regionAnchorY,s.region.scroll=o.region.scroll,s.region.viewportAnchorX=o.region.viewportAnchorX,s.region.viewportAnchorY=o.region.viewportAnchorY,s.region.viewportAnchorUnits=On,s.region.width=o.region.width,s.region.widthUnits=On),Ll(s),o=s}o&&((s=e.g.mediaSource.modifyCueCallback)&&s(o,null,n),i.push(o))}e.A.append(i)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}h.Me=function(e,t,n){function i(){var o=r.i.variants.find(function(u){return u.id==e.id});if(o&&_u(o)){var s=r.l.u;r.g.abr.enabled&&(s.video!=o.video||s.audio&&o.audio&&s.audio.language==o.audio.language&&s.audio.channelsCount==o.audio.channelsCount&&s.audio.label==o.audio.label)&&ye("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),r.Da()?ca(r,o,!1,!1,0):ca(r,o,!1,t||!1,n||0),r.J.configure({language:o.language,role:o.audio&&o.audio.roles&&o.audio.roles[0]||"",videoRole:o.video&&o.video.roles&&o.video.roles[0]||"",channelCount:o.audio&&o.audio.channelsCount?o.audio.channelsCount:0,hdrLevel:o.video&&o.video.hdr?o.video.hdr:"",spatialAudio:o.audio&&o.audio.spatialAudio?o.audio.spatialAudio:!1,videoLayout:o.video&&o.video.videoLayout?o.video.videoLayout:"",audioLabel:o.audio&&o.audio.label?o.audio.label:"",videoLabel:o.video&&o.video.label?o.video.label:"",codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:o.audio&&o.audio.codecs?o.audio.codecs:"",activeAudioCodec:s.audio&&s.audio.codecs?s.audio.codecs:"",activeAudioChannelCount:s.audio&&s.audio.channelsCount?s.audio.channelsCount:0,preferredAudioCodecs:r.g.preferredAudioCodecs,preferredAudioChannelCount:r.g.preferredAudioChannelCount}),$r(r)}}var r=this;t=t===void 0?!1:t,n=n===void 0?0:n,!(this.i&&this.G&&(i(),!this.Da()))&&(function(){if(e.originalAudioId&&r.h&&r.h.audioTracks){var o=Array.from(r.h.audioTracks);o=T(o);for(var s=o.next();!s.done;s=o.next())if(s=s.value,_l(s)==e.id){Bp(r,s);break}}})()},h.Nj=function(e,t){function n(){var r=i.J.getConfiguration();r.audioCodec=e.codecs||"",r.audioLabel=e.label||"",r.channelCount=e.channelsCount||0,r.language=e.language,r.role=e.roles[0]||"",r.spatialAudio=e.spatialAudio;var o=i.l.u;(o=o&&o.audio)&&(r.activeAudioCodec=o.codecs||"",r.activeAudioChannelCount=o.channelsCount||0),i.J.configure(r),Qr(i,!0,t,!1,!1)}var i=this;t=t===void 0?0:t,!(this.i&&this.G&&(n(),!this.Da()))&&(function(){if(i.h&&i.h.audioTracks){var r=We(e.language),o=Array.from(i.h.audioTracks),s=null;o=T(o);for(var u=o.next();!u.done;u=o.next()){u=u.value;var a=u.language||"und";if(u.label==e.label&&We(a)==r&&u.kind==e.roles[0]){s=u;break}}s&&Bp(i,s)}})()},h.getAudioTracks=function(){if(this.i&&!this.Da()){var e=this.Ob();if(!e.length)return[];var t=e.find(function(o){return o.active});if(!t)return[];var n=e;if(this.m!=Gt||this.Da()||(n=e.filter(function(o){return o.originalVideoId===t.originalVideoId&&(o.audioCodec||dr.includes(o.audioMimeType||""))})),!n.length)return[];e=new Map,n=T(n);for(var i=n.next();!i.done;i=n.next()){var r=i.value;i=[r.language,r.originalLanguage,r.label||"",(r.audioRoles||[]).join(","),r.channelsCount,r.spatialAudio,r.audioCodec||"",r.accessibilityPurpose||""].join("_"),r={active:r.active,language:r.language,label:r.label,mimeType:r.audioMimeType,codecs:r.audioCodec,primary:r.primary,roles:r.audioRoles||[],accessibilityPurpose:r.accessibilityPurpose,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,originalLanguage:r.originalLanguage},e.has(i)?!e.get(i).active&&r.active&&e.set(i,r):e.set(i,r)}return Array.from(e.values())}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(o){var s=o.language;return s={active:o.enabled,language:We(s||"und"),label:o.label,mimeType:null,codecs:null,primary:o.kind=="main",roles:[],accessibilityPurpose:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,originalLanguage:s},o.kind&&(o.kind=="description"&&(s.accessibilityPurpose="visually impaired"),s.roles.push(o.kind)),o.configuration&&(o.configuration.codec&&(s.codecs=o.configuration.codec),o.configuration.sampleRate&&(s.audioSamplingRate=o.configuration.sampleRate),o.configuration.numberOfChannels&&(s.channelsCount=o.configuration.numberOfChannels)),s}):[]},h.Oj=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?0:n;var i=this.Ob();if(i.length){var r=i.find(function(s){return s.active});if(r){i=i.filter(function(s){return(s.videoBandwidth||s.bandwidth)==e.bandwidth&&s.width==e.width&&s.height==e.height&&s.frameRate==e.frameRate&&s.pixelAspectRatio==e.pixelAspectRatio&&s.hdr==e.hdr&&s.colorGamut==e.colorGamut&&s.videoLayout==e.videoLayout&&s.videoMimeType==e.mimeType&&s.videoCodec==e.codecs&&sr(s.videoRoles,e.roles)&&s.videoLabel==e.label});var o;i.length==1?o=i[0]:o=i.find(function(s){return s.audioId===r.audioId}),o||(o=i.find(function(s){return s.language==r.language&&s.label===r.label&&s.channelsCount===r.channelsCount&&s.spatialAudio===r.spatialAudio&&s.audioMimeType===r.audioMimeType&&Et(s.audioCodec||"")===Et(r.audioCodec||"")&&sr(s.audioRoles,r.audioRoles)})),o&&!o.active&&this.Me(o,t,n)}}},h.getVideoTracks=function(){if(this.m==Tn||this.Da())return[];var e=this.Ob();if(!e.length)return[];var t=e.find(function(o){return o.active});if(!t)return[];var n=e;if(this.Kf()||(n=e.filter(function(o){return o.videoCodec&&o.audioGroupId===t.audioGroupId&&o.originalAudioId===t.originalAudioId?o.audioId===t.audioId?!0:o.language===t.language&&o.label===t.label&&o.channelsCount===t.channelsCount&&o.spatialAudio===t.spatialAudio&&o.audioMimeType===t.audioMimeType&&Et(o.audioCodec||"")===Et(t.audioCodec||"")&&sr(o.audioRoles,t.audioRoles):!1})),!n.length)return[];e=new Map,n=T(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=i.originalVideoId;r||i.videoId==null||(r=String(i.videoId)),r&&e.set(r,{active:i.active,bandwidth:i.videoBandwidth||i.bandwidth,width:i.width,height:i.height,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,colorGamut:i.colorGamut,videoLayout:i.videoLayout,mimeType:i.videoMimeType,codecs:i.videoCodec,roles:i.videoRoles||[],label:i.videoLabel})}return Array.from(e.values())},h.Gk=function(){return gT(this.Ob())},h.ul=function(){return gT(this.Dc())},h.Fk=function(){return Array.from(pT(this.Ob()))},h.rl=function(){return Array.from(pT(this.Dc()))},h.Mj=function(e,t,n,i,r,o,s){function u(){function l(y,E){return y.video||E.video?y.video&&E.video?Math.abs((y.video.height||0)-(E.video.height||0))+Math.abs((y.video.width||0)-(E.video.width||0)):1/0:0}var c=a.l.u;a.J=a.g.adaptationSetCriteriaFactory(),a.J.configure({language:e,role:t||"",videoRole:c.video&&c.video.roles&&c.video.roles[0]||"",channelCount:n||0,hdrLevel:"",spatialAudio:o||!1,videoLayout:"",audioLabel:s||"",videoLabel:"",codecSwitchingStrategy:a.g.mediaSource.codecSwitchingStrategy,audioCodec:r||"",activeAudioCodec:c.audio&&c.audio.codecs?c.audio.codecs:"",activeAudioChannelCount:c.audio&&c.audio.channelsCount?c.audio.channelsCount:0,preferredAudioCodecs:a.g.preferredAudioCodecs,preferredAudioChannelCount:a.g.preferredAudioChannelCount});var d=a.J.create(a.i.variants),p=null;d=T(d.values());for(var v=d.next();!v.done;v=d.next())v=v.value,_u(v)&&(!p||l(p,c)>l(v,c))&&(p=v);p!=c&&(p?(c=ko(p),a.Me(c,!0,i||0)):Qr(a))}var a=this;n=n===void 0?0:n,i=i===void 0?0:i,r=r===void 0?"":r,o=o===void 0?!1:o,s=s===void 0?"":s,!(this.i&&this.G&&(u(),!this.Da()))&&(function(){if(a.h&&a.h.audioTracks){var l=gs(a.Ob(),e,t||"",!1)[0];l&&a.Me(l)}})()},h.ei=function(e,t,n){function i(){r.ee=e,r.je=t||"",r.ie=n||!1;var o=gs(r.i.textStreams,r.ee,r.je,r.ie)[0]||null;o&&o!=r.l.C&&(gp(r.C.h,o,!1),r.g.streaming.alwaysStreamText||r.Yc())&&(ac(r.l,o),Er(r),da(r))}var r=this;n=n===void 0?!1:n,!(this.i&&this.G&&(i(),!this.Da()))&&(function(){var o=gs(r.Dc(),e,t||"",n||!1)[0];o&&r.kg(o)})()},h.sm=function(e,t,n){function i(){for(var o=null,s=T(r.i.variants),u=s.next();!u.done;u=s.next())if(u=u.value,u.audio.label==e){o=u;break}o!=null&&(r.J=r.g.adaptationSetCriteriaFactory(),r.J.configure({language:o.language,role:"",videoRole:"",channelCount:0,hdrLevel:"",spatialAudio:!1,videoLayout:"",videoLabel:"",audioLabel:e,codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:r.g.preferredAudioCodecs,preferredAudioChannelCount:r.g.preferredAudioChannelCount}),Qr(r,t,n))}var r=this;t=t===void 0?!0:t,n=n===void 0?0:n,!(this.i&&this.G&&(i(),!this.Da()))&&(function(){if(r.h&&r.h.audioTracks){var o=Array.from(r.h.audioTracks),s=null;o=T(o);for(var u=o.next();!u.done;u=o.next())u=u.value,u.label==e&&(s=u);s&&Bp(r,s)}})()},h.Yc=function(){var e=this.X;return this.A?this.A.isTextVisible():e},h.Kk=function(){return this.kb.map(function(e){return Co(e)})},h.Jk=function(e){if(qe("getChapters","Please use an getChaptersAsync."),!this.kb.length)return[];var t=We(e);if(e=this.kb.filter(function(o){return We(o.language)==t}),!e.length)return[];var n=[],i=new Set;e=T(e);for(var r=e.next();!r.done;r=e.next())r=r.value,r.segmentIndex&&r.segmentIndex.Lb(function(o){var s=o.S()[0],u=o.startTime+"-"+o.endTime+"-"+s;o={id:u,title:s,startTime:o.startTime,endTime:o.endTime},i.has(u)||(n.push(o),i.add(u))});return n},h.uh=function(e){var t=this,n,i,r,o,s,u,a;return N(function(l){switch(l.g){case 1:if(!t.kb.length)return l.return([]);if(n=We(e),i=t.kb.filter(function(c){return We(c.language)==n}),!i.length)return l.return([]);r=[],o=new Set,s=T(i),u=s.next();case 2:if(u.done){l.B(4);break}if(a=u.value,a.segmentIndex){l.B(5);break}return w(l,a.createSegmentIndex(),5);case 5:a.segmentIndex.Lb(function(c){var d=c.S()[0],p=c.startTime+"-"+c.endTime+"-"+d;c={id:p,title:d,startTime:c.startTime,endTime:c.endTime},o.has(p)||(r.push(c),o.add(p))}),u=s.next(),l.B(2);break;case 4:return l.return(r)}})};function Nc(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function Ak(e){return Array.from(e.h.textTracks).find(function(t){return t.label=="Shaka Player TextTrack"})}function xk(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}h.be=function(e){e=!!e,this.X!=e&&(this.X=e,this.m==Gt?(this.A.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.l.C||(e=gs(this.i.textStreams,this.ee,this.je,this.ie),e.length>0&&(ac(this.l,e[0]),Er(this),da(this))):Y5(this.l))):this.h&&this.h.src&&this.h.textTracks&&this.A.setTextVisibility(e),dT(this))},h.fl=function(){if(this.G)var e=this.G.le();else{if(this.O==null)return new Date;if(this.O instanceof Date)return this.O;e=this.O}if(this.i&&!this.Da()){var t=this.i.presentationTimeline;return new Date(((t.m||t.i)+e)*1e3)}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),t instanceof Date&&!isNaN(t.getTime())?new Date(t.getTime()+e*1e3):null):null},h.fj=function(){if(this.i&&!this.Da()){var e=this.i.presentationTimeline;return e=e.m||e.i,e===null?null:new Date(e*1e3)}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),e instanceof Date&&!isNaN(e.getTime())?e:null):null},h.Cf=function(){return this.U()&&this.i?this.i.presentationTimeline.Cf():null},h.Sc=function(){if(this.m==Gt)return this.H.Sc();var e={total:[],audio:[],video:[],text:[]};return this.m==Tn&&(e.total=vr(this.h.buffered)),e};function nT(e){if(!e.h||!e.h.currentTime)return null;var t=e.fj();return t?Math.floor(Date.now()-(t.getTime()+e.h.currentTime*1e3)):null}h.getBandwidthEstimate=function(){return this.u?this.u.getBandwidthEstimate():NaN},h.getStats=function(){if(this.m!=Gt&&this.m!=Tn)return{width:NaN,height:NaN,currentCodecs:"",streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};jp(this);var e=this.h,t=e.currentTime/e.duration;if(isNaN(t)||this.U()||AI(this.C,Math.round(100*t)),this.G&&(this.C.R=this.G.Fi(),this.C.T=this.G.Hi()),e.getVideoPlaybackQuality&&(t=e.getVideoPlaybackQuality(),EI(this.C,Number(t.droppedVideoFrames),Number(t.totalVideoFrames)),this.C.M=Number(t.corruptedVideoFrames)),this.C.u=this.F?Mw(this.F):NaN,a2(this.C,e.videoWidth||NaN,e.videoHeight||NaN),this.C.l="",this.U()&&(e=nT(this),e!=null&&(this.C.F=e/1e3)),t=this.Ob().find(function(r){return r.active}),e=this.Dc().find(function(r){return r.active}),t){if(t.bandwidth){var n=this.L?this.L.i:1,i=n*t.bandwidth;e&&e.bandwidth&&(i+=n*e.bandwidth),this.C.C=i}t.width&&t.height&&a2(this.C,t.width||NaN,t.height||NaN),t=t.codecs,e&&(t+=","+(e.codecs||e.mimeType)),t&&(this.C.l=t)}return this.m!=Gt||this.Da()||(this.i&&(this.C.I=this.i.periodCount,this.C.H=this.i.gapCount,this.i.presentationTimeline&&(this.C.K=this.i.presentationTimeline.h)),e=this.u.getBandwidthEstimate(),this.C.A=e),this.m==Tn&&l2(this.C,NaN),xI(this.C)},h.me=function(e,t,n,i,r,o,s){s=s===void 0?!1:s;var u=this,a,l,c,d,p,v,y,E,A,k,I,C;return N(function(L){switch(L.g){case 1:if(u.m!=Gt&&u.m!=Tn)throw new _(1,7,7004);if(n!="subtitles"&&n!="captions"&&ye("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),i){L.B(2);break}return w(L,Oc(u,e),3);case 3:i=L.h;case 2:if(a=[],u.D&&(a=u.D.getCuePoints()),u.m!=Tn){L.B(4);break}return l=ke(),s&&l.Ka()==="WEBKIT"&&(n="forced"),w(L,wk(u,e,t,n,i,o||"",a),5);case 5:if(c=L.h,c.track)return yn(u),Er(u),L.return(g1(c.track));throw new _(1,2,2012);case 4:if(d=Rt,p=u.xa(),v=p.end-p.start,u.i&&(v=u.i.presentationTimeline.getDuration()),v==1/0)throw new _(1,4,4033);if(!a.length){L.B(6);break}return w(L,_c(u,e),7);case 7:y=L.h,E=iT(u,y,i,a),A=new Blob([E],{type:"text/vtt"}),e=zf(A),i="text/vtt";case 6:if(k={id:u.Ye++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:rc(0,v,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:d.Va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([St(i||"",r||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},I=St(k.mimeType,k.codecs),C=bu(I),!C)throw new _(2,2,2014,i);return u.i.textStreams.push(k),yn(u),Er(u),L.return(Co(k))}})},h.kf=function(e,t){var n=this,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L;return N(function(O){switch(O.g){case 1:if(n.m!=Gt&&n.m!=Tn)throw new _(1,7,7004);if(t){O.B(2);break}return w(O,Oc(n,e),3);case 3:t=O.h;case 2:if(t!="text/vtt")throw new _(1,2,2017,e);if(i=Rt,r=n.xa(),o=r.end-r.start,n.i&&(o=n.i.presentationTimeline.getDuration()),o==1/0)throw new _(1,4,4045);return w(O,_c(n,e),4);case 4:if(s=O.h,u=Pu(t),!u)throw new _(2,2,2014,t);for(a=u(),l={periodStart:0,segmentStart:0,segmentEnd:o,vttOffset:0},c=Te(s),d=a.parseMedia(c,l,e,[]),p=[],v=T(d),y=v.next(),E={};!y.done;E={Bg:void 0,Ed:void 0},y=v.next())E.Ed=y.value,E.Bg=null,A=(function(M){return function(){return M.Bg==null&&(M.Bg=Vt([e],[M.Ed.payload])),M.Bg||[]}})(E),k=new he(E.Ed.startTime,E.Ed.endTime,A,0,null,null,0,0,1/0),E.Ed.payload.includes("#xywh")&&(I=E.Ed.payload.split("#xywh=")[1].split(","),I.length===4&&k.og({height:parseInt(I[3],10),positionX:parseInt(I[0],10),positionY:parseInt(I[1],10),width:parseInt(I[2],10)})),p.push(k);if(C=t,!p.length){O.B(5);break}return w(O,Oc(n,p[0].S()[0]),6);case 6:C=O.h;case 5:return L={id:n.Ye++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ve(p),mimeType:C||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:i.Dg,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([St(C||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},n.m==Tn?n.df.push(L):n.i.imageStreams.push(L),yn(n),O.return(Tf(L))}})},h.jf=function(e,t,n){var i=this,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I;return N(function(C){switch(C.g){case 1:if(i.m!=Gt&&i.m!=Tn)throw new _(1,7,7004);if(n){C.B(2);break}return w(C,Oc(i,e),3);case 3:n=C.h;case 2:if(r=Rt,o=i.xa(),s=o.end-o.start,i.i&&(s=i.i.presentationTimeline.getDuration()),s==1/0)throw new _(1,4,4055);if(u=Pu(n),!u)throw new _(2,2,2014,n);return w(C,_c(i,e),4);case 4:for(a=C.h,l=u(),c={periodStart:0,segmentStart:0,segmentEnd:s,vttOffset:0},d=Te(a),p=l.parseMedia(d,c,e,[]),v=[],y=T(p),E=y.next(),A={};!E.done;A={uf:void 0},E=y.next())A.uf=E.value,k=new he(A.uf.startTime,A.uf.endTime,(function(L){return function(){return[L.uf.payload]}})(A),0,null,null,0,0,1/0),v.push(k);return I={id:i.Ye++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ve(v),mimeType:"text/plain",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:null,type:r.Va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([St("text/plain","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},i.kb.push(I),yn(i),C.return(Co(I))}})};function Oc(e,t){var n;return N(function(i){switch(i.g){case 1:return ue(i,2),w(i,Rs(t,e.M,e.g.streaming.retryParameters),4);case 4:n=i.h,Ae(i,3);break;case 2:ae(i);case 3:if(n)return i.return(n);throw new _(1,2,2011,t)}})}function wk(e,t,n,i,r,o,s){var u,a,l,c;return N(function(d){if(d.g==1)return r!="text/vtt"||s.length?w(d,_c(e,t),3):d.B(2);d.g!=2&&(u=d.h,a=iT(e,u,r,s),l=new Blob([a],{type:"text/vtt"}),t=zf(l),r="text/vtt"),c=document.createElement("track");e:{var p=e.K,v=t;try{if(!p.g.enabled){var y=v;break e}var E=Ip(p);E.ot=Rp,E.su=!0;var A=aa(E);y=xc(v,A);break e}catch(k){Or("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",k),y=v;break e}y=void 0}return c.src=y,c.label=o,c.kind=i,c.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(c),e.Hg.push(c),d.return(c)})}function _c(e,t){var n,i,r,o;return N(function(s){if(s.g==1){n=zn,i=e.g.streaming.retryParameters,r=Lt([t],i),r.method="GET";var u=e.K;try{u.g.enabled&&_s(u,r,{ot:Rp,su:!0})}catch(a){Or("CMCD_TEXT_ERROR","Could not generate text CMCD data.",a)}return w(s,e.M.request(n,r).promise,2)}return o=s.h,s.return(o.data)})}function iT(e,t,n,i){var r=Pu(n);if(r)return n=r(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Te(t),t=n.parseMedia(t,e,null,[]),FI(t,i);throw new _(2,2,2014,n)}h.ym=function(e,t){this.sa.width=e,this.sa.height=t},h.bi=function(e){if(this.m==Gt){var t=this.l;if(e=e===void 0?.1:e,t.l.g)t=!1;else if(t.F)t=!1;else{for(var n=T(t.h.values()),i=n.next();!i.done;i=n.next())i=i.value,!i.Kd||i.Ra||i.yb||(i.Kd=!1,rn(t,i,e));t=!0}}else t=!1;return t},h.yh=function(){return ye("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},h.$k=function(){return this.Lc},h.Tk=function(){var e={video:null,audio:null,text:null};if(this.m!=Gt)return e;var t=this.l.u,n=this.h.currentTime;t=T([t.video,t.audio,this.l.C]);for(var i=t.next();!i.done;i=t.next())if((i=i.value)&&i.segmentIndex){var r=i.segmentIndex.find(n);r=i.segmentIndex.get(r),r={codecs:r.codecs||i.codecs,mimeType:r.mimeType||i.mimeType,bandwidth:r.bandwidth||i.bandwidth},i.type=="video"?(r.width=i.width,r.height=i.height,e.video=r):i.type=="audio"?e.audio=r:i.type==Re&&(e.text=r)}return e};function Ni(e){var t=Ns();return t.streaming.failureCallback=function(n){if(e.U()){var i=null;n.code==1001||n.code==1002?(i=1,e.g.streaming.lowLatencyMode&&(i=.1)):n.code==1003&&(i=.1),i!=null&&(n.severity=1,e.bi(i))}},t.textDisplayFactory=function(){if(e.Ue){var n=e.h;n=!(n.webkitDisplayingFullscreen||n.webkitPresentationMode&&n.webkitPresentationMode!="inline")}else n=!1;return n?new un(e.h,e.Ue):"track"in document.createElement("track")?new _t(e):new sn},t}h.ni=function(e){this.Ue=e};function Ik(e,t){for(var n=new Set,i=T(t.textStreams),r=i.next();!r.done;r=i.next())r=r.value,r.mimeType!="application/cea-608"&&r.mimeType!="application/cea-708"||n.add(r.originalId);for(i=T(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions){for(var o=T(r.closedCaptions.keys()),s=o.next();!s.done;s=o.next())if(s=s.value,!n.has(s)){var u=s.startsWith("CC")?"application/cea-608":"application/cea-708",a=new mt,l=r.closedCaptions.get(s);u={id:e.Ye++,originalId:s,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:a,mimeType:u,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:Re,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([St(u,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(u),n.add(s)}}}function kk(e,t){var n,i,r,o,s;return N(function(u){return u.g==1?(n=e.audio,i=e.video,r=function(a,l){var c,d,p;return N(function(v){return v.g==1?a?a.segmentIndex?v.B(2):w(v,a.createSegmentIndex(),2):v.return(null):(d=(c=a.segmentIndex.fc(l))?c.next().value:null,d?(p=d.startTime,v.return(p)):v.return(null))})},w(u,r(n,t),2)):u.g!=3?(o=u.h,w(u,r(i,t),3)):(s=u.h,s!=null&&o!=null?u.return(Math.max(s,o)):s!=null?u.return(s):o!=null?u.return(o):u.return(t))})}function la(e){var t=e.Hf();if(e.C&&e.P&&e.G){if(e.g.streaming.rebufferingGoal==0){var n=e.L;n.j=!1,Zf(n)}else n=e.L,n.j=t,Zf(n);if(e.K&&(n=e.K,t||n.F||(n.F=!0),n.F&&t&&(n.I=!0,an(n,"ps",{td:"r"})),n.J=t),jp(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.hf<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.T&&(e.T=Math.min(e.T+ ++e.hf*r,n-i))}}t=new Map().set("buffering",t),e.dispatchEvent(tt("buffering",t))}function rT(e,t){e.qc.Ta(),e.qc.o(e.h,"timeupdate",function(){var n=e.h.currentTime,i=e.xa(),r=e.U(),o=r?e.g.streaming.safeSeekOffset:0;t>0?r&&t>1&&Math.floor(n)>=Math.floor(i.end)&&e.Bd():Math.floor(n)<=Math.floor(i.start+o)&&e.Bd()})}function jp(e){if(e.C&&e.P){var t=e.C.g,n="playing";e.P.g==Lo?n="buffering":e.isEnded()?n="ended":e.h.paused&&(n="paused");var i=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:i,duration:0},t=!0;else{var r=Date.now()/1e3;t.g.duration=r-t.g.timestamp,t.g.state==i?t=!1:(t.h.push(t.g),t.g={timestamp:r,state:i,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(tt("statechanged",n)))}}function oT(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var i=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,r=e.bj();r<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=i&&e.xc(i,!1):r==1&&t!==e.L.kd()&&e.Bd()}if(n&&(n=e.xa(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var o=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var s=e.g.streaming.liveSync.targetLatency,u=s+i,a=Math.max(0,s-i),l=e.g.streaming.liveSync.maxPlaybackRate,c=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(s=e.i.serviceDescription.targetLatency,e.i.serviceDescription.targetLatency!=null?u=e.i.serviceDescription.targetLatency+i:e.i.serviceDescription.maxLatency!=null&&(u=e.i.serviceDescription.maxLatency),e.i.serviceDescription.targetLatency!=null?a=Math.max(0,e.i.serviceDescription.targetLatency-i):e.i.serviceDescription.minLatency!=null&&(a=e.i.serviceDescription.minLatency),l=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,c=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.T||typeof s!="number"||(e.T=s);var d=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;r&&e.nc&&e.T!==null&&typeof s=="number"&&e.hf<d&&Date.now()-e.nc>o*1e3&&(o=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.T=Math.max(e.T-(s-o)/2,o+i),e.nc=Date.now()),r&&e.T!==null&&(u=e.T+i,a=e.T-i),s=n.end-e.h.currentTime,i=0,e.m==Tn&&(r=e.h.buffered,r.length>0&&(i=r.end(r.length-1),i=Math.max(l,i-n.end))),n=e.g.streaming.liveSync.panicMode,r=e.g.streaming.liveSync.panicThreshold*1e3,o=Date.now()-e.P.i,n&&!c&&(c=e.g.streaming.liveSync.minPlaybackRate),n&&c&&o<=r?t!=c&&e.xc(c,!1):u!=null&&l&&s-i>u?(t!=l&&e.xc(l,!1),e.nc=null):a!=null&&c&&s-i<a?(t!=c&&e.xc(c,!1),e.nc=null):t!==e.L.kd()&&(e.Bd(),e.nc=Date.now())}}function Uc(e){if(e.h){var t=function(r,o){return(Dp(r,o,.01)||o>r)&&e.Gg<r?(e.Gg=r,!0):!1},n=e.xa();if(n=n.end-n.start,n=n>0?e.h.currentTime/n:0,!isNaN(n)){if(n*=100,t(0,n))var i=tt("started");else t(25,n)?i=tt("firstquartile"):t(50,n)?i=tt("midpoint"):t(75,n)?i=tt("thirdquartile"):((t(100,n)||n>100)&&(i=tt("complete")),e.g&&e.g.playRangeEnd!=1/0&&e.isEnded()&&e.h.pause());i&&e.dispatchEvent(i)}}}function $r(e){try{Z1(e.Xe,e.i)}catch(n){return js(e,n),!1}var t=jl(e.i.variants);return t=e.J.create(t),e=e.u.setVariants(Array.from(t.values())),typeof e=="boolean"?e:!0}function sT(e,t){if(t=t===void 0?!1:t,$r(e)){if(!e.g.abr.enabled){var n=e.J;if(typeof n.getLastAdaptationSet!="function"&&(qe("AdaptationSetCriteria w/o getLastAdaptationSet","Please use an AdaptationSetCriteria with getLastAdaptationSet."),n.getLastAdaptationSet=function(){return null}),(n=n.getLastAdaptationSet())&&(n=Array.from(n.values()),n.length)){var i=e.l.u;if(i&&i.video&&(n=n.find(function(r){return r.video==i.video})))return n}}return e.u.chooseVariant(t)}return null}function Qr(e,t,n,i,r){t=t===void 0?!0:t,n=n===void 0?0:n,i=i===void 0?!1:i,r=r===void 0?!0:r;var o=sT(e);o&&ca(e,o,r,t,n,i)}function ca(e,t,n,i,r,o){o=o===void 0?!1:o;var s=e.l.u;if(t==s)i&&e2(e.l,t,i,r,!0);else{var u=e.C.h;if(u.h!=t&&(u.h=t,u.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),e2(e.l,t,i,r,o,n),i=null,s&&(i=ko(s)),s=ko(t),s.active=!0,e.R&&(r=e.R,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),o=0,u=-1,t.mimeType){case"video/webm":o=1;break;case"video/mp4":o=2}switch(e.Ah()){case"DASH":u=1;break;case"HLS":u=0}r.g&&(r.g.setLevelSwitching(t.id,!0),r.g.setContainerFormat(o),r.j||r.g.setStreamingFormat(u))}n?(n=new Map().set("oldTrack",i).set("newTrack",s),n=tt("adaptation",n),Bo(e,n)):aT(e,i,s),lT(e,i,s)}}function Bp(e,t){var n=Array.from(e.h.audioTracks).find(function(r){return r.enabled});if(t.enabled=!0,n){t.id!==n.id&&(n.enabled=!1);var i=uT(e);n=Ul(n,i),t=Ul(t,i),aT(e,n,t),lT(e,n,t)}}function uT(e){return e.h&&e.h.videoTracks?Array.from(e.h.videoTracks).find(function(t){return t.selected}):null}function yn(e){var t=tt("trackschanged");Bo(e,t),cT(e)}function aT(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),t=tt("variantchanged",t),Bo(e,t)}function lT(e,t,n){var i=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(i=!0),i&&cT(e)}function cT(e){var t=tt("audiotrackschanged");Bo(e,t)}function Er(e){var t=tt("textchanged");Bo(e,t)}function dT(e){var t=tt("texttrackvisibility");Bo(e,t)}function hT(e){e.g.abr.enabled||Fp(e);var t=new Map().set("newStatus",e.g.abr.enabled);Bo(e,tt("abrstatuschanged",t))}function da(e){var t=e.Dc().find(function(n){return n.active});t&&e.A&&e.A.setTextLanguage&&e.A.setTextLanguage(t.language)}function Fp(e,t){if(t=t===void 0?!0:t,e.m==Gt){e.$e.stop();for(var n=T(e.i.variants),i=n.next();!i.done;i=n.next())i.value.disabledUntilTime=0;t&&$r(e)}}h.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===Ai||!navigator.onLine||t==0||!this.i)return!1;if(this.i.variants.some(function(u){var a=u[e.type];return a&&a.id!==e.id&&!u.disabledUntilTime?e.type=="audio"?e.language===a.language:!0:!1})){for(var n=!1,i=!1,r=T(this.i.variants),o=r.next();!o.done;o=r.next()){o=o.value;var s=o[e.type];s&&(s.id===e.id?(o.disabledUntilTime=Date.now()/1e3+t,n=!0):s.trickModeVideo&&s.trickModeVideo.id==e.id&&(i=!0))}return!n&&i?!1:(this.$e.va(1),t=this.Sc().video.reduce(function(u,a){return u+a.end-a.start},0),Qr(this,!1,t,!0,!1),!0)}return!1};function js(e,t){var n,i,r,o,s;return N(function(u){switch(u.g){case 1:if(e.m==Ai)return u.return();if(t.severity===1&&e.C.L++,n=!0,!(e.Na&&e.i&&e.l)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3024&&t.code!=3018){u.B(2);break}return i=ke(),i.Ka()==="WEBKIT"&&t.code==3016?u.return():(ue(u,3),w(u,pc(e.l),5));case 5:r=u.h,n=!r,r&&(o=tt("mediasourcerecovered"),e.dispatchEvent(o)),Ae(u,2);break;case 3:ae(u),n=!0;case 2:if(!n)return u.return();t.severity===2&&Fp(e,!1),s=tt("error",new Map().set("detail",t)),e.dispatchEvent(s),s.defaultPrevented&&(t.handled=!0),Z(u)}})}h.addFont=function(e,t){return c5(e,t)};function ha(e,t,n,i){i=i===void 0?e:i,e=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),i.dispatchEvent(tt(t,e))}function fT(e,t,n,i){i=i===void 0?!1:i,t=new Map().set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(tt(i?"audiotrackchanged":"mediaqualitychanged",t))}function qp(e,t){if(t=t===void 0?!0:t,!e.h.error)return t?new _(2,3,3016):null;var n=e.h.error.code;return!t&&n==1?null:((t=e.h.error.msExtendedCode)&&(t<0&&(t+=4294967296),t=t.toString(16)),new _(2,3,3016,n,t,e.h.error.message))}function Ck(e,t){var n=tt("keystatuschanged");e.dispatchEvent(n);var i=Object.keys(t);i.length==1&&i[0]==""&&(i=["00"],t={"00":t[""]});var r=i.length==1&&i[0]=="00";if(n=!1,i.length){i=e.keySystem();for(var o=Ts(e.g.drm.clearKeys),s=function(y,E){y.allowedByKeySystem=!0,E=T(E);for(var A=E.next();!A.done;A=E.next())A=A.value,((A=t[r?"00":A])||e.F.H)&&(y.allowedByKeySystem=y.allowedByKeySystem&&!!A&&!J1.includes(A))},u=T(e.i.variants),a=u.next();!a.done;a=u.next()){a=a.value;var l=fw(a);l=T(l);for(var c=l.next();!c.done;c=l.next()){c=c.value;var d=a.allowedByKeySystem;if(c.keyIds.size)if(c.drmInfos.length&&!o.size&&e.i.type=="HLS")for(var p=T(c.drmInfos),v=p.next();!v.done;v=p.next())v=v.value,v.keySystem==i&&(v.keyIds.size?s(a,v.keyIds):s(a,c.keyIds));else s(a,c.keyIds);d!=a.allowedByKeySystem&&(n=!0)}}}n&&(yn(e),(n=e.l.u)&&!n.allowedByKeySystem?Qr(e):$r(e))}function Vp(e,t,n){t>0&&(e.U()||e.Vj(t)),t=e.getDuration(),n<t&&(e.U()||e.Fb(n))}function Bo(e,t){N(function(n){if(n.g==1)return w(n,Promise.resolve(),2);e.m!=Ai&&e.dispatchEvent(t),Z(n)})}function pT(e){var t=new Set;e=T(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(We(n.language)):t.add("und");return t}function gT(e){for(var t=new Map,n=new Map,i=0;i<e.length;i++){var r=e[i],o="und",s=[];r.language&&(o=We(r.language)),r.type=="variant"?s=r.audioRoles:s=r.roles,s&&s.length||(s=[""]),t.has(o)||t.set(o,new Set),s=T(s);for(var u=s.next();!u.done;u=s.next())u=u.value,t.get(o).add(u),r.label&&(n.has(o)||n.set(o,new Map),n.get(o).set(u,r.label))}var a=[];return t.forEach(function(l,c){l=T(l);for(var d=l.next();!d.done;d=l.next()){d=d.value;var p=null;n.has(c)&&n.get(c).has(d)&&(p=n.get(c).get(d)),a.push({language:c,role:d,label:p})}}),a}h.Da=function(){return this.h&&this.h.remote?this.h.remote.state!="disconnected":!1},h.isEnded=function(){return!this.h||this.h.ended?!0:this.Na&&!this.U()&&this.h.currentTime>=this.xa().end},K("shaka.Player",V),V.prototype.isEnded=V.prototype.isEnded,V.prototype.isRemotePlayback=V.prototype.Da,V.prototype.addFont=V.prototype.addFont,V.prototype.setVideoContainer=V.prototype.ni,V.prototype.getFetchedPlaybackInfo=V.prototype.Tk,V.prototype.getManifestParserFactory=V.prototype.$k,V.prototype.getManifest=V.prototype.yh,V.prototype.retryStreaming=V.prototype.bi,V.prototype.setMaxHardwareResolution=V.prototype.ym,V.prototype.addChaptersTrack=V.prototype.jf,V.prototype.addThumbnailsTrack=V.prototype.kf,V.prototype.addTextTrackAsync=V.prototype.me,V.prototype.getStats=V.prototype.getStats,V.prototype.getBufferedInfo=V.prototype.Sc,V.prototype.getSegmentAvailabilityDuration=V.prototype.Cf,V.prototype.getPresentationStartTimeAsDate=V.prototype.fj,V.prototype.getPlayheadTimeAsDate=V.prototype.fl,V.prototype.setTextTrackVisibility=V.prototype.be,V.prototype.getChaptersAsync=V.prototype.uh,V.prototype.getChapters=V.prototype.Jk,V.prototype.getChaptersTracks=V.prototype.Kk,V.prototype.isTextTrackVisible=V.prototype.Yc,V.prototype.selectVariantsByLabel=V.prototype.sm,V.prototype.selectTextLanguage=V.prototype.ei,V.prototype.selectAudioLanguage=V.prototype.Mj,V.prototype.getTextLanguages=V.prototype.rl,V.prototype.getAudioLanguages=V.prototype.Fk,V.prototype.getTextLanguagesAndRoles=V.prototype.ul,V.prototype.getAudioLanguagesAndRoles=V.prototype.Gk,V.prototype.getVideoTracks=V.prototype.getVideoTracks,V.prototype.selectVideoTrack=V.prototype.Oj,V.prototype.getAudioTracks=V.prototype.getAudioTracks,V.prototype.selectAudioTrack=V.prototype.Nj,V.prototype.selectVariantTrack=V.prototype.Me,V.prototype.selectTextTrack=V.prototype.kg,V.prototype.getThumbnails=V.prototype.gj,V.prototype.getAllThumbnails=V.prototype.Ek,V.prototype.getImageTracks=V.prototype.xh,V.prototype.getTextTracks=V.prototype.Dc,V.prototype.getVariantTracks=V.prototype.Ob,V.prototype.cancelTrickPlay=V.prototype.Bd,V.prototype.trickPlay=V.prototype.xc,V.prototype.useTrickPlayTrackIfAvailable=V.prototype.Ei,V.prototype.getPlaybackRate=V.prototype.Za,V.prototype.isBuffering=V.prototype.Hf,V.prototype.getKeyStatuses=V.prototype.yf,V.prototype.getActiveSessionsMetadata=V.prototype.sh,V.prototype.getExpiration=V.prototype.ve,V.prototype.drmInfo=V.prototype.drmInfo,V.prototype.keySystem=V.prototype.keySystem,V.prototype.isFullyLoaded=V.prototype.Jh,V.prototype.goToLive=V.prototype.Dl,V.prototype.seekRange=V.prototype.xa,V.prototype.isVideoOnly=V.prototype.Kf,V.prototype.isAudioOnly=V.prototype.Md,V.prototype.isInProgress=V.prototype.md,V.prototype.isLive=V.prototype.U,V.prototype.getQueueManager=V.prototype.Af,V.prototype.getAdManager=V.prototype.xf,V.prototype.getAssetUri=V.prototype.jd,V.prototype.getNetworkingEngine=V.prototype.Wb,V.prototype.getMediaElement=V.prototype.zf,V.prototype.getManifestType=V.prototype.Ah,V.prototype.getLoadMode=V.prototype.Cc,V.prototype.resetConfiguration=V.prototype.Hj,V.prototype.getBufferFullness=V.prototype.bj,V.prototype.getNonDefaultConfiguration=V.prototype.ej,V.prototype.getConfigurationForLowLatency=V.prototype.Nk,V.prototype.getConfiguration=V.prototype.getConfiguration,V.prototype.configurationForLowLatency=V.prototype.Bk,V.prototype.configure=V.prototype.configure,V.prototype.releaseAllMutexes=V.prototype.hm,V.prototype.destroyAllPreloads=V.prototype.Zg,V.prototype.preload=V.prototype.preload,V.prototype.detachAndSavePreload=V.prototype.Yi,V.prototype.unloadAndSavePreload=V.prototype.ik,V.prototype.load=V.prototype.load,V.prototype.updateStartTime=V.prototype.Gm,V.prototype.unload=V.prototype.yc,V.prototype.detach=V.prototype.detach,V.prototype.attachCanvas=V.prototype.Li,V.prototype.attach=V.prototype.Ub,V.probeSupport=function(e){e=e===void 0?!0:e;var t,n,i,r,o,s,u;return N(function(a){switch(a.g){case 1:if(t={},!e){a.B(2);break}return w(a,Dw(),3);case 3:t=a.h;case 2:return n=Kx(),i=v5(),r=ke(),w(a,r.Ac(),4);case 4:return o=a.h,s={manifest:n,media:i,drm:t,hardwareResolution:o},u=vT,u.forEach(function(l,c){s[c]=l()}),a.return(s)}})},V.isBrowserSupported=V2,V.setQueueManagerFactory=function(e){Fc=e},V.setAdManagerFactory=function(e){Bc=e},V.registerSupportPlugin=q2,V.prototype.destroy=V.prototype.destroy;var Ai=0,jc=1,Gt=2,Tn=3;V.LoadMode={DESTROYED:Ai,NOT_LOADED:jc,MEDIA_SOURCE:Gt,SRC_EQUALS:Tn},V.version="v4.16.18";var mT=["4","16"];jv=new function(e){this.g=e,this.i=Gx,this.h=zx}(new ef(Number(mT[0]),Number(mT[1])));var vT=new Map,Bc=null,Fc=null;function yT(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function Mk(e){return e.g.length?e.g.reduce(function(t,n){return t+n},0)/e.g.length:0}function fe(e,t,n){var i=this;this.g=e,this.h=t,this.m=n,this.i=!1,this.j=this.h.getVolume(),this.l=new Fe,this.l.o(this.h,google.ima.AdEvent.Type.PAUSED,function(){i.i=!0}),this.l.o(this.h,google.ima.AdEvent.Type.RESUMED,function(){i.i=!1})}h=fe.prototype,h.needsSkipUI=function(){return!1},h.isClientRendering=function(){return!0},h.hasCustomClick=function(){return!0},h.isUsingAnotherMediaElement=function(){return!0},h.getDuration=function(){return this.g.getDuration()},h.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},h.getRemainingTime=function(){return this.h.getRemainingTime()},h.isPaused=function(){return this.i},h.isSkippable=function(){return this.g.getSkipTimeOffset()>=0},h.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},h.canSkipNow=function(){return this.h.getAdSkippableState()},h.skip=function(){return this.h.skip()},h.pause=function(){return this.h.pause()},h.play=function(){return this.h.resume()},h.getVolume=function(){return this.h.getVolume()},h.setVolume=function(e){return this.m.volume=e,this.h.setVolume(e)},h.isMuted=function(){return this.h.getVolume()==0},h.isLinear=function(){return this.g.isLinear()},h.resize=function(e,t){this.h.resize(e,t)},h.setMuted=function(e){(this.m.muted=e)?(this.j=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.j)},h.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},h.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},h.getTitle=function(){return this.g.getTitle()},h.getDescription=function(){return this.g.getDescription()},h.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},h.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},h.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},h.getVastAdId=function(){return""},h.getAdId=function(){return this.g.getAdId()},h.getCreativeAdId=function(){return this.g.getCreativeAdId()},h.getAdvertiserName=function(){return this.g.getAdvertiserName()},h.getMediaUrl=function(){return this.g.getMediaUrl()},h.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},h.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},h.release=function(){this.h=this.g=null},K("shaka.ads.ClientSideAd",fe),fe.prototype.release=fe.prototype.release,fe.prototype.getPodIndex=fe.prototype.getPodIndex,fe.prototype.getTimeOffset=fe.prototype.getTimeOffset,fe.prototype.getMediaUrl=fe.prototype.getMediaUrl,fe.prototype.getAdvertiserName=fe.prototype.getAdvertiserName,fe.prototype.getCreativeAdId=fe.prototype.getCreativeAdId,fe.prototype.getAdId=fe.prototype.getAdId,fe.prototype.getVastAdId=fe.prototype.getVastAdId,fe.prototype.getVastMediaWidth=fe.prototype.getVastMediaWidth,fe.prototype.getVastMediaHeight=fe.prototype.getVastMediaHeight,fe.prototype.getVastMediaBitrate=fe.prototype.getVastMediaBitrate,fe.prototype.getDescription=fe.prototype.getDescription,fe.prototype.getTitle=fe.prototype.getTitle,fe.prototype.getPositionInSequence=fe.prototype.getPositionInSequence,fe.prototype.getSequenceLength=fe.prototype.getSequenceLength,fe.prototype.setMuted=fe.prototype.setMuted,fe.prototype.resize=fe.prototype.resize,fe.prototype.isLinear=fe.prototype.isLinear,fe.prototype.isMuted=fe.prototype.isMuted,fe.prototype.setVolume=fe.prototype.setVolume,fe.prototype.getVolume=fe.prototype.getVolume,fe.prototype.play=fe.prototype.play,fe.prototype.pause=fe.prototype.pause,fe.prototype.skip=fe.prototype.skip,fe.prototype.canSkipNow=fe.prototype.canSkipNow,fe.prototype.getTimeUntilSkippable=fe.prototype.getTimeUntilSkippable,fe.prototype.isSkippable=fe.prototype.isSkippable,fe.prototype.isPaused=fe.prototype.isPaused,fe.prototype.getRemainingTime=fe.prototype.getRemainingTime,fe.prototype.getMinSuggestedDuration=fe.prototype.getMinSuggestedDuration,fe.prototype.getDuration=fe.prototype.getDuration,fe.prototype.isUsingAnotherMediaElement=fe.prototype.isUsingAnotherMediaElement,fe.prototype.hasCustomClick=fe.prototype.hasCustomClick,fe.prototype.isClientRendering=fe.prototype.isClientRendering,fe.prototype.needsSkipUI=fe.prototype.needsSkipUI;function lt(){}function TT(e,t){var n=[];e=T(Ze(e,"Ad"));for(var i=e.next();!i.done;i=e.next())if((i=ut(i.value,"InLine"))&&(i=ut(i,"Creatives"))){i=T(Ze(i,"Creative"));for(var r=i.next();!r.done;r=i.next()){r=r.value;var o=ut(r,"Linear");if(o&&Rk(n,t,o),r=ut(r,"NonLinearAds")){r=Ze(r,"NonLinear"),r=T(r);for(var s=r.next();!s.done;s=r.next())e:{o=n;var u=t,a=s.value,l=ut(a,"StaticResource");if(l)s=l.attributes.creativeType;else{if(l=ut(a,"HTMLResource"),!l)break e;s="text/html"}if(l=vn(l)){s==="text/html"&&(l="data:text/html;charset=UTF-8,"+encodeURIComponent(l));var c=Se(a,"width",Zt)||Se(a,"expandedWidth",Zt),d=Se(a,"height",Zt)||Se(a,"expandedHeight",Zt);if(c||d){var p=null,v=ut(a,"NonLinearClickThrough");v&&(v=vn(v))&&(p=v),v=null,(a=a.attributes.minSuggestedDuration)&&(v=ds(a)),a=0,u!=null&&(a=u),o.push({id:null,groupId:null,startTime:a,endTime:null,uri:l,mimeType:s,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:v,once:!0,pre:u==null,post:u==1/0,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:c||0,y:d||0}},displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:p})}}}}}}return n}function Rk(e,t,n){var i=0;t!=null&&(i=t);var r=null;n.attributes.skipoffset&&(r=ds(n.attributes.skipoffset),isNaN(r)&&(r=null));var o=ut(n,"MediaFiles");if(o){var s=null;for((n=ut(n,"VideoClicks"))&&(n=ut(n,"ClickThrough"))&&(n=vn(n))&&(s=n),o=n=Ze(o,"MediaFile"),n=n.filter(function(a){return a.attributes.delivery=="streaming"}),n.length&&(o=n),o=o.sort(function(a,l){return(parseInt(l.attributes.height,10)||0)-(parseInt(a.attributes.height,10)||0)}),o=T(o),n=o.next();!n.done;n=o.next())if(n=n.value,!n.attributes.apiFramework){var u=vn(n);if(u){e.push({id:null,groupId:null,startTime:i,endTime:null,uri:u,mimeType:n.attributes.type||null,isSkippable:r!=null,skipOffset:r,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:t==null,post:t==1/0,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:s});break}}}}function Lk(e){var t=[];e=T(Ze(e,"vmap:AdBreak"));for(var n=e.next();!n.done;n=e.next()){var i=n.value,r=i.attributes.timeOffset;r&&(n=null,r=="start"?n=null:r=="end"?n=1/0:n=ds(r),(i=ut(i,"vmap:AdSource"))&&(i=ut(i,"vmap:AdTagURI"))&&(i=kt(i))&&t.push({time:n,uri:i}))}return t}K("shaka.ads.Utils",lt),lt.ADS_LOADED="ads-loaded",lt.AD_STARTED="ad-started",lt.AD_FIRST_QUARTILE="ad-first-quartile",lt.AD_MIDPOINT="ad-midpoint",lt.AD_THIRD_QUARTILE="ad-third-quartile",lt.AD_COMPLETE="ad-complete",lt.AD_STOPPED="ad-stopped",lt.AD_SKIPPED="ad-skipped",lt.AD_VOLUME_CHANGED="ad-volume-changed",lt.AD_MUTED="ad-muted",lt.AD_PAUSED="ad-paused",lt.AD_RESUMED="ad-resumed",lt.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",lt.CUEPOINTS_CHANGED="ad-cue-points-changed",lt.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",lt.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",lt.AD_CLICKED="ad-clicked",lt.AD_PROGRESS="ad-progress",lt.AD_BUFFERING="ad-buffering",lt.AD_IMPRESSION="ad-impression",lt.AD_DURATION_CHANGED="ad-duration-changed",lt.AD_CLOSED="ad-closed",lt.AD_LOADED="ad-loaded",lt.ALL_ADS_COMPLETED="all-ads-completed",lt.AD_LINEAR_CHANGED="ad-linear-changed",lt.AD_METADATA="ad-metadata",lt.AD_RECOVERABLE_ERROR="ad-recoverable-error",lt.AD_ERROR="ad-error",lt.AD_BREAK_READY="ad-break-ready",lt.AD_INTERACTION="ad-interaction",lt.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",lt.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",lt.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested";function qc(e,t,n,i,r){var o=this;this.A=e,this.i=t,this.G=!1,this.C=this.u=null,this.H=NaN,this.l=r,this.j=null,this.h=new Fe,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.F=new google.ima.AdDisplayContainer(this.A,this.i),this.F.initialize(),this.m=new google.ima.AdsLoader(this.F),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.16.18"),this.g=null,this.D=i||new google.ima.AdsRenderingSettings,this.h.o(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(s){Pk(o,s)}),this.h.o(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(s){ST(o,s)}),this.h.o(this.i,"ended",function(){o.m.contentComplete()}),this.h.qa(this.i,"play",function(){o.G=!0})}qc.prototype.configure=function(e){this.u=e},qc.prototype.stop=function(){this.g&&this.g.stop(),this.A&&Gi(this.A)},qc.prototype.release=function(){this.stop(),this.C&&this.C.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.F.destroy()};function ST(e,t){t.getError(),t=new Map().set("originalEvent",t),e.l(new J("ad-error",t)),Vc(e,null),e.l(new J("ad-cue-points-changed",new Map().set("cuepoints",[])))}function Pk(e,t){if(e.l(new J("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.H))),e.u.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.D),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.o(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.o(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.D);e.l(new J("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var i=e.g.getCuePoints();if(i.length){t=[],i=T(i);for(var r=i.next();!r.done;r=i.next())t.push({start:r.value,end:null});e.l(new J("ad-cue-points-changed",new Map().set("cuepoints",t)))}bk(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight),e.h.o(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight)}),"ResizeObserver"in S?(e.C=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight)}),e.C.observe(e.i)):e.h.o(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight)}),e.G||e.u.skipPlayDetection?e.g.start():e.h.qa(e.i,"play",function(){e.G=!0,e.g.start()})}catch{Vc(e,null)}}function bk(e){function t(n,i){n=new Map().set("originalEvent",n),e.l(new J(i,n))}e.h.o(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){ST(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){ET(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.STARTED,function(n){ET(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.o(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){Vc(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed"),Vc(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.o(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.o(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.o(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.o(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.o(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.o(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.o(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.o(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function ET(e,t){var n=t.getAd();n?(e.j=new fe(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.u.supportsMultipleMediaElements||e.l(new J("ad-content-pause-requested")),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new J("ad-started",t)),e.j.isLinear()&&(e.A.setAttribute("ad-active","true"),e.u.customPlayheadTracker||e.i.pause(),e.i.muted?(t=e.j,t.j=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):ye("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Vc(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.u.supportsMultipleMediaElements&&e.l(new J("ad-content-resume-requested")),e.l(new J("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.A.removeAttribute("ad-active"),e.u.customPlayheadTracker||e.i.ended||e.i.play())}function pe(e,t,n,i,r,o){this.g=e,this.h=t,this.j=(this.i=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.C=n,this.u=i,this.m=r,this.A=o,this.D=t.overlay}h=pe.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!0},h.hasCustomClick=function(){return this.h.clickThroughUrl!=null},h.isUsingAnotherMediaElement=function(){return this.A},h.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},h.isPaused=function(){return this.g.paused},h.isSkippable=function(){return this.i&&this.l!=null?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.i},h.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},h.canSkipNow=function(){return this.i&&this.getTimeUntilSkippable()==0},h.skip=function(){this.canSkipNow()&&this.C()},h.pause=function(){return this.g.pause()},h.play=function(){return this.g.play()},h.getVolume=function(){return this.g.volume},h.setVolume=function(e){this.g.volume=e},h.isMuted=function(){return this.g.muted},h.isLinear=function(){return this.D==null},h.resize=function(){},h.setMuted=function(e){this.g.muted=e},h.getSequenceLength=function(){return this.u},h.getPositionInSequence=function(){return this.m},h.getTitle=function(){return""},h.getDescription=function(){return""},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return 0},h.getVastMediaWidth=function(){return 0},h.getVastAdId=function(){return""},h.getAdId=function(){return this.h.id||""},h.getCreativeAdId=function(){return""},h.getAdvertiserName=function(){return""},h.getMediaUrl=function(){return this.h.uri},h.getTimeOffset=function(){return this.h.pre?0:this.h.post?-1:this.h.startTime},h.getPodIndex=function(){return 0},h.release=function(){this.g=null},K("shaka.ads.InterstitialAd",pe),pe.prototype.release=pe.prototype.release,pe.prototype.getPodIndex=pe.prototype.getPodIndex,pe.prototype.getTimeOffset=pe.prototype.getTimeOffset,pe.prototype.getMediaUrl=pe.prototype.getMediaUrl,pe.prototype.getAdvertiserName=pe.prototype.getAdvertiserName,pe.prototype.getCreativeAdId=pe.prototype.getCreativeAdId,pe.prototype.getAdId=pe.prototype.getAdId,pe.prototype.getVastAdId=pe.prototype.getVastAdId,pe.prototype.getVastMediaWidth=pe.prototype.getVastMediaWidth,pe.prototype.getVastMediaHeight=pe.prototype.getVastMediaHeight,pe.prototype.getVastMediaBitrate=pe.prototype.getVastMediaBitrate,pe.prototype.getDescription=pe.prototype.getDescription,pe.prototype.getTitle=pe.prototype.getTitle,pe.prototype.getPositionInSequence=pe.prototype.getPositionInSequence,pe.prototype.getSequenceLength=pe.prototype.getSequenceLength,pe.prototype.setMuted=pe.prototype.setMuted,pe.prototype.resize=pe.prototype.resize,pe.prototype.isLinear=pe.prototype.isLinear,pe.prototype.isMuted=pe.prototype.isMuted,pe.prototype.setVolume=pe.prototype.setVolume,pe.prototype.getVolume=pe.prototype.getVolume,pe.prototype.play=pe.prototype.play,pe.prototype.pause=pe.prototype.pause,pe.prototype.skip=pe.prototype.skip,pe.prototype.canSkipNow=pe.prototype.canSkipNow,pe.prototype.getTimeUntilSkippable=pe.prototype.getTimeUntilSkippable,pe.prototype.isSkippable=pe.prototype.isSkippable,pe.prototype.isPaused=pe.prototype.isPaused,pe.prototype.getRemainingTime=pe.prototype.getRemainingTime,pe.prototype.getMinSuggestedDuration=pe.prototype.getMinSuggestedDuration,pe.prototype.getDuration=pe.prototype.getDuration,pe.prototype.isUsingAnotherMediaElement=pe.prototype.isUsingAnotherMediaElement,pe.prototype.hasCustomClick=pe.prototype.hasCustomClick,pe.prototype.isClientRendering=pe.prototype.isClientRendering,pe.prototype.needsSkipUI=pe.prototype.needsSkipUI;function ge(e,t,n){this.g=e,this.j=t,this.h=n,this.i=e.overlay==null}h=ge.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!0},h.hasCustomClick=function(){return this.g.clickThroughUrl!=null},h.isUsingAnotherMediaElement=function(){return!1},h.getDuration=function(){return-1},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){return-1},h.isPaused=function(){return!1},h.isSkippable=function(){return!1},h.getTimeUntilSkippable=function(){return 0},h.canSkipNow=function(){return!1},h.skip=function(){},h.pause=function(){},h.play=function(){},h.getVolume=function(){return 1},h.setVolume=function(){},h.isMuted=function(){return!1},h.isLinear=function(){return this.i},h.resize=function(){},h.setMuted=function(){},h.getSequenceLength=function(){return this.j},h.getPositionInSequence=function(){return this.h},h.getTitle=function(){return""},h.getDescription=function(){return""},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return 0},h.getVastMediaWidth=function(){return 0},h.getVastAdId=function(){return""},h.getAdId=function(){return this.g.id||""},h.getCreativeAdId=function(){return""},h.getAdvertiserName=function(){return""},h.getMediaUrl=function(){return this.g.uri},h.getTimeOffset=function(){return this.g.pre?0:this.g.post?-1:this.g.startTime},h.getPodIndex=function(){return 0},h.release=function(){},K("shaka.ads.InterstitialStaticAd",ge),ge.prototype.release=ge.prototype.release,ge.prototype.getPodIndex=ge.prototype.getPodIndex,ge.prototype.getTimeOffset=ge.prototype.getTimeOffset,ge.prototype.getMediaUrl=ge.prototype.getMediaUrl,ge.prototype.getAdvertiserName=ge.prototype.getAdvertiserName,ge.prototype.getCreativeAdId=ge.prototype.getCreativeAdId,ge.prototype.getAdId=ge.prototype.getAdId,ge.prototype.getVastAdId=ge.prototype.getVastAdId,ge.prototype.getVastMediaWidth=ge.prototype.getVastMediaWidth,ge.prototype.getVastMediaHeight=ge.prototype.getVastMediaHeight,ge.prototype.getVastMediaBitrate=ge.prototype.getVastMediaBitrate,ge.prototype.getDescription=ge.prototype.getDescription,ge.prototype.getTitle=ge.prototype.getTitle,ge.prototype.getPositionInSequence=ge.prototype.getPositionInSequence,ge.prototype.getSequenceLength=ge.prototype.getSequenceLength,ge.prototype.setMuted=ge.prototype.setMuted,ge.prototype.resize=ge.prototype.resize,ge.prototype.isLinear=ge.prototype.isLinear,ge.prototype.isMuted=ge.prototype.isMuted,ge.prototype.setVolume=ge.prototype.setVolume,ge.prototype.getVolume=ge.prototype.getVolume,ge.prototype.play=ge.prototype.play,ge.prototype.pause=ge.prototype.pause,ge.prototype.skip=ge.prototype.skip,ge.prototype.canSkipNow=ge.prototype.canSkipNow,ge.prototype.getTimeUntilSkippable=ge.prototype.getTimeUntilSkippable,ge.prototype.isSkippable=ge.prototype.isSkippable,ge.prototype.isPaused=ge.prototype.isPaused,ge.prototype.getRemainingTime=ge.prototype.getRemainingTime,ge.prototype.getMinSuggestedDuration=ge.prototype.getMinSuggestedDuration,ge.prototype.getDuration=ge.prototype.getDuration,ge.prototype.isUsingAnotherMediaElement=ge.prototype.isUsingAnotherMediaElement,ge.prototype.hasCustomClick=ge.prototype.hasCustomClick,ge.prototype.isClientRendering=ge.prototype.isClientRendering,ge.prototype.needsSkipUI=ge.prototype.needsSkipUI;function AT(e,t,n,i){function r(s){return s?s.overlay?!0:o.g.ended?s.post:!o.g.paused:!1}var o=this;this.L=null,this.m=e,this.D=t,this.g=n,this.G=null,this.A=!0,this.h=this.g,this.oa=i,this.aa=new Set,this.R=new Set,this.H=new Set,this.F=new Map,this.K=new Map,this.i=new V,Kp(this),this.I=new Fe,this.j=new Fe,this.J=!1,this.X=this.u=this.C=this.l=null,this.Z=!1,this.O=-1,this.V=function(){if(!o.J&&o.l&&!o.D.Da()){o.l=o.g.currentTime;var s=Bs(o);s&&r(s)&&Hc(o,s,1,1,Date.now())}},this.T=function(){if(!(o.J||o.l||o.D.Da())){o.g.paused||(o.l=o.g.currentTime);var s=Bs(o,!0);s||(s=Bs(o)),s&&r(s)&&Hc(o,s,1,1,Date.now())}},this.ha=function(){if(!o.J&&o.l&&!o.D.Da()){var s=o.g.currentTime;o.C&&!o.C.pre&&!o.C.post&&s<(o.C.endTime||o.C.startTime)&&(o.C=null)}},this.P=new le(this.V),this.M=new le(function(){var s,u,a,l,c,d,p,v,y,E,A;return N(function(k){switch(k.g){case 1:if(!o.H.size||o.l==null){k.B(0);break}if(s=o.D.Cc(),s==Ai||s==jc)return k.return();u=!1,a=Array.from(o.H),l=o.D.xa(),c=T(a),d=c.next();case 3:if(d.done){k.B(5);break}if(p=d.value,p==o.C){k.B(4);break}if(v=p.endTime||p.startTime,!(l.start-v>=1)){y=p.startTime-o.l,y>0&&y<=10&&(!o.F.has(p)&&wT(p)&&o.F.set(p,o.i.preload(p.uri,null,p.mimeType||void 0)),kT(o,p)),k.B(4);break}if(!o.F.has(p)){k.B(7);break}return w(k,o.F.get(p),8);case 8:(E=k.h)&&E.destroy(),o.F.delete(p);case 7:CT(o,p),A=p.id||JSON.stringify(p),o.R.has(A)&&o.R.delete(A),o.H.delete(p),Hp(o),p.overlay||(u=!0);case 4:d=c.next(),k.B(3);break;case 5:u&&Gc(o),Z(k)}})}),this.configure(this.D.getConfiguration().ads)}h=AT.prototype,h.configure=function(e){this.L=e,this.J||Gp(this)};function Dk(e){if(!e.Z&&e.H.size){if(e.I.o(e.g,"playing",e.T),e.I.o(e.g,"timeupdate",e.T),e.I.o(e.g,"seeked",e.ha),e.I.o(e.g,"ended",e.V),"requestVideoFrameCallback"in e.g&&!IT()){var t=e.g,n=function(){e.O!=-1&&(e.V(),e.O!=-1&&(e.O=t.requestVideoFrameCallback(n)))};e.O=t.requestVideoFrameCallback(n)}else e.P.va(.025);e.M&&e.M.va(1),e.Z=!0}}function Hp(e){e.Z&&!e.H.size&&(e.I.Ea(e.g,"playing",e.T),e.I.Ea(e.g,"timeupdate",e.T),e.I.Ea(e.g,"seeked",e.ha),e.I.Ea(e.g,"ended",e.V),e.O!=-1&&(e.g.cancelVideoFrameCallback(e.O),e.O=-1),e.P&&e.P.stop(),e.M&&e.M.stop(),e.Z=!1)}function Gp(e){if(e.m&&e.L){var t=e.L.supportsMultipleMediaElements,n=e.g;(n.controls||n.webkitPresentationMode&&n.webkitPresentationMode!=="inline"||n.webkitDisplayingFullscreen)&&(t=!1),e.A==t&&(e.A=!t,e.A?(e.h=e.g,e.G&&(e.G.parentElement&&e.m.removeChild(e.G),e.G=null)):(e.G||(t=document.createElement(e.g.tagName),t.autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.G=t),e.h=e.G))}else e.A=!0}h.stop=function(){if(this.j&&this.j.Ta(),this.aa.clear(),this.R.clear(),this.H.clear(),this.i.Zg(),this.F.size){var e=Array.from(this.F.values());e=T(e);for(var t=e.next();!t.done;t=e.next())(t=t.value)&&t.then(function(n){n&&n.destroy()})}if(this.F.clear(),this.K.size)for(e=Array.from(this.K.keys()),e=T(e),t=e.next();!t.done;t=e.next())CT(this,t.value);this.K.clear(),this.i.detach(),this.J=!1,this.C=this.l=null,this.A=!0,this.h=this.g,this.G=null,zp(this),Hp(this),this.m&&Gi(this.m),this.u&&(this.u.stop(),this.u=null)},h.release=function(){this.stop(),this.I&&this.I.release(),this.j&&this.j.release(),this.P&&(this.P.stop(),this.P=null),this.M&&(this.M.stop(),this.M=null),this.i.destroy()},h.Xb=function(){return this.i};function Nk(e,t){var n,i,r;N(function(o){if(o.g==1){if(n=null,(i=t.values.find(function(s){return s.key=="ID"}))&&(n=i.data),n){if(e.aa.has(n))return o.return();e.aa.add(n)}return Kp(e),r=[],t&&t.values.find(function(s){return s.key=="X-OVERLAY-ID"})?(r=Bk(t),o.B(2)):w(o,jk(e,t),3)}o.g!=2&&(r=o.h),r.length?fa(e,r):ye("Unsupported HLS interstitial",t),Z(o)})}function Ok(e,t){var n=ut(t.eventNode,"OverlayEvent"),i=n.attributes.uri,r=n.attributes.mimeType,o=n.attributes.loop=="true",s=Se(n,"z",Zt);if(i&&s!=0){var u=null,a=ut(n,"Background");if(a){var l=a.attributes.uri;l?u="center / contain no-repeat url('"+l+"')":u=vn(a)}a=1920,l=1080;var c=ut(n,"Viewport");if(c&&(a=Se(c,"x",Zt),a==null||(l=Se(c,"y",Zt),l==null)))return;var d={viewport:{x:a,y:l},topLeft:{x:0,y:0},size:{x:a,y:l}},p=ut(n,"Overlay");if(c&&p){var v=ut(p,"TopLeft"),y=ut(p,"Size");if(v&&y){if(p=Se(v,"x",Zt),p==null||(v=Se(v,"y",Zt),v==null))return;var E=Se(y,"x",Zt);if(E==null||(y=Se(y,"y",Zt),y==null))return;d.topLeft.x=p,d.topLeft.y=v,d.size.x=E,d.size.y=y}}if(p=null,n=ut(n,"Squeeze"),c&&n&&(y=ut(n,"TopLeft"),n=ut(n,"Size"),y&&n)){if(c=Se(y,"x",Zt),c==null||(p=Se(y,"y",Zt),p==null)||(y=Se(n,"x",Zt),y==null)||(n=Se(n,"y",Zt),n==null))return;p={viewport:{x:a,y:l},topLeft:{x:c,y:p},size:{x:y,y:n}}}fa(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:i,mimeType:r,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:o,overlay:d,displayOnBackground:s==-1,currentVideo:p,background:u,clickThroughUrl:null}])}}h.addAdUrlInterstitial=function(e){var t=this,n,i,r,o,s,u,a,l,c;return N(function(d){if(d.g==1)return n={type:12},w(d,Wp(t,e,n),2);if(d.g!=3){if(i=d.h,r=Iu(i,"VAST,vmap:VMAP"),!r)throw new _(2,10,10007);if(o=[],r.tagName=="VAST")return o=TT(r,t.l),d.B(3);if(r.tagName!="vmap:VMAP")return d.B(3);for(s=function(p){var v,y;return N(function(E){if(E.g==1)return w(E,Wp(t,p.uri,n),2);if(v=E.h,y=Iu(v,"VAST"),!y)throw new _(2,10,10007);o.push.apply(o,X(TT(y,p.time))),Z(E)})},u=[],a=T(Lk(r)),l=a.next();!l.done;l=a.next())c=l.value,u.push(s(c));return u.length?w(d,Promise.all(u),3):d.B(3)}fa(t,o),Z(d)})};function fa(e,t){var n,i,r,o,s,u,a,l;N(function(c){switch(c.g){case 1:n=!1,i=T(t),r=i.next();case 2:if(r.done){c.B(4);break}if(o=r.value,!o.uri){ye("Missing URL in interstitial",o),c.B(3);break}if(o.mimeType){c.B(5);break}return ue(c,6),s=e.i.Wb(),w(c,Rs(o.uri,s,e.D.getConfiguration().streaming.retryParameters),8);case 8:o.mimeType=c.h,Ae(c,5);break;case 6:ae(c);case 5:if(u=o.id||JSON.stringify(o),e.R.has(u)){c.B(3);break}o.loop&&!o.overlay&&ye("Loop is only supported in overlay interstitials",o),o.overlay||(n=!0),e.R.add(u),e.H.add(o),a=!1,o.pre&&e.l==null?a=!0:o.startTime!=0||o.canJump?e.l!=null&&(l=o.startTime-e.l,l>0&&l<=10&&(a=!0)):a=!0,a&&(!e.F.has(o)&&wT(o)&&e.F.set(o,e.i.preload(o.uri,null,o.mimeType||void 0)),kT(e,o));case 3:r=i.next(),c.B(2);break;case 4:n&&Gc(e),Dk(e),Z(c)}})}function Bs(e,t,n){t=t===void 0?!1:t,n=n===void 0?null:n;var i=0,r=null;if(e.H.size&&e.l!=null){var o=e.g.ended,s=Array.from(e.H).sort(function(d,p){return p.startTime-d.startTime}),u=s;for(u=t?s.filter(function(d){return d.pre}):o?s.filter(function(d){return d.post}):s.filter(function(d){return!d.pre&&!d.post}),s=T(u),u=s.next();!u.done;u=s.next()){u=u.value;var a=!1;if(t)a=u.pre;else if(o)a=u.post;else if(!u.pre&&!u.post){var l=e.l-Math.round(u.startTime*1e3)/1e3,c=1;e.L.allowStartInMiddleOfInterstitial&&u.endTime&&u.endTime!=1/0&&(c=u.endTime-u.startTime),(l>0||l==0&&e.l==0)&&(l<=c||!u.canJump)&&(a=!(n==null&&e.C&&!e.C.pre&&!e.C.post&&e.C.startTime>=u.startTime))}a&&(!e.C||u.startTime>=e.C.startTime)&&(i==(n||0)?r=u:r&&!u.canJump&&Math.round(u.startTime*1e3)/1e3-Math.round(r.startTime*1e3)/1e3>.001&&(r=u,i=0),i++)}}return r}function Hc(e,t,n,i,r,o){o=o===void 0?0:o,e.C=t,Gp(e),e.A||!e.m||e.h.parentElement||e.m.appendChild(e.h),i==1&&n==1&&(n=Array.from(e.H).filter(function(s){return t.pre?s.pre==t.pre:t.post?s.post==t.post:Math.abs(s.startTime-t.startTime)<.001}).length),t.once&&(o++,e.H.delete(t),Hp(e),t.overlay||Gc(e)),t.mimeType&&(t.mimeType.startsWith("image/")||t.mimeType==="text/html")?t.overlay?_k(e,t,n,i,o):ye("Unsupported interstitial",t):e.A&&t.overlay?ye("Unsupported interstitial",t):Uk(e,t,n,i,r,o)}function _k(e,t,n,i,r){function o(){e.u&&(e.u.stop(),e.u=null),e.m.removeChild(a),zp(e,t),wt(e,"ad-stopped"),e.j.Ta();var p=Bs(e,t.pre,i-r);p?Hc(e,p,n,++i,Date.now(),r):e.J=!1}e.J=!0;var s=t.overlay,u=t.mimeType=="text/html"?"iframe":"img",a=document.createElement(u);a.style.objectFit="contain",a.style.position="absolute",a.style.border="none",xT(e,t);var l=new ge(t,n,i);wt(e,"ad-impression"),wt(e,"ad-started",new Map().set("ad",l)),u=="iframe"?a.src=t.uri:(a.src=t.uri,a.onerror=function(p){wt(e,"ad-error",new Map().set("originalEvent",p)),o()}),l=s.viewport;var c=s.topLeft;s=s.size,l.x==0&&l.y==0?(a.width=t.overlay.size.x,a.height=t.overlay.size.y,a.style.bottom="10%",a.style.left="0",a.style.right="0",a.style.width="100%",t.overlay.size.y||u!="iframe"||(a.style.height="auto")):(a.style.height=s.y/l.y*100+"%",a.style.left=c.x/l.x*100+"%",a.style.top=c.y/l.y*100+"%",a.style.width=s.x/l.x*100+"%"),e.m.appendChild(a);var d=Date.now();e.u&&e.u.stop(),e.u=new le(function(){t.playoutLimit&&(Date.now()-d)/1e3>t.playoutLimit||t.endTime&&e.g.currentTime>t.endTime?(wt(e,"ad-complete"),o()):e.g.currentTime<t.startTime&&(wt(e,"ad-skipped"),o())}),t.playoutLimit&&!t.endTime?e.u.Y(t.playoutLimit):t.endTime&&e.u.va(.025),e.j.o(e.g,"seeked",function(){var p=e.g.currentTime;(p<t.startTime||t.endTime&&p>t.endTime)&&(e.u&&e.u.stop(),wt(e,"ad-skipped"),o())}),t.clickThroughUrl&&e.j.o(a,"click",function(){t.clickThroughUrl&&S.open(t.clickThroughUrl,"_blank")})}function Uk(e,t,n,i,r,o){var s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b;N(function(U){switch(U.g){case 1:if(s=Date.now(),e.J=!0,u=!1,a=function(){if(!e.A&&!t.overlay&&t.resumeOffset==null)if(t.timelineRange&&t.endTime&&t.endTime!=1/0)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var B=Date.now();e.g.currentTime+=(B-r)/1e3,r=B}},l=function(B){var G,H;return N(function(F){if(F.g==1){if(a(),G=Bs(e,t.pre,i-o),B&&t.groupId)for(;G&&G.groupId==t.groupId;)i++,G=Bs(e,t.pre,i-o);return e.u&&(!t.groupId||G&&G.groupId!=t.groupId)&&(e.u.stop(),e.u=null),zp(e,t),G&&!G.overlay?F.B(2):(t.post&&(e.l=null,e.C=null),e.A?w(F,e.i.detach(),4):w(F,e.i.yc(),4))}F.g!=2&&(e.A&&(H=t.resumeOffset,H==null&&(H=t.timelineRange&&t.endTime&&t.endTime!=1/0?t.endTime-(e.l||0):(Date.now()-r)/1e3),wt(e,"ad-content-resume-requested",new Map().set("offset",H))),wt(e,"ad-stopped"),e.j.Ta(),e.J=!1,e.A?Gc(e):(e.h.style.display="none",a(),e.g.ended||e.g.play())),Gp(e),G&&(wt(e,"ad-stopped"),e.j.Ta(),Hc(e,G,n,++i,r,o)),Z(F)})},c=function(B){return N(function(G){return u?G.return():(u=!0,wt(e,"ad-error",new Map().set("originalEvent",B)),w(G,l(!1),0))})},d=function(){return N(function(B){if(B.g==1)return u?B.return():(u=!0,w(B,l(!1),2));wt(e,"ad-complete"),Z(B)})},e.X=function(){return N(function(B){return u?B.return():(u=!0,wt(e,"ad-skipped"),w(B,l(!0),0))})},p=new pe(e.h,t,e.X,n,i,!e.A),e.A||(p.setMuted(e.g.muted),p.setVolume(e.g.volume)),wt(e,"ad-started",new Map().set("ad",p)),(v=p.canSkipNow())&&wt(e,"ad-skip-state-changed"),e.j.qa(e.i,"error",c),e.j.o(e.h,"timeupdate",function(){if(e.h.duration){var B=p.canSkipNow();v!=B&&p.getRemainingTime()>0&&p.getDuration()>0&&wt(e,"ad-skip-state-changed"),v=B,!e.A&&!t.overlay&&t.resumeOffset==null&&t.timelineRange&&t.endTime&&t.endTime!=1/0&&e.g.currentTime!=t.endTime&&e.D.xa().end>=t.endTime&&(e.g.currentTime=t.endTime)}}),e.j.qa(e.i,"firstquartile",function(){a(),wt(e,"ad-first-quartile")}),e.j.qa(e.i,"midpoint",function(){a(),wt(e,"ad-midpoint")}),e.j.qa(e.i,"thirdquartile",function(){a(),wt(e,"ad-third-quartile")}),e.j.qa(e.i,"complete",d),e.j.o(e.h,"play",function(){wt(e,"ad-resumed")}),e.j.o(e.h,"pause",function(){var B=e.i.getConfiguration();e.h.currentTime>=B.playRangeEnd?d():wt(e,"ad-paused")}),e.j.o(e.h,"volumechange",function(){e.h.muted?wt(e,"ad-muted"):wt(e,"ad-volume-changed")}),t.clickThroughUrl&&(y=e.m||e.h,e.j.o(y,"click",function(){t.clickThroughUrl&&(p.isPaused()||p.pause(),S.open(t.clickThroughUrl,"_blank"))})),!e.A||i!=1){U.B(2);break}return wt(e,"ad-content-pause-requested",new Map().set("saveLivePosition",!0)),E=new Qe,A=function(B){return N(function(G){if(G.g==1)return B.state!="detach"?G.B(0):IT()?w(G,new Promise(function(H){return new le(H).Y(.1)}),3):G.B(3);E.resolve(),e.j.Ea(e.D,"onstatechange",A),Z(G)})},e.j.o(e.D,"onstatechange",A),w(U,E,2);case 2:return xT(e,t),e.A||(e.h.style.display="",t.overlay?(e.h.loop=t.loop,k=t.overlay.viewport,I=t.overlay.topLeft,C=t.overlay.size,e.h.style.height=C.y/k.y*100+"%",e.h.style.left=I.x/k.x*100+"%",e.h.style.top=I.y/k.y*100+"%",e.h.style.width=C.x/k.x*100+"%"):(e.g.pause(),t.resumeOffset!=null&&t.resumeOffset!=0&&(e.g.currentTime+=t.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),ue(U,4),Kp(e),t.startTime&&t.endTime&&t.endTime!=1/0&&t.startTime!=t.endTime&&(L=t.endTime-t.startTime,L>0&&e.i.configure("playRangeEnd",L)),t.playoutLimit&&!e.u&&(e.u=new le(function(){e.X()}).Y(t.playoutLimit),e.i.configure("playRangeEnd",t.playoutLimit)),w(U,e.i.Ub(e.h),6);case 6:return O=null,t.pre||t.post||!e.L.allowStartInMiddleOfInterstitial||e.l==null||(M=e.l-t.startTime,Math.abs(M)>.25&&(O=M)),e.F.has(t)?w(U,e.F.get(t),10):w(U,e.i.load(t.uri,O,t.mimeType||void 0),8);case 10:return D=U.h,e.F.delete(t),D?w(U,e.i.load(D),8):w(U,e.i.load(t.uri,O,t.mimeType||void 0),8);case 8:t.overlay&&e.g.paused?e.h.pause():e.h.play(),P=(Date.now()-s)/1e3,wt(e,"ads-loaded",new Map().set("loadTime",P)),e.A&&e.g.play(),t.overlay&&(t.pre||t.post||e.D.U()&&!(t.startTime>0)||(j=function(){var B=e.g.currentTime-t.startTime;Math.abs(B-e.h.currentTime)>.1&&(e.h.currentTime=B)},e.j.qa(e.h,"playing",j),e.j.o(e.g,"seeking",j)),e.j.o(e.g,"seeked",function(){var B=e.g.currentTime;(B<t.startTime||t.endTime&&B>t.endTime)&&e.X()})),Ae(U,0);break;case 4:if(b=ae(U),!e.J)return U.return();c(b),Z(U)}})}function xT(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),t.currentVideo!=null){var n=t.currentVideo;e.g.style.transformOrigin="top left";var i=!0,r=[],o=n.topLeft.x/n.viewport.x*100;o>0&&o<=100&&(r.push("translateX("+o+"%)"),i=!1),o=n.topLeft.y/n.viewport.y*100,o>0&&o<=100&&(r.push("translateY("+o+"%)"),i=!1),o=n.size.x/n.viewport.x,o<1&&r.push("scaleX("+o+")"),n=n.size.y/n.viewport.y,o<1&&r.push("scaleY("+n+")"),r.length&&(e.g.style.transform=r.join(" ")),i&&(e.g.style.transition="transform 250ms")}e.m&&(t.clickThroughUrl?(e.m.setAttribute("ad-active","true"),e.m.style.pointerEvents=""):e.m.style.pointerEvents="none",t.background&&(e.m.style.background=t.background)),e.G&&(e.G.style.background=t.overlay?"":"rgb(0, 0, 0)")}function zp(e,t){(!t||t.displayOnBackground)&&(e.g.style.zIndex=""),t&&t.currentVideo==null||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.m&&(e.m.removeAttribute("ad-active"),e.m.style.pointerEvents="",!t||t.background)&&(e.m.style.background=""),e.G&&(e.G.style.background="")}function jk(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze,Ie,$e,Ne,Pe,je,He;return N(function(Be){switch(Be.g){case 1:if(n=[],!t||(i=t.values.find(function(be){return be.key=="X-ASSET-URI"}),r=t.values.find(function(be){return be.key=="X-ASSET-LIST"}),!i&&!r))return Be.return(n);if(o=null,(s=t.values.find(function(be){return be.key=="ID"}))&&(o=s.data),u=o==null?Math.floor(t.startTime*10)/10:t.startTime,(a=t.endTime)&&t.endTime!=1/0&&typeof t.endTime=="number"&&(a=o==null?Math.floor(t.endTime*10)/10:t.endTime),l=t.values.find(function(be){return be.key=="X-RESTRICT"}),d=c=!0,l&&l.data&&(p=l.data,c=!p.includes("SKIP"),d=!p.includes("JUMP")),v=c?0:null,(y=t.values.find(function(be){return be.key=="X-ENABLE-SKIP-AFTER"}))&&(E=y.data,v=parseFloat(E),isNaN(v)&&(v=c?0:null)),A=null,(k=t.values.find(function(be){return be.key=="X-ENABLE-SKIP-FOR"}))&&(I=k.data,A=parseFloat(I),isNaN(v)&&(A=null)),C=null,(L=t.values.find(function(be){return be.key=="X-RESUME-OFFSET"}))&&(O=L.data,C=parseFloat(O),isNaN(C)&&(C=null)),M=null,(D=t.values.find(function(be){return be.key=="X-PLAYOUT-LIMIT"}))&&(P=D.data,M=parseFloat(P),isNaN(M)&&(M=null)),U=b=j=!1,(B=t.values.find(function(be){return be.key=="CUE"}))&&(G=B.data,j=G.includes("ONCE"),b=G.includes("PRE"),U=G.includes("POST")),H=!1,(F=t.values.find(function(be){return be.key=="X-TIMELINE-OCCUPIES"}))?(q=F.data,H=q.includes("RANGE")):!L&&e.D.U()&&(H=!b&&!U),i){if(z=i.data,!z)return Be.return(n);n.push({id:o,groupId:null,startTime:u,endTime:a,uri:z,mimeType:null,isSkippable:c,skipOffset:v,skipFor:A,canJump:d,resumeOffset:C,playoutLimit:M,once:j,pre:b,post:U,timelineRange:H,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null}),Be.B(2);break}if(!r){Be.B(2);break}return Y=r.data,Y?(ue(Be,4),we={type:11},w(Be,Wp(e,Y,we),6)):Be.return(n);case 6:for(ne=Be.h,ze=dt(ne),Ie=JSON.parse(ze),($e=Ie["SKIP-CONTROL"])&&(Ne=$e["ENABLE-SKIP-AFTER"],typeof Ne=="number"&&(v=parseFloat(Ne),isNaN(Ne)&&(v=c?0:null)),Pe=$e["ENABLE-SKIP-FOR"],typeof Pe=="number"&&(A=parseFloat(Pe),isNaN(Pe)&&(A=null))),je=0;je<Ie.ASSETS.length;je++)He=Ie.ASSETS[je],He.URI&&n.push({id:o+"_shaka_asset_"+je,groupId:o,startTime:u,endTime:a,uri:He.URI,mimeType:null,isSkippable:c,skipOffset:v,skipFor:A,canJump:d,resumeOffset:C,playoutLimit:M,once:j,pre:b,post:U,timelineRange:H,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null});Ae(Be,2);break;case 4:ae(Be);case 2:return Be.return(n)}})}function Bk(e){var t=[];if(!e)return t;var n=e.values.find(function(A){return A.key=="X-ASSET-URI"});if(!n||(n=n.data,!n))return t;var i=null,r=e.values.find(function(A){return A.key=="X-OVERLAY-ID"});r&&(i=r.data),r=i==null?Math.floor(e.startTime*10)/10:e.startTime;var o=e.endTime;e.endTime&&e.endTime!=1/0&&typeof e.endTime=="number"&&(o=i==null?Math.floor(e.endTime*10)/10:e.endTime);var s=!1,u=!1,a=!1,l=e.values.find(function(A){return A.key=="CUE"});l&&(a=l.data,s=a.includes("ONCE"),u=a.includes("PRE"),a=a.includes("POST")),l=null;var c=e.values.find(function(A){return A.key=="X-ASSET-MIMETYPE"});c&&(l=c.data),c=!1;var d=e.values.find(function(A){return A.key=="X-LOOP"});d&&(c=d.data=="YES"),d=1;var p=e.values.find(function(A){return A.key=="X-DEPTH"});p&&(d=parseFloat(p.data),isNaN(d)&&(d=1)),p=null;var v=e.values.find(function(A){return A.key=="X-BACKGROUND"});v&&(p=v.data),v=1920;var y=1080,E=e.values.find(function(A){return A.key=="X-VIEWPORT"});if(E){if(y=E.data.split("x"),y.length!=2)return t;v=parseFloat(y[0]),y=parseFloat(y[1])}if(v={viewport:{x:v,y},topLeft:{x:0,y:0},size:{x:v,y}},y=e.values.find(function(A){return A.key=="X-OVERLAY-POSITION"})){if(y=y.data.split("x"),y.length!=2)return t;v.topLeft.x=parseFloat(y[0]),v.topLeft.y=parseFloat(y[1])}if(y=e.values.find(function(A){return A.key=="X-OVERLAY-SIZE"})){if(y=y.data.split("x"),y.length!=2)return t;v.size.x=parseFloat(y[0]),v.size.y=parseFloat(y[1])}if(y=null,(E=e.values.find(function(A){return A.key=="X-SQUEEZECURRENT"}))&&(y=parseFloat(E.data),isNaN(y)&&(y=1),y={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*y,y:1080*y}},e=e.values.find(function(A){return A.key=="X-SQUEEZECURRENT-POSITION"}))){if(e=e.data.split("x"),e.length!=2)return t;y.topLeft.x=parseFloat(e[0]),y.topLeft.y=parseFloat(e[1])}return t.push({id:i,groupId:null,startTime:r,endTime:o,uri:n,mimeType:l,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:s,pre:u,post:a,timelineRange:!0,loop:c,overlay:v,displayOnBackground:d==-1,currentVideo:y,background:p,clickThroughUrl:null}),t}function Gc(e){for(var t=[],n=T(e.H),i=n.next(),r={};!i.done;r={Nc:void 0},i=n.next())i=i.value,i.overlay||(r.Nc={start:i.startTime,end:null},i.pre?(r.Nc.start=0,r.Nc.end=null):i.post?(r.Nc.start=-1,r.Nc.end=null):i.timelineRange&&(r.Nc.end=i.endTime),t.find((function(o){return function(s){return o.Nc.start==s.start&&o.Nc.end==s.end}})(r))||t.push(r.Nc));wt(e,"ad-cue-points-changed",new Map().set("cuepoints",t))}function Kp(e){e.i.configure(e.D.ej()),e.i.configure("ads.disableHLSInterstitial",!0),e.i.configure("ads.disableDASHInterstitial",!0),e.i.configure("playRangeEnd",1/0),k1(e.D.Wb(),e.i.Wb())}function Wp(e,t,n){var i,r,o;return N(function(s){return s.g==1?(i=Lt([t],Si()),r=e.D.Wb().request(7,i,n),w(s,r.promise,2)):(o=s.h,s.return(o.data))})}function wT(e){return(e=e.mimeType)?!e.startsWith("image/")&&e!=="text/html":!0}function IT(){var e=ke().Oa();return e=="TV"||e=="CONSOLE"||e=="CAST"}function kT(e,t){if(!(e.K.has(t)||e.L&&!e.L.allowPreloadOnDomElements)){var n=function(o){var s=document.createElement("link");return s.rel="preload",s.href=o,s.as="image",document.head.appendChild(s),s},i=[];if(t.background){var r=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);r&&i.push(n(r[2]))}t.mimeType&&t.mimeType.startsWith("image/")&&i.push(n(t.uri)),e.K.set(t,i)}}function CT(e,t){if(e.K.has(t)){var n=e.K.get(t);n=T(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.parentNode.removeChild(i);e.K.delete(t)}}function wt(e,t,n){e.oa(new J(t,n))}function de(e,t,n,i,r){this.h=e,this.j=ds(this.h.skipOffset),this.g=r,this.i=t,this.l=n,this.u=i,this.m=!1}h=de.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!1},h.hasCustomClick=function(){return!1},h.isUsingAnotherMediaElement=function(){return!1},h.getDuration=function(){return this.h.durationInSeconds},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},h.isPaused=function(){return this.g.paused},h.isSkippable=function(){return typeof this.j=="number"},h.getTimeUntilSkippable=function(){if(typeof this.j!="number")return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},h.canSkipNow=function(){return this.getTimeUntilSkippable()==0},h.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},h.pause=function(){return this.g.pause()},h.play=function(){return this.g.play()},h.getVolume=function(){return this.g.volume},h.setVolume=function(e){this.g.volume=e},h.isMuted=function(){return this.g.muted},h.isLinear=function(){return this.u},h.resize=function(){},h.setMuted=function(e){this.g.muted=e},h.getSequenceLength=function(){return this.l?this.l:1},h.getPositionInSequence=function(){return this.i?this.i:1},h.getTitle=function(){return this.h.adTitle},h.getDescription=function(){return""},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return 0},h.getVastMediaWidth=function(){return 0},h.getVastAdId=function(){return this.h.vastAdId||""},h.getAdId=function(){return this.h.adId},h.getCreativeAdId=function(){return this.h.creativeId},h.getAdvertiserName=function(){return""},h.getMediaUrl=function(){return null},h.getTimeOffset=function(){return 0},h.getPodIndex=function(){return 0},h.release=function(){this.l=this.i=this.g=this.h=null},K("shaka.ads.MediaTailorAd",de),de.prototype.release=de.prototype.release,de.prototype.getPodIndex=de.prototype.getPodIndex,de.prototype.getTimeOffset=de.prototype.getTimeOffset,de.prototype.getMediaUrl=de.prototype.getMediaUrl,de.prototype.getAdvertiserName=de.prototype.getAdvertiserName,de.prototype.getCreativeAdId=de.prototype.getCreativeAdId,de.prototype.getAdId=de.prototype.getAdId,de.prototype.getVastAdId=de.prototype.getVastAdId,de.prototype.getVastMediaWidth=de.prototype.getVastMediaWidth,de.prototype.getVastMediaHeight=de.prototype.getVastMediaHeight,de.prototype.getVastMediaBitrate=de.prototype.getVastMediaBitrate,de.prototype.getDescription=de.prototype.getDescription,de.prototype.getTitle=de.prototype.getTitle,de.prototype.getPositionInSequence=de.prototype.getPositionInSequence,de.prototype.getSequenceLength=de.prototype.getSequenceLength,de.prototype.setMuted=de.prototype.setMuted,de.prototype.resize=de.prototype.resize,de.prototype.isLinear=de.prototype.isLinear,de.prototype.isMuted=de.prototype.isMuted,de.prototype.setVolume=de.prototype.setVolume,de.prototype.getVolume=de.prototype.getVolume,de.prototype.play=de.prototype.play,de.prototype.pause=de.prototype.pause,de.prototype.skip=de.prototype.skip,de.prototype.canSkipNow=de.prototype.canSkipNow,de.prototype.getTimeUntilSkippable=de.prototype.getTimeUntilSkippable,de.prototype.isSkippable=de.prototype.isSkippable,de.prototype.isPaused=de.prototype.isPaused,de.prototype.getRemainingTime=de.prototype.getRemainingTime,de.prototype.getMinSuggestedDuration=de.prototype.getMinSuggestedDuration,de.prototype.getDuration=de.prototype.getDuration,de.prototype.isUsingAnotherMediaElement=de.prototype.isUsingAnotherMediaElement,de.prototype.hasCustomClick=de.prototype.hasCustomClick,de.prototype.isClientRendering=de.prototype.isClientRendering,de.prototype.needsSkipUI=de.prototype.needsSkipUI;function pa(e,t,n,i){this.D=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=i,this.J=!1,this.C=null,this.j=[],this.M=[],this.L=this.F=this.g=null,this.G=new Map,this.m=[],this.A=[],this.H="",this.O=!0,this.I="",this.u=new Fe}pa.prototype.stop=function(){for(var e=T(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.u.Ea(t.target,t.type,t.listener);Fs(this),this.m=[],this.A=[],this.H="",this.O=!0,this.I="",this.C=null,this.j=[],this.M=[],this.G.clear()},pa.prototype.release=function(){this.stop(),this.u&&this.u.release()},pa.prototype.onManifestUpdated=function(e){this.J=e,this.H!=""&&(qk(this,this.H,this.O),this.O=!1)},pa.prototype.getCuePoints=function(){for(var e=[],t=T(this.j),n=t.next();!n.done;n=t.next()){n=T(n.value.ads);for(var i=n.next();!i.done;i=n.next())i=i.value,e.push({start:i.startTimeInSeconds,end:i.startTimeInSeconds+i.durationInSeconds})}return e};function Fk(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y;N(function(E){if(E.g==1)return i={type:7},r=Lt([t],Si()),r.method="POST",n&&(o=JSON.stringify(n),r.body=vi(o)),s=e.K.request(7,r,i),ue(E,2),w(E,s.promise,4);if(E.g!=2){if(u=E.h,a=dt(u.data),l=JSON.parse(a),l.manifestUrl&&l.trackingUrl)c=new It(t),d=new It(l.trackingUrl),e.H=c.resolve(d).toString(),p=Date.now()/1e3,v=p-e.P,e.i(new J("ads-loaded",new Map().set("loadTime",v))),y=new It(l.manifestUrl),e.l.resolve(c.resolve(y).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return Ae(E,0)}if(ae(E),!e.I.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,E.return();e.l.resolve(e.I),e.l=null,Z(E)})}function qk(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I;N(function(C){if(C.g==1)return i={type:8},r=Lt([t],Si()),o=e.K.request(7,r,i),ue(C,2),w(C,o.promise,4);if(C.g!=2){if(s=C.h,u=[],a=dt(s.data),l=JSON.parse(a),l.avails.length>0){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,c=T(e.j),d=c.next();!d.done;d=c.next())for(p=d.value,v=T(p.nonLinearAdsList),y=v.next();!y.done;y=v.next())for(E=y.value,A=T(E.nonLinearAdList),k=A.next();!k.done;k=A.next())I=k.value,Vk(e,I);u=e.getCuePoints(),e.i(new J("ad-cue-points-changed",new Map().set("cuepoints",u)))}}else e.j.length&&e.i(new J("ad-cue-points-changed",new Map().set("cuepoints",u))),Fs(e),e.j=[];return n&&(e.J||u.length>0)&&Hk(e),Ae(C,0)}ae(C),Z(C)})}function Vk(e,t){var n,i,r,o,s,u,a,l;N(function(c){if(c.g==1)return!t.staticResource||(n=MT(t),e.G.get(n))?c.return():(i={type:9},r=Lt([t.staticResource],Si()),o=e.K.request(7,r,i),ue(c,2),e.G.set(n,[]),w(c,o.promise,4));if(c.g!=2)return s=c.h,u=dt(s.data),a=JSON.parse(u),l=a.apps,e.G.set(n,l),Ae(c,0);ae(c),e.G.delete(n),Z(c)})}function MT(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function Hk(e){LT(e),e.J||(RT(e),e.u.o(e.h,"seeked",function(){RT(e)}),e.u.o(e.h,"ended",function(){Fs(e)})),e.u.o(e.h,"timeupdate",function(){LT(e)})}function RT(e){var t=e.h.currentTime;if(t!=0&&e.C==null){for(var n,i,r=T(e.j),o=r.next();!o.done;o=r.next()){o=o.value;for(var s=T(o.ads),u=s.next();!u.done;u=s.next())if(u=u.value,!i)u.startTimeInSeconds<t&&(i=u,n=o);else if(u.startTimeInSeconds<t&&u.startTimeInSeconds>i.startTimeInSeconds+i.durationInSeconds){i=u,n=o;break}}n&&i&&!e.M.includes(i.adId)&&(e.C=t,e.h.currentTime=n.startTimeInSeconds)}}function LT(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var i=e.F,r=i.startTimeInSeconds+.5*i.durationInSeconds,o=i.startTimeInSeconds+.75*i.durationInSeconds;t>=i.startTimeInSeconds+.25*i.durationInSeconds&&!e.A.includes("firstQuartile")?(e.A.push("firstQuartile"),Sn(e,"firstQuartile")):t>=r&&!e.A.includes("midpoint")?(e.A.push("midpoint"),Sn(e,"midpoint")):t>=o&&!e.A.includes("thirdQuartile")&&(e.A.push("thirdQuartile"),Sn(e,"thirdQuartile")),i=e.g.getRemainingTime(),r=e.g.getDuration(),e.g.canSkipNow()&&i>0&&r>0&&Sn(e,"skipStateChanged"),r>0&&(i<=0||i>r)&&Fs(e)}if(!e.g||!e.g.isLinear()){e:for(i=T(e.j),r=i.next();!r.done&&(r=r.value,!(e.g&&e.g.isLinear()));r=i.next())for(o=0;o<r.ads.length;o++){var s=r.ads[o],u=s.startTimeInSeconds+s.durationInSeconds;if(s.startTimeInSeconds<=t&&u>t){if(e.M.includes(s.adId)){if(e.h.ended)continue;e.h.currentTime=u;break e}Fs(e),e.L=r,e.g=new de(s,o+1,r.ads.length,!0,e.h),e.F=s,o===0&&Sn(e,"breakStart"),PT(e);break}}if(!e.g){for(i=T(e.j),r=i.next();!r.done&&(r=r.value,!e.g);r=i.next())for(o=0;o<r.nonLinearAdsList.length;o++)if(s=r.nonLinearAdsList[o],s.nonLinearAdList.length){u=r.startTimeInSeconds;var a=e.G.get(MT(s.nonLinearAdList[0]));if(u<=t&&a&&a.length){Fs(e),u=e,a=T(a);for(var l=a.next();!l.done;l=a.next())if(l=l.value,l.data.source.length){var c=document.createElement("img");c.src=l.data.source[0].url,c.style.top=(l.placeholder.top||0)+"%",c.style.height=100-(l.placeholder.top||0)+"%",c.style.left=(l.placeholder.left||0)+"%",c.style.maxWidth=100-(l.placeholder.left||0)+"%",c.style.objectFit="contain",c.style.position="absolute",u.D.appendChild(c)}e.L=r,e.g=new de(s,o+1,r.ads.length,!1,e.h),e.F=s,o===0&&Sn(e,"breakStart"),PT(e);break}}}n&&!e.g&&(t=e.h.currentTime,e.C&&e.C>t&&(e.h.currentTime=e.C),e.C=null)}}}function Fs(e){if(e.g){for(;e.D.lastChild;)e.D.removeChild(e.D.firstChild);e.J||e.M.push(e.F.adId);var t=e.g.m;t!==void 0&&t?Sn(e,"skip"):Sn(e,"complete"),t=T(e.m);for(var n=t.next();!n.done;n=t.next())n=n.value,e.u.Ea(n.target,n.type,n.listener);e.m=[],e.A=[],t=e.g.getPositionInSequence(),n=e.g.getSequenceLength(),t===n&&Sn(e,"breakEnd"),e.g=null,e.F=null,e.L=null}}function PT(e){var t=!1;e.h.paused?t=!0:(Sn(e,"impression"),Sn(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&Sn(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||Sn(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(Sn(e,"impression"),Sn(e,"start"),t=!1):Sn(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){Sn(e,"pause")}});for(var n=T(e.m),i=n.next();!i.done;i=n.next())i=i.value,e.u.o(i.target,i.type,i.listener)}function Sn(e,t){var n=e.F.trackingEvents.find(function(o){return o.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(o){return o.eventType==t})),n){var i={type:10};n=T(n.beaconUrls);for(var r=n.next();!r.done;r=n.next())(r=r.value)&&r!=""&&(r=Lt([r],Si()),r.method="POST",e.K.request(7,r,i))}switch(t){case"impression":e.i(new J("ad-impression"));break;case"start":e.i(new J("ad-started",new Map().set("ad",e.g)));break;case"mute":e.i(new J("ad-muted"));break;case"unmute":e.i(new J("ad-volume-changed"));break;case"resume":e.i(new J("ad-resumed"));break;case"pause":e.i(new J("ad-paused"));break;case"firstQuartile":e.i(new J("ad-first-quartile"));break;case"midpoint":e.i(new J("ad-midpoint"));break;case"thirdQuartile":e.i(new J("ad-third-quartile"));break;case"complete":e.i(new J("ad-complete")),e.i(new J("ad-stopped"));break;case"skip":e.i(new J("ad-skipped")),e.i(new J("ad-stopped"));break;case"breakStart":e.D.setAttribute("ad-active","true");break;case"breakEnd":e.D.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new J("ad-skip-state-changed"))}}function me(e,t){this.g=e,this.i=null,this.h=t}h=me.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!1},h.hasCustomClick=function(){return!0},h.isUsingAnotherMediaElement=function(){return!1},h.getDuration=function(){return this.i?this.i.duration:-1},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},h.isPaused=function(){return this.h.paused},h.isSkippable=function(){return this.g.isSkippable()},h.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},h.canSkipNow=function(){return this.getTimeUntilSkippable()==0},h.skip=function(){this.h.currentTime+=this.getRemainingTime()},h.pause=function(){return this.h.pause()},h.play=function(){return this.h.play()},h.getVolume=function(){return this.h.volume},h.setVolume=function(e){this.h.volume=e},h.isMuted=function(){return this.h.muted},h.isLinear=function(){return!0},h.resize=function(){},h.setMuted=function(e){this.h.muted=e},h.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},h.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},h.getTitle=function(){return this.g.getTitle()},h.getDescription=function(){return this.g.getDescription()},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},h.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},h.getVastAdId=function(){return""},h.getAdId=function(){return this.g.getAdId()},h.getCreativeAdId=function(){return this.g.getCreativeAdId()},h.getAdvertiserName=function(){return this.g.getAdvertiserName()},h.getMediaUrl=function(){return null},h.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},h.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},h.release=function(){this.h=this.i=this.g=null},K("shaka.ads.ServerSideAd",me),me.prototype.release=me.prototype.release,me.prototype.getPodIndex=me.prototype.getPodIndex,me.prototype.getTimeOffset=me.prototype.getTimeOffset,me.prototype.getMediaUrl=me.prototype.getMediaUrl,me.prototype.getAdvertiserName=me.prototype.getAdvertiserName,me.prototype.getCreativeAdId=me.prototype.getCreativeAdId,me.prototype.getAdId=me.prototype.getAdId,me.prototype.getVastAdId=me.prototype.getVastAdId,me.prototype.getVastMediaWidth=me.prototype.getVastMediaWidth,me.prototype.getVastMediaHeight=me.prototype.getVastMediaHeight,me.prototype.getVastMediaBitrate=me.prototype.getVastMediaBitrate,me.prototype.getDescription=me.prototype.getDescription,me.prototype.getTitle=me.prototype.getTitle,me.prototype.getPositionInSequence=me.prototype.getPositionInSequence,me.prototype.getSequenceLength=me.prototype.getSequenceLength,me.prototype.setMuted=me.prototype.setMuted,me.prototype.resize=me.prototype.resize,me.prototype.isLinear=me.prototype.isLinear,me.prototype.isMuted=me.prototype.isMuted,me.prototype.setVolume=me.prototype.setVolume,me.prototype.getVolume=me.prototype.getVolume,me.prototype.play=me.prototype.play,me.prototype.pause=me.prototype.pause,me.prototype.skip=me.prototype.skip,me.prototype.canSkipNow=me.prototype.canSkipNow,me.prototype.getTimeUntilSkippable=me.prototype.getTimeUntilSkippable,me.prototype.isSkippable=me.prototype.isSkippable,me.prototype.isPaused=me.prototype.isPaused,me.prototype.getRemainingTime=me.prototype.getRemainingTime,me.prototype.getMinSuggestedDuration=me.prototype.getMinSuggestedDuration,me.prototype.getDuration=me.prototype.getDuration,me.prototype.isUsingAnotherMediaElement=me.prototype.isUsingAnotherMediaElement,me.prototype.hasCustomClick=me.prototype.hasCustomClick,me.prototype.isClientRendering=me.prototype.isClientRendering,me.prototype.needsSkipUI=me.prototype.needsSkipUI;function bT(e,t,n,i){var r=this;this.A=e,this.l=t,this.j=null,this.G=NaN,this.i=i,this.H=!1,this.C=this.m=this.u=null,this.D="",this.F=[],this.h=new Fe,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.A,e),this.i(new J("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){Gk(r,o)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.D.length?r.j.resolve(r.D):r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.j=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),r.m=new me(o,r.l),r.C&&(r.m.i=r.C),r.i(new J("ad-started",new Map().set("ad",r.m))),r.A.setAttribute("ad-active","true")}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.A.removeAttribute("ad-active");var o=r.l.currentTime;r.u&&r.u>o&&(r.l.currentTime=r.u,r.u=null)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){r.C=o.getStreamData().adProgressData,r.m&&(r.m.i=r.C)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.i(new J("ad-first-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.i(new J("ad-midpoint"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.i(new J("ad-third-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.i(new J("ad-complete")),r.i(new J("ad-stopped")),r.A.removeAttribute("ad-active"),r.m=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.i(new J("ad-skipped")),r.i(new J("ad-stopped"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var s=o.getStreamData();o=[],s=T(s.cuepoints);for(var u=s.next();!u.done;u=s.next())u=u.value,o.push({start:u.start,end:u.end});r.F=o,r.i(new J("ad-cue-points-changed",new Map().set("cuepoints",o)))})}h=bT.prototype,h.configure=function(){},h.stop=function(){this.D="",this.u=null,this.F=[]},h.release=function(){this.stop(),this.h&&this.h.release()},h.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},h.getCuePoints=function(){return this.F};function Gk(e,t){e.i(new J("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.G))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.H||e.h.o(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var i=e.g.previousCuePointForStreamTime(n);i&&!i.played&&(e.u=n,e.l.currentTime=i.start)}})}function te(){_e.call(this),this.h=this.i=this.j=this.g=null,this.m=new yT,this.u=navigator.language,this.l=null}se(te,_e),h=te.prototype,h.setLocale=function(e){this.u=e},h.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},h.initInterstitial=function(e,t,n){var i=this;this.g&&this.g.release(),this.g=new AT(e,t,n,function(r){return zc(i,r)}),this.g.configure(this.l)},h.initClientSide=function(e,t,n){var i=this;if(!S.google||!google.ima||!google.ima.AdsLoader)throw new _(2,10,1e4);this.j&&this.j.release(),this.j=new qc(e,t,this.u,n,function(r){return zc(i,r)}),this.j.configure(this.l)},h.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),_e.prototype.release.call(this)},h.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new J("ad-stopped")),this.dispatchEvent(new J("ad-content-attach-requested")),this.m=new yT},h.requestClientSideAds=function(e){if(!this.j)throw new _(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.H=Date.now()/1e3,t.m.requestAds(e)},h.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new _(1,10,10001);var t=this.j;t.D=e,t.g&&t.g.updateAdsRenderingSettings(t.D)},h.initMediaTailor=function(e,t,n){var i=this;this.i&&this.i.release(),this.i=new pa(e,t,n,function(r){return zc(i,r)})},h.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new _(1,10,10005);var i=this.i;return n=n===void 0?"":n,i.l?e=Promise.reject(new _(1,10,10004)):(i.l=new Qe,Fk(i,e,t),i.I=n||"",i.P=Date.now()/1e3,e=i.l),e},h.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new _(1,10,10005);var t=this.i;t.H=e,t.i(new J("ads-loaded",new Map().set("loadTime",0)))},h.initServerSide=function(e,t){var n=this;if(!S.google||!google.ima||!google.ima.dai)throw new _(2,10,10002);this.h&&this.h.release(),this.h=new bT(e,t,this.u,function(i){return zc(n,i)}),this.h.configure(this.l)},h.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.h)throw new _(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&ye('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.16.18",n=this.h,n.j?e=Promise.reject(new _(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.H=!0),n.j=new Qe,n.g.requestStream(e),n.D=t||"",n.G=Date.now()/1e3,e=n.j),e},h.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new _(1,10,10003);(e.mpt||e.mpv)&&ye('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.16.18",this.h.g.replaceAdTagParameters(e)},h.getServerSideCuePoints=function(){return qe("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},h.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},h.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:Mk(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},h.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},h.onDashTimedMetadata=function(e){this.h&&e.schemeIdUri=="urn:google:dai:2018"&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},h.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},h.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},h.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&Nk(this.g,n))},h.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var i=n.schemeIdUri;if(i=="urn:mpeg:dash:event:alternativeMPD:insert:2025"||i=="urn:mpeg:dash:event:alternativeMPD:replace:2025"){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:replace:2025",i=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:insert:2025",t||i)){for(var r=n.startTime,o=n.endTime,s=null,u=0,a,l=T(n.eventNode.children),c=l.next();!c.done;c=l.next())if(c=c.value,c.tagName=="AlternativeMPD"){if(c=c.attributes.uri){a=c;break}}else if(c.tagName=="InsertPresentation"||c.tagName=="ReplacePresentation"){var d=c.attributes.url;if(d){a=mn(d),(l=Se(c,"maxDuration",Zt))&&(s=l/n.timescale),(l=Se(c,"returnOffset",Zt))&&(u=l/n.timescale),t&&u&&(o=r+u);break}}a&&fa(e,[{id:n.id,groupId:null,startTime:r,endTime:o,uri:a,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:i?u:null,playoutLimit:s,once:!1,pre:!1,post:!1,timelineRange:t&&!i,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null}])}}else(i=="urn:mpeg:dash:event:2012"||i=="urn:scte:dash:scte214-events")&&n.eventNode&&ut(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&Ok(this.g,n))}},h.addCustomInterstitial=function(e){if(!this.g)throw new _(1,10,10006);fa(this.g,[e])},h.addAdUrlInterstitial=function(e){if(!this.g)throw new _(1,10,10006);return this.g.addAdUrlInterstitial(e)},h.getInterstitialPlayer=function(){if(!this.g)throw new _(1,10,10006);return this.g.Xb()};function zc(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}K("shaka.ads.AdManager",te),te.prototype.getInterstitialPlayer=te.prototype.getInterstitialPlayer,te.prototype.addAdUrlInterstitial=te.prototype.addAdUrlInterstitial,te.prototype.addCustomInterstitial=te.prototype.addCustomInterstitial,te.prototype.onDASHInterstitialMetadata=te.prototype.onDASHInterstitialMetadata,te.prototype.onHLSInterstitialMetadata=te.prototype.onHLSInterstitialMetadata,te.prototype.onCueMetadataChange=te.prototype.onCueMetadataChange,te.prototype.onHlsTimedMetadata=te.prototype.onHlsTimedMetadata,te.prototype.onDashTimedMetadata=te.prototype.onDashTimedMetadata,te.prototype.onManifestUpdated=te.prototype.onManifestUpdated,te.prototype.getStats=te.prototype.getStats,te.prototype.getCuePoints=te.prototype.getCuePoints,te.prototype.getServerSideCuePoints=te.prototype.getServerSideCuePoints,te.prototype.replaceServerSideAdTagParameters=te.prototype.replaceServerSideAdTagParameters,te.prototype.requestServerSideStream=te.prototype.requestServerSideStream,te.prototype.initServerSide=te.prototype.initServerSide,te.prototype.addMediaTailorTrackingUrl=te.prototype.addMediaTailorTrackingUrl,te.prototype.requestMediaTailorStream=te.prototype.requestMediaTailorStream,te.prototype.initMediaTailor=te.prototype.initMediaTailor,te.prototype.updateClientSideAdsRenderingSettings=te.prototype.updateClientSideAdsRenderingSettings,te.prototype.requestClientSideAds=te.prototype.requestClientSideAds,te.prototype.onAssetUnload=te.prototype.onAssetUnload,te.prototype.release=te.prototype.release,te.prototype.initClientSide=te.prototype.initClientSide,te.prototype.initInterstitial=te.prototype.initInterstitial,te.prototype.configure=te.prototype.configure,te.prototype.setLocale=te.prototype.setLocale,te.ADS_LOADED="ads-loaded",te.AD_STARTED="ad-started",te.AD_FIRST_QUARTILE="ad-first-quartile",te.AD_MIDPOINT="ad-midpoint",te.AD_THIRD_QUARTILE="ad-third-quartile",te.AD_COMPLETE="ad-complete",te.AD_STOPPED="ad-stopped",te.AD_SKIPPED="ad-skipped",te.AD_VOLUME_CHANGED="ad-volume-changed",te.AD_MUTED="ad-muted",te.AD_PAUSED="ad-paused",te.AD_RESUMED="ad-resumed",te.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",te.CUEPOINTS_CHANGED="ad-cue-points-changed",te.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",te.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",te.AD_CLICKED="ad-clicked",te.AD_PROGRESS="ad-progress",te.AD_BUFFERING="ad-buffering",te.AD_IMPRESSION="ad-impression",te.AD_DURATION_CHANGED="ad-duration-changed",te.AD_CLOSED="ad-closed",te.AD_LOADED="ad-loaded",te.ALL_ADS_COMPLETED="all-ads-completed",te.AD_LINEAR_CHANGED="ad-linear-changed",te.AD_METADATA="ad-metadata",te.AD_RECOVERABLE_ERROR="ad-recoverable-error",te.AD_ERROR="ad-error",te.AD_BREAK_READY="ad-break-ready",te.AD_INTERACTION="ad-interaction",te.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",te.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",te.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Bc=function(){return new te};function Xp(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(t=n instanceof J,n instanceof Event||t){var i={};for(o in n){var r=n[o];r&&typeof r=="object"?o=="detail"?i[o]=r:r instanceof Event||r instanceof J?i[o]={__type__:"Event",event:Xp(r)}:t&&Array.isArray(r)&&(i[o]=r):o in Event||(i[o]=r)}return i}if(n instanceof Error){var o=new Set(["name","message","stack"]);for(i in n)o.add(i);for(t=T(Object.getOwnPropertyNames(n)),i=t.next();!i.done;i=t.next())o.add(i.value);for(t={},o=T(o),i=o.next();!i.done;i=o.next())i=i.value,t[i]=n[i];n={__type__:"Error",contents:t}}else if(n instanceof TimeRanges){for(o={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=T(vr(n)),t=n.next();!t.done;t=n.next())t=t.value,i=t.end,o.start.push(t.start),o.end.push(i);n=o}else n=ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT===1?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:n<0?"-Infinity":"Infinity":n;return n}})}function Kc(e){return JSON.parse(e,function(t,n){if(n=="NaN")var i=NaN;else if(n=="-Infinity")i=-1/0;else if(n=="Infinity")i=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")i=zk(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")i=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(i in t)n[i]=t[i];i=n}else i=n&&typeof n=="object"&&n.__type__=="Event"?Kc(n.event):n;return i})}function zk(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var DT="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Kk="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Yp=["loop","playbackRate"],Wk=["pause","play"],Zp=new Map().set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("isVideoOnly",10).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1).set("getBandwidthEstimate",1).set("isRemotePlayback",1),Jp=new Map().set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getChaptersTracks",2).set("getImageTracks",2).set("getVideoTracks",2).set("getTextTracks",2).set("getVariantTracks",2),NT=new Map().set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),OT=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],_T=[["isTextTrackVisible","setTextTrackVisibility"]],Xk="cancelTrickPlay configure configurationForLowLatency getChapters resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel selectVideoTrack setTextTrackVisibility trickPlay updateStartTime goToLive useTrickPlayTrackIfAvailable".split(" "),Yk="addChaptersTrack addTextTrackAsync addThumbnailsTrack getAllThumbnails getChaptersAsync getThumbnails attach attachCanvas detach load unload".split(" ");function $p(e,t,n,i,r,o,s){var u=this;this.H=e,this.K=s,this.l=new le(t),this.L=n,this.A=!1,this.C=i,this.G=r,this.M=o,this.i=this.m=!1,this.J="",this.u=null,this.D=function(){return Qp(u)},this.F=function(a,l){switch(a=Kc(l),a.type){case"event":var c=a.targetName,d=Ev(a.event);u.C(c,d);break;case"update":c=a.update;for(d in c){a=u.g[d]||{};for(var p in c[d])a[p]=c[d][p]}u.A&&(u.L(),u.A=!1);break;case"asyncComplete":if(p=a.id,d=a.error,l=a.res,a=u.h.get(p),u.h.delete(p),a)if(d){p=new _(d.severity,d.category,d.code);for(c in d)p[c]=d[c];a.reject(p)}else a.resolve(l)}},this.g={video:{},player:{}},this.I=0,this.h=new Map,this.j=null,ma.add(this)}h=$p.prototype,h.destroy=function(){return ma.delete(this),e0(this),xi&&jT(this),this.l&&(this.l.stop(),this.l=null),this.G=this.C=null,this.i=this.m=!1,this.F=this.D=this.j=this.h=this.g=this.u=null,Promise.resolve()},h.Pa=function(){return this.i},h.cg=function(){return this.J},h.init=function(){if(this.H.length)if(S.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.Ja();var e=new chrome.cast.SessionRequest(this.H,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=T(ma),i=n.next();!i.done;i=n.next()){i=i.value;var r=t;i.j=new Qe,i.A=!0,Wc(i,r)}},function(t){for(var n=T(ma),i=n.next();!i.done;i=n.next())i=i.value,Xc=t=="available",i.l.Ja()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),Xc&&this.l.Y(Jk),(e=xi)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Qe,this.A=!0,Wc(this,e)):xi=null}else S.__onGCastApiAvailable!==BT&&(Yc=S.__onGCastApiAvailable||null,S.__onGCastApiAvailable=BT)},h.gi=function(e){this.u=e,this.i&&ga(this,{type:"appData",appData:this.u})},h.cast=function(){var e=this;return N(function(t){if(!e.m)throw new _(1,8,8e3);if(!Xc)throw new _(1,8,8001);if(e.i)throw new _(1,8,8002);return e.j=new Qe,chrome.cast.requestSession(function(n){return Wc(e,n)},function(n){return UT(e,n)}),w(t,e.j,0)})};function Zk(e){e.i&&chrome.cast.requestSession(function(t){return Wc(e,t)},function(t){return UT(e,t)})}h.Hd=function(){if(this.i){if(e0(this),xi){jT(this);try{xi.stop(function(){},function(){})}catch{}xi=null}Qp(this)}},h.get=function(e,t){var n=this;if(e=="video"){if(Wk.includes(t))return function(){return n.Fj.apply(n,[e,t].concat(X(qt.apply(0,arguments))))}}else if(e=="player"){if(NT.has(t)&&!this.get("player","isLive")())return function(){};if(Xk.includes(t))return function(){return n.Fj.apply(n,[e,t].concat(X(qt.apply(0,arguments))))};if(Yk.includes(t))return function(){return n.im.apply(n,[e,t].concat(X(qt.apply(0,arguments))))};if(Zp.has(t)||Jp.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},h.set=function(e,t,n){this.g[e][t]=n,ga(this,{type:"set",targetName:e,property:t,value:n})};function Wc(e,t){var n=e.M();xi=t,t.addUpdateListener(e.D),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.F),Qp(e),ga(e,{type:"init",initState:n,appData:e.u}),e.j.resolve()}function UT(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new _(2,8,n,t))}h.Fj=function(e,t){ga(this,{type:"call",targetName:e,methodName:t,args:qt.apply(2,arguments)})},h.im=function(e,t){var n=qt.apply(2,arguments),i=new Qe,r=this.I.toString();this.I++,this.h.set(r,i);try{ga(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:r})}catch(o){i.reject(o)}return i};function jT(e){var t=xi;t.removeUpdateListener(e.D),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.F)}function Qp(e){var t=xi?xi.status=="connected":!1;if(e.i&&!t){e.G();for(var n in e.g)e.g[n]={};e0(e)}e.i=t,e.J=t?xi.receiver.friendlyName:"",e.l.Ja()}function e0(e){if(e.h)for(var t=T(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var i=e.h.get(n);e.h.delete(n),i.reject(new _(1,7,7e3))}}function ga(e,t){t=Xp(t);var n=xi;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},bx)}catch(i){throw t=new _(2,8,8005,i),n=new J("error",new Map().set("detail",t)),e.C("player",n),e.Hd(),t}}var Jk=.02,Xc=!1,xi=null,Yc=null,ma=new Set;function BT(e){if(Yc?S.__onGCastApiAvailable=Yc:delete S.__onGCastApiAvailable,Yc=null,e)for(var t=T(ma),n=t.next();!n.done;n=t.next())n.value.init();typeof S.__onGCastApiAvailable=="function"&&S.__onGCastApiAvailable(e)}function Ct(e,t,n,i){i=i===void 0?!1:i,_e.call(this);var r=this;this.i=e,this.h=t,this.l=this.u=this.m=this.A=this.j=null,this.I=n,this.H=i,this.F=[],this.D=[],this.C=[],this.G=new Map,this.g=null,S.chrome&&ke().Oa()!="CAST"?(this.g=new $p(n,function(){return VT(r)},function(){return HT(r)},function(o,s){return zT(r,o,s)},function(){return GT(r)},function(){return qT(r)},i),$k(this)):(this.j=this.i,this.A=this.h)}se(Ct,_e),h=Ct.prototype,h.destroy=function(e){return this.g&&(e!==void 0&&e)&&this.g.Hd(),this.l&&(this.l.release(),this.l=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.A=this.j=this.i=null,_e.prototype.release.call(this),Promise.all(e)},h.Wc=function(){return this.j},h.Xb=function(){return this.A},h.Pg=function(){return this.g?this.g.m&&Xc:!1},h.Pa=function(){return this.g?this.g.Pa():!1},h.cg=function(){return this.g?this.g.cg():""},h.cast=function(){var e=this;return N(function(t){return t.g==1?e.g?w(t,e.g.cast(),2):t.return():e.h?w(t,e.h.yc(),0):t.return()})},h.gi=function(e){this.g&&this.g.gi(e)},h.bk=function(){this.g&&Zk(this.g)},h.Hd=function(){this.g&&this.g.Hd()},h.Si=function(e,t){t=t===void 0?!1:t;var n=this;return N(function(i){if(i.g==1)return e==n.I&&t==n.H||(n.I=e,n.H=t,!n.g)?i.return():(n.g.Hd(),w(i,n.g.destroy(),2));n.g=null,n.g=new $p(e,function(){return VT(n)},function(){return HT(n)},function(r,o){return zT(n,r,o)},function(){return GT(n)},function(){return qT(n)},t),n.g.init(),Z(i)})};function $k(e){e.g.init(),e.l=new Fe;for(var t=T(DT),n=t.next();!n.done;n=t.next())e.l.o(e.i,n.value,function(o){e.g.Pa()||(o=Ev(o),e.m.dispatchEvent(o))});for(var i in ll)e.l.o(e.h,ll[i],function(o){e.g.Pa()||e.u.dispatchEvent(o)});e.j={},t={};for(var r in e.i)t={Be:t.Be},t.Be=r,Object.defineProperty(e.j,t.Be,{configurable:!1,enumerable:!0,get:(function(o){return function(){return eC(e,o.Be)}})(t),set:(function(o){return function(s){var u=o.Be;e.g.Pa()?e.g.set("video",u,s):e.i[u]=s}})(t)});e.A={},FT(e,function(o){Object.defineProperty(e.A,o,{configurable:!1,enumerable:!0,get:function(){return Zc(e,o)}})}),Qk(e),e.m=new _e,e.m.cf=e.j,e.u=new _e,e.u.cf=e.A,e.l.o(e.h,"unloading",function(){e.g&&e.g.Pa()||t0(e)})}function Qk(e){var t=new Map;FT(e,function(n,i){t.has(i)?(i=t.get(i),n.length<i.length?e.G.set(n,i):e.G.set(i,n)):t.set(i,n)})}function FT(e,t){function n(a){return a=="constructor"||typeof i[a]!="function"?!1:!r.has(a)}var i=e.h,r=new Set,o;for(o in i)n(o)&&(r.add(o),t(o,i[o]));for(e=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});e&&e!=o;){for(var s=T(Object.getOwnPropertyNames(e)),u=s.next();!u.done;u=s.next())u=u.value,n(u)&&(r.add(u),t(u,i[u]));e=Object.getPrototypeOf(e)}}function qT(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.jd(),startTime:null,addThumbnailsTrackCalls:e.F,addTextTrackAsyncCalls:e.D,addChaptersTrackCalls:e.C};e.i.pause();for(var n=T(Yp),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.i[i];for(e.i.ended||(t.startTime=e.i.currentTime),n=T(OT),i=n.next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.h[r[0]](),t.player[i]=r}for(n=T(_T),i=n.next();!i.done;i=n.next())r=i.value,i=r[1],r=e.h[r[0]](),t.playerAfterLoad[i]=r;return t}function VT(e){var t=new J("caststatuschanged");e.dispatchEvent(t)}function HT(e){var t=new J(e.j.paused?"pause":"play");e.m.dispatchEvent(t)}function GT(e){for(var t=T(OT),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.g.get("player",i[0])(),e.h[n](i)}var r=e.F,o=e.D,s=e.C;t0(e);var u=e.g.get("player","getAssetUri")();i=e.g.get("video","ended"),t=Promise.resolve();var a=e.i.autoplay;n=null,i||(n=e.g.get("video","currentTime"));var l;(i=e.g.get("player","getTextTracks")())&&i.length&&(l=i.find(function(p){return p.active}));var c=e.g.get("player","isTextTrackVisible")();u&&(e.i.autoplay=!1,t=e.h.load(u,n));var d={};for(n=T(Yp),i=n.next();!i.done;i=n.next())i=i.value,d[i]=e.g.get("video",i);t.then(function(){if(e.i){for(var p=T(r),v=p.next();!v.done;v=p.next()){v=v.value;var y;(y=e.Xb()).kf.apply(y,X(v))}for(p=T(o),y=p.next();!y.done;y=p.next()){y=y.value;var E;(E=e.Xb()).me.apply(E,X(y))}for(E=T(s),p=E.next();!p.done;p=E.next()){p=p.value;var A;(A=e.Xb()).jf.apply(A,X(p))}for(A=T(Yp),E=A.next();!E.done;E=A.next())E=E.value,e.i[E]=d[E];for(A=T(_T),E=A.next();!E.done;E=A.next())p=E.value,E=p[1],p=e.g.get("player",p[0])(),e.h[E](p);e.h.be(c),l&&e.h.ei(l.language,l.roles,l.forced),e.i.autoplay=a,u&&e.i.play()}},function(p){p=new Map().set("detail",p),p=new J("error",p),e.h.dispatchEvent(p)})}function eC(e,t){if(t=="addEventListener")return function(i,r,o){return e.m.addEventListener(i,r,o)};if(t=="removeEventListener")return function(i,r,o){return e.m.removeEventListener(i,r,o)};if(e.g.Pa()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.Pa()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function Zc(e,t,n){if(n=n===void 0?!1:n,e.G.has(t)&&(t=e.G.get(t)),t=="addEventListener")return function(i,r,o){return e.u.addEventListener(i,r,o)};if(t=="removeEventListener")return function(i,r,o){return e.u.removeEventListener(i,r,o)};if(t=="getMediaElement")return function(){return e.j};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.Wb()};if(t=="getDrmEngine")return function(){return e.h.F};if(t=="getAdManager")return function(){return e.h.xf()};if(t=="getQueueManager")return function(){return e.h.Af()};if(t=="setVideoContainer")return function(i){return e.h.ni(i)};if(!n){if(t=="addThumbnailsTrack")return function(){var i=qt.apply(0,arguments);return e.F.push(i),Zc(e,t,!0).apply(null,X(i))};if(t=="addTextTrackAsync")return function(){var i=qt.apply(0,arguments);return e.D.push(i),Zc(e,t,!0).apply(null,X(i))};if(t=="addChaptersTrack")return function(){var i=qt.apply(0,arguments);return e.C.push(i),Zc(e,t,!0).apply(null,X(i))}}if(e.g.Pa()){if(t=="getManifest"||t=="drmInfo")return function(){return ye(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return ye(t+"() does not work while casting!"),Promise.resolve()};if(t=="getChapters")return function(){return ye(t+"() does not work while casting!"),[]}}return e.g.Pa()&&Object.keys(e.g.g.video).length==0&&(Zp.has(t)||Jp.has(t))||!e.g.Pa()?e.h[t].bind(e.h):e.g.get("player",t)}function zT(e,t,n){e.g.Pa()&&(t=="video"?e.m.dispatchEvent(n):t=="player"&&(n.type=="unloading"&&t0(e),e.u.dispatchEvent(n)))}function t0(e){e.F=[],e.D=[],e.C=[]}K("shaka.cast.CastProxy",Ct),Ct.prototype.changeReceiverId=Ct.prototype.Si,Ct.prototype.forceDisconnect=Ct.prototype.Hd,Ct.prototype.suggestDisconnect=Ct.prototype.bk,Ct.prototype.setAppData=Ct.prototype.gi,Ct.prototype.cast=Ct.prototype.cast,Ct.prototype.receiverName=Ct.prototype.cg,Ct.prototype.isCasting=Ct.prototype.Pa,Ct.prototype.canCast=Ct.prototype.Pg,Ct.prototype.getPlayer=Ct.prototype.Xb,Ct.prototype.getVideo=Ct.prototype.Wc,Ct.prototype.destroy=Ct.prototype.destroy;function ln(e,t,n,i){_e.call(this);var r=this;this.h=e,this.g=t,this.j=new Fe,this.I={video:e,player:t},this.G=n||function(){},this.J=i||function(o){return o},this.i=null,this.H=!1,this.u=!0,this.m=0,this.D=!1,this.C=!0,this.A=this.l=null,this.F=new le(function(){n0(r)}),tC(this)}se(ln,_e),h=ln.prototype,h.isConnected=function(){return this.H},h.Hl=function(){return this.u},h.vm=function(e){this.i=e},h.Ak=function(){this.i=null},h.wm=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},h.um=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},h.tm=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},h.destroy=function(){var e=this,t,n;return N(function(i){if(i.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.g&&(t.push(e.g.destroy()),e.g=null),e.F&&(e.F.stop(),e.F=null),e.h=null,e.I=null,e.G=null,e.H=!1,e.u=!0,e.l=null,e.A=null,_e.prototype.release.call(e),w(i,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),Z(i)})};function tC(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return KT(e)},t.onSenderDisconnected=function(){return KT(e)},t.onSystemVolumeChanged=function(){var r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();r&&Ar(e,{type:"update",update:{video:{volume:r.level,muted:r.muted}}},e.l),Ar(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.A=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.A.onMessage=function(r){return rC(e,r)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(r){return iC(e,r)},t.start(),t=T(DT);for(var n=t.next();!n.done;n=t.next())e.j.o(e.h,n.value,function(r){return WT(e,"video",r)});for(var i in ll)e.j.o(e.g,ll[i],function(r){return WT(e,"player",r)});e.j.o(e.h,"loadeddata",function(){e.D=!0}),e.j.o(e.g,"loading",function(){e.u=!1,qs(e)}),e.j.o(e.h,"playing",function(){e.u=!1,qs(e)}),e.j.o(e.h,"pause",function(){qs(e)}),e.j.o(e.g,"unloading",function(){e.u=!0,qs(e)}),e.j.o(e.h,"ended",function(){new le(function(){e.h&&e.h.ended&&(e.u=!0,qs(e))}).Y(sC)})}function KT(e){e.m=0,e.C=!0,e.H=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,qs(e)}function qs(e){var t;N(function(n){if(n.g==1)return w(n,Promise.resolve(),2);if(!e.g)return n.return();t=new J("caststatuschanged"),e.dispatchEvent(t),XT(e)||xr(e),Z(n)})}function nC(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O;N(function(M){switch(M.g){case 1:for(i in t.player)r=t.player[i],e.g[i](r);return e.G(n),o=e.h.autoplay,t.manifest?(e.h.autoplay=!1,ue(M,5),w(M,e.g.load(t.manifest,t.startTime),7)):w(M,Promise.resolve(),3);case 7:if(t.addThumbnailsTrackCalls)for(s=T(t.addThumbnailsTrackCalls),u=s.next();!u.done;u=s.next())a=u.value,e.g.kf.apply(e.g,X(a));if(t.addTextTrackAsyncCalls)for(l=T(t.addTextTrackAsyncCalls),c=l.next();!c.done;c=l.next())d=c.value,e.g.me.apply(e.g,X(d));if(t.addChaptersTrackCalls)for(p=T(t.addChaptersTrackCalls),v=p.next();!v.done;v=p.next())y=v.value,e.g.jf.apply(e.g,X(y));Ae(M,3);break;case 5:return E=ae(M),A=new Map().set("detail",E),k=new J("error",A),e.g&&e.g.dispatchEvent(k),M.return();case 3:if(!e.g)return M.return();for(I in t.video)C=t.video[I],e.h[I]=C;for(L in t.playerAfterLoad)O=t.playerAfterLoad[L],e.g[L](O);e.h.autoplay=o,t.manifest&&(e.h.play(),xr(e)),Z(M)}})}function WT(e,t,n){e.g&&(n0(e),Ar(e,{type:"event",targetName:t,event:n},e.l))}function n0(e){e.F.Y(oC);for(var t={video:{},player:{}},n=T(Kk),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.h[i];e.g.U()&&NT.forEach(function(r,o){e.m%r==0&&(t.player[o]=e.g[o]())}),Zp.forEach(function(r,o){e.m%r==0&&(t.player[o]=e.g[o]())}),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Ar(e,{type:"update",update:t},e.l),Jp.forEach(function(r,o){e.m%r==0&&(r={player:{}},r.player[o]=e.g[o](),Ar(e,{type:"update",update:r},e.l))}),e.D&&(e.m+=1),XT(e)}function XT(e){return e.C&&(e.h.duration||e.g.U())?(i0(e),e.C=!1,!0):!1}function i0(e,t){var n={contentId:e.g.jd(),streamType:e.g.U()?"LIVE":"BUFFERED",contentType:""};e.g.U()||(n.duration=e.h.duration),e.i&&(n.metadata=e.i),xr(e,t===void 0?0:t,n)}function iC(e,t){var n=Kc(t.data);switch(n.type){case"init":e.m=0,e.D=!1,e.C=!0,nC(e,n.initState,n.appData),n0(e);break;case"appData":e.G(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,i=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),r=="volume"){t.setSystemVolumeLevel(n);break}else if(r=="muted"){t.setSystemVolumeMuted(n);break}}e.I[i][r]=n;break;case"call":i=e.I[n.targetName],i[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,i=="player"&&r=="load"&&(e.m=0,e.D=!1);var o=n.id,s=t.senderId;t=e.I[i],n=t[r].apply(t,n.args),i=="player"&&r=="load"&&(n=n.then(function(){e.C=!0})),n.then(function(u){return ZT(e,s,o,null,u)},function(u){return ZT(e,s,o,u,null)})}}function rC(e,t){var n=Kc(t.data);switch(n.type){case"PLAY":e.h.play(),xr(e);break;case"PAUSE":e.h.pause(),xr(e);break;case"SEEK":t=n.currentTime;var i=n.resumeState;t!=null&&(e.h.currentTime=Number(t)),i&&i=="PLAYBACK_START"?(e.h.play(),xr(e)):i&&i=="PLAYBACK_PAUSE"&&(e.h.pause(),xr(e));break;case"STOP":e.g.yc().then(function(){e.g&&xr(e)});break;case"GET_STATUS":i0(e,Number(n.requestId));break;case"VOLUME":i=n.volume,t=i.level,i=i.muted;var r=e.h.volume,o=e.h.muted;t!=null&&(e.h.volume=Number(t)),i!=null&&(e.h.muted=i),r==e.h.volume&&o==e.h.muted||xr(e);break;case"LOAD":e.m=0,e.D=!1,e.C=!1,t=n.media,i=n.currentTime,r=e.J(t.contentId),o=n.autoplay||!0,e.G(t.customData),o&&(e.h.autoplay=!0),e.g.load(r,i).then(function(){e.g&&i0(e)}).catch(function(s){var u="LOAD_FAILED";s.category==7&&s.code==7e3&&(u="LOAD_CANCELLED"),Ar(e,{requestId:Number(n.requestId),type:u},e.A)});break;default:Ar(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.A)}}function ZT(e,t,n,i,r){e.g&&Ar(e,{type:"asyncComplete",id:n,error:i,res:r},e.l,t)}function Ar(e,t,n,i){e.H&&(e=Xp(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function xr(e,t,n){n=n===void 0?null:n;var i={mediaSessionId:0,playbackRate:e.h.playbackRate,playerState:e.u?uC:e.g.Hf()?lC:e.h.paused?cC:aC,currentTime:e.h.currentTime,supportedMediaCommands:63,volume:{level:e.h.volume,muted:e.h.muted}};n&&(i.media=n),Ar(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[i]},e.A)}K("shaka.cast.CastReceiver",ln),ln.prototype.destroy=ln.prototype.destroy,ln.prototype.setContentArtist=ln.prototype.tm,ln.prototype.setContentImage=ln.prototype.um,ln.prototype.setContentTitle=ln.prototype.wm,ln.prototype.clearContentMetadata=ln.prototype.Ak,ln.prototype.setContentMetadata=ln.prototype.vm,ln.prototype.isIdle=ln.prototype.Hl,ln.prototype.isConnected=ln.prototype.isConnected;var oC=.5,sC=5,uC="IDLE",aC="PLAYING",lC="BUFFERING",cC="PAUSED";function JT(e,t,n,i,r){if(i>=r)return null;for(var o=-1,s=-1,u=0;u<n.length;u++)if(n[u].some(function(L){return L!=null&&L.g.trim()!=""})){o=u;break}for(u=n.length-1;u>=0;u--)if(n[u].some(function(L){return L!=null&&L.g.trim()!=""})){s=u;break}if(o===-1||s===-1)return null;for(var a=u=!1,l="white",c="black",d=r0(i,r,u,a,l,c);o<=s;o++){for(var p=n[o],v=-1,y=-1,E=0;E<p.length;E++)if(p[E]!=null&&p[E].g.trim()!==""){v=E;break}for(E=p.length-1;E>=0;E--)if(p[E]!=null&&p[E].g.trim()!==""){y=E;break}if(v===-1||y===-1)p=$T(i,r),e.nestedCues.push(p);else{for(;v<=y;v++)if(E=p[v]){var A=E.l,k=E.i,I=E.j,C=E.h;(A!=u||k!=a||I!=l||C!=c)&&(d.payload&&e.nestedCues.push(d),d=r0(i,r,A,k,I,C),u=A,a=k,l=I,c=C),d.payload+=E.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),o!==s&&(d=$T(i,r),e.nestedCues.push(d)),d=r0(i,r,u,a,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function r0(e,t,n,i,r,o){return e=new rt(e,t,""),n&&e.textDecoration.push(lr),i&&(e.fontStyle=fs),e.color=r,e.backgroundColor=o,e}function $T(e,t){return e=new rt(e,t,""),e.lineBreak=!0,e}function QT(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function o0(e,t){this.i=[],this.g=1,this.h=0,this.F=e,this.D=t,this.j=this.m=!1,this.l="white",this.u="black",this.A=this.C=null,va(this)}function Jc(e,t,n){var i="CC"+((e.F<<1|e.D)+1),r=new rt(t,n,"");r.lineInterpretation=1;var o=n4.get(e.g);return o&&(r.line=o),e.A!=null&&e.C!=null&&(r.position=10+Math.min(70,e.A*10)+e.C*2.5),(t=JT(r,i,e.i,t,n))&&e.g+t.cue.nestedCues.length-3>15&&(o=n4.get(e.g+3-t.cue.nestedCues.length))&&(r.line=o),t}function va(e){wr(e,0,15),e.g=1}function Vs(e,t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=t4.has(n)?t4.get(n):String.fromCharCode(n);break;case 1:i=dC.get(n);break;case 2:e.i[e.g].pop(),i=hC.get(n);break;case 3:e.i[e.g].pop(),i=fC.get(n)}i&&e.i[e.g].push(new QT(i,e.m,e.j,e.u,e.l))}}function e4(e,t,n,i){if(!(n<0||t<0))if(t>=n)for(--i;i>=0;i--)e.i[t+i]=e.i[n+i].map(function(o){return o});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(o){return o})}function wr(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var t4=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),dC=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),hC=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),fC=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),n4=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function $c(e,t){this.h=0,this.u=new o0(e,t),this.i=new o0(e,t),this.g=this.j=new o0(e,t),this.l=0,this.m=null}function s0(e,t,n){e.g=e.i;var i=e.g,r=null;return e.h!==3&&e.h!==4&&(r=Jc(i,e.l,n),n=e.i,n.g=n.h>0?n.h:0,wr(n,0,15),n=e.j,n.g=n.h>0?n.h:0,wr(n,0,15),i.g=15),e.h=3,i.h=t,r}function i4(e){e.h=1,e.g=e.j,e.g.h=0}function r4(e){Or("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.u,e.h=4}var pC="black green blue cyan red yellow magenta black".split(" "),o4="white green blue cyan red yellow magenta white_italics".split(" ");function u0(e,t){this.J=t,this.M=e,this.K=this.l=!1,this.m=this.u=this.H=this.L=this.I=0,this.G=2,this.i=[],this.g=this.h=this.j=0,this.F=this.C=!1,this.D="white",this.A="black",a0(this)}function a0(e){e.i=[];for(var t=0;t<16;t++)e.i.push(l0())}function l0(){for(var e=[],t=0;t<42;t++)e.push(null);return e}function eo(e,t){s4(e)&&(e.i[e.h][e.g]=new QT(t,e.F,e.C,e.A,e.D),e.g++)}function s4(e){var t=e.g<e.m&&e.g>=0;return e.h<e.u&&e.h>=0&&t}u0.prototype.isVisible=function(){return this.l};function gC(e){for(var t=0,n=1;n<16;n++,t++)e.i[t]=e.i[n];for(n=0;n<1;n++,t++)e.i[t]=l0()}function Fo(e,t,n){var i=new rt(e.j,t,"");i.textAlign=e.G===0?"left":e.G===1?"right":Hi;var r=i.region;switch(e.J&&(r.id+="svc"+e.J),r.id+="win"+e.M,r.height=e.u,r.width=e.m,r.heightUnits=2,r.widthUnits=2,r.viewportAnchorX=e.I,r.viewportAnchorY=e.L,r.viewportAnchorUnits=e.K?On:2,e.H){case 0:r.regionAnchorX=0,r.regionAnchorY=0;break;case 1:r.regionAnchorX=50,r.regionAnchorY=0;break;case 2:r.regionAnchorX=100,r.regionAnchorY=0;break;case 3:r.regionAnchorX=0,r.regionAnchorY=50;break;case 4:r.regionAnchorX=50,r.regionAnchorY=50;break;case 5:r.regionAnchorX=100,r.regionAnchorY=50;break;case 6:r.regionAnchorX=0,r.regionAnchorY=100;break;case 7:r.regionAnchorX=50,r.regionAnchorY=100;break;case 8:r.regionAnchorX=100,r.regionAnchorY=100}return(n=JT(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}u0.prototype.display=function(){this.l=!0};function mC(){this.i=[],this.h=null,this.g=0}function vC(e,t){t.type===3?(e.g=(t.value&63)*2-1,e.h=[]):e.h&&(e.g>0&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new ya(e.h)),e.h=null,e.g=0))}function ya(e){this.g=0,this.h=e}ya.prototype.Sa=function(){return this.g<this.h.length},ya.prototype.Wa=function(){return this.g};function Ut(e){if(!e.Sa())throw new _(2,2,3e3);return e.h[e.g++]}ya.prototype.skip=function(e){if(this.g+e>this.h.length)throw new _(2,2,3e3);this.g+=e},ya.prototype.Jj=function(e){if(this.g-e<0)throw new _(2,2,3e3);this.g-=e};function yC(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function TC(e,t,n,i){if(!e.g)return[];if(n==24)return n=Ut(t).value,i=Ut(t).value,n=(function(o){return o.map(function(s){return("0"+(s&255).toString(16)).slice(-2)}).join("")})([n,i]),eo(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var r=null;switch(n){case 8:!s4(t)||t.g<=0&&t.h<=0||(t.g<=0?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(r=Fo(t,i,e.i)),t.h+1>=t.u?gC(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(r=Fo(t,i,e.i)),t.i[t.h]=l0(),t.g=0;break;case 12:t.isVisible()&&(r=Fo(t,i,e.i)),a0(t),t.h=0,t.g=0}return r?[r]:[]}function SC(e,t,n,i){if(n>=128&&n<=135)i=n&7,e.h[i]&&(e.g=e.h[i]);else{if(n===136){n=Ut(t).value,t=[],n=T(Ta(e,n));for(var r=n.next();!r.done;r=n.next()){if(r=e.h[r.value],r.isVisible()){var o=Fo(r,i,e.i);o&&t.push(o)}a0(r)}return t}if(n===137)for(t=Ut(t).value,t=T(Ta(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=i),n.display();else{if(n===138){for(n=Ut(t).value,t=null,n=T(Ta(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=Fo(r,i,e.i)),r.l=!1;return t?[t]:[]}if(n===139){for(n=Ut(t).value,t=null,n=T(Ta(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()?t=Fo(r,i,e.i):r.j=i,r.l=!r.l;return t?[t]:[]}if(n===140)return t=Ut(t).value,u4(e,t,i);if(n===143)return i=u4(e,255,i),a4(e),i;if(n===144)t.skip(1),i=Ut(t).value,e.g&&(e.g.C=(i&128)>0,e.g.F=(i&64)>0);else if(n===145)i=Ut(t).value,n=Ut(t).value,t.skip(1),e.g&&(t=l4((n&48)>>4,(n&12)>>2,n&3),e.g.D=l4((i&48)>>4,(i&12)>>2,i&3),e.g.A=t);else if(n===146)i=Ut(t).value,t=Ut(t).value,e.g&&(e=e.g,e.h=i&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),i=Ut(t).value,t.skip(1),e.g&&(e.g.G=i&3);else if(n>=152&&n<=159){n=(n&15)-8,r=e.h[n]!==null,r||(o=new u0(n,e.i),o.j=i,e.h[n]=o),i=Ut(t).value,o=Ut(t).value;var s=Ut(t).value,u=Ut(t).value,a=Ut(t).value;t=Ut(t).value,r&&(t&7)===0||(t=e.h[n],t.h=0,t.g=0,t.F=!1,t.C=!1,t.D="white",t.A="black"),t=e.h[n],t.l=(i&32)>0,t.L=o&127,t.I=s,t.H=(u&240)>>4,t.K=(o&128)>0,t.u=(u&15)+1,t.m=(a&63)+1,e.g=e.h[n]}}}return[]}function Ta(e,t){for(var n=[],i=0;i<8;i++)(t&1)===1&&e.h[i]&&n.push(i),t>>=1;return n}function u4(e,t,n){var i=[];t=T(Ta(e,t));for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=e.h[r];o.isVisible()&&(o=Fo(o,n,e.i))&&i.push(o),e.h[r]=null}return i}function a4(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function l4(e,t,n){var i={0:0,1:0,2:1,3:1};return e=i[e],t=i[t],n=i[n],EC[e<<2|t<<1|n]}var c4=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),EC="black blue green cyan red magenta yellow white".split(" ");function Hs(){this.h=[],this.g=[],this.i=new mC,this.l=0,this.m=new Map([["CC1",new $c(0,0)],["CC2",new $c(0,1)],["CC3",new $c(1,0)],["CC4",new $c(1,1)]]),this.A=this.u=0,this.j=new Map,this.D=!0,this.C=new Set,c0(this)}Hs.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,c0(this),e=T(this.j.values());for(var t=e.next();!t.done;t=e.next())a4(t.value)};function c0(e){e.u=0,e.A=0;for(var t=T(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=0,n.g=n.j,n.m=null,va(n.i),va(n.j),va(n.u);e.D=!0}Hs.prototype.extract=function(e,t){if(this.D){for(var n=T(this.m.values()),i=n.next();!i.done;i=n.next())i.value.l=t;this.D=!1}if(e=new ot(e,0),!(e.getLength()<8)&&e.ea()===181&&e.Ia()===49&&e.$()===1195456820&&e.ea()===3&&(n=e.ea(),(n&64)!==0))for(n&=31,e.skip(1),i=0;i<n;i++){var r=e.ea(),o=(r&4)>>2,s=e.ea(),u=e.ea();o&&(r&=3,r===0||r===1?this.h.push({pts:t,type:r,Ib:s,zc:u,order:this.h.length}):(this.g.push({pts:t,type:r,value:s,order:this.g.length}),this.g.push({pts:t,type:2,value:u,order:this.g.length})))}},Hs.prototype.decode=function(){function e(r,o){return r.pts-o.pts||r.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=T(this.h),i=n.next();!i.done;i=n.next())(i=AC(this,i.value))&&t.push(i);for(n=T(this.g),i=n.next();!i.done;i=n.next())vC(this.i,i.value);for(n=T(this.i.i),i=n.next();!i.done;i=n.next())i=xC(this,i.value),t.push.apply(t,X(i));return this.i.i=[],this.h=[],this.g=[],t};function AC(e,t){var n=t.type;if((t.Ib&112)===16){var i=t.Ib>>3&1;n===0?e.u=i:e.A=i}if(i="CC"+((n<<1|(n?e.A:e.u))+1),n=e.m.get(i),t.Ib===255&&t.zc===255||!t.Ib&&!t.zc||!d4(t.Ib)||!d4(t.zc))return++e.l>=45&&c0(e),null;e.l=0,t.Ib&=127,t.zc&=127;var r=t.Ib;if(r>=1&&r<=15||!t.Ib&&!t.zc)return null;if(r=null,(t.Ib&112)===16)e:{if(e.C.add(i),i=t.Ib,e=t.zc,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,(i&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(i&7)<<1|e>>5&1],i="white",r=!1;var o=null,s=e>95?e-96:e-64;s<=13?i=o4[Math.floor(s/2)]:s<=15?r=!0:o=Math.floor((s-16)/2),e=(e&1)===1,n.h!==4&&(s=n.g,n.h===3&&t!==s.g&&(n=1+t-s.h,e4(s,n,1+s.g-s.h,s.h),wr(s,0,n-1),wr(s,t+1,15-t)),s.g=t,s.m=e,s.j=r,s.l=i,s.A=o,s.u="black")}else if((i&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",Vs(n.g,0,32),i=!1,t=o4[(e&14)>>1],t==="white_italics"&&(t="white",i=!0),n.g.m=(e&1)===1,n.g.j=i,n.g.l=t;else if((i&247)===16&&(e&240)===32||(i&247)===23&&(e&255)===45)t="black",(i&7)===0&&(t=pC[(e&14)>>1]),n.g.u=t;else if((i&247)===17&&(e&240)===48)Vs(n.g,1,e);else if((i&246)===18&&(e&224)===32)Vs(n.g,i&1?3:2,e);else{if((i&246)===20&&(e&240)===32){switch(e=t.pts,i=null,t.zc){case 32:i4(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:i=s0(n,2,e);break;case 38:i=s0(n,3,e);break;case 39:i=s0(n,4,e);break;case 40:Vs(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:va(n.u),r4(n);break;case 43:r4(n);break;case 44:t=n.i,i=null,n.h!==4&&(i=Jc(t,n.l,e)),wr(t,0,15);break;case 45:t=n.g,n.h!==3?i=null:(i=Jc(t,n.l,e),r=t.g-t.h+1,e4(t,r-1,r,t.h),wr(t,0,r-1),wr(t,t.g,15-t.g),n.l=e);break;case 46:wr(n.j,0,15);break;case 47:t=null,n.h!==4&&(t=Jc(n.i,n.l,e)),i=n.j,n.j=n.i,n.i=i,i4(n),n.l=e,i=t}r=i;break e}(i==23||i==31)&&e>=33&&e<=35&&(n.g.C=e-32)}r=null}else e=t.zc,Vs(n.g,0,t.Ib),Vs(n.g,0,e);return r}function xC(e,t){var n=[];try{for(;t.Sa();){var i=Ut(t).value,r=(i&224)>>5,o=i&31;if(r===7&&o!=0&&(r=Ut(t).value&63),r!=0){e.C.add("svc"+r),e.j.has(r)||e.j.set(r,new yC(r));for(var s=e.j.get(r),u=t.Wa();t.Wa()-u<o;){r=s;var a=t,l=Ut(a),c=l.value,d=l.pts;if(c===16){var p=Ut(a);c=c<<16|p.value}if(c>=0&&c<=31)var v=TC(r,a,c,d);else if(c>=128&&c<=159)v=SC(r,a,c,d);else{if(c>=4096&&c<=4127)r=a,a=c&255,a>=8&&a<=15?r.skip(1):a>=16&&a<=23?r.skip(2):a>=24&&a<=31&&r.skip(3);else if(c>=4224&&c<=4255)r=a,a=c&255,a>=128&&a<=135?r.skip(4):a>=136&&a<=143&&r.skip(5);else if(c>=32&&c<=127)a=c,r.g&&(a===127?eo(r.g,"♪"):eo(r.g,String.fromCharCode(a)));else if(c>=160&&c<=255)r.g&&eo(r.g,String.fromCharCode(c));else if(c>=4128&&c<=4223){if(a=c&255,r.g)if(c4.has(a)){var y=c4.get(a);eo(r.g,y)}else eo(r.g,"_")}else c>=4256&&c<=4351&&r.g&&((c&255)!=160?eo(r.g,"_"):eo(r.g,"[CC]"));v=[]}n.push.apply(n,X(v))}}}}catch(E){if(E instanceof _&&E.code===3e3)Or("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw E}return n}function d4(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}Hs.prototype.getStreams=function(){return Array.from(this.C)},K("shaka.cea.CeaDecoder",Hs),So=function(){return new Hs};function h4(e){for(var t=[],n=e,i=e=0;i<n.length;)e==2&&n[i]==3?(e=0,n=[].concat(X(n)),n.splice(i,1),n=new Uint8Array(n)):n[i]==0?e++:e=0,i++;for(e=n,i=0;i<e.length;){for(n=0;e[i]==255;)n+=255,i++;n+=e[i++];for(var r=0;e[i]==255;)r+=255,i++;r+=e[i++],n==4&&t.push(e.subarray(i,i+r)),i+=r}return t}function Qc(){this.j=new Map,this.i=this.h=0,this.g=d0}Qc.prototype.init=function(e){function t(o){o=o.name,ed.has(o)&&(n.g=ed.get(o))}var n=this,i=[],r=[];if(new Je().box("moov",Me).box("mvex",Me).W("trex",function(o){var s=o.reader;s.skip(4),s.skip(4),o=s.$(),s=s.$(),n.h=o,n.i=s}).box("trak",Me).W("tkhd",function(o){var s=o.reader;o=o.version,o==1?(s.skip(8),s.skip(8)):(s.skip(4),s.skip(4));var u=s.$();o==1?s.skip(8):s.skip(4),s.skip(4),s.skip(8),s.skip(2),s.skip(2),s.skip(2),s.skip(2),s.skip(36),s.Ia(),s.Ia(),s.Ia(),s.Ia(),i.push(u)}).box("mdia",Me).W("mdhd",function(o){o=Yl(o.reader,o.version),r.push(o.timescale)}).box("minf",Me).box("stbl",Me).W("stsd",gr).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",Un).box("sinf",Me).box("frma",function(o){o=Lf(o.reader).codec,ed.has(o)&&(n.g=ed.get(o))}).parse(e,!0,!0),!i.length||!r.length||i.length!=r.length)throw new _(2,2,2010);this.g==d0&&ye("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(o,s){n.j.set(o,r[s])})},Qc.prototype.parse=function(e){var t=this;if(this.g==d0)return[];var n=[],i=0,r=[];return new Je().box("moof",function(o){i=o.start,r=[],Me(o)}).box("traf",function(o){r.push({baseMediaDecodeTime:null,re:t.h,se:t.i,Bj:[],timescale:9e4}),Me(o)}).W("trun",function(o){var s=r[r.length-1];o=Zl(o.reader,o.version,o.flags),s.Bj.push(o)}).W("tfhd",function(o){var s=r[r.length-1];o=Wl(o.reader,o.flags),s.re=o.re||t.h,s.se=o.se||t.i,o=o.trackId,t.j.has(o)&&(s.timescale=t.j.get(o))}).W("tfdt",function(o){var s=r[r.length-1];o=Xl(o.reader,o.version),s.baseMediaDecodeTime=o.baseMediaDecodeTime}).box("mdat",function(o){for(var s=i-o.start-8,u=o.reader.Wa(),a=T(r),l=a.next();!l.done;l=a.next())l=l.value,l.baseMediaDecodeTime===null?ye("Unable to find base media decode time for CEA captions!"):(o.reader.seek(u),wC(t,o.reader,l.baseMediaDecodeTime,l.timescale,l.re,l.se,s,l.Bj,n))}).parse(e,!1,!0),n};function wC(e,t,n,i,r,o,s,u,a){var l=0,c=o,d=u.map(function(y){return y.ci});for(d=[].concat.apply([],X(d)),d.length&&(c=d[0].sampleSize||o),t.skip(s+u[0].Yg);t.Sa();){s=t.$();var p=t.ea(),v=null;switch(v=!1,u=1,e.g){case Sa:v=p&31,v=v==6;break;case Ea:u=2,t.skip(1),v=p>>1&63,v=v==39||v==40;break;case Aa:u=2,t.skip(1),v=p>>1&63,v=v==23||v==24;break;default:return}if(v)for(p=0,l<d.length&&(p=d[l].hg||0),p=(n+p)/i,u=t.bc(s-u,!1),u=T(h4(u)),v=u.next();!v.done;v=u.next())a.push({packet:v.value,pts:p});else try{t.skip(s-u)}catch{break}c-=s+4,c==0&&(n=l<d.length?n+(d[l].di||r):n+r,l++,l<d.length?c=d[l].sampleSize||o:c=o)}}K("shaka.cea.Mp4CeaParser",Qc);var d0=0,Sa=1,Ea=2,Aa=3,ed=new Map().set("avc1",Sa).set("avc3",Sa).set("dvav",Sa).set("dva1",Sa).set("hev1",Ea).set("hvc1",Ea).set("dvh1",Ea).set("dvhe",Ea).set("vvc1",Aa).set("vvi1",Aa).set("dvc1",Aa).set("dvi1",Aa);nf("video/mp4",function(){return new Qc});function td(){this.g=null}td.prototype.init=function(){},td.prototype.parse=function(e){this.g?this.g.clearData():this.g=new it;var t=[];if(e=Te(e),!Is(e))return t;e=this.g.parse(e);var n=e.ue(),i=e.Df();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=T(i),i=n.next();!i.done;i=n.next())if(i=i.value,e.includes(i.type)&&i.time!=null)for(var r=T(h4(i.data)),o=r.next();!o.done;o=r.next())t.push({packet:o.value,pts:i.time});return t},K("shaka.cea.TsCeaParser",td),nf("video/mp2t",function(){return new td});function IC(e){var t=0,n=kn(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+4+2,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,(r&1)!=0||r+e>n.byteLength){n=[];break e}var o=Te(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function f4(e){return e=ni(kt(e)),e=IC(e).filter(function(t){return t.type===kC})[0],e?(e=_r(e.value,!0),(e=xo(e,"WRMHEADER"))?e:null):null}function nd(e){try{var t=f4(e);if(t)e:{for(var n=T(Pi(t,"DATA")),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.children)for(var o=T(r.children),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.tagName=="LA_URL"){var a=kt(u);break e}}}a=""}else a="";return a}catch{return""}}var kC=1;function p4(){this.g=new Map}p4.prototype.release=function(){this.g.clear()};function g4(e,t,n,i){var r=RC(e,t),o=null;e=[];var s=[];t=null;var u=new Set(r.map(function(l){return l.keyId}));u.delete(null);var a="cenc";if(u.size>1)throw new _(2,4,4010);if(!n){if(s=r.filter(function(l){return l.Zd=="urn:mpeg:dash:sea:2012"}),s.length>1)throw new _(2,4,4050);s.length&&(t=PC(s[0])),(s=r.find(function(l){return l.Zd=="urn:mpeg:dash:mp4protection:2011"}))&&s.encryptionScheme&&(a=s.encryptionScheme),s=r.filter(function(l){return l.Zd=="urn:mpeg:dash:mp4protection:2011"?(o=l.init||o,!1):l.Zd!="urn:mpeg:dash:sea:2012"}),s.length&&(e=MC(o,a,s,i,u),e.length==0&&(e=[or("",a,o)]))}if(r.length&&!t&&(n||!s.length))for(e=[],n=T(Object.values(i)),i=n.next();!i.done;i=n.next())i=i.value,i!="org.w3.clearkey"&&(i=or(i,a,o),e.push(i));if(u=Array.from(u)[0]||null)for(a=T(e),n=a.next();!n.done;n=a.next())for(n=T(n.value.initData),i=n.next();!i.done;i=n.next())i.value.keyId=u;return{Wi:u,Tn:o,drmInfos:e,Mg:t,aj:!0}}function CC(e,t,n,i,r){var o=g4(e,t,i,r);if(n.aj)e=n.drmInfos.length==1&&!n.drmInfos[0].keySystem,t=o.drmInfos.length==0,(n.drmInfos.length==0||e&&!t)&&(n.drmInfos=o.drmInfos),n.aj=!1;else if(o.drmInfos.length>0&&(n.drmInfos=n.drmInfos.filter(function(s){return o.drmInfos.some(function(u){return u.keySystem==s.keySystem})}),n.drmInfos.length==0))throw new _(2,4,4008);return o.Wi||n.Wi}function id(e){var t=ri(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=kt(t)))return t;if((t=ri(e.node,"urn:microsoft:playready","pro"))&&kt(t))return nd(t);if((e=ri(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=kt(e))){t=ni(e),e=8,t=kn(t);var n=t.getUint8(e);return e+=20,n>0&&(e+=4+16*t.getUint32(e)),e=Te(t,e+4),e=yl(e),e=xo("<pro>"+e+"</pro>"),nd(e)}return""}function MC(e,t,n,i,r){var o=[];n=T(n);for(var s=n.next();!s.done;s=n.next()){s=s.value;var u=i[s.Zd];if(u){var a;if((a=ri(s.node,"urn:microsoft:playready","pro"))&&kt(a)){a=kt(a),a=ni(a);var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);a=[{initData:zl(a,l,new Set,0),initDataType:"cenc",keyId:s.keyId}]}else a=null;if(l=null,s.Zd==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"){l=s;var c=r;if(c.size==0)l=null;else{var d=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),p=new Uint8Array([]);l=[{initData:zl(p,d,c,1),initDataType:"cenc",keyId:l.keyId}]}}a=or(u,t,s.init||e||a||l),(u=bC.get(u))&&(a.licenseServerUri=u(s));e:{if((s=ri(s.node,"https://dashif.org/CPS","Certurl"))&&(s=kt(s)))break e;s=""}a.serverCertificateUri=s,o.push(a)}}return o}function RC(e,t){var n=[];t=T(t);for(var i=t.next();!i.done;i=t.next())(i=LC(e,i.value))&&n.push(i);return n}function LC(e,t){var n=t.attributes.schemeIdUri,i=ur(t,"urn:mpeg:cenc:2013","default_KID"),r=Kv(t,"urn:mpeg:cenc:2013","pssh").map(vn),o=t.attributes.value;if(!n)return null;if(n=n.toLowerCase(),i&&(i=i.replace(/-/g,"").toLowerCase(),i.includes(" ")))throw new _(2,4,4009);var s=[];try{s=r.map(function(u){if(!e.g.has(u)){var a=ni(u);e.g.set(u,a)}return{initDataType:"cenc",initData:e.g.get(u),keyId:null}})}catch{throw new _(2,4,4007)}return{node:t,Zd:n,keyId:i,init:s.length>0?s:null,encryptionScheme:o}}function PC(e){if(!S.crypto||!S.crypto.subtle)throw ye("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new _(2,4,4042);var t=ri(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new _(2,4,4051);if(t.attributes.schemeIdUri!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new _(2,4,4051);if(t=ri(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new _(2,4,4051);if(e=t.attributes.IV,t=mn(t.attributes.keyUriTemplate),!e||!t)throw new _(2,4,4051);if(e=go(e.substr(2)),e.byteLength!=16)throw new _(2,4,4048);return{Nl:t,iv:e}}var bC=new Map().set("com.apple.fps",function(e){if(S.shakaMediaKeysPolyfill==="apple")throw new _(2,4,4054);return(e=ri(e.node,"https://dashif.org/CPS","Laurl"))&&(e=kt(e))?e:""}).set("com.widevine.alpha",function(e){var t=ri(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=kt(t))?t:(e=ri(e.node,"urn:microsoft","laurl"))&&mn(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",id).set("com.microsoft.playready.recommendation",id).set("com.microsoft.playready.software",id).set("com.microsoft.playready.hardware",id).set("org.w3.clearkey",function(e){var t=ri(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=kt(t))?t:(e=ri(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.attributes.Lic_type==="EME-1.0"&&e&&(e=kt(e))?e:""});function xa(e,t,n,i,r,o){var s=new Map().set("RepresentationID",t).set("Number",n).set("SubNumber",i).set("Bandwidth",r).set("Time",o);return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(u,a,l,c){if(u=="$$")return"$";var d=s.get(a);if(d==null)return u;switch(a=="RepresentationID"&&l&&(l=void 0),a=="Time"&&typeof d!="bigint"&&(Math.abs(d-Math.round(d))>=.2&&ye("Calculated $Time$ values must be close to integers"),d=Math.round(d)),c){case void 0:case"d":case"i":case"u":u=d.toString();break;case"o":u=d.toString(8);break;case"x":u=d.toString(16);break;case"X":u=d.toString(16).toUpperCase();break;default:u=d.toString()}return l=S.parseInt(l,10)||1,Array(Math.max(0,l-u.length)+1).join("0")+u})}function m4(e,t){var n=wi(e,t,"timescale"),i=1;n&&(i=Vi(n)||1),n=wi(e,t,"duration");var r=(n=Vi(n||""))?n/i:null,o=wi(e,t,"startNumber"),s=Number(wi(e,t,"presentationTimeOffset"))||0,u=Jt(o||"");if((o==null||u==null)&&(u=1),o=null,t=Gs(e,t,"SegmentTimeline")){t=Ze(t,"S"),o=i,e=e.ra.duration||1/0;for(var a=u,l=[],c=-s,d=0;d<t.length;++d){var p=t[d],v=t[d+1],y=Se(p,"t",Jt),E=Se(p,"d",Jt),A=Se(p,"r",Zt);if(p=Se(p,"k",Zt)||0,y!=null&&(y-=s),E){if(y=y??c,A=A||0,A<0)if(v){if(v=Se(v,"t",Jt),v==null)break;if(y>=v)break;A=Math.ceil((v-y)/E)-1}else{if(e==1/0)break;if(y/o>=e)break;A=Math.ceil((e*o-y)/E)-1}for(l.length>0&&y!=c&&(l[l.length-1].end=y/o),v=0;v<=A;++v)c=y+E,l.push({start:y/o,fe:y,end:c/o,Di:c,Ic:p,rm:l.length+a}),y=c}}o=l}return{timescale:i,vg:n,pb:r,Oe:u,sc:s/i||0,wd:s,timeline:o}}function v4(e,t){return[t(e.N),t(e.wa),t(e.Ba)].filter(Hr)}function wi(e,t,n){t=v4(e,t),e=null,t=T(t);for(var i=t.next();!i.done&&!(e=i.value.attributes[n]);i=t.next());return e}function Gs(e,t,n){t=v4(e,t),e=null,t=T(t);for(var i=t.next();!i.done&&!(e=ut(i.value,n));i=t.next());return e}function DC(e,t,n,i,r,o){for(var s=ur(e,"http://www.w3.org/1999/xlink","href"),u=ur(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",a=T(Object.keys(e.attributes)),l=a.next();!l.done;l=a.next()){l=l.value;var c=l.split(":"),d=of("http://www.w3.org/1999/xlink");c[0]==d&&delete e.attributes[l]}if(o>=5)return Gr(new _(2,4,4028));if(u!="onLoad")return Gr(new _(2,4,4027));var p=Vt([i],[s]);return r.request(0,Lt(p,t)).cb(function(v){if(v=Iu(v.data,e.tagName),!v)return Gr(new _(2,4,4001,s));for(e.children=[];v.children.length;){var y=v.children.shift();e.children.push(y)}y=T(Object.keys(v.attributes));for(var E=y.next();!E.done;E=y.next())E=E.value,e.attributes[E]=v.attributes[E];return rd(e,t,n,p[0],r,o+1)})}function rd(e,t,n,i,r,o){if(o=o===void 0?0:o,ur(e,"http://www.w3.org/1999/xlink","href")){var s=DC(e,t,n,i,r,o);return n&&(s=s.cb(void 0,function(){return rd(e,t,n,i,r,o)})),s}s=[];for(var u=T(zv(e)),a=u.next(),l={};!a.done;l={oe:void 0},a=u.next())l.oe=a.value,ur(l.oe,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.children=e.children.filter((function(c){return function(d){return d!==c.oe}})(l)):l.oe.tagName!="SegmentTimeline"&&s.push(rd(l.oe,t,n,i,r,o));return I1(s).cb(function(){return e})}function NC(e,t,n,i,r,o,s,u){var a,l=new Je().W("sidx",function(c){a=OC(t,i,r,o,s,n,c,u)});if(e&&l.parse(e),a)return a;throw new _(2,3,3004)}function OC(e,t,n,i,r,o,s,u){u=u===void 0?!1:u;var a=[];s.reader.skip(4);var l=s.reader.$();if(l==0)throw new _(2,3,3005);if(s.version==0)var c=s.reader.$(),d=s.reader.$();else c=s.reader.Wd(),d=s.reader.Wd();s.reader.skip(2);var p=s.reader.Ia();for(e=(u?-s.size:e)+s.size+d,u=0;u<p;u++){var v=s.reader.$();d=(v&2147483648)>>>31,v&=2147483647;var y=s.reader.$();if(s.reader.skip(4),d==1)throw new _(2,3,3006);a.push(new he(c/l+n,(c+y)/l+n,function(){return o},e,e+v-1,t,n,i,r)),c+=y,e+=v}return s.parser.stop(),a}function to(e){this.h=kn(e),this.g=new ot(this.h,0)}to.prototype.Sa=function(){return this.g.Sa()};function Ir(e){var t=y4(e);if(t.length>7)throw new _(2,3,3002);var n=0;t=T(t);for(var i=t.next();!i.done;i=t.next())n=256*n+i.value;t=y4(e);e:{i=T(_C);for(var r=i.next();!r.done;r=i.next())if(ir(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.h.byteLength-e.g.Wa();else{if(t.length==8&&t[1]&224)throw new _(2,3,3001);for(r=i=0;r<t.length;r++){var o=t[r];i=r==0?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.g.Wa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Wa(),i=kn(e.h,e.g.Wa(),t),e.g.skip(t),new UC(n,i)}function y4(e){var t=e.g.Wa(),n=e.g.ea();if(n==0)throw new _(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Te(e.h,t,n)}var _C=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function UC(e,t){this.id=e,this.g=t}function h0(e){if(e.g.byteLength>8)throw new _(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new _(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var i=e.g.getUint8(n);t=256*t+i}return t}function jC(e,t,n,i,r,o,s){if(t=new to(t),Ir(t).id!=440786851)throw new _(2,3,3008);var u=Ir(t);if(u.id!=408125543)throw new _(2,3,3009);t=u.g.byteOffset,u=new to(u.g);for(var a=null;u.Sa();){var l=Ir(u);if(l.id==357149030){a=l;break}}if(!a)throw new _(2,3,3010);for(a=new to(a.g),l=1e6,u=null;a.Sa();){var c=Ir(a);if(c.id==2807729)l=h0(c);else if(c.id==17545)if(c.g.byteLength==4)u=c.g.getFloat32(0);else if(c.g.byteLength==8)u=c.g.getFloat64(0);else throw new _(2,3,3003)}if(u==null)throw new _(2,3,3011);if(a=l/1e9,u*=a,e=Ir(new to(e)),e.id!=475249515)throw new _(2,3,3007);return BC(e,t,a,u,n,i,r,o,s)}function BC(e,t,n,i,r,o,s,u,a){function l(){return r}var c=[];e=new to(e.g);for(var d=null,p=null;e.Sa();){var v=Ir(e);if(v.id==187){var y=FC(v);y&&(v=n*y.Fm,y=t+y.gm,d!=null&&c.push(new he(d+s,v+s,l,p,y-1,o,s,u,a)),d=v,p=y)}}return d!=null&&c.push(new he(d+s,i+s,l,p,null,o,s,u,a)),c}function FC(e){var t=new to(e.g);if(e=Ir(t),e.id!=179)throw new _(2,3,3013);if(e=h0(e),t=Ir(t),t.id!=183)throw new _(2,3,3012);t=new to(t.g);for(var n=0;t.Sa();){var i=Ir(t);if(i.id==241){n=h0(i);break}}return{Fm:e,gm:n}}function T4(e,t,n){if(t=Gs(e,t,"Initialization"),!t)return null;var i=e.N.ib(),r=t.attributes.sourceURL;r&&(i=Vt(i,[mn(r)],e.Rb())),r=0;var o=null;return(t=Se(t,"range",Il))&&(r=t.start,o=t.end),n=new Rn(function(){return i},r,o,x4(e),null,null,n,e.wa.encrypted),n.codecs=e.N.codecs,n.mimeType=e.N.mimeType,e.ra&&!e.ra.If&&(n.g=e.ra.start+e.ra.duration),n}function qC(e,t,n){var i=Number(wi(e,zs,"presentationTimeOffset"))||0,r=wi(e,zs,"timescale"),o=1;r&&(o=Vi(r)||1);var s=i/o||0,u=T4(e,zs,n);VC(e,u);var a=Br(e);return{endTime:-1,timeline:-1,hd:function(){var l=Gs(a,zs,"RepresentationIndex"),c=a.N.ib();return l&&(l=mn(l.attributes.sourceURL))&&(c=Vt(c,[l],a.Rb())),l=E4(a),S4(a,t,u,c,l.start,l.end,s)},timescale:o}}function S4(e,t,n,i,r,o,s){var u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b;return N(function(U){if(U.g==1)return u=e.presentationTimeline,a=!e.Kb||!e.ra.If,l=e.ra.start,c=e.ra.duration,d=e.N.mimeType.split("/")[1],p=t,v=null,y=[p(i,r,o,!1),d=="webm"?p(n.S(),n.startByte,n.endByte,!0):null],p=null,w(U,Promise.all(y),2);for(E=U.h,A=E[0],k=E[1]||null,I=null,C=l-s,L=l,O=c?l+c:1/0,M=e.N.ib(),D=M.length!=i.length||M.some(function(B,G){return B!=i[G]}),I=d=="mp4"?NC(A,r,M,n,C,L,O,D):jC(A,k,M,n,C,L,O),P=T(I),j=P.next();!j.done;j=P.next())b=j.value,b.codecs=e.N.codecs,b.mimeType=e.N.mimeType,b.bandwidth=e.bandwidth;return u.Ge(I),v=new Ve(I),a&&v.Gd(L,O,!0),U.return(v)})}function zs(e){return e.$d}function E4(e){var t=Gs(e,zs,"RepresentationIndex");return e=wi(e,zs,"indexRange"),e=Il(e||""),t&&(e=Se(t,"range",Il,e)),e}function VC(e,t){if(A4(e,t),!E4(e))throw new _(2,4,4002)}function A4(e,t){var n=e.N.mimeType.split("/")[1];if(e.N.contentType!=Re&&n!="mp4"&&n!="webm")throw new _(2,4,4006);if(n=="webm"&&!t)throw new _(2,4,4005)}function x4(e){var t=e.N;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Wf,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.wa.label||null,roles:e.roles||null,language:e.wa.language||null}}function HC(e,t,n){var i=T4(e,w4,n),r=GC(e);if(!r.pb&&!r.timeline&&r.Qd.length>1)throw new _(2,4,4002);if(!r.pb&&!e.ra.duration&&!r.timeline&&r.Qd.length==1)throw new _(2,4,4002);if(r.timeline&&r.timeline.length==0)throw new _(2,4,4002);var o=null,s=null;e.Ba.id&&e.N.id&&(s=t.get(e.Ba.id+","+e.N.id))&&(o=s.segmentIndex);var u=zC(e.ra.start,e.ra.duration,e.N.ib,r,i,n,e.N.mimeType,e.N.codecs,e.bandwidth,e.Rb);return t=!o,o?o.Ee(u,e.presentationTimeline.Nb()):o=new Ve(u),e.presentationTimeline.Ge(u),e.Kb&&e.ra.If||o.Gd(e.ra.start,e.ra.duration?e.ra.start+e.ra.duration:1/0,t),s&&(s.segmentIndex=o),{endTime:-1,timeline:-1,hd:function(){return o&&o.getNumReferences()!=0||o.Rf(u),Promise.resolve(o)},timescale:r.timescale}}function w4(e){return e.Mc}function GC(e){var t=KC(e);e=m4(e,w4);var n=e.Oe;n==0&&(n=1);var i=0;return e.pb?i=e.pb*(n-1):e.timeline&&e.timeline.length>0&&(i=e.timeline[0].start),{pb:e.pb,startTime:i,Oe:n,sc:e.sc,timescale:e.timescale,timeline:e.timeline,Qd:t}}function zC(e,t,n,i,r,o,s,u,a,l){var c=i.Qd.length;i.timeline&&i.timeline.length!=i.Qd.length&&(c=Math.min(i.timeline.length,i.Qd.length));for(var d=e-i.sc,p=t?e+t:1/0,v=[],y=i.startTime,E={},A=0;A<c;E={xg:void 0,ig:void 0},A++){E.ig=i.Qd[A];var k=y;y=void 0,y=i.pb!=null?k+i.pb:i.timeline?i.timeline[A].end:k+t,E.xg=null,E=new he(e+k,e+y,(function(I){return function(){return I.xg==null&&(I.xg=Vt(n(),[I.ig.Ul],l())),I.xg}})(E),E.ig.start,E.ig.end,r,d,e,p,[],"",null,null,mr,o),E.codecs=u,E.mimeType=s,E.bandwidth=a,v.push(E)}return v}function KC(e){return[e.N.Mc,e.wa.Mc,e.Ba.Mc].filter(Hr).map(function(t){return Ze(t,"SegmentURL")}).reduce(function(t,n){return t.length>0?t:n}).map(function(t){t.attributes.indexRange&&!e.Gh&&(e.Gh=!0);var n=mn(t.attributes.media);return t=Se(t,"mediaRange",Il,{start:0,end:null}),{Ul:n,start:t.start,end:t.end}})}function I4(e,t,n,i,r,o,s,u,a,l){a||e.N.Ff||(e.N.Ff=wi(e,no,"initialization"));var c=e.N.Ff?ZC(e,s):null,d=WC(e);XC(d);var p=Br(e);if(d.ze)return A4(e,c),{endTime:-1,timeline:-1,hd:function(){var k=xa(d.ze,p.N.originalId,null,null,p.bandwidth||null,null);return k=Vt(p.N.ib(),[k]),S4(p,t,c,k,0,null,d.sc)},timescale:d.timescale};if(d.pb)return i||e.wa.contentType==="image"||e.wa.contentType==="text"||(i=e.ra.start,l=e.Ba.id,n=e.ra.duration,l=(l=l!=null&&o.get(l)||n)?i+l:1/0,e.presentationTimeline.Ph(d.pb),e.presentationTimeline.zj(i,l)),{endTime:-1,timeline:-1,hd:function(){return YC(p,d,r,c,o,s,u,e.N.jg)},timescale:d.timescale};var v=null;i=i=null,e.Ba.id&&e.N.id&&(i=e.Ba.id+","+e.N.id,i=n.get(i))&&(v=i.segmentIndex);var y=e.ra.start,E=e.ra.duration?y+e.ra.duration:1/0;if(v)l=v,k4(l,d,y,E,c,e.Kb),l.eb(e.presentationTimeline.Nb());else{if(n=0,a=-1,e.Ba.id!=null&&e.N.id!=null){var A=l.get(e.Ba.id);if(A)a=A.timeline;else for(l=T(l.values()),A=l.next();!A.done;A=l.next())if(A=A.value,Math.abs(d.sc-A.endTime)<=Lv&&A.Yh.includes(e.N.id)){a=A.timeline;break}else A.timeline>=n&&(n=A.timeline+1)}a==-1&&(a=n),v=new wa(e.Kb,d,e.N.originalId,e.bandwidth,e.N.ib,e.Rb,y,E,c,s,e.N.jg,a)}return d.timeline&&e.wa.contentType!=="image"&&e.wa.contentType!=="text"&&e.presentationTimeline.Aj(v.h?v.h.timeline:[],y),i&&e.Kb&&(i.segmentIndex=v),i=(i=(i=d.timeline)&&i[i.length-1])?i.end+d.sc:-1,l=-1,v instanceof wa&&(l=v.tf()),{endTime:i,timeline:l,hd:function(){return v instanceof wa&&v.getNumReferences()==0&&k4(v,d,y,E,c,e.Kb),Promise.resolve(v)},timescale:d.timescale}}function no(e){return e.bd}function WC(e){var t=m4(e,no),n=wi(e,no,"media"),i=wi(e,no,"index"),r=wi(e,no,"k"),o=0;return r&&(o=parseInt(r,10)),{vg:t.vg,pb:t.pb,timescale:t.timescale,Oe:t.Oe,sc:t.sc,wd:t.wd,timeline:t.timeline,mc:n&&mn(n),ze:i,mimeType:e.N.mimeType,codecs:e.N.codecs,bandwidth:e.bandwidth,Vl:o}}function XC(e){var t=e.ze?1:0;if(t+=e.timeline?1:0,t+=e.pb?1:0,t==0)throw new _(2,4,4002);if(t!=1&&(e.ze&&(e.timeline=null),e.vg=null,e.pb=null),!e.ze&&!e.mc)throw new _(2,4,4002)}function YC(e,t,n,i,r,o,s,u){function a(B){var G=B-A,H=G*E,F=t.vg,q=G*F;"BigInt"in S&&q>Number.MAX_SAFE_INTEGER&&(q=BigInt(G)*BigInt(F)),H+=p,G=H+E,F=Math.min(G,c());var z=[],Y=t.Vl;if(Y)for(var we=(F-H)/Y,ne={},ze=0;ze<Y;ne={Zj:void 0},ze++){var Ie=H+we*ze,$e=Ie+we;ne.Zj=ze,ne=new he(Ie,$e,(function(Ne){return function(){var Pe=xa(k,C,B,Ne.Zj,I,q);return Vt(L(),[Pe],O())}})(ne),0,null,i,M,p,c(),[],"",null,null,mr,o),ne.codecs=e.N.codecs,ne.mimeType=e.N.mimeType,u==0?ze>0&&ne.Od():ze%u!=0&&ne.Od(),z.push(ne)}return H=new he(H,F,function(){if(Y)return[];var Ne=xa(k,C,B,null,I,q);return Vt(L(),[Ne],O())},0,null,i,M,p,c(),z,"",null,null,mr,o,z.length>0),H.codecs=e.N.codecs,H.mimeType=e.N.mimeType,H.bandwidth=e.bandwidth,H.j=G,H}function l(){var B=[Math.max(d.Nb(),p),Math.min(d.Uc(),c())].map(function(G){return G-p});return B=[Math.ceil(B[0]/E),Math.ceil(B[1]/E)-1],e.N.zb&&B[1]++,B.map(function(G){return G+A})}function c(){var B=v!=null&&r.get(v)||y;return B?p+B:1/0}var d=e.presentationTimeline,p=e.ra.start,v=e.Ba.id,y=e.ra.duration,E=t.pb,A=t.Oe,k=t.mc,I=e.bandwidth||null,C=e.N.originalId,L=e.N.ib,O=e.Rb,M=p-t.sc,D=l();n=e.Kb?Math.max(D[0],D[1]-n+1):D[0],s=s||D[1],D=[];for(var P=n;P<=s;++P){var j=a(P);D.push(j)}var b=new Ve(D);if(D=d.Uc()<c(),P=d.U(),D||P){var U=Math.max(n,s+1);n=E,e.N.zb&&(n=.1),b.wg(n,function(){var B=d.Nb();b.eb(B);var G=T(l());G.next(),G=G.next().value;for(var H=[];U<=G;){var F=a(U);H.push(F),U++}return B>c()&&!H.length?null:H})}return Promise.resolve(b)}function ZC(e,t){var n=e.N.Ff;if(n||(n=wi(e,no,"initialization")),!n)return null;n=mn(n);var i=e.N.originalId,r=e.bandwidth||null,o=e.N.ib,s=e.Rb;return t=new Rn(function(){var u=xa(n,i,null,null,r,null);return Vt(o(),[u],s())},0,null,x4(e),null,null,t,e.wa.encrypted),t.codecs=e.N.codecs,t.mimeType=e.N.mimeType,e.ra&&!e.ra.If&&(t.g=e.ra.start+e.ra.duration),t}function wa(e,t,n,i,r,o,s,u,a,l,c,d){Ve.call(this,[]),this.F=e,this.h=t,this.H=n,this.D=i,this.G=r,this.J=o,this.j=s,this.l=u,this.A=a,this.C=l,this.I=c,this.K=d,f0(this)}se(wa,Ve),h=wa.prototype,h.getNumReferences=function(){return this.h?this.h.timeline.length:0},h.release=function(){Ve.prototype.release.call(this),this.h=null},h.eb=function(e){if(this.h){for(var t=0,n=this.h.timeline,i=0;i<n.length&&n[i].end+this.j<=e;i+=1)t+=1;t>0&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,this.getNumReferences()===0&&this.release())}};function k4(e,t,n,i,r,o){if(JC(e,r),e.F=o,e.h){if(e.h.wd!==t.wd)for(n=t.wd-e.h.wd,r=0;r<t.timeline.length;r++)o=t.timeline[r],o.fe+=n,o.Di+=n,o.start=(o.fe+n)/t.timescale,o.end=(o.Di+n)/t.timescale;if(e.h.mc!==t.mc&&(e.h.mc=t.mc),n=e.h.timeline,n.length){var s=n[n.length-1];t=t.timeline.filter(function(u){return u.end>s.end})}else t=t.timeline.slice();t.length>0&&e.h.timeline.push.apply(e.h.timeline,X(t)),e.l!==i&&(e.l=i)}else e.h=t,e.j=n,e.l=i;f0(e)}function JC(e,t){if(e.A!==t){e.A=t,e=T(e.g);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&uy(n,t)}}function f0(e){if(e.h&&!e.u){for(var t=[],n=T(e.h.timeline),i=n.next();!i.done;i=n.next())i=i.value,i.start>=e.l||i.end<=0||t.push(i);e.h.timeline=t,e.eb(e.j)}}h.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,i=0;i<t.length;i++){var r=t[i],o=r.start+this.j;if(r=i<n?t[i+1].start+this.j:this.l===1/0?r.end+this.j:this.l,e>=o&&e<r)return i+this.i}return null},h.get=function(e){var t=this;if(e-=this.i,e<0||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){n=this.h.timeline[e];var i=n.rm,r=n.fe+this.h.wd,o=this.j-this.h.sc,s=this.j+n.end,u=s;e===this.getNumReferences()-1&&this.l!==1/0&&(u=this.F&&Math.abs(u-this.l)>.1?Math.min(u,this.l):this.l);var a=this.h.codecs,l=this.h.mimeType,c=this.h.bandwidth,d=[],p=!1;if(n.Ic&&this.h&&this.h.mc&&(p=this.h.mc.includes("$SubNumber$")),p){p=(n.end-n.start)/n.Ic;for(var v={},y=0;y<n.Ic;v={yg:void 0,$j:void 0},y++){var E=n.start+p*y,A=E+p;v.$j=y,v.yg=null,v=new he(this.j+E,this.j+A,(function(k){return function(){return t.h?(k.yg==null&&(k.yg=C4(t.h.mc,t.H,i,t.D,r,k.$j,t.G,t.J)),k.yg):[]}})(v),0,null,this.A,o,this.j,this.l,[],"",null,null,mr,this.C),v.codecs=a,v.mimeType=l,v.bandwidth=c,this.I==0?y>0&&v.Od():y%this.I!=0&&v.Od(),d.push(v)}}n=new he(this.j+n.start,u,function(){return d.length>0||!t.h?[]:C4(t.h.mc,t.H,i,t.D,r,null,t.G,t.J)},0,null,this.A,o,this.j,this.l,d,"",null,null,mr,this.C,d.length>0),n.codecs=a,n.mimeType=l,n.j=s,n.bandwidth=c,this.g[e]=n}return n},h.Lb=function(e){f0(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}};function C4(e,t,n,i,r,o,s,u){return e=xa(e,t,n,o,i||null,r),Vt(s(),[e],u()).map(function(a){return a.toString()})}h.tf=function(){return this.K};function Ks(e){this.u=null,this.C=e,this.H=new vs,this.i=[],this.h=null,this.m=[],this.D=null,this.G=[],this.F=300,this.l=new Map,this.j=new Map,this.g=null,this.A="UNKNOWN"}Ks.prototype.configure=function(e){this.u=e},Ks.prototype.destroy=function(){return this.C=this.u=null,this.i=[],this.h=null,this.m=[],this.G=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.H.destroy()},Ks.prototype.setManifestType=function(e){this.A=e};function Ia(e,t){var n,i,r,o,s,u,a;return N(function(l){if(l.g==1)return n=Vt(e.i,[$C(e,t)]),i=Lt(n,e.u.retryParameters),r=e.C.networkingEngine.request(8,i),Mo(e.H,r),ue(l,2),w(l,r.promise,4);if(l.g!=2)return o=l.h,s=dt(o.data),u=JSON.parse(s),u.VERSION==1&&QC(e,u,o.uri),Ae(l,0);if((a=ae(l))&&a.code==7001)return l.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new le(function(){Ia(e,t)}),e.g.Y(e.F),Z(l)})}function $C(e,t){if(!e.m.length)return t;t=new It(t);var n=e.D||e.m[0],i=Math.round(e.C.getBandwidthEstimate()),r=t.g;return e.A=="DASH"?(r.add("_DASH_pathway",n),r.add("_DASH_throughput",String(i))):e.A=="HLS"&&(r.add("_HLS_pathway",n),r.add("_HLS_throughput",String(i))),fl(r),r.qe&&es(t,r),t.toString()}function QC(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var i=t["RELOAD-URI"]||n;e.g=new le(function(){Ia(e,i)}),(n=t.TTL)&&(e.F=n),e.g.Y(e.F),e.m=t["PATHWAY-PRIORITY"]||[],e.G=t["PATHWAY-CLONES"]||[]}function Ws(e,t,n,i){var r=e.l.get(t);r||(r=new Map),r.set(n,i),e.l.set(t,r)}Ks.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)};function ka(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var i=[],r=T(e.m),o=r.next(),s={};!o.done;s={Td:void 0},o=r.next())if(s.Td=o.value,o=t.get(s.Td))i.push({Uh:s.Td,location:o});else if(o=e.G.find((function(a){return function(l){return l.cn==a.Td}})(s))){var u=t.get(o["BASE-ID"]);u&&(o["URI-REPLACEMENT"].rk?(u=new It(u),hl(u,o["URI-REPLACEMENT"].rk),i.push({Uh:s.Td,location:u.toString()})):i.push({Uh:s.Td,location:u}))}for(r=Date.now(),s=T(e.j.keys()),o=s.next();!o.done;o=s.next())o=o.value,u=e.j.get(o),r>u&&e.j.delete(o);if(i=i.filter(function(a){for(var l=T(e.j.keys()),c=l.next();!c.done;c=l.next())if(c.value.includes(new It(a.location).Jb))return!1;return!0}),i.length&&(e.D=i[0].Uh),i=i.map(function(a){return a.location}),!i.length&&e.h)for(r=T(e.h.split(",")),s=r.next();!s.done;s=r.next())(s=t.get(s.value))&&(e.D=e.h,i.push(s));if(!i.length)for(t=T(t.values()),r=t.next();!r.done;r=t.next())i.push(r.value);return n?i:Vt(e.i,i)}function Pn(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=!1,this.m=new Set}h=Pn.prototype,h.release=function(){for(var e=T(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=!1,this.m.clear()},h.Al=function(){return this.l},h.Bh=function(){return this.j.slice()},h.Uk=function(){return this.i},h.Xi=function(e,t){if(e){if(e.type=="audio")for(var n=T(this.h),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});else if(e.type=="video")for(n=T(this.g),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e}),i.trickModeVideo&&(i.trickModeVideo.matchedStreams=i.trickModeVideo.matchedStreams.filter(function(r){return r!==e})),i.dependencyStream&&(i.dependencyStream.matchedStreams=i.dependencyStream.matchedStreams.filter(function(r){return r!==e}));else if(e.type==Re)for(n=T(this.j),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});else if(e.type=="image")for(n=T(this.i),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}};function M4(e,t){var n=[],i=[],r=[],o=[];e=T(e);for(var s=e.next();!s.done;s=e.next()){var u=s.value;s=new Map(u.audioStreams.map(function(d){return[v0(d),d]}));var a=new Map(u.videoStreams.map(function(d){return[m0(d),d]})),l=new Map(u.textStreams.map(function(d){return[Ma(d),d]}));if(u=new Map(u.imageStreams.map(function(d){return[Ra(d),d]})),t){var c=O4(Re);l.set(Ma(c),c),c=O4("image"),u.set(Ra(c),c)}n.push(s),i.push(a),r.push(l),o.push(u)}return{Ni:n,nk:i,fk:r,lj:o}}h.Tg=function(e,t,n){n=n===void 0?!1:n;var i=this,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we;return N(function(ne){if(ne.g==1){if(r=Rt,!t&&e.length==1)return o=M4(e,!1),s=o.Ni,u=o.nk,a=o.fk,l=o.lj,i.h=Array.from(s[0].values()),i.g=Array.from(u[0].values()),i.j=Array.from(a[0].values()),i.i=Array.from(l[0].values()),ne.B(2);for(c=n?i.m.size:0,d=-1,p=0;p<e.length;p++)v=e[p],i.m.has(v.id)||(i.m.add(v.id),d==-1&&(d=p));return d==-1?ne.return():(y=M4(e,!0),E=y.Ni,A=y.nk,k=y.fk,I=y.lj,w(ne,Promise.all([io(i,i.h,E,d,Xs,ro,c),io(i,i.g,A,d,Xs,ro,c),io(i,i.j,k,d,Xs,ro,c),io(i,i.i,I,d,Xs,ro,c)]),2))}if(C=0,L=[],i.g.length&&i.h.length)for(U=T(i.h),B=U.next();!B.done;B=U.next())for(G=B.value,H=T(i.g),F=H.next();!F.done;F=H.next())q=F.value,z=Cv(G.drmInfos,q.drmInfos),G.drmInfos.length&&q.drmInfos.length&&!z.length||(Y=(G.bandwidth||0)+(q.bandwidth||0),G.dependencyStream&&(Y+=G.dependencyStream.bandwidth||0),q.dependencyStream&&(Y+=q.dependencyStream.bandwidth||0),we=C++,L.push({id:we,language:G.language,disabledUntilTime:0,primary:G.primary,audio:G,video:q,bandwidth:Y,drmInfos:z,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(O=i.g.length?i.g:i.h,M=T(O),D=M.next();!D.done;D=M.next())P=D.value,j=C++,b=P.bandwidth||0,P.dependencyStream&&(b+=P.dependencyStream.bandwidth||0),L.push({id:j,language:P.language,disabledUntilTime:0,primary:P.primary,audio:P.type==r.ia?P:null,video:P.type==r.Ga?P:null,bandwidth:b,drmInfos:P.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});i.l=L,Z(ne)})};function R4(e){var t,n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H;return N(function(F){switch(F.g){case 1:if(t=Rt,e.length==1)return F.return(e[0]);for(n=e.map(function(q){return new Map(q.filter(function(z){return z.type===t.ia}).map(function(z){return[v0(z),z]}))}),i=e.map(function(q){return new Map(q.filter(function(z){return z.type===t.Ga}).map(function(z){return[m0(z),z]}))}),r=e.map(function(q){return new Map(q.filter(function(z){return z.type===t.Va}).map(function(z){return[Ma(z),z]}))}),o=e.map(function(q){return new Map(q.filter(function(z){return z.type===t.Dg}).map(function(z){return[Ra(z),z]}))}),s=T(r),u=s.next();!u.done;u=s.next())a=u.value,l=N4(t.Va),a.set(Ma(l),l);for(c=T(o),d=c.next();!d.done;d=c.next())p=d.value,v=N4(t.Dg),p.set(Ra(v),v);return y=new Pn,w(F,io(y,[],n,0,od,sd,0),2);case 2:return E=F.h,w(F,io(y,[],i,0,od,sd,0),3);case 3:return A=F.h,w(F,io(y,[],r,0,od,sd,0),4);case 4:return k=F.h,w(F,io(y,[],o,0,od,sd,0),5);case 5:if(I=F.h,C=0,A.length&&E.length)for(P=T(E),j=P.next();!j.done;j=P.next())for(b=j.value,U=T(A),B=U.next();!B.done;B=U.next())G=B.value,H=C++,G.variantIds.push(H),b.variantIds.push(H);else for(L=A.concat(E),O=T(L),M=O.next();!M.done;M=O.next())D=M.value,D.variantIds=[C++];return F.return(A.concat(E).concat(k).concat(I))}})}function io(e,t,n,i,r,o,s){var u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j;return N(function(b){switch(b.g){case 1:for(u=[],a=0;a<n.length;a++)a>=i?u.push(new Set(n[a].values())):u.push(new Set);l=T(t),c=l.next();case 2:if(c.done){b.B(4);break}return d=c.value,w(b,eM(e,d,n,i,o,u,s),5);case 5:if(p=b.h,!p)throw new _(2,4,4037);c=l.next(),b.B(2);break;case 4:for(v=T(u),y=v.next();!y.done;y=v.next())for(E=y.value,A=T(E),k=A.next();!k.done;k=A.next())I=k.value,(C=tM(e,t,I,n,r,o,u))&&t.push(C);for(L=T(u),O=L.next();!O.done;O=L.next())for(M=O.value,D=T(M),P=D.next(),j={};!P.done;j={pi:void 0},P=D.next())if(j.pi=P.value,!g0(j.pi)&&t.some((function(U){return function(B){return p0(U.pi,B)}})(j)))throw new _(2,4,4037);return b.return(t)}})}function eM(e,t,n,i,r,o,s){return N(function(u){return u.g==1?(b4(e,n,t,s>0),t.matchedStreams?t.segmentIndex?w(u,L4(t,i+s),2):u.B(2):u.return(!1)):(P4(t,i,r,o,s),u.return(!0))})}function L4(e,t){var n,i,r,o,s,u;return N(function(a){if(a.g==1){for(n=[],i=e.matchedStreams,r=t;r<i.length;r++)o=i[r],n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex()),o.dependencyStream&&!o.dependencyStream.segmentIndex&&n.push(o.dependencyStream.createSegmentIndex());return w(a,Promise.all(n),2)}if(e.segmentIndex instanceof mt)for(s=t;s<i.length;s++)u=i[s],u.segmentIndex&&e.segmentIndex.h.push(u.segmentIndex);Z(a)})}function tM(e,t,n,i,r,o,s){if(g0(n))return null;var u=r(n);return b4(e,i,u),u.createSegmentIndex&&(u.createSegmentIndex=function(){return N(function(a){return u.segmentIndex?a.B(0):(u.segmentIndex=new mt,w(a,L4(u,0),0))})},u.closeSegmentIndex=function(){if(u.segmentIndex&&(u.segmentIndex.release(),u.segmentIndex=null),u.matchedStreams)for(var a=T(u.matchedStreams),l=a.next();!l.done;l=a.next()){l=l.value;var c;if(c=l.segmentIndex){e:{c=T(t);for(var d=c.next();!d.done;d=c.next())if(d=d.value,d!==u&&d.segmentIndex&&d.matchedStreams&&d.matchedStreams.includes(l)){c=!0;break e}c=!1}c=!c}c&&(l.segmentIndex.release(),l.segmentIndex=null)}}),!u.matchedStreams||!u.matchedStreams.length?null:(P4(u,0,o,s,0),u)}function P4(e,t,n,i,r){var o=e.matchedStreams;for(t+=r;t<o.length;t++){var s=o[t];n(e,s);var u=!0;if(e.type=="audio"&&mo(e.language,s.language)==0&&(u=!1),u&&((u=i[t-r])&&u.delete(s),s.fullMimeTypes))for(s=T(s.fullMimeTypes.values()),u=s.next();!u.done;u=s.next())e.fullMimeTypes.add(u.value)}}function Xs(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function od(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function ro(e,t){function n(s,u){s||(s=[]),u=T(u);for(var a=u.next();!a.done;a=u.next())a=a.value,s.includes(a)||s.push(a);return s}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var i=T(t.keyIds),r=i.next();!r.done;r=i.next())e.keyIds.add(r.value);if(e.originalId==null?e.originalId=t.originalId:(i=t.originalId||"")&&!e.originalId.endsWith(i)&&(e.originalId+=","+i),i=Cv(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new _(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=T(t.closedCaptions),r=i.next();!r.done;r=i.next()){var o=T(r.value);r=o.next().value,o=o.next().value,e.closedCaptions.set(r,o)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Xs(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var s=new mt,u=T(e.trickModeVideo.matchedStreams),a=u.next();!a.done;a=u.next())s.h.push(a.value.segmentIndex);return e.trickModeVideo.segmentIndex=s,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),ro(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),ro(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=Xs(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var s=new mt,u=T(e.dependencyStream.matchedStreams),a=u.next();!a.done;a=u.next())s.h.push(a.value.segmentIndex);return e.dependencyStream.segmentIndex=s,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),ro(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),ro(e.dependencyStream,t))}function sd(e,t){var n=e.roles;n||(n=[]);for(var i=T(t.roles),r=i.next();!r.done;r=i.next())r=r.value,n.includes(r)||n.push(r);for(e.roles=n,n=T(t.keyIds),i=n.next();!i.done;i=n.next())e.keyIds.add(i.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,X(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=T(t.closedCaptions),n=t.next();!n.done;n=t.next())i=T(n.value),n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}function b4(e,t,n,i){i=i!==void 0&&i?n.matchedStreams:[],t=T(t);for(var r=t.next();!r.done;r=t.next()){if(r=nM(e,r.value,n),!r)return;i.push(r)}n.matchedStreams=i}function nM(e,t,n){var i={audio:v0,video:m0,text:Ma,image:Ra}[n.type],r=null,o=i(n);if(t.has(o))r=t.get(o);else{o={audio:function(l,c){return p0(l,c)},video:function(l,c){return p0(l,c)},text:iM,image:rM}[n.type];for(var s={audio:oM,video:sM,text:uM,image:aM}[n.type],u=T(t.values()),a=u.next();!a.done;a=u.next())a=a.value,!o(n,a)||n.fastSwitching!=a.fastSwitching||r&&!s(n,r,a)||(r=a)}return e.u&&!g0(r)&&t.delete(i(r)),r}function D4(e,t){return e.mimeType!=t.mimeType?!1:j4(e.codecs)===j4(t.codecs)}h.Uj=function(e){this.u=e};function p0(e,t){return!(e.drmInfos&&!kv(e.drmInfos,t.drmInfos))}function iM(e,t){return t.language?!(e.forced!==t.forced||mo(e.language,t.language)==0||t.kind!=e.kind):!0}function rM(){return!0}function oM(e,t,n){var i=_4(e,t,n);if(i===Fn)return!0;if(i===ai)return!1;i=mo(e.language,t.language);var r=mo(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(i=Ca(e.channelsCount,t.channelsCount,n.channelsCount),i==Fn?!0:i==ai?!1:(i=Ca(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),i==Fn?!0:i==ai?!1:!!(e.bandwidth&&U4(e.bandwidth,t.bandwidth,n.bandwidth)==Fn)))}function sM(e,t,n){var i=_4(e,t,n);if(i===Fn)return!0;if(i===ai)return!1;if(i=Ca(e.width*e.height,t.width*t.height,n.width*n.height),i==Fn)return!0;if(i==ai)return!1;if(e.frameRate){if(i=Ca(e.frameRate,t.frameRate,n.frameRate),i==Fn)return!0;if(i==ai)return!1}return!!(e.bandwidth&&U4(e.bandwidth,t.bandwidth,n.bandwidth)==Fn)}function uM(e,t,n){var i=mo(e.language,t.language),r=mo(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function aM(e,t,n){return Ca(e.width*e.height,t.width*t.height,n.width*n.height)==Fn}function N4(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function O4(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ve([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function Ca(e,t,n){if(t==e&&e!=n)return ai;if(n==e&&e!=t)return Fn;if(t>e){if(n<=e||n-e<t-e)return Fn;if(n-e>t-e)return ai}else{if(n>e)return ai;if(e-n<e-t)return Fn;if(e-n>e-t)return ai}return y0}function _4(e,t,n){var i=e.mimeType===t.mimeType&&e.codecs===t.codecs,r=e.mimeType===n.mimeType&&e.codecs===n.codecs;return i&&!r?ai:!i&&r?Fn:(t=D4(e,t),e=D4(e,n),t&&!e?ai:!t&&e?Fn:y0)}function U4(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Fn:t<e?ai:y0}function g0(e){switch(e.type){case Re:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function m0(e){return ud([e.fastSwitching,e.width,e.frameRate,e.codecs,e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function v0(e){return ud([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,e.codecs,e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function Ma(e){return ud([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Ra(e){return ud([e.width,e.codecs,e.mimeType])}function ud(e){return JSON.stringify(e)}function j4(e){if(!T0.has(e)){var t=Et(e);T0.set(e,t)}return T0.get(e)}K("shaka.util.PeriodCombiner",Pn),Pn.prototype.setUseStreamOnce=Pn.prototype.Uj,Pn.prototype.combinePeriods=Pn.prototype.Tg,Pn.prototype.deleteStream=Pn.prototype.Xi,Pn.prototype.getImageStreams=Pn.prototype.Uk,Pn.prototype.getTextStreams=Pn.prototype.Bh,Pn.prototype.getVariants=Pn.prototype.Al;var Fn=1,y0=0,ai=-1,T0=new Map;function lM(e,t){var n=new DOMParser,i=cM.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function B4(e,t){try{var n=Bi(e);return lM(n,t)}catch{return null}}var cM=new ct(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function La(){var e=this;this.j=this.g=null,this.C=[],this.h=null,this.Fa=1,this.H=[],this.l={Tf:"",type:"",profiles:[],Gc:null,zb:0,ib:null,Je:0},this.A=new Map,this.D=new Map,this.u=new Map,this.F=new Map,this.ua=new Map,this.m=new Pn,this.K=0,this.ya=new us(5),this.L=new le(function(){if(e.J&&!e.g.continueLoadingWhenPaused&&(e.I.Ea(e.J,"timeupdate"),e.J.paused)){e.I.qa(e.J,"timeupdate",function(){return K4(e)});return}K4(e)}),this.P=new vs,this.O=null,this.G=[],this.Z=1/0,this.oa=!1,this.i=null,this.M=0,this.R=!1,this.I=new Fe,this.J=null,this.T=!1,this.X="",this.ha=function(){return!1},this.V=[],this.aa=new Set,this.sa=new p4}h=La.prototype,h.configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&e.updatePeriod>=0;this.g=e,t&&(this.ha=t),n&&this.h&&this.h.presentationTimeline.U()&&this.L.Ja(),this.i&&this.i.configure(this.g),this.m&&this.m.Uj(this.g.dash.useStreamOnceInPeriodFlattening)},h.start=function(e,t){var n=this,i;return N(function(r){if(r.g==1)return n.oa=t.isLowLatencyMode(),n.C=[e],n.j=t,w(r,S0(n),2);if(i=r.h,n.j&&E0(n,i),!n.j)throw new _(2,7,7001);return r.return(n.h)})},h.stop=function(){for(var e=T(this.u.values()),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.C=[],this.h=null,this.u.clear(),this.F.clear(),this.A.clear(),this.D.clear(),this.l={Tf:"",type:"",profiles:[],Gc:null,zb:0,ib:null,Je:0},this.m=null,this.L!=null&&(this.L.stop(),this.L=null),this.i&&this.i.destroy(),this.I&&(this.I.release(),this.I=null),this.aa.clear(),this.sa.release(),this.P.destroy()},h.update=function(){var e=this,t;return N(function(n){if(n.g==1)return ue(n,2),w(n,S0(e),4);if(n.g!=2)return Ae(n,0);if(t=ae(n),!e.j||!t)return n.return();e.j.onError(t),Z(n)})},h.onExpirationUpdated=function(){},h.onInitialVariantChosen=function(e){if(this.h&&this.h.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.h.presentationTimeline.Uc();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.K=t.endTime-e,E0(this,0))}}},h.banLocation=function(e){this.i&&this.i.banLocation(e)},h.setMediaElement=function(e){this.J=e};function S0(e){var t,n,i,r,o,s,u,a,l,c,d;return N(function(p){return p.g==1?(t=4,n="MPD",i=IM(e),r=e.C,i.length?(r=i,n="Patch",t=6):e.C.length>1&&e.i&&(o=ka(e.i,"Location",!0),o.length&&(r=o)),s=Lt(r,e.g.retryParameters),u=Date.now(),w(p,x0(e,s,0,{type:t}),2)):p.g!=3?(a=p.h,e.j?(a.uri&&a.uri!=a.originalUri&&!e.C.includes(a.uri)&&e.C.unshift(a.uri),l=new It(a.uri),e.X=l.g.toString(),w(p,dM(e,a.data,a.uri,n),3)):p.return(0)):(c=Date.now(),d=(c-u)/1e3,e.ya.sample(1,d),e.aa.clear(),p.return(d))})}function dM(e,t,n,i){var r,o,s,u,a,l,c,d,p,v;return N(function(y){if(y.g==1){if(r=t,o=e.g.dash.manifestPreprocessor,s=Sc,o!=s){if(qe("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),u=B4(r,i),!u)throw new _(2,4,4001,n);o(u),r=vi(u.outerHTML)}if(a=Iu(r,i),!a)throw new _(2,4,4001,n);return l=e.g.dash.manifestPreprocessorTXml,c=Ec,l!=c&&l(a),i==="Patch"?y.return(hM(e,a)):e.g.dash.disableXlinkProcessing?y.return(F4(e,a,n)):(d=e.g.dash.xlinkFailGracefully,p=rd(a,e.g.retryParameters,d,n,e.j.networkingEngine),Mo(e.P,p),w(y,p.promise,2))}return v=y.h,y.return(F4(e,v,n))})}function F4(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze,Ie,$e,Ne,Pe,je,He,Be,be,Oe,Ft,Dt,ei,Dn,xn,Zo,br,Ii,su,uu,Sh;return N(function(ki){switch(ki.g){case 1:for(e.i&&e.i.l.clear(),i=[n],r=[],o=new Map,s=Ze(t,"Location"),u=T(s),a=u.next();!a.done;a=u.next())l=a.value,c=l.attributes.serviceLocation,(d=vn(l))&&(p=Vt(i,[d])[0],c&&(e.i?Ws(e.i,"Location",c,p):o.set(c,p)),r.push(p));if(e.i?(v=ka(e.i,"Location",!0),v.length>0&&(i=e.C=v)):r.length&&(i=e.C=r),e.l.Tf=t.attributes.id||"",e.l.Je=Se(t,"publishTime",ar)||0,e.H=Ze(t,"PatchLocation"),y=Promise.resolve(),(E=ut(t,"ContentSteering"))&&e.j)for(A=E.attributes.defaultServiceLocation,e.i?(e.i.i=i,e.i.h=A):(e.i=new Ks(e.j),e.i.configure(e.g),e.i.setManifestType("DASH"),e.i.i=i,e.i.h=A,(k=vn(E))&&(Se(E,"queryBeforeStart",Cl,!1)?y=Ia(e.i,k):Ia(e.i,k))),I=T(o.keys()),C=I.next();!C.done;C=I.next())L=C.value,O=o.get(L),Ws(e.i,"Location",L,O);if(M=Ze(t,"BaseURL"),D=!1,e.i)for(P=T(M),j=P.next();!j.done;j=P.next())b=j.value,U=b.attributes.serviceLocation,B=vn(b),U&&B&&(Ws(e.i,"BaseURL",U,B),D=!0);if(e.V.splice(0),D&&e.i||(G=M.map(vn),e.V.push.apply(e.V,X(Vt(i,G)))),H=e.i,F=e.V,q=kM,z=q.call(La,H,D,F),e.l.ib=z,Y=0,M&&M.length&&(Y=Se(M[0],"availabilityTimeOffset",kl)||0),e.l.zb=Y,e.K=Se(t,"minimumUpdatePeriod",qi,-1),we=Se(t,"availabilityStartTime",ar),ne=Se(t,"timeShiftBufferDepth",qi),ze=e.g.dash.ignoreSuggestedPresentationDelay,Ie=null,ze||(Ie=Se(t,"suggestedPresentationDelay",qi)),$e=e.g.dash.ignoreMaxSegmentDuration,Ne=null,$e||(Ne=Se(t,"maxSegmentDuration",qi)),Pe=t.attributes.type||"static",e.h&&e.h.presentationTimeline&&(e.T=e.h.presentationTimeline.U()&&Pe=="static"),e.l.type=Pe,e.h)for(je=e.h.presentationTimeline,He=je.Nb(),Be=T(e.u.values()),be=Be.next();!be.done;be=Be.next())Oe=be.value,Oe.segmentIndex&&Oe.segmentIndex.eb(He);else Ft=e.g.dash.ignoreMinBufferTime,Dt=0,Ft||(Dt=Se(t,"minBufferTime",qi)||0),ei=0,ei=Ie!=null?Math.min(Ie,ne||1/0):e.g.defaultPresentationDelay>0?e.g.defaultPresentationDelay:Math.min(Dt*1.5,ne||1/0),je=new ve(we,ei,e.g.dash.autoCorrectDrift);return je.sd(Pe=="static"),je.U()&&!isNaN(e.g.availabilityWindowOverride)&&(ne=e.g.availabilityWindowOverride),ne==null&&(ne=1/0),je.mg(ne),Dn=t.attributes.profiles||"",e.l.profiles=Dn.split(","),xn={Kb:Pe!="static",presentationTimeline:je,Ba:null,ra:null,wa:null,N:null,bandwidth:0,Gh:!1,zb:Y,Gc:null,profiles:Dn.split(","),roles:null,Rb:Z4},w(ki,y,2);case 2:return e.M=0,Zo=G4(e,xn,z,t,!1),br=Zo.duration,Ii=Zo.periods,(Pe!="static"||e.T)&&Zo.Zi||je.Fb(br||1/0),e.R&&e.oa&&je.Pj(e.Z),je.Ph(Ne||1),e.R&&e.oa&&(su=Ie??e.g.defaultPresentationDelay,je.ii(su)),e.h?(e.h.periodCount=Ii.length,e.h.gapCount=e.M,w(ki,q4(e,Ii,!1),4)):w(ki,e.m.Tg(Ii,xn.Kb),6);case 6:var Eh=je,$m=e.m.l,Ah=e.m.Bh(),au=e.m.i,tl=e.g.dash.sequenceMode,Nt=ut(t,"ServiceDescription");if(Nt){var Vn=ut(Nt,"Latency");if(Nt=ut(Nt,"PlaybackRate"),Vn||Nt){var wn={};Vn&&("target"in Vn.attributes&&(wn.targetLatency=parseInt(Vn.attributes.target,10)/1e3),"max"in Vn.attributes&&(wn.maxLatency=parseInt(Vn.attributes.max,10)/1e3),"min"in Vn.attributes&&(wn.minLatency=parseInt(Vn.attributes.min,10)/1e3)),Nt&&("max"in Nt.attributes&&(wn.maxPlaybackRate=parseFloat(Nt.attributes.max)),"min"in Nt.attributes&&(wn.minPlaybackRate=parseFloat(Nt.attributes.min))),Vn=wn}else Vn=null}else Vn=null;e:{if(Nt=Ze(t,"SupplementalProperty"),Nt.length){for(Nt=T(Nt),wn=Nt.next();!wn.done;wn=Nt.next())if(wn=wn.value,wn.attributes.schemeIdUri=="urn:mpeg:dash:chaining:2016"){Nt=wn.attributes.value;break e}}Nt=null}if(e.h={presentationTimeline:Eh,variants:$m,textStreams:Ah,imageStreams:au,offlineSessionIds:[],sequenceMode:tl,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:Vn,nextUrl:Nt,periodCount:Ii.length,gapCount:e.M,isLowLatency:e.R,startTime:null},!je.jk()){ki.B(7);break}return uu=Ze(t,"UTCTiming"),w(ki,xM(e,z,uu),8);case 8:if(Sh=ki.h,!e.j)return ki.return();je.Qj(Sh);case 7:je.Pf(),e.m&&!e.h.presentationTimeline.U()&&e.m.release();case 4:e.j.makeTextStreamsForClosedCaptions(e.h),pM(e),gM(e,Ii),Z(ki)}})}function q4(e,t,n){var i;return N(function(r){if(r.g==1)return w(r,e.m.Tg(t,!0,n),2);e.h.variants=e.m.l,i=e.m.Bh(),i.length>0&&(e.h.textStreams=i),e.h.imageStreams=e.m.i,e.j.filter(e.h),Z(r)})}function hM(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B;return N(function(G){if(G.g==1){if(n=t.attributes.mpdId,i=Se(t,"originalPublishTime",ar),!n||n!==e.l.Tf||i!==e.l.Je)throw e.H=[],new _(1,4,4052);for(r=[],o=[],s=new Set,u=T(zv(t)),a=u.next();!a.done;a=u.next())if(l=a.value,c=Ml(l.attributes.sel||""),d=c[c.length-1],p=vn(l)||"",d.name==="MPD")if(d.Pc==="mediaPresentationDuration"){v=vn(l)||"";var H=qi(v);if(H!=null){e.l.Gc=H;for(var F=T(e.A.values()),q=F.next();!q.done;q=F.next())q.value.Gc=H}}else if(d.Pc==="type"){for(e.h.presentationTimeline.sd(p=="static"),e.l.type=p,H=T(e.A.values()),F=H.next();!F.done;F=H.next())F.value.Kb=p=="dynamic";p=="static"&&(e.K=-1)}else d.Pc==="publishTime"?e.l.Je=ar(p)||0:d.Pc===null&&l.tagName==="add"&&o.push(l);else if(d.name==="PatchLocation")Wv(e.H,l);else if(d.name==="Period")l.tagName==="add"?o.push(l):l.tagName==="remove"&&d.id&&fM(e,d.id);else if(d.name==="SegmentTemplate"){if(F=Ml(l.attributes.sel||""),H=F[F.length-1],H.Pc){F=V4(e,F),q=vn(l)||"";for(var z=T(F),Y=z.next();!Y.done;Y=z.next())Y=e.A.get(Y.value),Yv(Y.N.bd,l.tagName,H.Pc,q);H=F}else H=[];for(y=H,E=T(y),A=E.next();!A.done;A=E.next())k=A.value,s.add(k)}else if(d.name==="SegmentTimeline"||d.name==="S"){for(H=Ml(l.attributes.sel||""),H=V4(e,H),F=T(H),q=F.next();!q.done;q=F.next())q=e.A.get(q.value),q=Gs(q,no,"SegmentTimeline"),z=Ze(q,"S"),Wv(z,l),q.children=z;for(I=H,C=T(I),L=C.next();!L.done;L=C.next())O=L.value,s.add(O)}for(M=T(s),D=M.next();!D.done;D=M.next())P=D.value,H4(e,P);for(j=T(o),b=j.next();!b.done;b=j.next())U=b.value,r.push.apply(r,X(G4(e,{Kb:e.l.type=="dynamic",presentationTimeline:e.h.presentationTimeline,Ba:null,ra:null,wa:null,N:null,bandwidth:0,Gh:!1,zb:e.l.zb,profiles:e.l.profiles,Gc:e.l.Gc,roles:null,Rb:Z4},e.l.ib,U,!0).periods));return r.length?(e.h.periodCount+=r.length,e.h.gapCount=e.M,w(G,q4(e,r,!0),2)):G.B(2)}e.l.type=="static"&&(B=e.l.Gc,e.h.presentationTimeline.Fb(B||1/0)),Z(G)})}function fM(e,t){e.h.periodCount--;for(var n=T(e.A.keys()),i=n.next();!i.done;i=n.next())if(i=i.value,i.startsWith(t)){var r=e.A.get(i);Gs(r,no,"SegmentTimeline").children=[],H4(e,i),e.A.delete(i)}e.G=e.G.filter(function(o){return o!==t})}function V4(e,t){var n="",i="",r=-1,o="";t=T(t);for(var s=t.next();!s.done;s=t.next())s=s.value,s.name==="Period"?n=s.id:s.name==="AdaptationSet"?(i=s.id,s.position!==null&&(r=s.position)):s.name==="Representation"&&(o=s.id);if(t=[],o)t.push(n+","+o);else if(i)for(r=T(e.A.values()),e=r.next();!e.done;e=r.next())e=e.value,e.Ba.id===n&&e.wa.id===i&&e.N.id&&t.push(n+","+e.N.id);else if(r>-1)for(i=T(e.A.values()),e=i.next();!e.done;e=i.next())e=e.value,e.Ba.id===n&&e.wa.position===r&&e.N.id&&t.push(n+","+e.N.id);return t}function H4(e,t){var n=e.A.get(t),i=e.u.get(t);i.segmentIndex&&i.segmentIndex.eb(e.h.presentationTimeline.Nb());try{var r=I4(n,function(o,s,u,a){return X4(e,o,s,u,a)},e.u,!0,e.g.dash.initialSegmentLimit,e.ua,n.N.aesKey,null,!0,e.D);i.createSegmentIndex=function(){return N(function(o){if(o.g==1)return i.segmentIndex?o.B(0):w(o,r.hd(),3);i.segmentIndex=o.h,Z(o)})}}catch(o){if(t=n.N.contentType,t!=Re&&t!="application"&&t!="image"||o.code!=4002)throw o}}function G4(e,t,n,i,r){var o=t.Gc;o||(o=Se(i,"mediaPresentationDuration",qi),e.l.Gc=o);var s=0;e.h&&e.h.presentationTimeline&&e.T&&(s=e.h.presentationTimeline.jc());var u=[],a=s;i=Ze(i,"Period");for(var l=0;l<i.length;l++){var c=i[l],d=i[l+1],p=Se(c,"start",qi,a),v=c.attributes.id,y=Se(c,"duration",qi);p=l==0&&p==0&&e.T?s:p;var E=null;if(d){var A=Se(d,"start",qi);A!=null&&(E=A-p+s)}else o!=null&&(E=o-p+s);if(A=Lv,E&&y&&Math.abs(E-y)>A&&E>y&&e.M++,E==null&&(E=y),!(e.O!==null&&v!==null&&p!==null&&p<e.O)||e.G.includes(v)||l+1==i.length){if(p!==null&&(e.O===null||p>e.O)&&(e.O=p),a=mM(e,t,n,{start:p,duration:E,node:c,If:E==null||!d}),u.push(a),t.Ba.id&&E&&e.ua.set(t.Ba.id,E),E==null){a=null;break}a=p+E}}if(r)for(t=T(u),n=t.next();!n.done;n=t.next())n=n.value.id,e.G.includes(n)||e.G.push(n);else e.G=u.map(function(k){return k.id});return o!=null?{periods:u,duration:o+s,Zi:!1}:{periods:u,duration:a,Zi:!0}}function pM(e){var t=Array.from(e.F.keys()).filter(function(u){return!e.G.includes(u)});t=T(t);for(var n=t.next();!n.done;n=t.next()){n=n.value;for(var i=!0,r=T(e.F.get(n)),o=r.next();!o.done;o=r.next()){o=o.value;var s=e.u.get(o);s&&(s.segmentIndex&&s.segmentIndex.getNumReferences()!=0?i=!1:(e.m&&e.m.Xi(s,n),e.u.delete(o)))}i&&e.F.delete(n)}}function gM(e,t){t=new Set(t.map(function(r){return r.id}));for(var n=T(e.D.keys()),i=n.next();!i.done;i=n.next())i=i.value,t.has(i)||e.D.delete(i)}function mM(e,t,n,i){t.Ba=A0(e,i.node,null,n),t.ra=i,t.Ba.zb=t.zb,t.Ba.id||(t.Ba.id="__shaka_period_"+i.start);var r=Ze(i.node,"EventStream");n=t.presentationTimeline.Nb(),r=T(r);for(var o=r.next();!o.done;o=r.next())wM(e,i.start,i.duration,o.value,n);for(n=Ze(i.node,"SupplementalProperty"),n=T(n),r=n.next();!r.done;r=n.next())r=r.value,r.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"&&(r=Pa(e,r))&&(t.Rb=r);if(n=Ze(i.node,"AdaptationSet").map(function(v,y){return z4(e,t,y,v)}).filter(Hr),t.Kb){r=[],o=T(n);for(var s=o.next();!s.done;s=o.next()){s=T(s.value.lm);for(var u=s.next();!u.done;u=s.next())r.push(u.value)}if(r.length!=new Set(r).size)throw new _(2,4,4018)}for(r=new Map,o=T(n),s=o.next();!s.done;s=o.next())for(s=T(s.value.Dk),u=s.next();!u.done;u=s.next()){var a=T(u.value);u=a.next().value,a=a.next().value,r.set(u,a)}if(r.size)for(o=null,s=T(n),u=s.next();!u.done;u=s.next()){u=u.value,a=[];for(var l=T(u.streams),c=l.next(),d={};!c.done;d={ri:void 0},c=l.next())if(d.ri=c.value,r.has(d.ri.originalId)){o||(o=Ze(i.node,"AdaptationSet").map(function(v,y){return z4(e,t,y,v)}).filter(Hr)),c=T(o);for(var p=c.next();!p.done;p=c.next())(p=p.value.streams.find((function(v){return function(y){return y.originalId==v.ri.originalId}})(d)))&&(p.dependencyStream=r.get(p.originalId),p.originalId+=p.dependencyStream.originalId,a.push(p))}a.length&&u.streams.push.apply(u.streams,X(a))}if(i=n.filter(function(v){return!v.Bi}),n=n.filter(function(v){return v.Bi}),!e.g.disableIFrames){for(n=T(n),r=n.next();!r.done;r=n.next())for(r=r.value,o=r.Bi.split(" "),s=T(i),u=s.next();!u.done;u=s.next())if(u=u.value,o.includes(u.id))for(u=T(u.streams),a=u.next();!a.done;a=u.next())v1(a.value,r.streams)}if(n=ad(e.g.disableAudio,i,"audio"),r=ad(e.g.disableVideo,i,"video"),o=ad(e.g.disableText,i,Re),i=ad(e.g.disableThumbnails,i,"image"),r.length===0&&n.length===0)throw new _(2,4,4004);return{id:t.Ba.id,audioStreams:n,videoStreams:r,textStreams:o,imageStreams:i}}function ad(e,t,n){return e||!t.length?[]:t.reduce(function(i,r){return r.contentType!=n||i.push.apply(i,X(r.streams)),i},[])}function z4(e,t,n,i){function r(B){var G=B.attributes["dvb:fontFamily"];B=B.attributes["dvb:url"],G&&B&&(B=Vt(t.wa.ib(),[B],t.Rb()),e.j.addFont(G,B[0]))}function o(B){switch(B){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(B){switch(B){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.wa=A0(e,i,t.Ba,null),t.wa.position=n;var u=!1;n=Ze(i,"Role");var a=n.map(function(B){return B.attributes.value}).filter(Hr),l=void 0,c=t.wa.contentType==Re;c&&(l="subtitle"),n=T(n);for(var d=n.next();!d.done;d=n.next()){d=d.value;var p=d.attributes.schemeIdUri;if(p==null||p=="urn:mpeg:dash:role:2011")switch(d=d.attributes.value,d){case"main":u=!0;break;case"caption":case"subtitle":l=d}}var v=Ze(i,"EssentialProperty");n=null;var y=!1;d=null,p=!1,v=T(v);for(var E=v.next();!E.done;E=v.next()){E=E.value;var A=E.attributes.schemeIdUri;if(A=="http://dashif.org/guidelines/trickmode")n=E.attributes.value;else if(A=="urn:mpeg:mpegB:cicp:TransferCharacteristics")var k=s(parseInt(E.attributes.value,10));else if(A=="urn:mpeg:mpegB:cicp:ColourPrimaries")var I=o(parseInt(E.attributes.value,10));else A!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(A=="urn:mpeg:dash:ssr:2023"&&e.g.dash.enableFastSwitching?y=!0:A=="urn:dvb:dash:fontdownload:2014"?r(E):A=="urn:mpeg:dash:urlparam:2014"&&(d=Pa(e,E))||(p=!0))}if(p)return null;var C=null;for(p=Ze(i,"SupplementalProperty"),p=T(p),v=p.next();!v.done;v=p.next())v=v.value,E=v.attributes.schemeIdUri,E=="http://dashif.org/guidelines/last-segment-number"?C=parseInt(v.attributes.value,10)-1:E=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?k=s(parseInt(v.attributes.value,10)):E=="urn:mpeg:mpegB:cicp:ColourPrimaries"?I=o(parseInt(v.attributes.value,10)):E=="urn:dvb:dash:fontdownload:2014"?r(v):E=="urn:mpeg:dash:urlparam:2014"&&(d=Pa(e,v));d&&(t.Rb=d),d=Ze(i,"Accessibility");var L=new Map,O;for(d=T(d),p=d.next();!p.done;p=d.next())if(v=p.value,p=v.attributes.schemeIdUri,v=v.attributes.value,p!="urn:scte:dash:cc:cea-608:2015"||e.g.disableText)if(p!="urn:scte:dash:cc:cea-708:2015"||e.g.disableText)p=="urn:mpeg:dash:role:2011"?v!=null&&(a.push(v),v=="captions"&&(l="caption")):p=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(v=="1"?O="visually impaired":v=="2"?O="hard of hearing":v=="9"&&(O="spoken subtitles"));else if(p=1,v!=null)for(v=T(v.split(";")),E=v.next();!E.done;E=v.next()){A=E.value;var M=E=void 0;A.includes("=")?(A=A.split("="),E="svc"+A[0],M=A[1].split(",")[0].split(":").pop()):(E="svc"+p,p++,M=A),L.set(E,We(M))}else L.set("svc1","und");else if(p=1,v!=null)for(v=v.split(";"),E=T(v),A=E.next();!A.done;A=E.next()){M=A.value;var D=A=void 0;M.includes("=")?(M=M.split("="),A=M[0].startsWith("CC")?M[0]:"CC"+M[0],D=M[1]||"und"):(A="CC"+p,v.length==2?p+=2:p++,D=M),L.set(A,We(D))}else L.set("CC1","und");d=Ze(i,"ContentProtection");var P=g4(e.sa,d,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI);t.wa.encrypted=d.length>0;var j=We(t.wa.language||"und"),b=t.wa.label,U=new Map;if(i=Ze(i,"Representation"),!e.g.ignoreSupplementalCodecs){for(d=[],p=T(i),v=p.next();!v.done;v=p.next())E=v.value,(v=ur(E,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&(E=Ti(E),E.attributes.codecs=v.split(" ").join(","),E.attributes.id&&(E.attributes.supplementalId=E.attributes.id+"_supplementalCodecs"),d.push(E));i.push.apply(i,X(d))}if(d=i.map(function(B){var G=vM(e,t,P,l,j,b,u,a,L,B,O,C);return G&&(G.hdr=G.hdr||k,G.colorGamut=G.colorGamut||I,G.fastSwitching=y,B=B.attributes.dependencyId)?(G.baseOriginalId=B,U.set(B,G),null):G}).filter(function(B){return!!B}),d.length==0&&U.size==0){if(n=t.wa.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||c||n)return null;throw new _(2,4,4003)}if(!t.wa.contentType||t.wa.contentType=="application")for(t.wa.contentType=Y4(d[0].mimeType,d[0].codecs),c=T(d),p=c.next();!p.done;p=c.next())p.value.type=t.wa.contentType;for(c=t.wa.id||"__fake__"+e.Fa++,p=T(d),v=p.next();!v.done;v=p.next()){for(v=v.value,E=T(P.drmInfos),A=E.next();!A.done;A=E.next())A=A.value,A.keyIds=A.keyIds&&v.keyIds?new Set([].concat(X(A.keyIds),X(v.keyIds))):A.keyIds||v.keyIds;e.g.enableAudioGroups&&(v.groupId=c)}return i=i.map(function(B){return B.attributes.supplementalId||B.attributes.id}).filter(Hr),{id:c,contentType:t.wa.contentType,language:j,Un:u,streams:d,drmInfos:P.drmInfos,Bi:n,lm:i,Dk:U}}function Pa(e,t){if((t=ri(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Se(t,"useMPDUrlQuery",Cl,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return n=="$querypart$"?e.X:n.split("&").map(function(i){if(i=="$querypart$")return e.X;var r=/\$query:(.*?)\$/g.exec(i);if(r&&r.length==2){r=r[1];var o=new ts(e.X).get(r);if(o.length)return r+"="+o[0]}return i}).join("&")}}return null}function vM(e,t,n,i,r,o,s,u,a,l,c,d){t.N=A0(e,l,t.wa,null);var p=t.N.id;if(e.Z=Math.min(e.Z,t.N.zb),e.R=e.Z>0,!AM(t.N))return null;var v=t.ra.start;t.bandwidth=Se(l,"bandwidth",Vi)||0,t.roles=u;var y=Ze(l,"SupplementalProperty"),E=Ze(l,"EssentialProperty"),A=Ze(l,"ContentProtection");l=null;var k=E.find(function(F){return F.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"});(k||(k=y.find(function(F){return F.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"})))&&(l=Pa(e,k)),l&&(t.Rb=l),k=t.N.contentType,l=k==Re||k=="application",k=k=="image",A.length&&(t.wa.encrypted=!0);try{var I=void 0;if(n.Mg){var C=t.N.ib,L=t.Rb,O=Vt(C(),[n.Mg.Nl],L()),M=Lt(O,e.g.retryParameters);I={bitsKey:128,blockCipherMode:"CBC",iv:n.Mg.iv,firstMediaSequenceNumber:0,fetchKey:function(){var F,q,z;return N(function(Y){if(Y.g==1)return w(Y,x0(e,M,6),2);if(Y.g!=3){if(F=Y.h,!F.data||F.data.byteLength!=16)throw new _(2,4,4049);return q={name:"AES-CBC"},z=I,w(Y,S.crypto.subtle.importKey("raw",F.data,q,!0,["decrypt"]),3)}z.cryptoKey=Y.h,I.fetchKey=void 0,Z(Y)})}}}if(t.N.aesKey=I,C=function(F,q,z,Y){return X4(e,F,q,z,Y)},t.N.$d)var D=qC(t,C,I);else if(t.N.Mc)D=HC(t,e.u,I);else if(t.N.bd)D=I4(t,C,e.u,!!e.h,e.g.dash.initialSegmentLimit,e.ua,I,d,!1,e.D);else{var P=t.ra.duration||0,j=t.N.ib,b=t.N.mimeType,U=t.N.codecs;D={endTime:-1,timeline:-1,hd:function(){var F=rc(v,P,j());return F.Lb(function(q){q.mimeType=b,q.codecs=U}),Promise.resolve(F)},timescale:1}}}catch(F){if((l||k)&&F.code==4002)return null;throw F}d=CC(e.sa,A,n,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI),d=new Set(d?[d]:[]),A=!1,y.some(function(F){return F.attributes.schemeIdUri=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&F.attributes.value=="JOC"})&&(A=!0),y=!1,l&&(y=u.includes("forced_subtitle")||u.includes("forced-subtitle"));var B;if(k&&((E=E.find(function(F){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(F.attributes.schemeIdUri)}))&&(B=E.attributes.value),!B))return null;var G;l=t.N.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(G="PQ"),E=t.N.id?t.Ba.id+","+t.N.id:"",e.H.length&&p&&e.A.set(t.Ba.id+","+p,TM(t)),t.N.$f&&yM(e,t.N.$f,D,t.presentationTimeline),D.endTime!=-1&&t.Ba.id!=null&&t.N.id!=null&&((p=e.D.get(t.Ba.id))?(p.endTime=D.endTime,p.Yh.includes(t.N.id)||p.Yh.push(t.N.id),e.D.set(t.Ba.id,p)):e.D.set(t.Ba.id,{endTime:D.endTime,timeline:D.timeline,Yh:[t.N.id]}));var H=E&&e.u.has(E)?e.u.get(E):{id:e.Fa++,originalId:t.N.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){H.segmentIndex&&(H.segmentIndex.release(),H.segmentIndex=null)},segmentIndex:null,mimeType:t.N.mimeType,codecs:l,frameRate:t.N.frameRate,pixelAspectRatio:t.N.pixelAspectRatio,bandwidth:t.bandwidth,width:t.N.width,height:t.N.height,kind:i,encrypted:n.drmInfos.length>0,drmInfos:n.drmInfos,keyIds:d,language:r,originalLanguage:t.wa.language,label:o,type:t.wa.contentType,primary:s,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:t.N.emsgSchemeIdUris,roles:u,forced:y,channelsCount:t.N.Wf,audioSamplingRate:t.N.audioSamplingRate,spatialAudio:A,closedCaptions:a,hdr:G,colorGamut:void 0,videoLayout:void 0,tilesLayout:B,accessibilityPurpose:c,external:!1,fastSwitching:!1,fullMimeTypes:new Set([St(t.N.mimeType,t.N.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return H.createSegmentIndex=function(){var F;return N(function(q){if(q.g==1)return H.segmentIndex?q.B(0):(F=H,w(q,D.hd(),3));F.segmentIndex=q.h,Z(q)})},E&&t.Kb&&!e.u.has(E)&&(t=t.Ba.id||"",e.F.has(t)||e.F.set(t,[]),e.u.set(E,H),e.F.get(t).push(E)),H}function yM(e,t,n,i){if(!e.aa.has(t)){e.aa.add(t);var r=Se(t,"presentationTime",Jt)||0,o=ut(t,"UTCTiming"),s;(s=o&&o.attributes.schemeIdUri)&&(o=o.attributes.schemeIdUri,s=!(o==="urn:mpeg:dash:utc:http-ntp:2014"||o==="urn:mpeg:dash:utc:ntp:2014"||o==="urn:mpeg:dash:utc:sntp:2014")),s?t=(Se(t,"wallClockTime",ar)||0)*1e3:(t=Se(t,"wallClockTime",Jt)||0,t=gy(t)),n=new Date(t-r/n.timescale*1e3),r=n.getTime()/1e3,isNaN(r)||(i.u||i.ki(r),i=new Map().set("detail",{wallClockTime:t,programStartDate:n}),i=new J("prft",i),e.j.onEvent(i))}}function TM(e){function t(n){return n?(n=Br(n),n.$d=null,n.Mc=null,n.bd=sf(n.bd),n.$f=null,n):null}return e=Br(e),e.Ba=t(e.Ba),e.wa=t(e.wa),e.N=t(e.N),e.ra&&(e.ra=Br(e.ra),e.ra.node=null),e}function K4(e){var t,n;return N(function(i){switch(i.g){case 1:return t=0,ue(i,2),w(i,S0(e),4);case 4:t=i.h,Ae(i,3);break;case 2:if(n=ae(i),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),i.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return i.return();e.j.onManifestUpdated(),E0(e,t),Z(i)}})}function E0(e,t){if(!(e.K<0)){var n=e.K;e.g.updatePeriod>=0&&(n=e.g.updatePeriod),e.L.Y(Math.max(n-t,Sl(e.ya)))}}function A0(e,t,n,i){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Wf:null,audioSamplingRate:null,zb:0,jg:1,encrypted:!1},i=i||n.ib;var r=t.attributes.id,o=t.attributes.supplementalId,s=Ze(t,"BaseURL"),u,a=!1;if(e.i)for(var l=T(s),c=l.next();!c.done;c=l.next()){var d=c.value;c=d.attributes.serviceLocation,d=vn(d),c&&d&&(Ws(e.i,r,c,d),a=!0)}a&&e.i||(u=s.map(vn));var p=e.i;e=t.attributes.contentType||n.contentType,l=t.attributes.mimeType||n.mimeType,c=np([t.attributes.codecs||n.codecs]).join(","),d=Se(t,"frameRate",Yx)||n.frameRate;var v=t.attributes.sar||n.pixelAspectRatio,y=SM(Ze(t,"InbandEventStream"),n.emsgSchemeIdUris),E=Ze(t,"AudioChannelConfiguration");E=EM(E)||n.Wf;var A=Se(t,"audioSamplingRate",Jt)||n.audioSamplingRate;e||(e=Y4(l,c));var k=ut(t,"SegmentBase"),I=ut(t,"SegmentTemplate"),C=k&&Se(k,"availabilityTimeOffset",kl)||0,L=I&&Se(I,"availabilityTimeOffset",kl)||0,O=s&&s.length&&Se(s[0],"availabilityTimeOffset",kl)||0;C=n.zb+O+C+L,L=null,(O=ut(t,"SegmentSequenceProperties"))&&(O=Se(O,"cadence",Vi))&&(L=O),O=t.attributes.label;var M=Ze(t,"Label");return M&&M.length&&(M=M[0],kt(M)&&(O=kt(M))),{ib:function(){return Vt(i(),s.length?p&&a?ka(p,r):u||[]:[])},$d:k||n.$d,Mc:ut(t,"SegmentList")||n.Mc,bd:I||n.bd,$f:ut(t,"ProducerReferenceTime")||n.$f,width:Se(t,"width",Jt)||n.width,height:Se(t,"height",Jt)||n.height,contentType:e,mimeType:l,codecs:c,frameRate:d,pixelAspectRatio:v,emsgSchemeIdUris:y,id:o||r,originalId:r,language:t.attributes.lang,Wf:E,audioSamplingRate:A,zb:C,Ff:null,jg:L||n.jg,label:O||null,encrypted:!1}}function SM(e,t){t=t.slice(),e=T(e);for(var n=e.next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}function EM(e){e=T(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(t,10),!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],t=parseInt(t,16),!t)continue;for(var i=0,r=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),t=parseInt(t,16),!t)continue;for(r=i=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&t>0&&t<n.length)return n[t]}}return null}function AM(e){var t=e.$d?1:0;return t+=e.Mc?1:0,t+=e.bd?1:0,t==0?e.contentType==Re||e.contentType=="application":(t!=1&&(e.$d&&(e.Mc=null),e.bd=null),!0)}function W4(e,t,n,i){var r,o,s,u,a,l,c;return N(function(d){if(d.g==1)return r=[mn(n)],o=Vt(t(),r),s=Lt(o,e.g.retryParameters),s.method=i,u=e.j.networkingEngine.request(4,s,{isPreload:e.ha()}),Mo(e.P,u),w(d,u.promise,2);if(a=d.h,i=="HEAD"){if(!a.headers||!a.headers.date)return d.return(0);l=a.headers.date}else l=dt(a.data);return c=Date.parse(l),isNaN(c)?d.return(0):d.return(c-Date.now())})}function xM(e,t,n){var i,r,o,s,u,a,l,c;return N(function(d){switch(d.g){case 1:i=n.map(function(p){return{scheme:p.attributes.schemeIdUri,value:p.attributes.value}}),r=e.g.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),o=T(i),s=o.next();case 2:if(s.done){d.B(4);break}switch(u=s.value,ue(d,5),a=u.scheme,l=u.value,a){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return d.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return d.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return c=Date.parse(l),d.return(isNaN(c)?0:c-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":ye("NTP UTCTiming scheme is not supported");break;default:ye("Unrecognized scheme in UTCTiming element",a)}d.B(9);break;case 7:return w(d,W4(e,t,l,"HEAD"),10);case 10:return d.return(d.h);case 8:return w(d,W4(e,t,l,"GET"),11);case 11:return d.return(d.h);case 9:Ae(d,3);break;case 5:ae(d);case 3:s=o.next(),d.B(2);break;case 4:return ye("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),d.return(0)}})}function wM(e,t,n,i,r){var o=i.attributes.schemeIdUri||"",s=i.attributes.value||"",u=Se(i,"timescale",Jt)||1,a=Se(i,"presentationTimeOffset",Jt)||0;i=T(Ze(i,"Event"));for(var l=i.next();!l.done;l=i.next()){l=l.value;var c=Se(l,"presentationTime",Jt)||0,d=Se(l,"duration",Jt)||0;c=Math.max((c-a)/u+t,t),d=c+d/u,n!=null&&(c=Math.min(c,t+n),d=Math.min(d,t+n)),d<r||(l={schemeIdUri:o,value:s,startTime:c,endTime:d,id:l.attributes.id||"",timescale:u,eventElement:Zv(l),eventNode:sf(l)},e.j.onTimelineRegionAdded(l))}}function X4(e,t,n,i,r){var o,s,u,a;return N(function(l){return l.g==1?(o=zn,s=r?0:1,u=Ps(t,n,i,e.g.retryParameters),w(l,x0(e,u,o,{type:s}),2)):(a=l.h,l.return(a.data))})}function Y4(e,t){return t=St(e,t),bu(t)?Re:e.split("/")[0]}function x0(e,t,n,i){return i||(i={}),i.isPreload=e.ha(),t=e.j.networkingEngine.request(n,t,i),Mo(e.P,t),t.promise}function IM(e){var t=e.l.Je;if(!e.l.Tf||!t||!e.H.length)return[];var n=Date.now()/1e3,i=e.H.filter(function(r){return r=Jt(r.attributes.ttl),!r||t+r>n}).map(vn).filter(Hr);return i.length?Vt(e.C,i):[]}function Z4(){return""}function kM(e,t,n){return function(){return e&&t?ka(e,"BaseURL"):n.slice()}}K("shaka.dash.DashParser",La),To("application/dash+xml",function(){return new La}),To("video/vnd.mpeg.dash.mpd",function(){return new La});function ld(){}K("shaka.dependencies",ld),ld.has=function(e){return w0.has(e)},ld.add=function(e,t){if(!$4[e])throw Error(e+" is not supported");e==J4?qe("mux.js","mux.js is no longer used in Shaka Player."):w0.set(e,function(){return t})};var J4="muxjs",$4={Vn:J4,ISOBoxer:"ISOBoxer"};ld.Allowed=$4;var w0=new Map([["ISOBoxer",function(){return S.ISOBoxer}]]);function Ye(){this.j=new ct(function(){return["Oculus","Quest"].some(function(e){return navigator.userAgent.includes(e.toLowerCase())})?"VR":navigator.userAgent.match(/Smart( ?|_)TV/i)||navigator.userAgent.match(/Android ?TV/i)?"TV":navigator.userAgentData?navigator.userAgentData.mobile?"MOBILE":"DESKTOP":/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)?"MOBILE":navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="android"?"MOBILE":"DESKTOP":navigator.userAgent.includes("Android")?"MOBILE":"DESKTOP"}),this.l=new ct(function(){return navigator.vendor.includes("Apple")&&(navigator.userAgent.includes("Version/")||navigator.userAgent.includes("OS/"))?"WEBKIT":navigator.userAgent.includes("Edge/")?"EDGE":navigator.userAgent.includes("Chrome/")?"CHROMIUM":navigator.userAgent.includes("Firefox/")?"GECKO":"UNKNOWN"})}function Wi(){var e=S.ManagedMediaSource||S.MediaSource;return!!(e&&e.isTypeSupported)}h=Ye.prototype,h.uc=function(){return!!navigator.mediaCapabilities},h.Oa=function(){return this.j.value()},h.Ka=function(){return this.l.value()},h.Xd=function(){return!1},h.$h=function(){return!1},h.Gf=function(){return!1},h.Gj=function(){return!1},h.Le=function(){return!1},h.vd=function(){return!0},h.Gb=function(){var e=S.ManagedSourceBuffer||S.SourceBuffer;return!!e&&!!e.prototype&&!!e.prototype.changeType},h.Pe=function(){return!0},h.Lj=function(){return 0},h.Ac=function(){return Promise.resolve({width:1/0,height:1/0})},h.Wj=function(){return!1},h.oi=function(){return!1},h.bb=function(e){var t=this.Oa();return(t==="TV"||t==="CONSOLE"||t==="CAST")&&(e.ads.customPlayheadTracker=!0,e.ads.skipPlayDetection=!0,e.ads.supportsMultipleMediaElements=!1),e},h.ti=function(){return!!S.indexedDB},h.Ej=function(){return[]},h.Id=function(e){return S.matchMedia!==void 0&&S.matchMedia("(color-gamut: p3)").matches?e?"HLG":"PQ":"SDR"},h.pg=function(){return!1},h.uj=function(){return!1},h.gg=function(){return!1},h.rg=function(){return!0},h.vj=function(){return!1},h.ek=function(){return!0},h.ud=function(){return!1},h.Oh=function(e){return e==="com.apple.fps"},h.qg=function(){return!0},h.toString=function(){return"Device: "+this.Vb()+" v"+this.Ha()+"; Type: "+this.Oa()};function I0(){Ye.call(this),this.g=new ct(function(){var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}),this.h=new ct(function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1?"xr"in navigator?"APPLE_VR":"MOBILE":"xr"in navigator?"APPLE_VR":"DESKTOP"})}se(I0,Ye),h=I0.prototype,h.Ha=function(){return this.g.value()},h.Vb=function(){return"Apple Browser"},h.Oa=function(){return this.h.value()},h.Ka=function(){return"WEBKIT"},h.uc=function(){return!1},h.Xd=function(e,t){return t==="audio"},h.Gf=function(){return!0},h.Gj=function(e){return e==="audio"},h.bb=function(e){return Ye.prototype.bb.call(this,e),e.abr.minTimeToSwitch=.5,e},h.pg=function(){return!0},h.qg=function(){return!1},(navigator.vendor||"").includes("Apple")&&(/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1||navigator.userAgentData&&navigator.userAgentData.platform&&navigator.userAgentData.platform.toLowerCase()=="macos"||navigator.platform&&navigator.platform.toLowerCase().includes("mac"))&&(Ri=function(){return new I0});function k0(){if(!Q4())throw Error("Not a Chromecast device!");Ye.call(this),this.h=new ct(function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}),this.g=new ct(function(){var e=navigator.userAgentData&&navigator.userAgentData.platform||navigator.userAgent;return e=e.toLowerCase(),e.includes("android")?eS:e.includes("fuchsia")?tS:C0})}se(k0,Ye),h=k0.prototype,h.Ha=function(){return this.h.value()},h.Vb=function(){return"Chromecast with "+this.g.value()},h.Oa=function(){return"CAST"},h.Ka=function(){return"CHROMIUM"},h.uc=function(){return Ye.prototype.uc.call(this)&&this.g.value()!==C0},h.Gb=function(){return Ye.prototype.Gb.call(this)&&this.g.value()!==C0},h.Lj=function(){switch(this.g.value()){case eS:return 0;case tS:return 3;default:return 1}},h.Ac=function(){var e,t,n,i,r;return N(function(o){switch(o.g){case 1:if(e=S.cast&&cast.__platform__&&cast.__platform__.canDisplayType,t={width:1280,height:720},ue(o,2),!(n=e)){o.B(4);break}return w(o,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),5);case 5:n=o.h;case 4:if(n){t.width=3840,t.height=2160,o.B(6);break}if(!(i=e)){o.B(7);break}return w(o,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),8);case 8:i=o.h;case 7:i&&(t.width=1920,t.height=1080);case 6:Ae(o,3);break;case 2:r=ae(o),ji("Failed to check canDisplayType:",r);case 3:return o.return(t)}})},h.bb=function(e){return Ye.prototype.bb.call(this,e),e.streaming.stallSkip=0,e},h.ti=function(){return!1},h.ud=function(){return!0};function Q4(){return navigator.userAgent.includes("CrKey")&&!navigator.userAgent.includes("VIZIO SmartCast")}var eS="Android",tS="Fuchsia",C0="Linux";Q4()&&(Ri=function(){return new k0});function M0(){Ye.call(this);var e=this;this.i=new ct(function(){var t=navigator.userAgent.match(/(Chrome|Firefox)\/(\d+)/);return t?parseInt(t[2],10):null}),this.g=new ct(function(){return navigator.userAgent.match(/Edge?\//)?"Edge":navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Firefox")?"Firefox":"Unknown"}),this.h=new ct(function(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="windows":navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}),this.A=new ct(function(){return Ye.prototype.Gb.call(e)?navigator.userAgent.match(/Edge?\//)?!e.h.value():!0:!1}),this.u=new ct(function(){return navigator.userAgent.includes("sony.hbbtv.tv")}),this.m=new ct(function(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="android":!!navigator.userAgent.includes("Android")})}se(M0,Ye),h=M0.prototype,h.Ha=function(){return this.i.value()},h.Vb=function(){return this.g.value()},h.Xd=function(e){return pl(e)?this.g.value()==="Edge"&&this.h.value():!1},h.$h=function(){return this.g.value()==="Edge"&&this.h.value()},h.Gf=function(){return this.g.value()==="Edge"&&this.h.value()},h.Gb=function(){return this.A.value()},h.bb=function(e){if(Ye.prototype.bb.call(this,e),this.h.value())switch(this.g.value()){case"Firefox":e.drm.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation"};break;case"Chrome":e.drm.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation.3000","com.microsoft.playready.recommendation":"com.microsoft.playready.recommendation.3000"}}return this.m.value()&&(e.drm.defaultAudioRobustnessForWidevine="",e.drm.defaultVideoRobustnessForWidevine=""),e},h.gg=function(){return this.g.value()==="Edge"||this.u.value()},h.ud=function(){if(this.Ka()==="GECKO"){var e=this.Ha();return e!==null?e>=100:Ye.prototype.ud.call(this)}return Ye.prototype.ud.call(this)},h.Oh=function(e){return this.Ka()==="GECKO"?e.startsWith("com.microsoft.playready.recommendation"):Ye.prototype.Oh.call(this,e)},Xh=function(){return new M0};function R0(){Ye.apply(this,arguments)}se(R0,Ye),h=R0.prototype,h.Ha=function(){return null},h.Vb=function(){return"Hisense"},h.Oa=function(){return"TV"},h.uc=function(){return!1},h.Gb=function(){return!1},h.Ac=function(){var e={width:1920,height:1080},t=null;if(S.Hisense_Get4KSupportState)try{t=S.Hisense_Get4KSupportState()}catch{}return t==null&&(t=navigator.userAgent.includes("UHD")),t&&(e.width=3840,e.height=2160),Promise.resolve(e)},h.bb=function(e){return Ye.prototype.bb.call(this,e),e.streaming.stallSkip=0,e},(navigator.userAgent.includes("Hisense")||navigator.userAgent.includes("VIDAA"))&&(Ri=function(){return new R0});function L0(){Ye.call(this),this.g=new ct(function(){var e=navigator.userAgent.match(/PlayStation (\d+)/);return e?parseInt(e[1],10):null})}se(L0,Ye),h=L0.prototype,h.Vb=function(){return"PlayStation"},h.Oa=function(){return"CONSOLE"},h.Ka=function(){return"WEBKIT"},h.Ha=function(){return this.g.value()},h.uc=function(){return!1},h.vd=function(){return!1},h.Gb=function(){return!1},h.oi=function(){return this.Ha()===4},h.Ac=function(){var e,t,n,i,r;return N(function(o){switch(o.g){case 1:return e={width:1920,height:1080},t=!1,ue(o,2),w(o,S.msdk.device.getDisplayInfo(),4);case 4:n=o.h,t=n.resolution==="4K",Ae(o,3);break;case 2:return ae(o),ue(o,5),w(o,S.msdk.device.getDisplayInfoImmediate(),7);case 7:i=o.h,t=i.resolution==="4K",Ae(o,3);break;case 5:r=ae(o),ye("PlayStation: Failed to get the display info:",r);case 3:return t&&(e.width=3840,e.height=2160),o.return(e)}})},h.bb=function(e){return Ye.prototype.bb.call(this,e),this.Ha()===4&&e.drm.preferredKeySystems.push("com.microsoft.playready"),e.streaming.clearDecodingCache=!0,e},h.gg=function(){return this.Ha()===4},h.rg=function(){return this.Ha()!==4},navigator.userAgent.includes("PlayStation")&&(Ri=function(){return new L0});function P0(){Ye.call(this);var e=navigator.userAgent.match(/Tizen (\d+).(\d+)/);this.g=e?parseInt(e[1],10):null,this.h=e?parseInt(e[2],10):null}se(P0,Ye),h=P0.prototype,h.Ha=function(){return this.g},h.Vb=function(){return"Tizen"},h.Ka=function(){return"CHROMIUM"},h.Oa=function(){return"TV"},h.Xd=function(){return!0},h.Le=function(){return this.Ha()===3},h.uc=function(){return!1},h.vd=function(){var e=this.Ha();return e!==null?e>=4:Ye.prototype.vd.call(this)},h.Gb=function(){return!1},h.Pe=function(){return this.g&&this.h?this.g===5?this.h>=5:this.g>5:Ye.prototype.Pe.call(this)},h.Ac=function(){var e=S.devicePixelRatio;e={width:S.screen.width*e>1920?3840:1920,height:S.screen.height*e>1080?2160:1080};try{if(webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution){var t=webapis.systeminfo.getMaxVideoResolution();e.width=t.width,e.height=t.height}else webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch{ye("Tizen: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(e)},h.bb=function(e){return Ye.prototype.bb.call(this,e),e.drm.ignoreDuplicateInitData=this.Ha()!==2,this.Ha()===3&&(e.streaming.crossBoundaryStrategy="reset_to_encrypted"),e.streaming.shouldFixTimestampOffset=!0,e.streaming.stallSkip=0,e.streaming.gapPadding=2,e},h.Ej=function(){var e=[];return this.g!==null&&this.g<5&&e.push("opus"),e},h.Id=function(e){try{if(webapis.avinfo.isHdrTvSupport())return e?"HLG":"PQ"}catch{return Ye.prototype.Id.call(this,e)}return"SDR"},h.uj=function(){return!0},h.vj=function(){return this.Ha()===3},navigator.userAgent.includes("Tizen")&&(Ri=function(){return new P0});function Ys(){Ye.apply(this,arguments)}se(Ys,Ye),Ys.prototype.Ha=function(){return null},Ys.prototype.Vb=function(){return"Vizio"},Ys.prototype.Oa=function(){return"TV"},Ys.prototype.uc=function(){return!1},navigator.userAgent.includes("VIZIO SmartCast")&&(Ri=function(){return new Ys});function b0(){Ye.call(this),this.i=new ct(function(){return navigator.userAgent.includes("DT_STB_BCM")||navigator.userAgent.includes("Sky_STB")}),this.h=new ct(function(){return navigator.userAgent.includes("SOPOpenBrowser")}),this.g=new ct(function(){if(navigator.userAgent.includes("DT_STB_BCM"))return 11;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null})}se(b0,Ye),h=b0.prototype,h.Ha=function(){return this.g.value()},h.Vb=function(){return"WebKit STB"},h.Oa=function(){return"TV"},h.Ka=function(){return"WEBKIT"},h.uc=function(){return!1},h.vd=function(){var e=this.g.value();return e!==null?e>=15:!0},h.Xd=function(){return this.h.value()},h.Ac=function(){return Promise.resolve({width:S.screen.width*S.devicePixelRatio,height:S.screen.height*S.devicePixelRatio})},h.rg=function(){return!this.i.value()},h.qg=function(){return!1},(navigator.userAgent.includes("SOPOpenBrowser")||navigator.userAgent.includes("DT_STB_BCM")||navigator.userAgent.includes("Sky_STB")||!(!(navigator.vendor||"").includes("Apple")||/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1||navigator.userAgentData&&navigator.userAgentData.platform&&navigator.userAgentData.platform.toLowerCase()=="macos"||navigator.platform&&navigator.platform.toLowerCase().includes("mac")))&&(Ri=function(){return new b0});function D0(){Ye.call(this);var e=this;this.h=CM(),this.g=null;try{var t=new PalmServiceBridge;t.onservicecallback=function(n){n=JSON.parse(n);var i,r,o,s;e.g=(s=(o=(i=n.configs)==null?void 0:i["tv.model.supportHDR"])!=null?o:(r=n.configs)==null?void 0:r["tv.config.supportDolbyHDRContents"])!=null?s:!1},t.call("luna://com.webos.service.config/getConfigs",JSON.stringify({configNames:["tv.model.supportHDR","tv.config.supportDolbyHDRContents"]}))}catch(n){ye("WebOS: getConfigs call failed",n)}}se(D0,Ye),h=D0.prototype,h.Ha=function(){return this.h},h.Vb=function(){return"WebOS"},h.Oa=function(){return"TV"},h.Ka=function(){return"CHROMIUM"},h.uc=function(){return!1},h.vd=function(){var e=this.Ha();return e!==null?e>3:Ye.prototype.vd.call(this)},h.Gb=function(){return!1},h.Pe=function(){var e=this.Ha();return e!==null?e>3:Ye.prototype.Pe.call(this)},h.Ac=function(){var e={width:1920,height:1080};try{var t=JSON.parse(S.PalmSystem.deviceInfo);e.width=Math.max(1920,t.screenWidth),e.height=Math.max(1080,t.screenHeight)}catch{ye("WebOS: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(e)},h.bb=function(e){return Ye.prototype.bb.call(this,e),this.Ha()===3&&(e.streaming.crossBoundaryStrategy="reset"),e.streaming.shouldFixTimestampOffset=!0,e.streaming.stallSkip=0,e},h.Id=function(e){return this.g==null?(ye("WebOS: getConfigs call haven't finished"),Ye.prototype.Id.call(this,e)):this.g?e?"HLG":"PQ":"SDR"};function CM(){var e=null,t=navigator.userAgent.match(/Chrome\/(\d+)/);switch(t&&(e=parseInt(t[1],10)),e){case 38:return 3;case 53:return 4;case 68:return 5;case 79:return 6;case 87:return 22;case 94:return 23;case 108:return 24;case 120:return 25;default:return null}}if(h.ek=function(){return!1},h.ud=function(){var e=this.Ha();return e!==null?e>=6:Ye.prototype.ud.call(this)},navigator.userAgent.includes("Web0S")){var MM=new D0;Ri=function(){return MM}}function N0(){Ye.call(this),this.g=navigator.userAgent.includes("Edge/");var e=navigator.userAgent.match(/Edge?\/(\d+)/);this.h=e?parseInt(e[1],10):null}se(N0,Ye),h=N0.prototype,h.Ha=function(){return this.h},h.Vb=function(){return"Xbox"},h.Oa=function(){return"CONSOLE"},h.Ka=function(){return this.g?"EDGE":"CHROMIUM"},h.Xd=function(){return!0},h.$h=function(){return!0},h.Gf=function(){return!0},h.Wj=function(){return this.g},h.Ac=function(){var e={width:1920,height:1080},t=nS();if(t)try{var n=new t.Media.Protection.ProtectionCapabilities,i=t.Media.Protection.ProtectionCapabilityResult;t=null;do t=n.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation");while(t===i.maybe);t===i.probably&&(e.width=3840,e.height=2160)}catch{ye("Xbox: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(e)},h.bb=function(e){return Ye.prototype.bb.call(this,e),e.drm.parseInbandPsshEnabled=this.g,e.drm.preferredKeySystems.push("com.microsoft.playready"),this.g&&(e.streaming.gapPadding=.01),e},h.gg=function(){return!0},h.ti=function(){return!1};function nS(){var e=null;try{e=typeof Windows<"u"?Windows:chrome.webview.hostObjects.sync.Windows}catch{}return e}(navigator.userAgent.includes("Xbox One")||nS()!==null)&&(Ri=function(){return new N0});function iS(e,t,n){this.type=e,this.ma=t,this.segments=n||null}function cd(e,t,n,i){this.id=e,this.name=t,this.attributes=n,this.value=i===void 0?null:i}cd.prototype.toString=function(e){function t(r){return r.name+"="+(isNaN(Number(r.value))?'"'+r.value+'"':r.value)}var n="#"+this.name,i=this.attributes?this.attributes.filter(function(r){return e?!e.has(r.name):!0}).map(t):[];return this.value&&i.unshift(this.value),i.length>0&&(n+=":"+i.join(",")),n};function O0(e,t){return t?e.toString():(t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function Zs(e,t){return e.attributes.find(function(n){return n.name===t})||null}function re(e,t,n){return(e=Zs(e,t))?e.value:n||null}function et(e,t){if(e=Zs(e,t),!e)throw new _(2,4,4023,t);return e.value}function rS(e,t,n){n=n===void 0?[]:n,this.ma=t,this.g=e,this.Ic=n}function dd(e,t){this.name=e,this.value=t}function li(e,t){return e.filter(function(n){return n.name==t})}function oS(e,t){return e.filter(function(n){return et(n,"TYPE")==t})}function zt(e,t){e=T(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function Js(e,t,n){return n=n===void 0?0:n,(e=zt(e,t))?Number(e.value):n}function oo(e,t,n){return t?sS(e,[t],n):[]}function sS(e,t,n){if(!t.length)return[];var i=t;return n&&n.size&&(i=t.map(function(r){return uS(r,n)})),Vt(e,i)}function uS(e,t){if(!t||!t.size)return e;e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=T(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=i.slice(2,i.length-1),o=t.get(r);if(o)e=e.replace(i,o);else throw new _(2,4,4039,r)}}return e}function RM(){this.g=0}function _0(e,t){t=dt(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!PM.test(n[0]))throw new _(2,4,4015);t=0;for(var i=!1,r=[],o=!0,s=0;s<n.length;s++){var u=n[s],a=n[s+1];if(u.startsWith("#")&&!u.startsWith("#EXT")||o)o=!1;else{if(u=aS(e,u),i||(cS.has(u.name)?(t=1,i=!0):u.name=="EXT-X-STREAM-INF"||u.name=="EXT-X-MEDIA"?i=!0:dS.has(u.name)&&(t=1,i=!0)),dS.has(u.name)){if(t!=1)throw new _(2,4,4017);o=e,e=Array(Math.max(100,Math.floor((n.length-s)/2))),i=0,u=[];var l=[];for(a=null;s<n.length;s++){var c=n[s];c.startsWith("#EXT")?(c=aS(o,c),cS.has(c.name)?r.push(c):c.name=="EXT-X-MAP"?a=c:c.name=="EXT-X-PART"?l.push(c):c.name=="EXT-X-PRELOAD-HINT"?re(c,"TYPE")=="PART"?l.push(c):re(c,"TYPE")=="MAP"&&(c.name="EXT-X-MAP",a=c):u.push(c)):(!c.startsWith("#")||c.startsWith("#EXT"))&&(c=c.trim(),a&&u.push(a),u=new rS(c,u,l),i<e.length?e[i++]=u:(e.push(u),i++),u=[],l=[])}return l.length&&(a&&u.push(a),n=new rS("",u,l),i<e.length?e[i++]=n:(e.push(n),i++)),new iS(t,r,i<e.length?e.slice(0,i):e)}r.push(u),u.name=="EXT-X-STREAM-INF"&&(u.attributes.push(new dd("URI",a)),o=!0)}}return new iS(t,r)}function aS(e,t){e=e.g++;var n=t.match(LM);if(!n)throw new _(2,4,4016,t);t=n[1];var i=n[2];n=[];var r;if(i){i=new ls(i);var o;for(lS.lastIndex=0,(o=jr(i,lS))&&(r=o[1]),U0.lastIndex=0,o=jr(i,U0);o;)n.push(new dd(o[1],o[2]||o[3])),cs(i),o=jr(i,U0)}return new cd(e,t,n,r)}var LM=/^#(EXT[^:]*)(?::(.*))?$/,PM=/^#EXTM3U($|[ \t\n])/m,lS=/^([^,=]+)(?:,|$)/g,U0=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,cS=new Set("EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" ")),dS=new Set("EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" "));function hS(){}function fS(e,t){try{var n=hd(e);return ms({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(i){return Gr(i)}}function hd(e){var t=e.split(":");if(t.length<2||t[0]!="data")throw new _(2,1,1004,e);if(t=t.slice(1).join(":").split(","),t.length<2)throw new _(2,1,1004,e);var n=t[0];e=S.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var i=!1;t.length>1&&t[t.length-1]=="base64"&&(i=!0,t.pop());var r;return i?r=ni(e):r=vi(e),{data:r,contentType:n,Ci:t}}K("shaka.net.DataUriPlugin",hS),hS.parse=fS,fr("data",fS);function fd(){var e=this;this.g=this.h=null,this.G=1,this.C=new Map,this.L=new Map,this.D=new Map,this.D.set("video",new Map),this.D.set("audio",new Map),this.D.set(Re,new Map),this.D.set("image",new Map),this.qc=new Map().set("com.apple.streamingkeydelivery",function(t,n,i){return o6(e,t,n,i)}).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",function(t){var n=et(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";n=="SAMPLE-AES"&&(i="cbcs");var r=et(t,"URI");if(n=hd(r.split("?")[0]),r=r.split("?")[0],!e.I.has(r)){var o=Te(n.data);e.I.set(r,o)}i=or("com.widevine.alpha",i,[{initDataType:"cenc",initData:e.I.get(r)}],void 0,n.Ci),(t=re(t,"KEYID"))&&i.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(i)}else t=Promise.resolve(null);return t}).set("com.microsoft.playready",function(t){var n=et(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";n=="SAMPLE-AES"&&(i="cbcs"),t=et(t,"URI"),n=hd(t.split("?")[0]),t=Te(n.data);var r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);r=zl(t,r,new Set,0),i=or("com.microsoft.playready",i,[{initDataType:"cenc",initData:r}],void 0,n.Ci),(t=xo(["<PLAYREADY>",rr(t),"</PLAYREADY>"].join(`
`)))&&(i.licenseServerUri=nd(t)),i=Promise.resolve(i)}else i=Promise.resolve(null);return i}).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",function(t){var n=et(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";n=="SAMPLE-AES"&&(i="cbcs");var r=et(t,"URI");if(n=hd(r.split("?")[0]),r=r.split("?")[0],!e.I.has(r)){var o=Te(n.data);e.I.set(r,o)}i=or("com.huawei.wiseplay",i,[{initDataType:"cenc",initData:e.I.get(r)}],void 0,n.Ci),(t=re(t,"KEYID"))&&i.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(i)}else t=Promise.resolve(null);return t}),this.kb=new Set,this.i=new Map,this.m=null,this.H="",this.hb=new RM,this.M=-1,this.aa=1/0,this.Z=this.Lc=this.jb=!1,this.F=new le(function(){if(e.V&&!e.g.continueLoadingWhenPaused&&(e.T.Ea(e.V,"timeupdate"),e.V.paused)){e.T.qa(e.V,"timeupdate",function(){return NS(e)});return}NS(e)}),this.Fa=Sd,this.l=null,this.$a=0,this.A=1/0,this.Na=this.La=this.R=0,this.X=new vs,this.J=new Map,this.K=new Map,this.ya=new Map,this.oa=new Map,this.O=new Map,this.sa=new Map,this.ua=new Map,this.Kc=this.ha=!1,this.Pb=new us(5),this.j=null,this.P=!0,this.T=new Fe,this.u=this.V=null,this.nc=function(){return!1},this.I=new Map}h=fd.prototype,h.configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&e.updatePeriod>=0;this.g=e,t&&(this.nc=t),this.j&&this.j.configure(this.g),n&&this.l&&this.l.presentationTimeline.U()&&this.F.Ja()},h.start=function(e,t){var n=this,i;return N(function(r){return r.g==1?(n.h=t,n.ha=t.isLowLatencyMode(),w(r,G0(n,[e]).promise,2)):r.g!=3?(i=r.h,n.H=i.uri,w(r,NM(n,i.data),3)):r.return(n.l)})},h.stop=function(){this.F&&(this.F.stop(),this.F=null);var e=[];return this.X&&(e.push(this.X.destroy()),this.X=null),this.g=this.h=null,this.kb.clear(),this.l=null,this.i.clear(),this.L.clear(),this.K.clear(),this.C.clear(),this.ya.clear(),this.oa.clear(),this.O.clear(),this.sa.clear(),this.ua.clear(),this.I.clear(),this.j&&this.j.destroy(),this.T&&(this.T.release(),this.T=null),Promise.all(e)},h.update=function(){var e=this,t,n,i,r,o,s,u,a,l,c;return N(function(d){if(d.g==1){if(!fn(e))return d.return();for(t=[],n=Array.from(e.i.values()),e.A=1/0,e.l.gapCount=0,i=n.filter(function(p){return!p.stream.isAudioMuxedInVideo&&p.stream.segmentIndex}),r=T(i),o=r.next();!o.done;o=r.next())s=o.value,t.push(bM(e,s));return w(d,Promise.all(t),2)}for(ES(e,i.map(function(p){return p.stream})),u=i.some(function(p){return p.xe==0}),i.length&&!u&&(vd(e,Sd),pd(e)),u&&pd(e),a=T(i),l=a.next();!l.done;l=a.next())c=l.value,c.stream.isAudioMuxedInVideo||!c.stream.segmentIndex||bi(c.stream.segmentIndex)||e.h.disableStream(c.stream);Z(d)})};function j0(e,t){return fn(e)?e.D.get(t.type):t.Qf}function bM(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze;return N(function(Ie){switch(Ie.g){case 1:if(t.stream.isAudioMuxedInVideo)return Ie.return();for(n=[],i=T(t.S()),r=i.next();!r.done;r=i.next())o=r.value,s=new It(o),u=s.g,t.qf&&(t.$b>=0&&u.add("_HLS_msn",String(t.$b)),t.ac>=0&&u.add("_HLS_part",String(t.ac))),t.rf&&u.add("_HLS_skip","YES"),n.push(s.toString());return ue(Ie,2),w(Ie,G0(e,n,!0).promise,4);case 4:a=Ie.h,Ae(Ie,3);break;case 2:throw l=ae(Ie),e.h&&e.h.disableStream(t.stream),l;case 3:if(!t.stream.segmentIndex)return Ie.return();if(c=_0(e.hb,a.data),c.type!=1)throw new _(2,4,4017);return d=a.uri,d==a.originalUri||t.S().includes(d)||t.dg.push(d),p=li(c.ma,"EXT-X-DEFINE"),v=B0(e,p,d),y=t.stream,E=j0(e,t),w(Ie,IS(e,c,y.mimeType,t.S,v),5);case 5:for(A=Ie.h,k=A.keyIds,I=A.drmInfos,C=A.encrypted,L=A.Ki,y.encrypted||!C||L||(y.encrypted=!0),O=function($e,Ne){return $e.size===Ne.size&&[].concat(X($e)).every(function(Pe){return Ne.has(Pe)})},O(y.keyIds,k)||(y.keyIds=k,y.drmInfos=I,e.h.newDrmInfo(y)),M=PS(e,c,E,v,t.S,t.type),D=M.segments,(P=M.bandwidth)&&(y.bandwidth=P),j=sc(y),b=T(D),U=b.next();!U.done;U=b.next())B=U.value,B.ka&&(B.ka.Pd=j);y.segmentIndex.Ee(D,e.m.Nb()),D.length&&(G=Js(c.ma,"EXT-X-MEDIA-SEQUENCE",0),F=(H=zt(c.ma,"EXT-X-SKIP"))?Number(re(H,"SKIPPED-SEGMENTS")):0,q=xS(G,D),z=q.$b,Y=q.ac,t.$b=z+F,t.ac=Y,we=E.get(G),y.segmentIndex.eb(we)),(ne=bi(y.segmentIndex))&&(t.nd=ne.startTime,ze=D[D.length-1],t.Zc=ze.endTime),zt(c.ma,"EXT-X-ENDLIST")&&(t.xe=!0),q0(e,c),V0(e,c.ma,y.type,v,t.S),Z(Ie)}})}h.onExpirationUpdated=function(){},h.onInitialVariantChosen=function(){},h.banLocation=function(e){this.j&&this.j.banLocation(e)},h.setMediaElement=function(e){this.V=e};function pS(e,t,n){n=n===void 0?!1:n;for(var i=e.M==-1,r=T(t),o=r.next();!o.done;o=r.next()){o=o.value;var s=o.stream.segmentIndex,u=j0(e,o);if(s=bi(s)){u=T(u);for(var a=u.next();!a.done;a=u.next()){a=T(a.value);var l=a.next().value;if(a.next().value==s.startTime){i&&(e.M=Math.max(e.M,l)),o.$g=l;break}}}}if(!(e.M<0))for(t=T(t),i=t.next();!i.done;i=t.next())i=i.value,(ba(e,i.type)||n)&&(r=i.stream.segmentIndex)&&(o=e.M-i.$g,o>0&&(r.g.splice(0,o),r=bi(r))&&(r=-r.startTime,i.stream.segmentIndex.offset(r),gS(e,i,r)))}function DM(e,t){if(e.aa==1/0){t=T(t);for(var n=t.next();!n.done;n=t.next())n=bi(n.value.stream.segmentIndex),n!=null&&n.h!=null&&(e.aa=Math.min(e.aa,n.h))}if(t=e.aa,t!=1/0){n=T(e.i.values());for(var i=n.next();!i.done;i=n.next())if(i=i.value,!ba(e,i.type)){var r=i.stream.segmentIndex;if(r!=null){var o=bi(r);if(o)if(o.h==null)ji("Missing EXT-X-PROGRAM-DATE-TIME for stream",i.S(),"Expect AV sync issues!");else for(gS(e,i,o.h-t-o.startTime),i=T(r),r=i.next();!r.done;r=i.next())r.value.wi(t)}}}}function gS(e,t,n){if(!(Math.abs(n)<.001)){t.nd+=n,t.Zc+=n,e=j0(e,t);for(var i=T(e),r=i.next();!r.done;r=i.next()){var o=T(r.value);r=o.next().value,o=o.next().value,e.set(r,o+n)}t.S()}}function NM(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze,Ie,$e,Ne,Pe,je,He,Be;return N(function(be){switch(be.g){case 1:return n=Rt,i=_0(e.hb,t),r=li(i.ma,"EXT-X-DEFINE"),o=[],s=[],u=[],e.m=new ve(null,0),e.m.sd(!0),a=function(){return[e.H]},l=null,c=new Map,e.l={presentationTimeline:e.m,variants:o,textStreams:s,imageStreams:u,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},i.type==1?(e.P=!1,z=li(i.ma,"EXT-X-DEFINE"),c=B0(e,z,e.H),l=n.Ga,Y="",we=new Map,w(be,AS(e,e.G++,c,i,a,"",l,Y,!0,"Media Playlist",null,we,null,!1,null,!1),7)):(_M(e,r),d=li(i.ma,"EXT-X-MEDIA"),p=li(i.ma,"EXT-X-STREAM-INF"),v=li(i.ma,"EXT-X-IMAGE-STREAM-INF"),y=li(i.ma,"EXT-X-I-FRAME-STREAM-INF"),E=li(i.ma,"EXT-X-SESSION-KEY"),A=li(i.ma,"EXT-X-SESSION-DATA"),k=li(i.ma,"EXT-X-CONTENT-STEERING"),jM(e,A),w(be,BM(e,k),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(I=[],C=T(p),L=C.next(),O={};!L.done;O={ck:void 0},L=C.next())M=L.value,(D=re(M,"SUPPLEMENTAL-CODECS"))&&(O.ck=D.split(/\s*,\s*/).map(function(Oe){return Oe.split("/")[0]}),P=M.attributes.map((function(Oe){return function(Ft){var Dt=Ft.name,ei=Ft.value;return Dt=="CODECS"&&(ei=Oe.ck.join(","),Ft=Ft.value.split(","),Ft.length>1&&(Ft=Cn("audio",Ft))&&(ei+=","+Ft)),new dd(Dt,ei)}})(O)),I.push(new cd(M.id,M.name,P,null)));for(p.push.apply(p,X(I)),j=[],b=T(y),U=b.next(),B={};!U.done;B={dk:void 0},U=b.next())G=U.value,(H=re(G,"SUPPLEMENTAL-CODECS"))&&(B.dk=H.split(/\s*,\s*/).map(function(Oe){return Oe.split("/")[0]}),F=G.attributes.map((function(Oe){return function(Ft){var Dt=Ft.name;return Ft=Ft.value,Dt=="CODECS"&&(Ft=Oe.dk.join(",")),new dd(Dt,Ft)}})(B)),j.push(new cd(G.id,G.name,F,null)));y.push.apply(y,X(j))}return UM(e,p),JM(e,d),q=HM(e,y),w(be,GM(e,p,E,d,a,e.C,q),5);case 5:return o=be.h,s=FM(e,d),w(be,qM(e,v,y),6);case 6:u=be.h,be.B(3);break;case 7:ne=be.h,e.i.set(e.H,ne),ne.stream&&(ze=sc(ne.stream),ne.stream.segmentIndex.Lb(function(Oe){Oe.ka&&(Oe.ka.Pd=ze)})),l=ne.stream.type,Ie=!0,(e.g.disableAudio&&ne.type=="audio"||e.g.disableVideo&&ne.type=="video"&&!ne.stream.codecs.includes(","))&&(Ie=!1),Ie&&o.push({id:0,language:We(Y||"und"),disabledUntilTime:0,primary:!0,audio:ne.type=="audio"?ne.stream:null,video:ne.type=="video"?ne.stream:null,bandwidth:ne.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new _(2,7,7001);if(CS(e,i),i.type==1&&(fn(e)&&(MS(e,i),$e=e.A,e.F.Y($e)),Ne=Array.from(e.i.values()),F0(e,Ne),pd(e),V0(e,i.ma,l,c,a)),e.l.variants=o,e.l.textStreams=s,e.l.imageStreams=u,e.l.startTime=e.u,e.Z||!e.g.hls.disableCodecGuessing){be.B(8);break}for(Pe=[],je=T(e.l.variants),He=je.next();!He.done;He=je.next())Be=He.value,Be.audio&&Be.audio.codecs===""&&Pe.push(Be.audio.createSegmentIndex()),Be.video&&Be.video.codecs===""&&Pe.push(Be.video.createSegmentIndex());return w(be,Promise.all(Pe),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.l),Z(be)}})}function OM(e,t){var n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k;return N(function(I){if(I.g==1)return n=tp(e.g.hls.mediaPlaylistFullMimeType),t.length?(i=bS(e,t),r=i.segment,o=i.segmentIndex,s=r.S(),(u=Ls(s[0]))&&(a=z0.get(u))?I.return(tp(a)):w(I,Promise.all([mS(e,r.ka,0),mS(e,r,o)]),2)):I.return(n);if(l=I.h,c=l[1].mimeType,d=l[0].data,p=l[1].data,v="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),y=["audio/mp4","video/mp4","video/iso.segment"],E=r.ka||y.includes(c),!E&&Is(Te(p))){var C=p,L=e.g.disableAudio,O=e.g.disableVideo,M=e.g.disableText,D=Te(C),P=new it().parse(D),j=P.ue();D=P.Ch();var b=[],U=!1,B=!1;if(!L)switch(j.audio){case"aac":case"aac-loas":P.Bb().length&&(b.push("mp4a.40.2"),U=!0);break;case"mp3":P.Bb().length&&(b.push("mp4a.40.34"),U=!0);break;case"ac3":P.Bb().length&&(b.push("ac-3"),U=!0);break;case"ec3":P.Bb().length&&(b.push("ec-3"),U=!0);break;case"opus":P.Bb().length&&(b.push("opus"),U=!0)}if(!O)switch(j.video){case"avc":D.codec?b.push(D.codec):b.push("avc1.42E01E"),B=!0;break;case"hvc":D.codec?b.push(D.codec):b.push("hvc1.1.6.L93.90"),B=!0;break;case"av1":b.push("av01.0.01M.08"),B=!0}if(b.length){if(L=U&&!B,O=new Map,B&&!M){for(M=new Li("video/mp2t"),M.Yf(C),C=T(M.Eg()),B=C.next();!B.done;B=C.next())B=B.value,O.set(B,B);M.ke()}D={type:L?"audio":"video",mimeType:"video/mp2t",codecs:b.join(", "),language:null,height:D.height,width:D.width,channelCount:null,sampleRate:null,closedCaptions:O,Se:null,colorGamut:null,frameRate:D.frameRate,timescale:null}}else D=null;if(A=D)return I.return(A)}else if((E||v.includes(u))&&(k=V5(d,p,e.g.disableText)))return I.return(k);return c?I.return(tp(c)):I.return(n)})}function mS(e,t,n){var i,r,o,s,u,a;return N(function(l){switch(l.g){case 1:return t?(i=zn,r=Ps(t.S(),t.Vc(),t.Tc(),e.g.retryParameters),o=t instanceof he?1:0,w(l,kr(e,r,i,{type:o}).promise,2)):l.return({mimeType:null,data:null});case 2:if(s=l.h,u=s.data,!t.aesKey){l.B(3);break}return w(l,ip(u,t.aesKey,n),4);case 4:u=l.h;case 3:return t instanceof he?t.Ne(u,!0):t.Ne(u),(a=s.headers["content-type"])&&(a=a.split(";")[0].toLowerCase()),l.return({mimeType:a,data:u})}})}function pd(e){if(fn(e)){if(e.Fa==K0){for(var t=1/0,n=1/0,i=T(e.i.values()),r=i.next();!r.done;r=i.next())r=r.value,r.stream.segmentIndex&&r.stream.type!="text"&&!r.stream.isAudioMuxedInVideo&&(t=Math.min(t,r.Zc),n=Math.min(n,r.nd));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.m.mg(t)}}else e.m.Fb(SS(e));if(!e.m.u)for(t=T(e.i.values()),n=t.next();!n.done;n=t.next())n=n.value,!n.stream.segmentIndex||n.type!="audio"&&n.type!="video"||(n=bi(n.stream.segmentIndex))&&n.h!=null&&e.m.ki(n.h);e.m.Pf()}function _M(e,t){var n=new It(e.H).g;t=T(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=re(r,"NAME");var o=re(r,"VALUE");r=re(r,"QUERYPARAM"),i&&o&&(e.C.has(i)||e.C.set(i,o)),r&&(i=n.get(r)[0])&&!e.C.has(i)&&e.C.set(r,i)}}function B0(e,t,n){n=new It(n).g;var i=new Map;t=T(t);for(var r=t.next();!r.done;r=t.next()){var o=r.value,s=re(o,"NAME"),u=re(o,"VALUE");r=re(o,"QUERYPARAM"),o=re(o,"IMPORT"),s&&u&&(i.has(s)||i.set(s,u)),r&&(s=n.get(r)[0])&&!i.has(s)&&i.set(r,s),o&&(r=e.C.get(o))&&i.set(o,r)}return i}function UM(e,t){t=T(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=re(i,"AUDIO");n=re(i,"VIDEO");var o=re(i,"SUBTITLES");if(i=vS(e,i),o){var s=Cn(Re,i);e.K.set(o,s),ii(i,s)}r&&(o=Cn("audio",i),o||(o=e.g.hls.defaultAudioCodec),e.K.set(r,o)),n&&(r=Cn("video",i),r||(r=e.g.hls.defaultVideoCodec),e.K.set(n,r))}}function jM(e,t){t=T(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=re(i,"DATA-ID");n=re(i,"URI");var o=re(i,"LANGUAGE");i=re(i,"VALUE"),r=new Map().set("id",r),n&&r.set("uri",oo([e.H],n,e.C)[0]),o&&r.set("language",o),i&&r.set("value",i),n=new J("sessiondata",r),e.h&&e.h.onEvent(n)}}function BM(e,t){var n,i,r,o,s,u;return N(function(a){if(!e.h||!e.g)return a.return();for(i=T(t),r=i.next();!r.done;r=i.next())if(o=r.value,s=re(o,"PATHWAY-ID"),u=re(o,"SERVER-URI"),s&&u){e.j=new Ks(e.h),e.j.configure(e.g),e.j.i=[e.H],e.j.setManifestType("HLS"),e.j.h=s,n=Ia(e.j,u);break}return w(a,n,0)})}function FM(e,t){var n=oS(t,"SUBTITLES"),i={};t=T(n);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=O0(r,!e.j);i[o]?i[o].push(r):i[o]=[r]}if(t=[],!e.g.disableText)for(var s in i)try{t.push(yS(e,i[s],new Map).stream)}catch(u){if(!e.g.hls.ignoreTextStreamFailures)throw u}for(s=T(n),n=s.next();!n.done;n=s.next())if(i=et(n.value,"GROUP-ID"),(n=e.K.get(i))&&(i=e.L.get(i)))for(i=T(i),r=i.next();!r.done;r=i.next())r=r.value,r.stream.codecs=n,r.stream.mimeType=H0(Re,n)||md(Re),$s(r.stream);return t.filter(function(u){return u})}function $s(e){var t=new Set([St(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Lb(function(n){n.mimeType&&t.add(St(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function qM(e,t,n){var i,r;return N(function(o){return o.g==1?(i=t.map(function(s){var u,a;return N(function(l){if(l.g==1)return e.g.disableThumbnails?l.return(null):(ue(l,2),w(l,$M(e,s),4));if(l.g!=2)return u=l.h,l.return(u.stream);if(a=ae(l),e.g.hls.ignoreImageStreamFailures)return l.return(null);throw a})}).concat(n.map(function(s){if(e.g.disableThumbnails)return null;try{var u=TS(e,s);return u.stream.type!=="image"?null:u.stream}catch(a){if(e.g.hls.ignoreImageStreamFailures)return null;throw a}})),w(o,Promise.all(i),2)):(r=o.h,o.return(r.filter(function(s){return s})))})}function VM(e,t,n){t=t.filter(function(u){var a=re(u,"URI")||"";return u=re(u,"TYPE"),u!="SUBTITLES"&&(a!=""||u=="AUDIO")});var i={};t=T(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=O0(r,!e.j);i[o]?i[o].push(r):i[o]=[r]}for(var s in i)yS(e,i[s],n,!1)}function HM(e,t){return t.map(function(n){return n=TS(e,n),n.stream.type!=="video"?null:n.stream}).filter(function(n){return n})}function GM(e,t,n,i,r,o,s){var u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze,Ie,$e,Ne,Pe,je;return N(function(He){switch(He.g){case 1:if(u=[],a=new Set,e.g.ignoreDrmInfo||!(n.length>0)){He.B(2);break}l=T(n),c=l.next();case 3:if(c.done){He.B(2);break}if(d=c.value,p=et(d,"METHOD"),v=re(d,"KEYFORMAT")||"identity",y=null,p=="NONE"){He.B(4);break}if(yd(p)){E=oo(r(),et(d,"URI"),o),A=E.sort().join(""),e.O.has(A)||(k=Lt(E,e.g.retryParameters),I=kr(e,k,6).promise,e.O.set(A,I)),He.B(4);break}if(v=="identity")return w(He,OS(e,d,"",r,null,o),12);if(C=e.qc.get(v),!C){L=null,He.B(10);break}return w(He,C(d,"",null),11);case 11:L=He.h;case 10:y=L,He.B(6);break;case 12:y=He.h;case 6:if(y){if(y.keyIds)for(O=T(y.keyIds),M=O.next();!M.done;M=O.next())D=M.value,a.add(D);u.push(y)}case 4:c=l.next(),He.B(3);break;case 2:for(P={},j=T(t),b=j.next();!b.done;b=j.next())U=b.value,B=O0(U,!e.j),P[B]?P[B].push(U):P[B]=[U];G=[];for(H in P)F=P[H],q=F[0],z=re(q,"FRAME-RATE"),Y=Number(et(q,"BANDWIDTH"))||Number(re(q,"AVERAGE-BANDWIDTH")),we=re(q,"RESOLUTION"),ne=T(we?we.split("x"):[null,null]),ze=ne.next().value,Ie=ne.next().value,$e=re(q,"VIDEO-RANGE"),(Ne=re(q,"REQ-VIDEO-LAYOUT"))&&Ne.includes(",")&&(Pe=Ne.split(",").filter(function(Be){return Be=="CH-STEREO"||Be=="CH-MONO"}),Ne=Pe[0]),Ne=Ne||"CH-MONO",je=zM(e,F,i),G.push.apply(G,X(ZM(e,je.audio,je.video,Y,ze,Ie,z,$e,Ne,u,a,s)));return He.return(G.filter(function(Be){return Be!=null}))}})}function zM(e,t,n){for(var i={audio:[],video:[]},r=new Map,o=[],s=!1,u=!1,a=T(t),l=a.next();!l.done;l=a.next()){var c=l.value;l=re(c,"AUDIO");var d=re(c,"VIDEO"),p=l||d;p&&(o.includes(p)||o.push(p),(c=re(c,"PATHWAY-ID"))&&r.set(p,c),l?s=!0:d&&(u=!0))}o.length&&n.length&&(n=n.filter(function(y){return o.includes(et(y,"GROUP-ID"))}),VM(e,n,r)),n=(r=o.sort().join(","))&&e.L.has(r)?e.L.get(r):[],s?i.audio.push.apply(i.audio,X(n)):u&&i.video.push.apply(i.video,X(n)),u=!1;var v=t.map(function(y){return et(y,"URI")});return s=i.audio.find(function(y){return y&&y.S().find(function(E){return v.includes(E)})}),n=vS(e,t[0]),a=Cn("video",n),(l=Cn("audio",n))&&!a?(s="audio",u=i.audio.length>0&&!i.audio.some(function(y){return y.stream.isAudioMuxedInVideo})):!i.audio.length&&!i.video.length&&l&&a?(s="video",n=[[a,l].join()]):i.audio.length&&s?(s="audio",u=!0):s=i.video.length&&!i.audio.length?"audio":"video",u||(t=QM(e,t,n,s),r&&e.g.enableAudioGroups&&(t.stream.groupId=r),t.stream.type=="audio"&&s==="audio"&&i.audio.some(function(y){return y.stream.isAudioMuxedInVideo})&&(e=i.audio[0].stream,t.stream.language=e.language,t.stream.channelsCount=e.channelsCount,t.stream.label=e.label,t.stream.audioSamplingRate=e.audioSamplingRate,t.stream.originalId=e.originalId,t.stream.originalLanguage=e.originalLanguage),i[t.stream.type]=[t]),i}function vS(e,t){return t=re(t,"CODECS")||"",e.Z=t.length>0,e.Z||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),np(t.split(/\s*,\s*/))}function KM(e){return(e=re(e,"CHANNELS"))?parseInt(e.split("/")[0],10):null}function WM(e){return(e=re(e,"SAMPLE-RATE"))?parseInt(e,10):null}function XM(e){return e=re(e,"CHANNELS"),e?(e=e.split("/"),e.length!=2?!1:e[1]==="JOC"||e[1].includes("ATMOS")):!1}function YM(e){return e=et(e,"TYPE").toLowerCase(),e=="subtitles"&&(e=Re),e}function ZM(e,t,n,i,r,o,s,u,a,l,c,d){for(var p=T(n),v=p.next();!v.done;v=p.next())DS(v.value.stream,r,o,s,u,a,null);for(r=e.g.disableVideo,(!n.length||r)&&(n=[null]),r&&(t=t.filter(function(k){return!k.stream.isAudioMuxedInVideo})),r=e.g.disableAudio,(!t.length||r)&&(t=[null]),r=[],t=T(t),o=t.next();!o.done;o=t.next())for(o=o.value,s=T(n),u=s.next();!u.done;u=s.next()){var y=u.value;(u=o?o.stream:null)&&(u.drmInfos=l,u.keyIds=c),(a=y?y.stream:null)&&(a.drmInfos=l,a.keyIds=c,e.g.disableIFrames||v1(a,d)),a&&!u&&(a.bandwidth=i),!a&&u&&(u.bandwidth=i),p=o?o.stream.drmInfos:null,v=y?y.stream.drmInfos:null,y=y?y.S().sort().join(","):"";var E=o?o.S().sort().join(","):"",A=[];u&&u.codecs&&A.push(u.codecs),a&&a.codecs&&A.push(a.codecs),y=[y,E,A.sort()].join("-"),u&&a&&!kv(p,v)||e.kb.has(y)||(u={id:e.G++,language:u?u.language:"und",disabledUntilTime:0,primary:!!u&&u.primary||!!a&&a.primary,audio:u,video:a,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},r.push(u),e.kb.add(y))}return r}function JM(e,t){t=oS(t,"CLOSED-CAPTIONS"),e.P=t.length==0,t=T(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=re(i,"LANGUAGE");n=We(r||"und"),r||(r=re(i,"NAME"))&&(n=r),r=et(i,"GROUP-ID"),i=et(i,"INSTREAM-ID").replace("SERVICE","svc"),e.J.get(r)||e.J.set(r,new Map),e.J.get(r).set(i,n)}}function yS(e,t,n,i){i=i===void 0?!0:i;for(var r=[],o=[],s=new Map,u=T(t),a=u.next(),l={};!a.done;l={kj:void 0},a=u.next()){a=a.value,l.kj=++e.G,l=(function(E){return function(){return"shaka://hls-muxed"+E.kj}})(l);var c=i?et(a,"URI"):re(a,"URI")||l();l=et(a,"GROUP-ID"),r.push(c),o.push(l),s.set(l,c),(a=re(a,"PATHWAY-ID"))&&n.set(l,a)}if(i=o.sort().join(","),a=t[0],t="",u=YM(a),u==Re)t=re(a,"CODECS")||"";else for(o=T(o),l=o.next();!l.done;l=o.next())if(l=l.value,e.K.has(l)){t=e.K.get(l);break}if(o=r.sort().join(","),u=="audio"&&i&&(o+=i),e.i.has(o))return e.i.get(o);if(l=e.G++,e.j)for(s=T(s),c=s.next();!c.done;c=s.next()){var d=T(c.value);c=d.next().value,d=d.next().value,(c=n.get(c))&&Ws(e.j,l,c,d)}n=re(a,"LANGUAGE"),s=re(a,"NAME"),c=re(a,"DEFAULT")=="YES",d=u=="audio"?KM(a):null;var p=u=="audio"?XM(a):!1,v=re(a,"CHARACTERISTICS"),y=re(a,"FORCED")=="YES";return a=u=="audio"?WM(a):null,r=gd(e,l,r,t,u,n,c,s,d,null,v,y,a,p),r.stream&&e.g.enableAudioGroups&&(r.stream.groupId=i),e.L.has(i)?e.L.get(i).push(r):e.L.set(i,[r]),e.i.set(o,r),r}function $M(e,t){var n,i,r,o,s,u,a,l,c,d;return N(function(p){return p.g==1?(n=et(t,"URI"),i=re(t,"CODECS","jpeg")||"",e.i.has(n)?p.return(e.i.get(n)):(r=re(t,"LANGUAGE"),o=re(t,"NAME"),s=re(t,"CHARACTERISTICS"),u=gd(e,e.G++,[n],i,"image",r,!1,o,null,null,s,!1,null,!1),(a=re(t,"RESOLUTION"))?w(p,u.stream.createSegmentIndex(),3):p.B(2))):(p.g!=2&&(l=bi(u.stream.segmentIndex),(c=l.tilesLayout)&&(u.stream.width=Number(a.split("x")[0])*Number(c.split("x")[0]),u.stream.height=Number(a.split("x")[1])*Number(c.split("x")[1])),u.stream.closeSegmentIndex()),(d=re(t,"BANDWIDTH"))&&(u.stream.bandwidth=Number(d)),e.i.set(n,u),p.return(u))})}function TS(e,t){var n="video",i=et(t,"URI"),r=re(t,"CODECS")||"";if(r=="mjpg"&&(n="image"),e.i.has(i))return e.i.get(i);var o=re(t,"LANGUAGE"),s=re(t,"NAME"),u=re(t,"CHARACTERISTICS");return n=gd(e,e.G++,[i],r,n,o,!1,s,null,null,u,!1,null,!1),r=re(t,"RESOLUTION"),o=T(r?r.split("x"):[null,null]),r=o.next().value,o=o.next().value,n.stream.width=Number(r)||void 0,n.stream.height=Number(o)||void 0,(t=re(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(i,n),n}function QM(e,t,n,i){for(var r=e.G++,o=[],s=T(t),u=s.next();!u.done;u=s.next()){var a=u.value;u=et(a,"URI"),a=re(a,"PATHWAY-ID"),e.j&&a&&Ws(e.j,r,a,u),o.push(u)}if(s=o.sort().join(",")+n.sort().join(","),e.i.has(s))return e.i.get(s);u=o.join(",");e:{if(t=re(t[0],"CLOSED-CAPTIONS"),i=="video"){if(e.g.disableText){e.P=!1,t=null;break e}if(t){if(t!="NONE"){t=e.J.get(t);break e}e.P=!1}else if(!t&&e.J.size)for(t=T(e.J.keys()),t=t.next();!t.done;t=t.next()){t=e.J.get(t.value);break e}}t=null}return n=os(i,n),i=gd(e,r,o,n,i,null,!1,u,null,t,null,!1,null,!1),e.i.set(s,i),i}function gd(e,t,n,i,r,o,s,u,a,l,c,d,p,v){function y(L){var O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze,Ie,$e,Ne;return N(function(Pe){switch(Pe.g){case 1:return O=Rt,ue(Pe,2),w(Pe,L.promise,4);case 4:if(M=Pe.h,L.aborted)return Pe.return();if(D=M.uri,D!=M.originalUri&&(P=k.S(),P.includes(D)||k.dg.push(D)),j=_0(e.hb,M.data),j.type!=1)throw new _(2,4,4017);return b=li(j.ma,"EXT-X-DEFINE"),U=B0(e,b,D),B=!1,(!e.Z&&e.g.hls.disableCodecGuessing||e.P&&r==O.Ga&&!e.g.hls.disableClosedCaptionsDetection)&&j.segments.length>0&&(e.P=!1,B=!0),G=!e.Z&&e.g.hls.disableCodecGuessing,H=fn(e),w(Pe,AS(e,0,U,j,E,i,r,o,s,u,a,l,c,d,p,v,void 0,B,G),5);case 5:if(F=Pe.h,L.aborted)return Pe.return();q=F.stream,CS(e,j),fn(e)&&!H&&MS(e,j),k.nd=F.nd,k.Zc=F.Zc,k.rf=F.rf,k.qf=F.qf,k.xe=F.xe,k.Qf=F.Qf,k.$b=F.$b,k.ac=F.ac,A.segmentIndex=q.segmentIndex,A.encrypted=q.encrypted,A.drmInfos=q.drmInfos,A.keyIds=q.keyIds,A.mimeType=q.mimeType,A.bandwidth=A.bandwidth||q.bandwidth,A.codecs=A.codecs||q.codecs,A.closedCaptions=A.closedCaptions||q.closedCaptions,A.width=A.width||q.width,A.height=A.height||q.height,A.hdr=A.hdr||q.hdr,A.colorGamut=A.colorGamut||q.colorGamut,A.frameRate=A.frameRate||q.frameRate,A.language=="und"&&q.language!="und"&&(A.language=q.language),A.language=A.language||q.language,A.channelsCount=A.channelsCount||q.channelsCount,A.audioSamplingRate=A.audioSamplingRate||q.audioSamplingRate,$s(A),A.drmInfos.length&&e.h.newDrmInfo(A),z=!1,(!l&&A.closedCaptions||l&&A.closedCaptions&&l.size!=A.closedCaptions.size)&&(z=!0),e.l&&z&&e.h.makeTextStreamsForClosedCaptions(e.l),r==O.Va&&(Y=bi(q.segmentIndex))&&Y.ka&&(A.mimeType="application/mp4",$s(A)),we=sc(A),A.segmentIndex.Lb(function(je){je.ka&&(je.ka.Pd=we)}),e6(e)&&(e.Lc?F0(e,[k]):(e.Lc=!0,ne=Array.from(e.i.values()),ze=ne.filter(function(je){return je.stream.segmentIndex}),F0(e,ze),pd(e),Ie=e.A,Ie>0&&e.F.Y(Ie))),V0(e,j.ma,A.type,U,E),e.l&&(e.l.startTime=e.u),Ae(Pe,0);break;case 2:if($e=ae(Pe),A.closeSegmentIndex(),$e.code===7001)return Pe.return();if(Ne=e.h.disableStream(A),!Ne)throw $e;Z(Pe)}})}function E(){return e.j&&n.length>1?ka(e.j,t):k.dg.concat(sS([e.H],n,e.C))}var A=wS(e,i,r,o,s,u,a,l,c,d,p,v);n.some(function(L){return L.startsWith("shaka://hls-muxed")})&&(A.isAudioMuxedInVideo=!0,A.mimeType="video/mp2t",$s(A));var k={stream:A,type:r,dg:[],nd:0,Zc:0,Qf:new Map,rf:!1,qf:!1,xe:!1,$g:-1,$b:-1,ac:-1,S:E},I=null,C;return A.createSegmentIndex=function(){return I||(A.isAudioMuxedInVideo?(A.segmentIndex=new Ve([]),Promise.resolve()):(C=G0(e,k.S(),!0),I=new Promise(function(L){L(y(C))})))},A.closeSegmentIndex=function(){I&&!A.segmentIndex&&C.abort(),A.segmentIndex&&(A.segmentIndex.release(),A.segmentIndex=null),I=null},k}function SS(e){var t=1/0;e=T(e.i.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Zc));return t}function ES(e,t){var n=[];t=T(t);for(var i=t.next();!i.done;i=t.next())i=i.value,i.segmentIndex&&i.segmentIndex.Lb(function(r){n.push(r)});e.m.Ge(n)}function F0(e,t){if(!fn(e))for(var n=SS(e),i=T(t),r=i.next();!r.done;r=i.next())r.value.stream.segmentIndex.Gd(0,n);ES(e,t.map(function(o){return o.stream})),i=Array.from(e.i.values()).filter(function(o){return o.stream.segmentIndex}),n=i.some(function(o){return o.stream.type=="audio"}),r=i.some(function(o){return o.stream.type=="video"}),i=fn(e)&&!e.jb,n=!fn(e)&&e.jb&&!(n&&r),e.g.hls.ignoreManifestProgramDateTime||i||n?pS(e,t,i):(DM(e,t),e.g.hls.ignoreManifestProgramDateTimeForTypes.length>0&&pS(e,t))}function ba(e,t){return e.g.hls.ignoreManifestProgramDateTime?!0:e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function e6(e){if(!e.l)return!1;var t=[],n=[];e=T(e.l.variants);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&t.push(i.video),i.audio&&n.push(i.audio);return!(t.length>0&&!t.some(function(r){return r.segmentIndex})||n.length>0&&!n.some(function(r){return r.segmentIndex}))}function AS(e,t,n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I){k=k===void 0?!0:k,I=I===void 0?!0:I;var C,L,O,M,D,P,j,b,U,B,G,H,F,q,z,Y,we,ne,ze,Ie,$e,Ne,Pe,je,He,Be,be,Oe,Ft;return N(function(Dt){switch(Dt.g){case 1:if(C=i.segments||[],L=C.every(function(ei){return!!zt(ei.ma,"EXT-X-GAP")}),!C.length||L)throw new _(2,4,4053);if(t6(e,i),fn(e)&&q0(e,i),O=fn(e)?e.D.get(s):new Map,M=PS(e,i,O,n,r,s),D=M.segments,P=M.bandwidth,G=B=U=b=j=null,!(D.length>0&&k)){Dt.B(2);break}return w(Dt,OM(e,D),3);case 3:H=Dt.h,s!=H.type&&fn(e)&&(e.D.set(H.type,e.D.get(s)),e.D.set(s,new Map)),s=H.type,u=H.language,c=H.channelCount,y=H.sampleRate,e.g.disableText||(d=H.closedCaptions),b=H.height,j=H.width,U=H.Se,B=H.colorGamut,G=H.frameRate,I&&(A=H.mimeType,o=H.codecs);case 2:if(A){Dt.B(4);break}return w(Dt,r6(e,s,o,D),5);case 5:A=Dt.h,s!=Re||o||A!="application/mp4"||!D[0]||D[0].ka||(A="text/vtt");case 4:return w(Dt,IS(e,i,A,r,n),6);case 6:if(F=Dt.h,q=F.drmInfos,z=F.keyIds,Y=F.encrypted,we=F.Ki,Y&&!q.length&&!we)throw new _(2,4,4026);return ne=wS(e,o,s,u,a,l,c,d,p,v,y,E),ne.encrypted=Y&&!we,ne.drmInfos=q,ne.keyIds=z,ne.mimeType=A,P&&(ne.bandwidth=P),$s(ne),s=="video"&&(j||b||U||B)&&DS(ne,j,b,G,U,null,B),fn(e)&&q0(e,i),ze=D[0].startTime,Ie=D[D.length-1],$e=Ie.endTime,Ne=new Ve(D),ne.segmentIndex=Ne,je=(Pe=zt(i.ma,"EXT-X-SERVER-CONTROL"))?Zs(Pe,"CAN-SKIP-UNTIL")!=null:!1,He=Pe?Zs(Pe,"CAN-BLOCK-RELOAD")!=null:!1,Be=Js(i.ma,"EXT-X-MEDIA-SEQUENCE",0),be=xS(Be,D),Oe=be.$b,Ft=be.ac,Dt.return({stream:ne,type:s,dg:[],S:r,nd:ze,Zc:$e,rf:je,qf:He,xe:!1,$g:-1,$b:Oe,ac:Ft,Qf:O})}})}function xS(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{$b:e,ac:n};t=t[t.length-1];var i=t.g;return t.g.length?(n=i.length-1,i[i.length-1].isPreload()||(e++,n=0),{$b:e,ac:n}):(e++,t.u&&(n=0),{$b:e,ac:n})}function wS(e,t,n,i,r,o,s,u,a,l,c,d){var p=H0(n,t)||md(n),v=[];if(a){a=T(a.split(","));for(var y=a.next();!y.done;y=a.next())v.push(y.value)}return y=void 0,a=null,n==Re?y=v.includes("public.accessibility.transcribes-spoken-dialog")&&v.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":v.includes("public.accessibility.describes-video")&&(a="visually impaired"),v.length||y!=="subtitle"||v.push("subtitle"),y=null,n!="video"&&(y=o),e={id:e.G++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:p,codecs:t,kind:n==Re?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:We(i||"und"),originalLanguage:i,label:y,type:n,primary:r,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:v,forced:l,channelsCount:s,audioSamplingRate:c,spatialAudio:d,closedCaptions:u,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:a,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null},$s(e),e}function IS(e,t,n,i,r){var o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z;return N(function(Y){switch(Y.g){case 1:if(o=new Map,!e.g.ignoreDrmInfo&&t.segments){for(s=T(t.segments),u=s.next();!u.done;u=s.next())if(a=u.value,l=li(a.ma,"EXT-X-KEY"),c=null,l.length)for(c=RS(e,t,a.ma,i,r),d=T(l),p=d.next();!p.done;p=d.next())v=p.value,o.set(v,c)}E=y=!1,A=[],k=new Set,I=T(o),C=I.next();case 2:if(C.done){Y.B(4);break}if(L=C.value,O=T(L),M=O.next().value,D=O.next().value,P=M,j=D,b=et(P,"METHOD"),b=="NONE"){Y.B(3);break}if(y=!0,U=re(P,"KEYFORMAT")||"identity",B=null,yd(b)){E=!0,Y.B(3);break}if(U=="identity")return w(Y,OS(e,P,n,i,j,r),11);if(G=e.qc.get(U),!G){H=null,Y.B(9);break}return w(Y,G(P,n,j),10);case 10:H=Y.h;case 9:B=H,Y.B(6);break;case 11:B=Y.h;case 6:if(B){if(B.keyIds)for(F=T(B.keyIds),q=F.next();!q.done;q=F.next())z=q.value,k.add(z);A.push(B)}case 3:C=I.next(),Y.B(2);break;case 4:return Y.return({drmInfos:A,keyIds:k,encrypted:y,Ki:E})}})}function kS(e,t,n,i,r){if(!S.crypto||!S.crypto.subtle)throw ye("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new _(2,4,4042);var o=0,s=re(t,"IV","");if(s){var u=go(s.substr(2));if(u.byteLength!=16)throw new _(2,4,4048)}else o=Js(n.ma,"EXT-X-MEDIA-SEQUENCE",0);var a=oo(i(),et(t,"URI"),r),l=a.sort().join("");if(n=t.toString()+"-"+o+"-"+l,!e.oa.has(n)){var c={bitsKey:128,blockCipherMode:"CBC",iv:u,firstMediaSequenceNumber:o};switch(et(t,"METHOD")){case"AES-256":c.bitsKey=256;break;case"AES-256-CTR":c.bitsKey=256,c.blockCipherMode="CTR"}c.fetchKey=function(){var d,p,v,y;return N(function(E){if(E.g==1)return e.O.has(l)||(d=Lt(a,e.g.retryParameters),p=kr(e,d,6).promise,e.O.set(l,p)),w(E,e.O.get(l),2);if(E.g!=3){if(v=E.h,!v.data||v.data.byteLength!=c.bitsKey/8)throw new _(2,4,4049);return y={name:c.blockCipherMode=="CTR"?"AES-CTR":"AES-CBC",length:c.bitsKey},w(E,S.crypto.subtle.importKey("raw",v.data,y,!0,["decrypt"]),3)}c.cryptoKey=E.h,c.fetchKey=void 0,Z(E)})},e.oa.set(n,c)}return e.oa.get(n)}function CS(e,t){e.u==null&&(t=zt(t.ma,"EXT-X-START"))&&(e.u=Number(et(t,"TIME-OFFSET")))}function t6(e,t){var n=zt(t.ma,"EXT-X-PLAYLIST-TYPE");t=zt(t.ma,"EXT-X-ENDLIST"),t=n&&n.value=="VOD"||t,n=n&&n.value=="EVENT"&&!t,n=!t&&!n,t?vd(e,Sd):n?vd(e,K0):vd(e,c6)}function q0(e,t){var n=1/0,i=t.segments;if(i.length)for(var r=i.length-1;r>=0;){var o=zt(i[r].ma,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}r--}if(i=zt(t.ma,"EXT-X-TARGETDURATION"),!i)throw new _(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),(r=zt(t.ma,"EXT-X-PART-INF"))&&(e.R=Number(et(r,"PART-TARGET"))),t=zt(t.ma,"EXT-X-SERVER-CONTROL"),e.ha&&e.R?(e.A=e.Kc?e.R*5<=n?Math.min(e.R,e.A):Math.min(n,e.A):Math.min(e.R,e.A),e.Na=t?Number(et(t,"PART-HOLD-BACK")):0):(e.A=Math.min(n,e.A),n=t?Zs(t,"HOLD-BACK"):null,e.La=n?Number(n.value):0),e.$a=Math.max(i,e.$a)}function MS(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Na)n=e.Na;else if(e.La)n=e.La;else for(var i=t.segments.length,r=i-Math.min(i,e.g.hls.liveSegmentsDelay);r<i;r++){var o=zt(t.segments[r].ma,"EXTINF");n=o?n+Number(o.value.split(",")[0]):n+e.$a}e.u&&e.u<0&&(n=Math.min(-e.u,n),e.u+=n),e.m.Tj(0),e.m.ii(n),e.m.sd(!1)}function RS(e,t,n,i,r){var o=zt(n,"EXT-X-MAP");if(!o)return null;var s=et(o,"URI"),u=oo(i(),s,r);if(s=[u.toString(),re(o,"BYTERANGE","")].join("-"),!e.ya.has(s)){var a=void 0,l=null,c=!1;n=T(n);for(var d=n.next();!d.done;d=n.next())d=d.value,d.name=="EXT-X-KEY"?(c=et(d,"METHOD"),yd(c)&&d.id<o.id?(c=!1,a=kS(e,d,t,i,r)):c=c!="NONE"):d.name=="EXT-X-BYTERANGE"&&d.id<o.id&&(l=d);t=n6(u,o,l,a,c),e.ya.set(s,t)}return e.ya.get(s)}function n6(e,t,n,i,r){var o=0,s=null;return t=re(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(o=t.split("@"),s=Number(o[0]),o=Number(o[1]),s=o+s-1,i&&(n=s+1-o,n%16&&(s+=16-n%16))),new Rn(function(){return e},o,s,null,null,null,i,r)}function i6(e,t,n,i,r,o,s,u,a,l){var c=i.ma,d=zt(c,"EXTINF"),p=0,v=0,y=null;i.Ic.length&&(e.l.isLowLatency=!0);var E=null;if(!e.g.hls.ignoreManifestProgramDateTime){var A=zt(c,"EXT-X-PROGRAM-DATE-TIME");A&&A.value&&(E=ar(A.value),e.jb=!0)}var k=mr;if(zt(c,"EXT-X-GAP")&&(e.l.gapCount++,k=2),!d){if(i.Ic.length==0)throw new _(2,4,4024,"EXTINF");if(!e.ha)return null}var I=[];A=!1;var C=null,L=!1,O=!1;if(e.ha&&i.Ic.length){p=t&&S.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var M=E,D={},P=0;P<i.Ic.length;D={zg:void 0,Ie:void 0},P++){var j=i.Ic[P],b=P==0?n:I[I.length-1],U=P==0?r:b.endTime,B=Number(re(j,"DURATION"))||e.R;if(B){var G=U+B,H=0,F=null;if(j.name=="EXT-X-PRELOAD-HINT"?(H=(H=re(j,"BYTERANGE-START"))?Number(H):0,(b=re(j,"BYTERANGE-LENGTH"))?F=H+Number(b)-1:H&&(F=Number.MAX_SAFE_INTEGER)):(H=re(j,"BYTERANGE"),F=T(LS(b,H)),H=F.next().value,F=F.next().value),D.Ie=re(j,"URI"),D.Ie){b=mr,re(j,"GAP")=="YES"&&(e.l.gapCount++,b=2,L=!0),D.zg=null;var q=(function(Y){return function(){return Y.zg==null&&(Y.zg=oo(u(),Y.Ie,o)),Y.zg}})(D);p&&H>=0&&F!=null&&(C=q,A=!0),U=new he(U,G,q,H,F,t,0,0,1/0,[],"",null,M,b,l),j.name=="EXT-X-PRELOAD-HINT"&&(U.Nh(),O=!0),re(j,"INDEPENDENT")!="YES"&&P>0&&U.Od(),j=a,j||(I.length&&I[0].mimeType?j=I[0].mimeType:D.Ie&&(D=Ls(D.Ie),j=Td.get(s).get(D)||null)),j&&(U.mimeType=j,US.has(j)&&(U.ka=null)),I.push(U),M&&(M+=B)}}}}if(d){if(d=Number(d.value.split(",")[0]),d==0)return null;p=r+d}else if(I.length)p=I[I.length-1].endTime;else return null;A&&(L||I[0].startByte!=0?(A=!1,C=null):I=[]),(d=zt(c,"EXT-X-BYTERANGE"))?(y=T(LS(n,d.value)),v=y.next().value,y=y.next().value):I.length&&(v=I[0].startByte,y=I[I.length-1].endByte),n="",d=null,s=="image"&&(n="1x1",s=zt(c,"EXT-X-TILES"))&&(n=et(s,"LAYOUT"),(s=re(s,"DURATION"))&&(d=Number(s)));var z=null;return t=new he(r,p,function(){return C?C():(z==null&&(z=oo(u(),i.g,o)),z||[])},v,y,t,0,0,1/0,I,n,d,E,k,l,I.length>0&&!!i.g),a&&(t.mimeType=a,US.has(a)&&(t.ka=null)),A&&(e.Kc=!0,t.rj(),O&&t.Nh()),t}function LS(e,t){var n=0,i=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.endByte+1,i=n+t-1),[n,i]}function V0(e,t,n,i,r){if(n=="video"||n=="audio"){var o=e.m.m;if(o!=null&&!ba(e,n))for(t=li(t,"EXT-X-DATERANGE"),t=t.filter(function(b){return Zs(b,"START-DATE")!=null}).sort(function(b,U){return b=et(b,"START-DATE"),U=et(U,"START-DATE"),b<U?-1:b>U?1:0}),n=0;n<t.length;n++){var s=t[n];try{var u=et(s,"START-DATE"),a=ar(u);if(!isNaN(a)){var l=Math.max(0,a-o),c=null,d=re(s,"END-DATE");if(d){var p=ar(d);if(!isNaN(p)&&(c=p-o,c<0))continue}if(c==null){var v=re(s,"DURATION")||re(s,"PLANNED-DURATION");if(v){var y=parseFloat(v);if(isNaN(y)||(c=l+y),a-o+y<0)continue}}var E=re(s,"CLASS")||"com.apple.quicktime.HLS",A=re(s,"END-ON-NEXT")=="YES";if(c==null&&A){for(var k=n+1;k<t.length;k++){var I=re(t[k],"CLASS")||"com.apple.quicktime.HLS";if(E==I){var C=et(t[k],"START-DATE"),L=ar(C);if(!isNaN(L)&&L&&L>a){c=Math.max(0,L-o);break}}}if(c==null)continue}k=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var O=[],M=T(s.attributes),D=M.next();!D.done;D=M.next()){var P=D.value;if(!k.includes(P.name)){var j=uS(P.value,i);(P.name=="X-ASSET-URI"||P.name=="X-ASSET-LIST")&&(j=oo(r(),P.value,i)[0]),O.push({key:P.name,description:"",data:j,mimeType:null,pictureType:null})}}O.length>1&&e.h.onMetadata(E,l,c,O)}}catch{}}}}function PS(e,t,n,i,r,o){function s(b){if(b=Ls(b),!b)return null;var U=Td.get(o).get(b);return U||(U=z0.get(b)),U}var u=t.segments,a=null,l=null,c=null,d=null,p=void 0,v=Js(t.ma,"EXT-X-DISCONTINUITY-SEQUENCE",-1),y=Js(t.ma,"EXT-X-MEDIA-SEQUENCE",0),E=zt(t.ma,"EXT-X-SKIP"),A=E?Number(re(E,"SKIPPED-SEGMENTS")):0,k=y+A,I=0;fn(e)&&n.has(k)&&(I=n.get(k)),I===0&&e.Fa==K0&&n.size>0&&!n.has(k)&&e.m.i!=null&&(I=e.m.Nb());var C=[],L=null;E=[];for(var O=0;O<u.length;O++){var M=u[O];(k=zt(M.ma,"EXT-X-MAP"))&&k.id!==l&&(a=RS(e,t,M.ma,r,i),l=k.id),k=M.g;var D="";k&&(D=Ls(k)),D!==d&&(c=s(k),d=D),D=O==0?I:L.endTime,k=y+A+O,zt(M.ma,"EXT-X-DISCONTINUITY")&&(v++,L&&L.ka&&(L.ka.g=D));for(var P=T(M.ma),j=P.next();!j.done;j=P.next())j=j.value,j.name=="EXT-X-KEY"&&(yd(et(j,"METHOD"))?p=kS(e,j,t,r,i):p=void 0);if(n.set(k,D),D=i6(e,a,L,M,D,i,o,r,c,p)){if((L=Js(M.ma,"EXT-X-BITRATE"))?(E.push({bitrate:L,duration:D.endTime-D.startTime}),D.bandwidth=L):D.endByte?(M=Pf(D))&&(L=D.endTime-D.startTime,M=M*8/L/1e3,E.push({bitrate:M,duration:L}),D.bandwidth=M):E.length&&(L=E.pop(),L.duration+=D.endTime-D.startTime,E.push(L),D.bandwidth=L.bitrate),D.bandwidth)for(L=T(D.g),M=L.next();!M.done;M=L.next())M.value.bandwidth=D.bandwidth;L=D,D.i=v,ba(e,o)&&e.M!=null&&k<e.M||C.push(D)}}if(t=void 0,E.length&&(t=E.reduce(function(b,U){return b+U.duration},0),t=Math.round(E.reduce(function(b,U){return b+U.bitrate*U.duration},0)/t*1e3)),E=C.some(function(b){return b.h!=null})){for(n={},i=0;i<C.length;n={wf:void 0,vf:void 0,mf:void 0,pd:void 0,lf:void 0},i++)if(n.pd=C[i],n.pd.h==null)for(n.vf=0,n.wf=i,r=(function(b){return function(){var U=C[b.wf];if(U){if(U.h!=null)return U.h+b.vf;b.vf-=U.endTime-U.startTime,b.wf+=1}return null}})(n),n.lf=0,n.mf=i,u=(function(b){return function(){var U=C[b.mf];if(U){if(U!=b.pd&&(b.lf+=U.endTime-U.startTime),U.h!=null)return U.h+b.lf;--b.mf}return null}})(n);n.pd.h==null;)n.pd.h=u(),n.pd.h==null&&(n.pd.h=r())}if(E)for(n=T(C),i=n.next();!i.done;i=n.next())for(r=i.value,i=r.h,r=T(r.g),u=r.next();!u.done;u=r.next())u=u.value,u.h=i,i+=u.endTime-u.startTime;if(n=e.aa,E&&n!=1/0&&!ba(e,o))for(e=T(C),E=e.next();!E.done;E=e.next())E.value.wi(n);return{segments:C,bandwidth:t}}function H0(e,t){if(e==Re){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function md(e){return e==Re?"text/vtt":Td.get(e).get("mp4")}function bS(e,t){e=fn(e)?Math.trunc((t.length-1)/2):0;for(var n=t[e];n.lc()==2&&e+1<t.length;)e++,n=t[e];return{segment:n,segmentIndex:e}}function r6(e,t,n,i){var r,o,s,u,a,l,c,d,p,v,y,E,A;return N(function(k){switch(k.g){case 1:return r=zn,o=bS(e,i),s=o.segment,s.status==2?k.return(md(t)):(a=s.S(),(l=Ls(a[0]))&&(c=Td.get(t),(d=c.get(l))||(d=z0.get(l)))?k.return(d):(u=H0(t,n))?k.return(u):(v=1,y=Lt(a,e.g.retryParameters),ue(k,2),y.method="HEAD",w(k,kr(e,y,r,{type:v}).promise,4)));case 4:E=k.h,p=E.headers["content-type"],Ae(k,3);break;case 2:if(A=ae(k),!A||A.code!=1002&&A.code!=1001){k.B(3);break}return y.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(y.headers.Range="bytes=0-0"),w(k,kr(e,y,r,{type:v}).promise,6);case 6:E=k.h,p=E.headers["content-type"];case 3:if(!p){k.B(7);break}if(u=p.toLowerCase().split(";")[0],u!="application/octet-stream"){k.B(8);break}if(E.data.byteLength){k.B(9);break}return y.method="GET",w(k,kr(e,y,r,{type:v}).promise,10);case 10:E=k.h;case 9:Is(Te(E.data))&&(u="video/mp2t");case 8:if(u!="application/octet-stream")return k.return(u);case 7:return k.return(md(t))}})}function DS(e,t,n,i,r,o,s){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(i)||void 0,e.hdr=r||void 0,e.videoLayout=o||void 0,e.colorGamut=s||void 0)}function G0(e,t,n){return kr(e,Lt(t,e.g.retryParameters),0,{type:n?2:3})}function NS(e){var t,n,i,r,o,s;return N(function(u){switch(u.g){case 1:return e.h?(ue(u,2),t=Date.now(),w(u,e.update(),4)):u.return();case 4:n=Date.now(),fn(e)&&(i=(n-t)/1e3,e.Pb.sample(1,i),r=e.g.updatePeriod>0?e.g.updatePeriod:e.A,o=Math.max(0,r-Sl(e.Pb)),e.F.Y(o)),Ae(u,3);break;case 2:if(s=ae(u),!e.h)return u.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(s),u.return();s.severity=1,e.h.onError(s),e.F.Y(.1);case 3:if(!e.h)return u.return();e.h.onManifestUpdated(),Z(u)}})}function fn(e){return e.Fa!=Sd}function vd(e,t){e.Fa=t,e.m&&e.m.sd(!fn(e)),fn(e)||e.F.stop()}function kr(e,t,n,i){if(!e.X)throw new _(2,7,7001);return i||(i={}),i.isPreload=e.nc(),t=e.h.networkingEngine.request(n,t,i),Mo(e.X,t),t}function yd(e){return e=="AES-128"||e=="AES-256"||e=="AES-256-CTR"}function o6(e,t,n,i){var r,o,s,u,a,l;return N(function(c){if(c.g==1){if(n=="video/mp2t")throw new _(2,4,4040);if(S.shakaMediaKeysPolyfill==="apple")throw new _(2,4,4041);if(r=et(t,"METHOD"),o=["SAMPLE-AES","SAMPLE-AES-CTR"],!o.includes(r))return c.return(null);s="cenc",r=="SAMPLE-AES"&&(s="cbcs"),u=et(t,"URI"),a=or("com.apple.fps",s,null,u);var d=new It(u).Jb.replace(/-/g,"").toLowerCase();return(l=d.length===32&&/^[0-9a-f]+$/.test(d)?d:null)||!i?c.B(2):w(c,_S(e,i),3)}return c.g!=2&&(l=c.h),l&&a.keyIds.add(l),c.return(a)})}function OS(e,t,n,i,r,o){var s,u,a,l,c,d,p,v,y,E,A,k;return N(function(I){switch(I.g){case 1:if(n=="video/mp2t")throw new _(2,4,4040);if(S.shakaMediaKeysPolyfill==="apple")throw new _(2,4,4041);if(s=et(t,"METHOD"),u=["SAMPLE-AES","SAMPLE-AES-CTR"],!u.includes(s))return I.return(null);if(a=oo(i(),et(t,"URI"),o),a[0].startsWith("data:text/plain;base64,")){l=Ur(ni(a[0].split("data:text/plain;base64,").pop())),I.B(2);break}return c=a.sort().join(""),e.sa.has(c)||(d=Lt(a,e.g.retryParameters),p=kr(e,d,6).promise,e.sa.set(c,p)),w(I,e.sa.get(c),3);case 3:v=I.h,l=Ur(v.data);case 2:if(y="00000000000000000000000000000000",!r){I.B(4);break}return w(I,_S(e,r),5);case 5:(E=I.h)&&(y=E);case 4:return A=new Map,A.set(y,l),k="cenc",s=="SAMPLE-AES"&&(k="cbcs"),I.return(Rv(A,k))}})}function _S(e,t){var n,i,r,o;return N(function(s){return s.g==1?(n=null,e.ua.has(t)?(n=e.ua.get(t),s.B(2)):(i=Ps(t.S(),t.Vc(),t.Tc(),e.g.retryParameters),r=zn,w(s,kr(e,i,r,{type:0}).promise,3))):(s.g!=2&&(o=s.h,t.Ne(o.data),n=G5(o.data),e.ua.set(t,n)),s.return(n))})}K("shaka.hls.HlsParser",fd);var z0=new Map().set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),s6=new Map().set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),u6=new Map().set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),a6=new Map().set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),l6=new Map().set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),Td=new Map().set("audio",s6).set("video",u6).set("text",a6).set("image",l6),US=new Set(["video/mp2t"].concat(X(dr))),Sd="VOD",c6="EVENT",K0="LIVE";To("application/x-mpegurl",function(){return new fd}),To("application/vnd.apple.mpegurl",function(){return new fd});function Ed(e){return nd(e)}var d6=new Map().set("com.microsoft.playready",Ed).set("com.microsoft.playready.recommendation",Ed).set("com.microsoft.playready.software",Ed).set("com.microsoft.playready.hardware",Ed);function W0(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.A=1,this.i=null,this.F=new us(5),this.u=new le(function(){h6(e)}),this.D=new vs,this.m=new Map,this.C=function(){return!1}}h=W0.prototype,h.configure=function(e,t){this.g=e,t&&(this.C=t)},h.start=function(e,t){var n=this;return N(function(i){if(i.g==1)return n.l=[e],n.h=t,w(i,X0(n),2);if(!n.h)throw new _(2,7,7001);return i.return(n.j)})};function h6(e){var t;N(function(n){switch(n.g){case 1:return ue(n,2),w(n,X0(e),4);case 4:Ae(n,3);break;case 2:t=ae(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();Z(n)}})}h.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.u!=null&&(this.u.stop(),this.u=null),this.m.clear(),this.D.destroy()},h.update=function(){var e=this,t;return N(function(n){if(n.g==1)return ue(n,2),w(n,X0(e),4);if(n.g!=2)return Ae(n,0);if(t=ae(n),!e.h||!t)return n.return();e.h.onError(t),Z(n)})},h.onExpirationUpdated=function(){},h.onInitialVariantChosen=function(){},h.banLocation=function(){},h.setMediaElement=function(){};function X0(e){var t,n,i,r,o,s,u;return N(function(a){if(a.g==1)return t=Lt(e.l,e.g.retryParameters),n=e.h.networkingEngine,i=Date.now(),r=n.request(0,t,{type:5,isPreload:e.C()}),Mo(e.D,r),w(a,r.promise,2);if(o=a.h,!e.h)return a.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var l=o.uri,c=o.data,d=e.g.mss.manifestPreprocessor;if(d!=Sc){if(qe("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),c=B4(c,"SmoothStreamingMedia"),!c)throw new _(2,4,4046,l);d(c),c=vi(c.outerHTML)}var p=Iu(c,"SmoothStreamingMedia");if(!p)throw new _(2,4,4046,l);if(l=e.g.mss.manifestPreprocessorTXml,l!=Ec&&l(p),e.i||(e.i=new ve(null,0)),l=Se(p,"IsLive",Cl,!1))throw new _(2,4,4047);e.i.sd(!l),d=Se(p,"TimeScale",Jt,1e7),c=Se(p,"DVRWindowLength",Jt),l&&(c===0||isNaN(c))&&(c=1/0);var v=Se(p,"CanSeek",Cl,!1);c===0&&v&&(c=1/0),v=null,c&&c>0&&(v=c/d),l&&!isNaN(e.g.availabilityWindowOverride)&&(v=e.g.availabilityWindowOverride),v==null&&(v=1/0),e.i.mg(v),c=Se(p,"Duration",Jt,1/0),l||e.i.Fb(c/d),l={variants:[],textStreams:[],timescale:d,duration:c/d};var y;for(v=Ze(p,"Protection"),d=e.g.mss.keySystemsBySystemId,c=[],v=T(v),y=v.next();!y.done;y=v.next())c=c.concat(Ze(y.value,"ProtectionHeader"));if(c.length){for(v=[],y=0;y<c.length;y++){var E=c[y],A=E.attributes.SystemID.toLowerCase(),k=d[A];if(k){var I;e:{if(I=f4(E)){I=T(Pi(I,"DATA"));for(var C=I.next();!C.done;C=I.next())if(C=ut(C.value,"KID")){I=ni(kt(C)),I=new Uint8Array([I[3],I[2],I[1],I[0],I[5],I[4],I[7],I[6]].concat(X(I.slice(8)))),I=Ur(I);break e}}I=null}C=ni(kt(E)),A=go(A.replace(/-/g,"")),A=[{initData:zl(C,A,new Set,0),initDataType:"cenc",keyId:I}],A=or(k,"cenc",A),I&&A.keyIds.add(I),(k=d6.get(k))&&(A.licenseServerUri=k(E)),v.push(A)}}d=v}else d=[];for(y=d,v=[],d=[],c=[],p=Ze(p,"StreamIndex"),p=T(p),E=p.next();!E.done;E=p.next()){E=E.value,k=Ze(E,"QualityLevel"),A=l.timescale,I=l.duration,C=Ze(E,"c");for(var L=[],O=0,M=0;M<C.length;++M){var D=C[M],P=C[M+1],j=Se(D,"t",Jt),b=Se(D,"d",Jt);if(D=Se(D,"r",Zt),!b)break;if(j=j??O,(D=D||0)&&D--,D<0)if(P){if(P=Se(P,"t",Jt),P==null)break;if(j>=P)break;D=Math.ceil((P-j)/b)-1}else{if(I==1/0)break;if(j/A>=I)break;D=Math.ceil((I*A-j)/b)-1}for(P=0;P<=D;++P)O=j+b,L.push({start:j/A,end:O/A,fe:j}),j=O}for(A=L,k=T(k),I=k.next();!I.done;I=k.next())(I=f6(e,E,I.value,A,y,l))&&(I.type!="audio"||e.g.disableAudio?I.type!="video"||e.g.disableVideo?I.type!=Re||e.g.disableText||c.push(I):d.push(I):v.push(I))}for(p=[],v=T(v.length>0?v:[null]),y=v.next();!y.done;y=v.next())for(y=y.value,E=T(d.length>0?d:[null]),L=E.next();!L.done;L=E.next())k=p,A=k.push,I=e,C=y,L=L.value,M=0,C&&C.bandwidth&&C.bandwidth>0&&(M+=C.bandwidth),L&&L.bandwidth&&L.bandwidth>0&&(M+=L.bandwidth),I={id:I.A++,language:C?C.language:"und",disabledUntilTime:0,primary:!!C&&C.primary||!!L&&L.primary,audio:C,video:L,bandwidth:M,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},A.call(k,I);l.variants=p,l.textStreams=c,e.j?(e.j.variants=l.variants,e.j.textStreams=l.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.Pf()),Promise.resolve(),s=Date.now(),u=(s-i)/1e3,e.F.sample(1,u),Z(a)})}function f6(e,t,n,i,r,o){var s=t.attributes.Type;if(s!=="audio"&&s!=="video"&&s!=="text")return ye("Ignoring unrecognized type:",s),null;var u=t.attributes.Language,a=e.A++,l=Se(n,"Bitrate",Vi),c=Se(n,"MaxWidth",Vi),d=Se(n,"MaxHeight",Vi),p=Se(n,"Channels",Vi),v=Se(n,"SamplingRate",Vi),y=o.duration;i.length&&(y=i[i.length-1].end-i[0].start);var E=e.i.getDuration();e.i.Fb(Math.min(y,E)),(E=t.attributes.Name)&&(E+=n.attributes.Index),E||(E=String(a));var A={id:a,originalId:E,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:c||void 0,height:d||void 0,kind:"",encrypted:r.length>0,drmInfos:r,keyIds:new Set,language:We(u||"und"),originalLanguage:u,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:p,audioSamplingRate:v,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:y,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((r=t.attributes.Subtype)&&((r=T6.get(r))&&A.roles.push(r),r==="main"&&(A.primary=!0)),r=n.attributes.FourCC,(r===null||r==="")&&(r=t.attributes.FourCC),!r){if(s==="audio")r="AAC";else if(s==="video")return ye('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!y6.includes(r.toUpperCase()))return ye("Codec not supported:",r),null;switch(n=p6(n,s,r,A),A.mssPrivateData.codecPrivateData=n,s){case"audio":if(!n)return ye("Quality unsupported without CodecPrivateData",s),null;A.type="audio",A.mimeType="mss/audio/mp4",A.codecs=g6(r,n);break;case"video":if(!n)return ye("Quality unsupported without CodecPrivateData",s),null;A.type="video",A.mimeType="mss/video/mp4",A.codecs=m6(n);break;case"text":A.type=Re,A.mimeType="application/mp4",(r==="TTML"||r==="DFXP")&&(A.codecs="stpp")}return A.fullMimeTypes.add(St(A.mimeType,A.codecs)),A.createSegmentIndex=function(){if(A.segmentIndex)return Promise.resolve();if(e.m.has(A.id))var k=e.m.get(A.id);else k=[],A.type=="video"&&(k=A.mssPrivateData.codecPrivateData.split("00000001").slice(1)),k={id:A.id,type:A.type,codecs:A.codecs,encrypted:A.encrypted,timescale:A.mssPrivateData.timescale,duration:A.mssPrivateData.duration,Hb:k,Ma:new Uint8Array([]),Ya:new Uint8Array([]),fb:0,gb:0,data:null,stream:A},k=Es(new Ss([k])),e.m.set(A.id,k);return k=v6(e,new Rn(function(){return[]},0,null,sc(A),A.mssPrivateData.timescale,k,null,A.encrypted),A,t,i),A.segmentIndex=new Ve(k),Promise.resolve()},A.closeSegmentIndex=function(){A.segmentIndex&&(A.segmentIndex.release(),A.segmentIndex=null)},A}function p6(e,t,n,i){if(e=e.attributes.CodecPrivateData)return e;if(t!=="audio")return null;t=i.channelsCount||2,e=i.audioSamplingRate||44100;var r={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return i=r[e],n==="AACH"?(n=new Uint8Array(4),e=r[e*2],n[0]=40|i>>1,n[1]=i<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|i>>1,n[1]=i<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function g6(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function m6(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function v6(e,t,n,i,r){var o=i.attributes.Url.replace("{bitrate}",String(n.bandwidth));i=[],r=T(r);for(var s=r.next(),u={};!s.done;u={sg:void 0},s=r.next())u.sg=s.value,i.push(new he(u.sg.start,u.sg.end,(function(a){return function(){return Vt(e.l,[o.replace("{start time}",String(a.sg.fe))])}})(u),0,null,t,0,0,n.mssPrivateData.duration));return i}K("shaka.mss.MssParser",W0);var y6="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),T6=new Map().set("CAPT","main").set("SUBT","alternate").set("DESC","main");To("application/vnd.ms-sstr+xml",function(){return new W0});function jS(e,t,n,i,r,o,s){if(n>=200&&n<=299&&n!=202||n==304)return{uri:r||i,originalUri:i,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:o};o=null;try{o=Bi(t)}catch{}throw new _(n==401||n==403?2:1,1,1001,i,n,o,e,s,r||i)}function Y0(){}function Ad(e,t,n,i,r,o){var s=new I6;try{Ts(t.headers).forEach(function(c,d){s.append(d,c)})}catch(c){return Gr(new _(1,1,1002,e,c,n))}var u=new x6,a={Qi:!1,hk:!1};if(e=S6(e,t,n,{body:t.body||void 0,headers:s,method:t.method,signal:u.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},a,i,r,t.streamDataCallback,o.minBytesForProgressEvents||0),e=new xt(e,function(){return a.Qi=!0,u.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var l=new le(function(){a.hk=!0,u.abort()});l.Y(t/1e3),e.finally(function(){l.stop()})}return e}function S6(e,t,n,i,r,o,s,u,a){var l,c,d,p,v,y,E,A,k,I,C,L,O,M,D;return N(function(P){switch(P.g){case 1:return l=A6,c=w6,p=new ArrayBuffer(0),y=v=0,E={},A=Date.now(),ue(P,2),w(P,l(e,i),4);case 4:if(d=P.h,E=E6(d.headers),s(E),i.method=="HEAD"){P.B(5);break}return I=(k=d.headers.get("Content-Length"))?parseInt(k,10):0,d.body?(C=d.clone().body.getReader(),L=function(j){function b(){var U,B,G,H;return N(function(F){switch(F.g){case 1:return ue(F,2),w(F,C.read(),4);case 4:U=F.h,Ae(F,3);break;case 2:return ae(F),F.return();case 3:if(U.done){F.B(5);break}if(v+=U.value.byteLength,!u){F.B(5);break}return w(F,u(U.value),5);case 5:B=Date.now(),G=v-y,(B-A>100&&G>=a||U.done)&&(H=U.done?0:I-v,o(B-A,G,H),y=v,A=B),U.done?j.close():(j.enqueue(U.value),b()),Z(F)}})}b()},new c({start:L}),w(P,d.arrayBuffer(),8)):w(P,d.arrayBuffer(),9);case 8:p=P.h,P.B(5);break;case 9:p=P.h,O=Date.now(),o(O-A,p.byteLength,0);case 5:t.headers.Range&&(M=t.headers.Range.replace("bytes=","").split("-").filter(function(j){return j}).map(function(j){return parseInt(j,10)}),M.length==2&&p.byteLength!=M[1]-M[0]+1&&ye("Payload length does not match range requested bytes",t,d)),Ae(P,3);break;case 2:throw D=ae(P),r.Qi?new _(1,1,7001,e,n):r.hk?new _(1,1,1003,e,n):new _(1,1,1002,e,D,n);case 3:return P.return(jS(E,p,d.status,e,d.url,t,n))}})}function E6(e){var t={};return e.forEach(function(n,i){t[i.trim()]=n}),t}function BS(){if(S.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(S.Response){if(!new Response("").body)return!1}else return!1;return!(!S.fetch||"polyfill"in S.fetch||!S.AbortController)}K("shaka.net.HttpFetchPlugin",Y0),Y0.isSupported=BS,Y0.parse=Ad;var A6=S.fetch,x6=S.AbortController,w6=S.ReadableStream,I6=S.Headers;BS()&&(fr("http",Ad,2,!0),fr("https",Ad,2,!0),fr("blob",Ad,2,!0));function FS(){}function xd(e,t,n,i,r,o){var s=new k6,u=Date.now(),a=0,l=new Promise(function(c,d){s.open(t.method,e,!0),s.responseType="arraybuffer",s.timeout=t.retryParameters.timeout,s.withCredentials=t.allowCrossSiteCredentials;var p={};s.onabort=function(){d(new _(1,1,7001,e,n))},s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.HEADERS_RECEIVED){var y=s.getAllResponseHeaders().trim().split(`\r
`),E={};y=T(y);for(var A=y.next();!A.done;A=y.next())A=A.value.split(": "),E[A[0].toLowerCase()]=A.slice(1).join(": ");p=E,r(p)}},s.onload=function(y){var E=s.response;try{i(Date.now()-u,y.loaded-a,0);var A=jS(p,E,s.status,e,s.responseURL,t,n);c(A)}catch(k){d(k)}},s.onerror=function(y){d(new _(1,1,1002,e,y,n))},s.ontimeout=function(){d(new _(1,1,1003,e,n))},s.onprogress=function(y){var E=Date.now(),A=o.minBytesForProgressEvents||0,k=y.loaded-a;(E-u>100&&k>=A||y.lengthComputable&&y.loaded==y.total)&&(i(E-u,k,s.readyState==4?0:y.total-y.loaded),a=y.loaded,u=E)};for(var v in t.headers)try{s.setRequestHeader(v.toLowerCase(),t.headers[v])}catch(y){throw new _(1,1,1002,e,y,n)}s.send(t.body)});return new xt(l,function(){return s.abort(),Promise.resolve()})}K("shaka.net.HttpXHRPlugin",FS),FS.parse=xd;var k6=S.XMLHttpRequest;fr("http",xd,1,!0),fr("https",xd,1,!0),fr("blob",xd,1,!0);function qS(e,t,n,i,r){this.g=e,this.i=t,this.groupId=n,this.h=i,this.j=r}function Z0(e){var t=e.kc(!1);return t?rr(t):e.S().map(function(n){return"{"+encodeURI(n.split("#xywh=")[0])+"}"}).join("")+":"+e.startByte+":"+e.endByte}function C6(e,t){return Ps(e.g.S(),e.g.startByte,e.g.endByte,t.streaming.retryParameters)}function VS(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function HS(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}VS.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}};function GS(e){return e.i==0?0:e.j/e.i}function J0(e){var t=this;this.A=e,this.i=new Map,this.h=new ys(function(){return $0(t).catch(function(){})}),this.j=[],this.u=function(){},this.m=function(){},this.g=new VS,this.l=!1}J0.prototype.destroy=function(){return this.h.destroy()};function M6(e,t,n){e.u=t,e.m=n}function $0(e){e.l=!0;var t=e.j.map(function(n){return n()});return e.j=[],Promise.all(t)}J0.prototype.queue=function(e,t,n,i,r){var o=this;nt(this.h);var s=(this.i.get(e)||Promise.resolve()).then(function(){var u,a,l,c,d,p,v;return N(function(y){if(y.g==1)return w(y,P6(o,t),2);if(u=y.h,o.h.g)throw new _(2,9,7001);if(i)for(c in a=Te(u),l=new xf(a),l.data)d=Number(c),p=l.data[d],v=l.g[d],o.m(p,v);return o.g.close(n,u.byteLength),o.u(GS(o.g),o.g.g),y.return(r(u))})});return this.i.set(e,s),s};function R6(e,t,n,i,r,o){nt(e.h);var s=(e.i.get(t)||Promise.resolve()).then(function(){if(e.h.g)throw new _(2,9,7001);if(r){var u=Te(n);u=new xf(u);for(var a in u.data){var l=Number(a);e.m(u.data[l],u.g[l])}}return e.g.close(i,n.byteLength),e.u(GS(e.g),e.g.g),o(n)});e.i.set(t,s)}function L6(e){return N(function(t){return t.g==1?w(t,Promise.all(e.i.values()),2):t.return(e.g.g)})}function P6(e,t){var n,i,r,o;return N(function(s){return s.g==1?(n=zn,i=e.A.request(n,t),r=function(){return i.abort()},e.j.push(r),w(s,i.promise,2)):(o=s.h,ii(e.j,r),s.return(o.data))})}function wd(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Qe,e.onabort=function(i){i.preventDefault(),n.g.reject()},e.onerror=function(i){i.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}wd.prototype.abort=function(){var e=this;return N(function(t){if(t.g==1){try{e.i.abort()}catch{}return ue(t,2),w(t,e.g,4)}if(t.g!=2)return Ae(t,0);ae(t),Z(t)})};function Q0(e,t){return new Promise(function(n,i){var r=e.h.openCursor();r.onerror=i,r.onsuccess=function(){var o;return N(function(s){if(s.g==1)return r.result==null?(n(),s.return()):(o=r.result,w(s,t(o.key,o.value,o),2));o.continue(),Z(s)})}})}wd.prototype.store=function(){return this.h},wd.prototype.promise=function(){return this.g};function eg(e){this.h=e,this.g=[]}eg.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function qo(e,t){return Id(e,t,"readwrite")}function Id(e,t,n){n=e.h.transaction([t],n);var i=new wd(n,t);return e.g.push(i),i.promise().then(function(){ii(e.g,i)},function(){ii(e.g,i)}),i}function Vo(e,t,n){this.h=new eg(e),this.i=t,this.g=n}h=Vo.prototype,h.destroy=function(){return this.h.destroy()},h.hasFixedKeySpace=function(){return!0},h.addSegments=function(){return zS(this.i)},h.removeSegments=function(e,t){return KS(this,this.i,e,t)},h.getSegments=function(e){var t=this,n;return N(function(i){return i.g==1?w(i,WS(t,t.i,e),2):(n=i.h,i.return(n.map(function(r){return t.Vi(r)})))})},h.addManifests=function(){return zS(this.g)},h.updateManifest=function(){return Promise.reject(new _(2,9,9016,"Cannot modify values in "+this.g))};function b6(e,t,n){e=qo(e.h,e.g);var i=e.store();return i.get(t).onsuccess=function(){i.put(n,t)},e.promise()}h.updateManifestExpiration=function(e,t){var n=qo(this.h,this.g),i=n.store();return i.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,i.put(r,e))},n.promise()},h.removeManifests=function(e,t){return KS(this,this.g,e,t)},h.getManifests=function(e){var t=this,n;return N(function(i){return i.g==1?w(i,WS(t,t.g,e),2):(n=i.h,i.return(Promise.all(n.map(function(r){return t.pe(r)}))))})},h.getAllManifests=function(){var e=this,t,n;return N(function(i){return i.g==1?(t=Id(e.h,e.g,"readonly"),n=new Map,w(i,Q0(t,function(r,o){var s;return N(function(u){if(u.g==1)return w(u,e.pe(o),2);s=u.h,n.set(r,s),Z(u)})}),2)):i.g!=3?w(i,t.promise(),3):i.return(n)})},h.Vi=function(e){return e},h.pe=function(e){return Promise.resolve(e)};function zS(e){return Promise.reject(new _(2,9,9011,"Cannot add new value to "+e))}h.add=function(e,t){var n=this,i,r,o,s,u,a,l;return N(function(c){if(c.g==1){for(i=qo(n.h,e),r=i.store(),o=[],s=T(t),u=s.next(),a={};!u.done;a={Zh:void 0},u=s.next())l=u.value,a.Zh=r.add(l),a.Zh.onsuccess=(function(d){return function(){o.push(d.Zh.result)}})(a);return w(c,i.promise(),2)}return c.return(o)})};function KS(e,t,n,i){e=qo(e.h,t),t=e.store(),n=T(n);for(var r=n.next(),o={};!r.done;o={Mh:void 0},r=n.next())o.Mh=r.value,t.delete(o.Mh).onsuccess=(function(s){return function(){return i(s.Mh)}})(o);return e.promise()}function WS(e,t,n){var i,r,o,s,u,a,l;return N(function(c){if(c.g==1){for(i=Id(e.h,t,"readonly"),r=i.store(),o={},s=[],u=T(n),a=u.next(),l={};!a.done;l={fg:void 0,Lf:void 0},a=u.next())l.Lf=a.value,l.fg=r.get(l.Lf),l.fg.onsuccess=(function(d){return function(){d.fg.result==null&&s.push(d.Lf),o[d.Lf]=d.fg.result}})(l);return w(c,i.promise(),2)}if(s.length)throw new _(2,9,9012,"Could not find values for "+s);return c.return(n.map(function(d){return o[d]}))})}function Da(e){this.g=new eg(e)}Da.prototype.destroy=function(){return this.g.destroy()},Da.prototype.getAll=function(){var e=this,t,n;return N(function(i){return i.g==1?(t=Id(e.g,"session-ids","readonly"),n=[],w(i,Q0(t,function(r,o){n.push(o)}),2)):i.g!=3?w(i,t.promise(),3):i.return(n)})},Da.prototype.add=function(e){var t=qo(this.g,"session-ids"),n=t.store();e=T(e);for(var i=e.next();!i.done;i=e.next())n.add(i.value);return t.promise()},Da.prototype.remove=function(e){var t=this,n;return N(function(i){return i.g==1?(n=qo(t.g,"session-ids"),w(i,Q0(n,function(r,o,s){e.includes(o.sessionId)&&s.delete()}),2)):w(i,n.promise(),0)})};function bn(){this.g=new Map}bn.prototype.destroy=function(){for(var e=[],t=T(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},bn.prototype.init=function(){var e=this;Na.forEach(function(r,o){(r=r())&&e.g.set(o,r)});for(var t=[],n=T(this.g.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)};function XS(e){var t=null;if(e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){r.hasFixedKeySpace()||t||(t={path:{Zb:i,mb:o},mb:r})})}),t)return t;throw new _(2,9,9013,"Could not find a cell that supports add-operations")}function D6(e,t){e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){t({Zb:i,mb:o},r)})})}function kd(e,t,n){if(e=e.g.get(t),!e)throw new _(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new _(2,9,9013,"Could not find cell with name "+n);return t}function N6(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function O6(e){var t=Array.from(e.g.keys());if(!t.length)throw new _(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function _6(e){var t,n,i;return N(function(r){return r.g==1?(t=Array.from(e.g.values()),n=t.length>0,n||(i=Na,i.forEach(function(o){(o=o())&&t.push(o)})),w(r,Promise.all(t.map(function(o){return o.erase()})),2)):n?r.B(0):w(r,Promise.all(t.map(function(o){return o.destroy()})),0)})}function YS(e,t){Na.set(e,t)}K("shaka.offline.StorageMuxer",bn),bn.unregister=function(e){Na.delete(e)},bn.register=YS,bn.prototype.destroy=bn.prototype.destroy;var Na=new Map;function Oa(){Vo.apply(this,arguments)}se(Oa,Vo),Oa.prototype.updateManifestExpiration=function(e,t){var n=this,i,r,o;return N(function(s){return i=qo(n.h,n.g),r=i.store(),o=new Qe,r.get(e).onsuccess=function(u){(u=u.target.result)?(u.expiration=t,r.put(u),o.resolve()):o.reject(new _(2,9,9012,"Could not find values for "+e))},w(s,Promise.all([i.promise(),o]),0)})},Oa.prototype.pe=function(e){var t,n,i,r,o,s;return N(function(u){if(u.g==1){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,o=U6(e.periods[n],r),t.push(o);return w(u,R4(t),2)}return s=u.h,u.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:s,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function U6(e,t){B6(e);for(var n=T(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map(function(r){return j6(r,e.startTime,t)})}function j6(e,t,n){var i=e.initSegmentUri?ZS(e.initSegmentUri):null,r=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(s){var u=ZS(s.uri);return{startTime:t+s.startTime,endTime:t+s.endTime,dataKey:u,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:o,timestampOffset:r,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}Oa.prototype.Vi=function(e){return{data:e.data}};function ZS(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new _(2,9,9004,"Could not parse uri "+e)}function B6(e){var t=e.streams.filter(function(u){return u.contentType=="audio"});if(e=e.streams.filter(function(u){return u.contentType=="video"}),!t.every(function(u){return u.variantIds})||!e.every(function(u){return u.variantIds})){for(var n=T(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=T(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){i=n++;for(var r=T(e),o=r.next();!o.done;o=r.next())o.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,r=T(t),o=r.next();!o.done;o=r.next())o.value.variantIds.push(i);if(e.length&&t.length)for(t=T(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=T(e),o=r.next();!o.done;o=r.next()){o=o.value;var s=n++;i.variantIds.push(s),o.variantIds.push(s)}}}function Cd(){Vo.apply(this,arguments)}se(Cd,Vo),Cd.prototype.pe=function(e){var t,n,i,r,o,s;return N(function(u){if(u.g==1){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var a=e.periods[n],l=[],c=T(a.streams),d=c.next();!d.done;d=c.next())d=d.value,d.variantIds.length!=0&&l.push(F6(d,a.startTime,a.startTime+r));o=l,t.push(o)}return w(u,R4(t),2)}return s=u.h,u.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:s,sequenceMode:!1})})};function F6(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function tg(){Vo.apply(this,arguments)}se(tg,Vo),h=tg.prototype,h.hasFixedKeySpace=function(){return!1},h.addSegments=function(e){return this.add(this.i,e)},h.addManifests=function(e){return this.add(this.g,e)},h.updateManifest=function(e,t){return b6(this,e,t)},h.pe=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function JS(){this.m=this.j=this.i=this.h=this.g=this.l=null}h=JS.prototype,h.init=function(){var e=this,t=new Qe,n=!1,i=new le(function(){n=!0,t.reject(new _(2,9,9017))});typeof Md=="number"&&Md>0&&i.Y(Md);var r=S.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){if(!n){i.stop();var o=r.result;e.l=o;var s=o.objectStoreNames;s=s.contains("manifest")&&s.contains("segment")?new Oa(o,"segment","manifest"):null,e.g=s,s=o.objectStoreNames,s=s.contains("manifest-v2")&&s.contains("segment-v2")?new Cd(o,"segment-v2","manifest-v2"):null,e.h=s,s=o.objectStoreNames,s=s.contains("manifest-v3")&&s.contains("segment-v3")?new Cd(o,"segment-v3","manifest-v3"):null,e.i=s,s=o.objectStoreNames,s=s.contains("manifest-v5")&&s.contains("segment-v5")?new tg(o,"segment-v5","manifest-v5"):null,e.j=s,o=o.objectStoreNames.contains("session-ids")?new Da(o):null,e.m=o,t.resolve()}},r.onupgradeneeded=function(){for(var o=r.result,s=T(["segment-v5","manifest-v5","session-ids"]),u=s.next();!u.done;u=s.next())u=u.value,o.objectStoreNames.contains(u)||o.createObjectStore(u,{autoIncrement:!0})},r.onerror=function(o){n||(i.stop(),t.reject(new _(2,9,9001,r.error)),o.preventDefault())},t},h.destroy=function(){var e=this;return N(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return w(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return w(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return w(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return w(t,e.j.destroy(),8);case 8:if(!e.m){t.B(10);break}return w(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),Z(t)}})},h.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},h.getEmeSessionCell=function(){return this.m},h.erase=function(){var e=this;return N(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return w(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return w(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return w(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return w(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),w(t,q6(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,w(t,e.init(),0)}})};function q6(){var e=new Qe,t=S.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new _(2,9,9001,t.error)),n.preventDefault()},e}var Md=5;K("shaka.offline.indexeddb.StorageMechanismOpenTimeout",Md),YS("idb",function(){return ke().ti()?new JS:null});function Xi(e,t,n,i){this.g=e,this.i=t,this.h=n,this.l=i,this.j=["offline:",e,"/",t,"/",n,"/",i].join("")}Xi.prototype.Zb=function(){return this.i},Xi.prototype.mb=function(){return this.h},Xi.prototype.key=function(){return this.l},Xi.prototype.toString=function(){return this.j};function ng(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var i=e[3];return i&&t!=null?new Xi(t,n,i,Number(e[4])):null}function $S(e,t){this.h=e,this.g=t}function QS(e,t){var n=new ve(null,0);n.Fb(t.duration);var i=t.streams.filter(function(l){return l.type=="audio"}),r=t.streams.filter(function(l){return l.type=="video"});i=V6(e,i,r,n),r=t.streams.filter(function(l){return l.type==Re}).map(function(l){return Rd(e,l,n)});var o=t.streams.filter(function(l){return l.type=="image"}).map(function(l){return Rd(e,l,n)}),s=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var u=T(i.values()),a=u.next();!a.done;a=u.next())a=a.value,a.audio&&a.audio.encrypted&&(a.audio.drmInfos=s),a.video&&a.video.encrypted&&(a.video.drmInfos=s);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function V6(e,t,n,i){for(var r=new Set,o=T(t),s=o.next();!s.done;s=o.next()){s=T(s.value.variantIds);for(var u=s.next();!u.done;u=s.next())r.add(u.value)}for(o=T(n),s=o.next();!s.done;s=o.next())for(s=T(s.value.variantIds),u=s.next();!u.done;u=s.next())r.add(u.value);for(o=new Map,r=T(r),s=r.next();!s.done;s=r.next())s=s.value,o.set(s,{id:s,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=T(t),r=t.next();!r.done;r=t.next())for(s=r.value,r=Rd(e,s,i),s=T(s.variantIds),u=s.next();!u.done;u=s.next())u=o.get(u.value),u.language=r.language,u.primary=u.primary||r.primary,u.audio=r;for(n=T(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=Rd(e,r,i),r=T(r.variantIds),s=r.next();!s.done;s=r.next())s=o.get(s.value),s.primary=s.primary||t.primary,s.video=t;return o}function Rd(e,t,n){var i=t.segments.map(function(r){return H6(e,r,t)});return n.Ge(i),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ve(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([St(t.mimeType,t.codecs)]),isAudioMuxedInVideo:t.isAudioMuxedInVideo||!1,baseOriginalId:null}}function H6(e,t,n){var i=new Xi("segment",e.h,e.g,t.dataKey);return e=new he(t.startTime,t.endTime,function(){return[i.toString()]},0,null,t.initSegmentKey!=null?G6(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.og(t.thumbnailSprite),e}function G6(e,t){var n=new Xi("segment",e.h,e.g,t);return new Rn(function(){return[n.toString()]},0,null)}function e3(){this.g=null}h=e3.prototype,h.configure=function(){},h.start=function(e,t){var n=this,i,r,o,s,u,a,l;return N(function(c){switch(c.g){case 1:if(i=ng(e),n.g=i,i==null||i.g!="manifest")throw new _(2,1,9004,e);return r=new bn,nr(c,2),w(c,r.init(),4);case 4:return w(c,kd(r,i.Zb(),i.mb()),5);case 5:return o=c.h,w(c,o.getManifests([i.key()]),6);case 6:return s=c.h,u=s[0],a=new $S(i.Zb(),i.mb()),l=QS(a,u),t.makeTextStreamsForClosedCaptions(l),c.return(l);case 2:return Hn(c),w(c,r.destroy(),7);case 7:Gn(c,0)}})},h.stop=function(){return Promise.resolve()},h.update=function(){},h.onExpirationUpdated=function(e,t){var n=this,i,r,o,s,u,a,l;return N(function(c){switch(c.g){case 1:return i=n.g,r=new bn,ue(c,2,3),w(c,r.init(),5);case 5:return w(c,kd(r,i.Zb(),i.mb()),6);case 6:return o=c.h,w(c,o.getManifests([i.key()]),7);case 7:if(s=c.h,u=s[0],a=u.sessionIds.includes(e),l=u.expiration==null||u.expiration>t,!a||!l){c.B(3);break}return w(c,o.updateManifestExpiration(i.key(),t),3);case 3:return Hn(c),w(c,r.destroy(),10);case 10:Gn(c,0);break;case 2:ae(c),c.B(3)}})},h.onInitialVariantChosen=function(){},h.banLocation=function(){},h.setMediaElement=function(){},To("application/x-offline-manifest",function(){return new e3});function t3(){}function n3(e,t){var n=ng(e);return n&&n.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t},e=ms(e)):e=n&&n.g=="segment"?z6(n.key(),n,t):Gr(new _(2,1,9004,e)),e}function z6(e,t,n){var i=new bn;return ms(void 0).cb(function(){return i.init()}).cb(function(){return kd(i,t.Zb(),t.mb())}).cb(function(r){return r.getSegments([t.key()])}).cb(function(r){return{uri:t,data:r[0].data,headers:{},originalRequest:n}}).finally(function(){return i.destroy()})}K("shaka.offline.OfflineScheme",t3),t3.plugin=n3,fr("offline",n3);function i3(e,t,n){var i,r,o,s,u,a;return N(function(l){switch(l.g){case 1:i=[];for(var c=[],d=T(n),p=d.next();!p.done;p=d.next()){p=p.value;for(var v=!1,y=T(c),E=y.next();!E.done;E=y.next())if(E=E.value,W6(E.info,p)){E.sessionIds.push(p.sessionId),v=!0;break}v||c.push({info:p,sessionIds:[p.sessionId]})}r=T(c),o=r.next();case 2:if(o.done){l.B(4);break}return s=o.value,u=K6(e,t,s),w(l,u,5);case 5:a=l.h,i=i.concat(a),o=r.next(),l.B(2);break;case 4:return l.return(i)}})}function K6(e,t,n){var i,r;return N(function(o){switch(o.g){case 1:return i=new Kl({Hc:t,onError:function(){},Xf:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),ue(o,2),i.configure(e),w(o,ww(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:Ae(o,3);break;case 2:return ae(o),w(o,i.destroy(),5);case 5:return o.return([]);case 3:return r=[],w(o,Promise.all(n.sessionIds.map(function(s){return N(function(u){if(u.g==1)return ue(u,2),w(u,Cw(i,s),4);if(u.g!=2)return r.push(s),Ae(u,0);ae(u),Z(u)})})),6);case 6:return w(o,i.destroy(),7);case 7:return o.return(r)}})}function W6(e,t){function n(i,r){return i.robustness==r.robustness&&i.contentType==r.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&yo(e.audioCapabilities,t.audioCapabilities,n)&&yo(e.videoCapabilities,t.videoCapabilities,n)}function X6(e,t,n){var i=t.presentationTimeline.getDuration();return t=r3(t),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function ig(e,t){var n=QS(new $S(e.Zb(),e.mb()),t),i=t.appMetadata||{};return n=r3(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,isIncomplete:t.isIncomplete||!1}}function r3(e){var t=[],n=jl(e.variants);n=T(n);for(var i=n.next();!i.done;i=n.next())t.push(ko(i.value));for(e=T(e.textStreams),n=e.next();!n.done;n=e.next())t.push(Co(n.value));return t}function Y6(){this.g=new Map}function Z6(e,t){var n=t.audio,i=t.video;if(n&&!i&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&i&&e.g.set(i.id,i.bandwidth||t.bandwidth),n&&i){var r=n.bandwidth||393216,o=i.bandwidth||t.bandwidth-r;o<=0&&(o=t.bandwidth),e.g.set(n.id,r),e.g.set(i.id,o)}}function J6(e,t){e.g.set(t.id,t.bandwidth||2048)}function o3(e,t){return e=e.g.get(t),e==null&&(e=0),e}function Yt(e){var t=this;if(e&&e.constructor!=V)throw new _(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Wb()):(this.h=Ns(),this.g=new at,this.g.configure(this.h.networking)),this.i=[],this.l=[];var n=!e;this.j=new ys(function(){var i,r,o,s,u;return N(function(a){switch(a.g){case 1:return w(a,Promise.all(t.l.map(function(l){return $0(l)})),2);case 2:for(i=function(){},r=[],o=T(t.i),s=o.next();!s.done;s=o.next())u=s.value,r.push(u.then(i,i));return w(a,Promise.all(r),3);case 3:if(!n){a.B(4);break}return w(a,t.g.destroy(),4);case 4:t.h=null,t.g=null,Z(a)}})}),this.m=1e9}function rg(){if(Wi(ke()))e:{for(var e=T(Na.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}h=Yt.prototype,h.destroy=function(){return this.j.destroy()},h.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=ta(e,t)),Tr(this.h,e)},h.getConfiguration=function(){var e=Ns();return Tr(e,this.h,Ns()),e},h.Wb=function(){return this.g},h.store=function(e,t,n,i,r){var o=this,s=this.getConfiguration(),u=new J0(this.g);return this.l.push(u),t=$6(this,e,t||{},i||[],r||[],function(){var a;return N(function(l){return l.g==1?n?l.B(2):w(l,Rs(e,o.g,s.manifest.retryParameters),3):(l.g!=2&&(n=l.h),a=qv(e,n||null),l.return(a()))})},s,u),t=new xt(t,function(){return $0(u)}),t.finally(function(){ii(o.l,u)}),p8(this,t)};function $6(e,t,n,i,r,o,s,u){var a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F;return N(function(q){switch(q.g){case 1:return Ld(),l=a=null,c=new bn,v=p=d=null,ue(q,2,3),w(q,o(),5);case 5:return a=q.h,w(q,u8(e,t,a,s),6);case 6:if(y=q.h,Kn(e),E=!y.presentationTimeline.U()&&!y.presentationTimeline.md(),!E)throw new _(2,9,9005,t);A=T(i),k=A.next();case 7:if(k.done){q.B(9);break}return I=k.value,w(q,a8(e,I,y),10);case 10:C=q.h,y.imageStreams.push(C),Kn(e),k=A.next(),q.B(7);break;case 9:L=T(r),O=L.next();case 11:return O.done?(z1(s.drm.clearKeys,y.variants),P=y.variants.some(function(z){if(z.audio){for(var Y=T(z.audio.drmInfos),we=Y.next();!we.done;we=Y.next())if(we.value.licenseServerUri.startsWith("data:"))return!0}if(z.video){for(z=T(z.video.drmInfos),Y=z.next();!Y.done;Y=z.next())if(Y.value.licenseServerUri.startsWith("data:"))return!0}return!1}),j=s.offline.usePersistentLicense,P&&(j=!1),w(q,e.Dd(y,function(z){v=v||z},s,j),15)):(M=O.value,w(q,l8(e,y,M.uri,M.language,M.kind,M.mime,M.codecs),14));case 14:D=q.h,y.textStreams.push(D),Kn(e),O=L.next(),q.B(11);break;case 15:if(l=q.h,Kn(e),v)throw v;return w(q,e8(y,l,s,j),16);case 16:return w(q,c.init(),17);case 17:return Kn(e),w(q,XS(c),18);case 18:return d=q.h,Kn(e),b=t8(l,y,t,n,s,u,j),U=b.Pl,B=b.Ai,w(q,d.mb.addManifests([U]),19);case 19:if(G=q.h,Kn(e),p=G[0],Kn(e),v)throw v;return w(q,Q6(e,B,p,U,u,s,d.mb,y,l,j),20);case 20:return Kn(e),l3(y,U,l,j),w(q,d.mb.updateManifest(p,U),21);case 21:return Kn(e),H=new Xi("manifest",d.path.Zb,d.path.mb,p),q.return(ig(H,U));case 3:return Hn(q),w(q,c.destroy(),22);case 22:if(!a){q.B(23);break}return w(q,a.stop(),23);case 23:if(!l){q.B(25);break}return w(q,l.destroy(),25);case 25:Gn(q,0);break;case 2:if(F=ae(q),p==null){q.B(27);break}return w(q,s3(p),27);case 27:throw v||F}})}function Q6(e,t,n,i,r,o,s,u,a,l){var c,d,p,v,y,E,A,k,I,C,L;return N(function(O){switch(O.g){case 1:if(c={},d=0,p=function(){if(e.j.g||r.l)throw new _(2,9,7001)},v=function(M,D){var P,j,b,U,B,G,H,F,q;return N(function(z){if(z.g==1){for(P=T(M),j=P.next(),b={};!j.done;b={Bc:void 0},j=P.next())b.Bc=j.value,p(),U=C6(b.Bc,o),B=b.Bc.i,G=b.Bc.h,H=(function(Y){return function(we){var ne,ze,Ie,$e;return N(function(Ne){switch(Ne.g){case 1:if(ne=Y.Bc.g,ze=ne.kc(!1),!ne.aesKey||ze){Ne.B(2);break}return w(Ne,ip(we,ne.aesKey,Y.Bc.j),3);case 3:we=Ne.h;case 2:return Ie=Z0(ne),w(Ne,s.addSegments([{data:we}]),4);case 4:$e=Ne.h,p(),c[Ie]=$e[0],d+=we.byteLength,Z(Ne)}})}})(b),F=b.Bc.g,(q=F.kc(!1))?R6(r,b.Bc.groupId,q,B,G,H):r.queue(b.Bc.groupId,U,B,G,H);return w(z,L6(r),2)}return p(),!D||r.l?z.B(0):(l3(u,i,a,l),w(z,s.updateManifest(n,i),0))})},y=!1,ue(O,2),!og(u)||!y||a3(u)){O.B(4);break}return w(O,v(t.filter(function(M){return M.h}),!0),5);case 5:return p(),t=t.filter(function(M){return!M.h}),E=c,A=d,c={},d=0,w(O,u3(s,n,i,E,A,function(){return Kn(e)}),6);case 6:p();case 4:if(y){O.B(7);break}return w(O,v(t,!1),8);case 8:return p(),k=c,I=d,c={},d=0,w(O,u3(s,n,i,k,I,function(){return p()}),9);case 9:p();case 7:Ae(O,0);break;case 2:return C=ae(O),L=Object.values(c),w(O,s.removeSegments(L,function(){}),10);case 10:throw C}})}function s3(e){var t,n,i,r;return N(function(o){switch(o.g){case 1:return t=new bn,w(o,t.init(),2);case 2:return w(o,XS(t),3);case 3:return n=o.h,i=new Xi("manifest",n.path.Zb,n.path.mb,e),w(o,t.destroy(),4);case 4:return r=new Yt,w(o,r.remove(i.toString()),0)}})}function u3(e,t,n,i,r,o){var s,u,a,l,c,d,p,v,y,E,A;return N(function(k){switch(k.g){case 1:for(s=!1,ue(k,2),u=!0,a=T(n.streams),l=a.next();!l.done;l=a.next())for(c=l.value,d=T(c.segments),p=d.next();!p.done;p=d.next())v=p.value,y=v.pendingSegmentRefId?i[v.pendingSegmentRefId]:null,y!=null&&(v.dataKey=y,v.pendingSegmentRefId=void 0),y=v.pendingInitSegmentRefId?i[v.pendingInitSegmentRefId]:null,y!=null&&(v.initSegmentKey=y,v.pendingInitSegmentRefId=void 0),v.pendingSegmentRefId&&(u=!1),v.pendingInitSegmentRefId&&(u=!1);return n.size+=r,u&&(n.isIncomplete=!1),w(k,e.updateManifest(t,n),4);case 4:s=!0,o(),Ae(k,0);break;case 2:return E=ae(k),w(k,s3(t),5);case 5:if(s){k.B(6);break}return A=Object.values(i),w(k,e.removeSegments(A,function(){}),6);case 6:throw E}})}function e8(e,t,n,i){var r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O,M,D,P,j,b,U,B,G,H,F,q,z;return N(function(Y){switch(Y.g){case 1:return r={width:1/0,height:1/0},ow(e,n.restrictions,r),w(Y,h1(t,e,i,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(o=[],s=n.preferredDecodingAttributes,u=n.preferredVideoCodecs,a=n.preferredAudioCodecs,l=n.preferredTextFormats,d1(e,u,a,s,l),c=T(e.variants),d=c.next();!d.done;d=c.next())p=d.value,o.push(ko(p));for(v=T(e.textStreams),y=v.next();!y.done;y=v.next())E=y.value,o.push(Co(E));for(A=T(e.imageStreams),k=A.next();!k.done;k=A.next())I=k.value,o.push(Tf(I));return w(Y,n.offline.trackSelectionCallback(o),3);case 3:for(C=Y.h,L=e.presentationTimeline.getDuration(),O=0,M=T(C),D=M.next();!D.done;D=M.next())P=D.value,j=P.bandwidth*L/8,O+=j;return ue(Y,4),w(Y,n.offline.downloadSizeCallback(O),6);case 6:if(b=Y.h,!b)throw new _(2,9,9014);Ae(Y,5);break;case 4:throw U=ae(Y),U instanceof _?U:new _(2,9,9015);case 5:for(B=new Set,G=new Set,H=new Set,F=T(C),q=F.next();!q.done;q=F.next())z=q.value,z.type=="variant"&&B.add(z.id),z.type=="text"&&G.add(z.id),z.type=="image"&&H.add(z.id);e.variants=e.variants.filter(function(we){return B.has(we.id)}),e.textStreams=e.textStreams.filter(function(we){return G.has(we.id)}),e.imageStreams=e.imageStreams.filter(function(we){return H.has(we.id)}),v8(e),Z(Y)}})}function t8(e,t,n,i,r,o,s){var u=X6(n,t,i),a=r.offline.progressCallback;M6(o,function(y,E){u.size=E,a(u,y)},function(y,E){l&&s&&c==E&&Uu(e,"cenc",y)});var l=og(t)&&!a3(t),c=null;l&&(c=y8.get(e.g.keySystem));for(var d=new Y6,p=T(t.textStreams),v=p.next();!v.done;v=p.next())d.g.set(v.value.id,52);for(p=T(t.imageStreams),v=p.next();!v.done;v=p.next())J6(d,v.value);for(p=T(t.variants),v=p.next();!v.done;v=p.next())Z6(d,v.value);return o=d8(o,d,t,r),r=o.streams,o=o.Ai,(d=e.g)&&s&&(d.initData=[]),{Pl:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.ve(),streams:r,sessionIds:s?j1(e):[],drmInfo:d,appMetadata:i,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},Ai:o}}function og(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function a3(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function l3(e,t,n,i){if(t.expiration=n.ve(),n=j1(n),t.sessionIds=i?n:[],og(e)&&i&&!n.length)throw new _(2,9,9007)}h.remove=function(e){return sg(this,n8(this,e))};function n8(e,t){var n,i,r,o,s,u;return N(function(a){switch(a.g){case 1:if(Ld(),n=ng(t),n==null||n.g!="manifest")throw new _(2,9,9004,t);return i=n,r=new bn,nr(a,2),w(a,r.init(),4);case 4:return w(a,kd(r,i.Zb(),i.mb()),5);case 5:return o=a.h,w(a,o.getManifests([i.key()]),6);case 6:return s=a.h,u=s[0],w(a,Promise.all([i8(e,u,r),r8(o,i,u)]),2);case 2:return Hn(a),w(a,r.destroy(),8);case 8:Gn(a,0)}})}function c3(e,t){for(var n=[],i=T(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&r.type=="video"?n.push({contentType:St(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||r.type!="audio"||n.push({contentType:St(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function i8(e,t,n){return N(function(i){return w(i,m8(e.g,e.h.drm,n,t),0)})}function r8(e,t,n){function i(){}var r=g8(n);return ig(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}h.jm=function(){return sg(this,o8(this))};function o8(e){var t,n,i,r,o,s,u,a,l,c;return N(function(d){switch(d.g){case 1:return Ld(),t=e.g,n=e.h.drm,i=new bn,r=!1,nr(d,2),w(d,i.init(),4);case 4:o=[],N6(i,function(p){return o.push(p)}),s=T(o),u=s.next();case 5:if(u.done){d.B(2);break}return a=u.value,w(d,a.getAll(),8);case 8:return l=d.h,w(d,i3(n,t,l),9);case 9:return c=d.h,w(d,a.remove(c),10);case 10:c.length!=l.length&&(r=!0),u=s.next(),d.B(5);break;case 2:return Hn(d),w(d,i.destroy(),11);case 11:Gn(d,3);break;case 3:return d.return(!r)}})}h.list=function(){return sg(this,s8())};function s8(){var e,t,n;return N(function(i){switch(i.g){case 1:return Ld(),e=[],t=new bn,nr(i,2),w(i,t.init(),4);case 4:return n=Promise.resolve(),D6(t,function(r,o){n=n.then(function(){var s;return N(function(u){if(u.g==1)return w(u,o.getAllManifests(),2);s=u.h,s.forEach(function(a,l){a=ig(new Xi("manifest",r.Zb,r.mb,l),a),e.push(a)}),Z(u)})})}),w(i,n,2);case 2:return Hn(i),w(i,t.destroy(),6);case 6:Gn(i,3);break;case 3:return i.return(e)}})}function u8(e,t,n,i){var r,o,s,u,a;return N(function(l){if(l.g==1)return r=null,o=e.g,s={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(c){r=c},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return i.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(i.manifest),Kn(e),w(l,n.start(t,s),2);if(l.g!=3)return u=l.h,Kn(e),a=h3(u),w(l,Promise.all(Hh(a,function(c){return c.createSegmentIndex()})),3);if(Kn(e),r)throw r;return l.return(u)})}function a8(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y,E,A,k;return N(function(I){switch(I.g){case 1:return w(I,d3(e,t),2);case 2:if(i=I.h,i!="text/vtt")throw new _(1,2,2017,t);return w(I,c8(t,e.g,e.h.streaming.retryParameters),3);case 3:if(r=I.h,o=Pu(i),!o)throw new _(2,2,2014,i);for(s=o(),u={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},a=Te(r),l=s.parseMedia(a,u,t,[]),c=[],d=T(l),p=d.next(),v={};!p.done;v={Ag:void 0,Fd:void 0},p=d.next())v.Fd=p.value,v.Ag=null,y=(function(C){return function(){return C.Ag==null&&(C.Ag=Vt([t],[C.Fd.payload])),C.Ag||[]}})(v),E=new he(v.Fd.startTime,v.Fd.endTime,y,0,null,null,0,0,1/0),v.Fd.payload.includes("#xywh")&&(A=v.Fd.payload.split("#xywh=")[1].split(","),A.length===4&&E.og({height:parseInt(A[3],10),positionX:parseInt(A[0],10),positionY:parseInt(A[1],10),width:parseInt(A[2],10)})),c.push(E);if(k=i,!c.length){I.B(4);break}return w(I,Rs(c[0].S()[0],e.g,e.h.manifest.retryParameters),5);case 5:k=I.h;case 4:return I.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ve(c),mimeType:k||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([St(k||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}})}function l8(e,t,n,i,r,o,s){var u,a,l;return N(function(c){if(c.g==1)return o?c.B(2):w(c,d3(e,n),3);if(c.g!=2&&(o=c.h),u={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:rc(0,t.presentationTimeline.getDuration(),[n]),mimeType:o||"",codecs:s||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:i,originalLanguage:i,label:null,type:Re,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([St(o||"",s||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},a=St(u.mimeType,u.codecs),l=bu(a),!l)throw new _(2,2,2014,o);return c.return(u)})}function d3(e,t){var n;return N(function(i){switch(i.g){case 1:return ue(i,2),w(i,Rs(t,e.g,e.h.streaming.retryParameters),4);case 4:n=i.h,Ae(i,3);break;case 2:ae(i);case 3:if(n)return i.return(n);throw new _(1,2,2011,t)}})}function c8(e,t,n){var i,r,o;return N(function(s){return s.g==1?(i=zn,r=Lt([e],n),r.method="GET",w(s,t.request(i,r).promise,2)):(o=s.h,s.return(o.data))})}h.Dd=function(e,t,n,i){var r=this,o;return N(function(s){return s.g==1?(o=new Kl({Hc:r.g,onError:t,Xf:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),o.configure(n.drm),w(s,xw(o,e.variants,i),2)):s.g!=3?w(s,U1(o),3):s.return(o)})};function d8(e,t,n,i){var r=new Map,o=h3(n),s=new Map;o=T(o);for(var u=o.next();!u.done;u=o.next()){u=u.value;var a=h8(e,t,n,u,i,r);s.set(u.id,a)}for(e=T(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(s.values()),Ai:Array.from(r.values())}}function h8(e,t,n,i,r,o){var s={id:i.id,originalId:i.originalId,groupId:i.groupId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,colorGamut:i.colorGamut,videoLayout:i.videoLayout,kind:i.kind,language:i.language,originalLanguage:i.originalLanguage,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout,mssPrivateData:i.mssPrivateData,external:i.external,fastSwitching:i.fastSwitching,isAudioMuxedInVideo:i.isAudioMuxedInVideo},u=r.offline.numberOfParallelDownloads,a=u===0?i.id:0;return f8(i,n.presentationTimeline.Nb(),function(l,c){var d=Z0(l),p=void 0;if(!o.has(d)){var v=l.endTime-l.startTime;v=o3(t,i.id)*v,v=HS(e.g,v),o.set(d,new qS(l,v,a,!1,c))}l.ka&&(p=Z0(l.ka),o.has(p)||(v=o3(t,i.id)*.5,v=HS(e.g,v),o.set(p,new qS(l.ka,v,a,!0,c)))),s.segments.push({pendingInitSegmentRefId:p,initSegmentKey:p?0:null,startTime:l.startTime,endTime:l.endTime,appendWindowStart:l.appendWindowStart,appendWindowEnd:l.appendWindowEnd,timestampOffset:l.timestampOffset,tilesLayout:l.tilesLayout,pendingSegmentRefId:d,dataKey:0,mimeType:l.mimeType,codecs:l.codecs,thumbnailSprite:l.thumbnailSprite}),u!==0&&(a=(a+1)%u)}),s}function f8(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var i=e.segmentIndex.get(t);i;)n(i,t),i=e.segmentIndex.get(++t)}function Kn(e){if(e.j.g)throw new _(2,9,7001)}function Ld(){if(!rg())throw new _(2,9,9e3)}function sg(e,t){return N(function(n){return n.g==1?(e.i.push(t),nr(n,2),w(n,t,4)):n.g!=2?n.return(n.h):(Hn(n),ii(e.i,t),Gn(n,0))})}function p8(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){ii(e.i,n)})}function g8(e){var t=new Set;e=T(e.streams);for(var n=e.next();!n.done;n=e.next()){n=T(n.value.segments);for(var i=n.next();!i.done;i=n.next())i=i.value,i.initSegmentKey!=null&&t.add(i.initSegmentKey),t.add(i.dataKey)}return Array.from(t)}function m8(e,t,n,i){var r,o,s;return N(function(u){return u.g==1?i.drmInfo?(r=O6(n),o=i.sessionIds.map(function(a){return{sessionId:a,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:c3(i,!1),videoCapabilities:c3(i,!0)}}),w(u,i3(t,e,o),2)):u.return():u.g!=3?(s=u.h,w(u,r.remove(s),3)):w(u,r.add(o.filter(function(a){return!s.includes(a.sessionId)})),0)})}function h3(e){for(var t=new Set,n=T(e.variants),i=n.next();!i.done;i=n.next())i=i.value,i.audio&&t.add(i.audio),i.video&&t.add(i.video);for(n=T(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(e=T(e.imageStreams),n=e.next();!n.done;n=e.next())t.add(n.value);return t}function v8(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=T(t),i=n.next();!i.done;i=n.next()){i=T(t);for(var r=i.next();!r.done;r=i.next());}for(t=T(e),n=t.next();!n.done;n=t.next())for(n=T(e),i=n.next();!i.done;i=n.next());}K("shaka.offline.Storage",Yt),Yt.deleteAll=function(){var e;return N(function(t){return t.g==1?(e=new bn,nr(t,2),w(t,_6(e),2)):t.g!=5?(Hn(t),w(t,e.destroy(),5)):Gn(t,0)})},Yt.prototype.list=Yt.prototype.list,Yt.prototype.removeEmeSessions=Yt.prototype.jm,Yt.prototype.remove=Yt.prototype.remove,Yt.prototype.store=Yt.prototype.store,Yt.prototype.getNetworkingEngine=Yt.prototype.Wb,Yt.prototype.getConfiguration=Yt.prototype.getConfiguration,Yt.prototype.configure=Yt.prototype.configure,Yt.prototype.destroy=Yt.prototype.destroy,Yt.support=rg;var y8=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");q2("offline",rg);function en(){}function f3(){for(var e=T(_a),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){ye("Error installing polyfill!",n)}}}function pn(e,t){for(e={priority:t||0,callback:e},t=0;t<_a.length;t++)if(_a[t].priority<e.priority){_a.splice(t,0,e);return}_a.push(e)}K("shaka.polyfill",en),en.register=pn,en.installAll=f3;var _a=[];function p3(){}function g3(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=T(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())T8(t.value)}function T8(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}en.Aria=p3,p3.install=g3,pn(g3);function Pd(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}Pd.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=T(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(t=T(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},Pd.prototype.createMediaKeys=function(){return this.g.createMediaKeys()};function m3(e){return is(e)?"cbcs":Mv(e)||pl(e)||Kh(e)||e==="com.huawei.wiseplay"?"cenc":(ye("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function v3(e){if(!e)return!1;e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function ug(e,t){return!!(!e||e==t||(e=="cbcs"||e=="cbcs-1-9")&&ke().ud())}function y3(){}var Ua;function T3(){ke().rg()&&!Ua&&!navigator.emeEncryptionSchemePolyfilled&&navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration&&(Ua=navigator.requestMediaKeySystemAccess,navigator.requestMediaKeySystemAccess=S8,navigator.emeEncryptionSchemePolyfilled=!0)}function S8(e,t){var n=this,i;return N(function(r){return r.g==1?w(r,Ua.call(n,e,t),2):(i=r.h,v3(i)?(navigator.requestMediaKeySystemAccess=Ua,r.return(i)):(navigator.requestMediaKeySystemAccess=S3,r.return(S3.call(n,e,t))))})}function S3(e,t){var n=this,i,r,o,s,u,a,l,c,d,p,v,y;return N(function(E){if(E.g==1){for(i=m3(e),r=[],o=T(t),s=o.next();!s.done;s=o.next())u=s.value,a=E3(u.videoCapabilities,i),l=E3(u.audioCapabilities,i),u.videoCapabilities&&u.videoCapabilities.length&&!a.length||u.audioCapabilities&&u.audioCapabilities.length&&!l.length||(c=Object.assign({},u),c.videoCapabilities=a,c.audioCapabilities=l,r.push(c));if(!r.length)throw d=Error("Unsupported keySystem or supportedConfigurations."),d.name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return w(E,Ua.call(n,e,r),2)}return p=E.h,y=v=null,r[0]&&(r[0].videoCapabilities&&(v=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(y=r[0].audioCapabilities[0].encryptionScheme)),E.return(new Pd(p,v,y))})}function E3(e,t){return e&&e.filter(function(n){return ug(n.encryptionScheme,t)})}en.EmeEncryptionScheme=y3,y3.install=T3,pn(T3);function A3(){}function x3(){if(S.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",bd),document.addEventListener("webkitfullscreenerror",bd),document.addEventListener("mozfullscreenchange",bd),document.addEventListener("mozfullscreenerror",bd)}}function bd(e){var t=e.type.replace(/^(webkit|moz)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}en.Fullscreen=A3,A3.install=x3,pn(x3);function w3(){}var ja;function I3(){ke().rg()&&!ja&&!navigator.mediaCapabilitiesEncryptionSchemePolyfilled&&navigator.mediaCapabilities&&(ja=navigator.mediaCapabilities.decodingInfo,navigator.mediaCapabilities.decodingInfo=E8,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0)}function E8(e){var t=this,n,i;return N(function(r){switch(r.g){case 1:return w(r,ja.call(t,e),2);case 2:if(n=r.h,!n.supported||!e.keySystemConfiguration)return r.return(n);if(i=n.keySystemAccess,v3(i))return navigator.mediaCapabilities.decodingInfo=ja,r.return(n);if(navigator.mediaCapabilities.decodingInfo=k3,i){r.B(3);break}return w(r,C3(e),4);case 4:return n.keySystemAccess=r.h,r.return(n);case 3:return r.return(k3.call(t,e))}})}function k3(e){var t=this,n,i,r,o,s,u,a;return N(function(l){switch(l.g){case 1:return i=n=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,o=r.keySystem,i=r.audio&&r.audio.encryptionScheme,n=r.video&&r.video.encryptionScheme,s=m3(o),u={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},ug(i,s)&&ug(n,s))?w(l,ja.call(t,e),2):l.return(u);case 2:if(a=l.h,a.keySystemAccess){a.keySystemAccess=new Pd(a.keySystemAccess,n,i),l.B(3);break}if(!e.keySystemConfiguration){l.B(3);break}return w(l,C3(e),5);case 5:a.keySystemAccess=l.h;case 3:return l.return(a)}})}function C3(e){var t,n;return N(function(i){if(i.g==1){var r=e.keySystemConfiguration,o=[],s=[];return r.audio&&o.push({robustness:r.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:r.audio.encryptionScheme}),r.video&&s.push({robustness:r.video.robustness||"",contentType:e.video.contentType,encryptionScheme:r.video.encryptionScheme}),r={initDataTypes:r.initDataType?[r.initDataType]:[],distinctiveIdentifier:r.distinctiveIdentifier,persistentState:r.persistentState,sessionTypes:r.sessionTypes},o.length&&(r.audioCapabilities=o),s.length&&(r.videoCapabilities=s),t=r,w(i,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=i.h,i.return(n)})}en.MCapEncryptionScheme=w3,w3.install=I3,pn(I3,-2);function Dd(){}function M3(){ke().uc()||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Dd.originalMcap=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=A8)}function A8(e){var t,n,i,r,o,s,u,a,l,c,d;return N(function(p){switch(p.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},ke(),n=e.video,i=e.audio,e.type!="media-source"){if(e.type=="file"){if(n&&(r=n.contentType,o=No().canPlayType(r)!="",!o)||i&&(s=i.contentType,u=No().canPlayType(s)!="",!u))return p.return(t)}else return p.return(t);p.B(2);break}if(!Wi())return p.return(t);if(!n){p.B(3);break}return w(p,x8(n),4);case 4:if(a=p.h,!a)return p.return(t);case 3:if(i){var v=ke().Oa(),y=i.contentType;if(v==="CAST"&&i.spatialRendering&&(y+="; spatialRendering=true"),l=hn(y),!l)return p.return(t)}case 2:return e.keySystemConfiguration?(c=e.keySystemConfiguration,w(p,w8(n,i,c),6)):(t.supported=!0,p.return(t));case 6:(d=p.h)&&(t.supported=!0,t.keySystemAccess=d);case 5:return p.return(t)}})}function x8(e){var t,n,i;return N(function(r){return r.g==1?(t=ke(),n=t.Oa(),n!=="CAST"?r.B(2):w(r,I8(e),3)):r.g!=2?(i=r.h,r.return(i)):r.return(hn(e.contentType))})}function w8(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y;return N(function(E){switch(E.g){case 1:i=[],r=[],o=[],n.audio&&(s={robustness:n.audio.robustness||"",contentType:t.contentType},ke().uj()&&t.contentType.includes('codecs="ac-3"')&&(s.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(s.encryptionScheme=n.audio.encryptionScheme,o.push(n.audio.encryptionScheme)),i.push(s)),n.video&&(u={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(u.encryptionScheme=n.video.encryptionScheme,o.push(n.video.encryptionScheme)),r.push(u)),a={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},i.length&&(a.audioCapabilities=i),r.length&&(a.videoCapabilities=r),l=e?e.contentType:"",c=t?t.contentType:"",d=_n(l)+";"+Vr(l),p=_n(c)+";"+Vr(c),v=n.keySystem,y=null,ue(E,2);var A=Wh(d,p,v,o);if(rs.has(A)){A=Wh(d,p,v,o),y=rs.get(A)||null,E.B(4);break}return w(E,navigator.requestMediaKeySystemAccess(n.keySystem,[a]),5);case 5:A=y=E.h;var k=Wh(d,p,v,o);rs.set(k,A);case 4:Ae(E,3);break;case 2:ae(E);case 3:return E.return(y)}})}function I8(e){var t,n,i,r,o;return N(function(s){if(s.g==1){if(!(S.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return s.return(hn(e.contentType));switch(t=e.contentType,e.width&&e.height&&e.width>1280&&e.height>720&&(t+="; width="+e.width+"; height="+e.height),e.framerate&&(n=Math.round(e.framerate),n<24||n>30)&&(t+="; framerate="+e.framerate),i=e.transferFunction||"",i){case"":case"srgb":break;case"pq":t+="; eotf=smpte2084";break;case"hlg":t+="; eotf=arib-std-b67";break;default:return s.return(!1)}return r=!1,o=k8,o.has(t)?(r=o.get(t),s.B(2)):w(s,cast.__platform__.canDisplayType(t),3)}return s.g!=2&&(r=s.h,o.set(t,r)),s.return(r)})}en.MediaCapabilities=Dd,Dd.install=M3,Dd.originalMcap=null;var k8=new Map;pn(M3,-1);function R3(){}function L3(){var e=ke(),t=e.Ka()==="WEBKIT"?e.Ha():null;for((S.MediaSource||S.ManagedMediaSource)&&t&&S.MediaSource&&(t<=12?(P3(),C8()):t<=15&&P3()),e=T(e.Ej()),t=e.next();!t.done;t=e.next())R8(t.value);(S.MediaSource||S.ManagedMediaSource)&&M8(),S.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&L8()}function P3(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,qt.apply(0,arguments));return t.abort=function(){},t}}function C8(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function M8(){if(S.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return Lu(n)!="mp2t"&&e(n)}}if(S.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);S.ManagedMediaSource.isTypeSupported=function(n){return Lu(n)!="mp2t"&&t(n)}}}function R8(e){var t=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(i){return Vr(i)!=e&&t(i)},S.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);S.ManagedMediaSource.isTypeSupported=function(i){return Vr(i)!=e&&n(i)}}}function L8(){var e=MediaSource.isTypeSupported;ke().ek()&&(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex(function(s){return s.startsWith("codecs=")});if(i<0)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=r.findIndex(function(s){return s.startsWith("vp09")});return o>=0&&(r[o]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)})}en.MediaSource=R3,R3.install=L3,pn(L3);function b3(){}function D3(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?P8():S.orientation!=null&&b8())}function P8(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function b8(){function e(){switch(S.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Nd;screen.orientation=t,e(),S.addEventListener("orientationchange",function(){e();var n=new J("change");t.dispatchEvent(n)})}en.Orientation=b3,b3.install=D3;function Nd(){_e.call(this),this.type="",this.angle=0}se(Nd,_e),Nd.prototype.lock=function(e){function t(i){return screen.lockOrientation?screen.lockOrientation(i):screen.mozLockOrientation?screen.mozLockOrientation(i):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Nd.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation&&screen.mozUnlockOrientation()},pn(D3);function ag(){}var lg,cg,dg,hg,fg,pg;function N3(e){S.HTMLVideoElement&&S.WebKitMediaKeys&&S.shakaMediaKeysPolyfill!=mg&&(e!==void 0&&e&&(lg=!0,cg=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),dg=HTMLMediaElement.prototype.setMediaKeys,hg=S.MediaKeys,fg=S.MediaKeySystemAccess,pg=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=N8,S.MediaKeys=Ba,S.MediaKeySystemAccess=Od,navigator.requestMediaKeySystemAccess=D8,S.shakaMediaKeysPolyfill=mg,Bl.clear(),rs.clear())}function D8(e,t){try{var n=new Od(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function N8(e){var t=this.mediaKeys;return t&&t!=e&&O3(t,null),delete this.mediaKeys,(this.mediaKeys=e)?O3(e,this):Promise.resolve()}function O8(e){if(e=Te(e.initData),kn(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=_r(e.subarray(4),!0),e=vi(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=ti(e),this.dispatchEvent(t)}en.PatchedMediaKeysApple=ag,ag.uninstall=function(){S.shakaMediaKeysPolyfill==mg&&lg&&(lg=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",cg),HTMLMediaElement.prototype.setMediaKeys=dg,S.MediaKeys=hg,S.MediaKeySystemAccess=fg,navigator.requestMediaKeySystemAccess=pg,cg=pg=dg=fg=hg=null,S.shakaMediaKeysPolyfill="",Bl.clear(),rs.clear())},ag.install=N3;function Od(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=T(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var i=!1,r=!1;if(n.audioCapabilities)for(var o=T(n.audioCapabilities),s=o.next();!s.done;s=o.next())s=s.value,s.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(t.audioCapabilities.push(s),r=!0));if(n.videoCapabilities)for(n=T(n.videoCapabilities),o=n.next();!o.done;o=n.next())o=o.value,o.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=r?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Od.prototype.createMediaKeys=function(){var e=new Ba(this.keySystem);return Promise.resolve(e)},Od.prototype.getConfiguration=function(){return this.g};function Ba(e){this.h=new WebKitMediaKeys(e),this.g=new Fe}Ba.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new gg(this.h)},Ba.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function O3(e,t){if(e.g.Ta(),!t)return Promise.resolve();e.g.o(t,"webkitneedkey",O8);try{return Uo(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}Ba.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function gg(e){_e.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new Fe,this.sessionId="",this.expiration=NaN,this.closed=new Qe,this.keyStatuses=new _3,this.onkeystatuseschange=null}se(gg,_e),h=gg.prototype,h.generateRequest=function(e,t){var n=this;this.h=new Qe;try{var i=this.l.createSession("video/mp4",Te(t));this.i=i,this.sessionId=i.sessionId||"",this.j.o(this.i,"webkitkeymessage",function(r){n.h&&(n.h.resolve(),n.h=null),r=new Map().set("messageType",n.keyStatuses.lc()==null?"license-request":"license-renewal").set("message",ti(r.message)),r=new J("message",r),n.dispatchEvent(r)}),this.j.o(i,"webkitkeyadded",function(){n.g&&(_d(n,"usable"),n.g.resolve(),n.g=null)}),this.j.o(i,"webkitkeyerror",function(){var r=Error("EME PatchedMediaKeysApple key error");if(r.errorCode=n.i.error,n.h!=null)n.h.reject(r),n.h=null;else if(n.g!=null)n.g.reject(r),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:_d(n,"output-not-allowed");break;default:_d(n,"internal-error")}}),_d(this,"status-pending")}catch(r){this.h.reject(r)}return this.h},h.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},h.update=function(e){this.g=new Qe;try{this.i.update(Te(e))}catch(t){this.g.reject(t)}return this.g},h.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Ta()}catch(e){this.closed.reject(e)}return this.closed},h.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function _d(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new J("keystatuseschange"),e.dispatchEvent(t),e.onkeystatuseschange&&e.onkeystatuseschange(t)}function _3(){this.size=0,this.g=void 0}h=_3.prototype,h.lc=function(){return this.g},h.forEach=function(e){this.g&&e(this.g,ml.value())},h.get=function(e){if(this.has(e))return this.g},h.has=function(e){var t=ml.value();return!!(this.g&&ir(e,t))},h.entries=function(){},h.keys=function(){},h.values=function(){};var mg="apple";pn(function(){S.HTMLVideoElement&&S.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||N3())});function U3(){}function j3(){if(S.MediaKeys){var e=ke();MediaKeys.prototype.setServerCertificate&&e.Pe()||(MediaKeys.prototype.setServerCertificate=_8)}}function _8(){return Promise.resolve(!1)}en.PatchedMediaKeysCert=U3,U3.install=j3,pn(j3);function B3(){}function F3(){if(!(!S.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Eg="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=U8,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=j8,S.MediaKeys=Fa,S.MediaKeySystemAccess=Ud,S.shakaMediaKeysPolyfill=B8}}function vg(e){var t=Eg;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function U8(e,t){try{var n=new Ud(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function j8(e){var t=this.mediaKeys;return t&&t!=e&&q3(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&q3(e,this),Promise.resolve()}en.PatchedMediaKeysWebkit=B3,B3.install=F3;function Ud(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video"),t=T(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var a=T(o.audioCapabilities),l=a.next();!l.done;l=a.next())l=l.value,l.contentType&&(u=!0,r.canPlayType(l.contentType.split(";")[0],this.g)&&(s.audioCapabilities.push(l),i=!0));if(o.videoCapabilities)for(a=T(o.videoCapabilities),l=a.next();!l.done;l=a.next())l=l.value,l.contentType&&(u=!0,r.canPlayType(l.contentType,this.g)&&(s.videoCapabilities.push(l),i=!0));if(u||(i=r.canPlayType("video/mp4",this.g)||r.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i){this.h=s;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Ud.prototype.createMediaKeys=function(){var e=new Fa(this.g);return Promise.resolve(e)},Ud.prototype.getConfiguration=function(){return this.h};function Fa(e){this.l=e,this.h=null,this.g=new Fe,this.i=[],this.j=new Map}function q3(e,t){e.h=t,e.g.Ta();var n=Eg;t&&(e.g.o(t,n+"needkey",function(i){var r=new CustomEvent("encrypted");r.initDataType="cenc",r.initData=ti(i.initData),e.h.dispatchEvent(r)}),e.g.o(t,n+"keymessage",function(i){var r=yg(e,i.sessionId);r&&(i=new Map().set("messageType",r.keyStatuses.lc()==null?"licenserequest":"licenserenewal").set("message",i.message),i=new J("message",i),r.h&&(r.h.resolve(),r.h=null),r.dispatchEvent(i))}),e.g.o(t,n+"keyadded",function(i){(i=yg(e,i.sessionId))&&i.ready()}),e.g.o(t,n+"keyerror",function(i){var r=yg(e,i.sessionId);if(r){var o=Error("EME v0.1b key error"),s=i.errorCode;s.systemCode=i.systemCode,o.errorCode=s,!i.sessionId&&r.h?(i.systemCode==45&&(o.message="Unsupported session type."),r.h.reject(o),r.h=null):i.sessionId&&r.g?(r.g.reject(o),r.g=null):(o=i.systemCode,i.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?jd(r,"output-restricted"):o==1?jd(r,"expired"):jd(r,"internal-error"))}}))}Fa.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new Tg(t,this.l,e),this.i.push(e),e},Fa.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Fa.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function yg(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function Tg(e,t,n){_e.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Qe,this.keyStatuses=new H3,this.onkeystatuseschange=null}se(Tg,_e),h=Tg.prototype,h.ready=function(){jd(this,"usable"),this.g&&this.g.resolve(),this.g=null};function V3(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var i=Te(vi("LOAD_SESSION|"+n));else{var r=vi("PERSISTENT|");i=Mt(r,t)}else i=Te(t)}catch(s){return Promise.reject(s)}e.h=new Qe;var o=vg("generateKeyRequest");try{e.j[o](e.i,i)}catch(s){if(s.name!="InvalidStateError")return e.h=null,Promise.reject(s);new le(function(){try{e.j[o](e.i,i)}catch(u){e.h.reject(u),e.h=null}}).Y(.01)}return e.h}function Sg(e,t,n){if(e.g)e.g.then(function(){return Sg(e,t,n)}).catch(function(){return Sg(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var i=dt(n),r=JSON.parse(i);r.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=ni(r.keys[0].k),r=ni(r.keys[0].kid)}else i=Te(n),r=null;var o=vg("addKey");try{e.j[o](e.i,i,r,e.sessionId)}catch(s){e.g.reject(s),e.g=null}}}function jd(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new J("keystatuseschange"),e.dispatchEvent(t),e.onkeystatuseschange&&e.onkeystatuseschange(t)}h.generateRequest=function(e,t){return V3(this,t,null)},h.load=function(e){return this.l=="persistent-license"?V3(this,null,e):Promise.reject(Error("Not a persistent session."))},h.update=function(e){var t=new Qe;return Sg(this,t,e),t},h.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=vg("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},h.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function H3(){this.size=0,this.g=void 0}h=H3.prototype,h.lc=function(){return this.g},h.forEach=function(e){this.g&&e(this.g,ml.value())},h.get=function(e){if(this.has(e))return this.g},h.has=function(e){var t=ml.value();return!!(this.g&&ir(e,t))},h.entries=function(){},h.keys=function(){},h.values=function(){};var Eg="",B8="webkit";pn(F3);function G3(){}function z3(){if(S.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=q8,Object.defineProperty(e,"disablePictureInPicture",{get:H8,set:G8,enumerable:!0,configurable:!0}),document.exitPictureInPicture=V8,document.addEventListener("webkitpresentationmodechanged",F8,!0))}}function F8(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function q8(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function V8(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function H8(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function G8(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}en.PiPWebkit=G3,G3.install=z3,pn(z3);function K3(){}function W3(){S.crypto&&("randomUUID"in S.crypto||(S.crypto.randomUUID=z8))}function z8(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}en.RandomUUID=K3,K3.install=W3,pn(W3);function X3(){}function Y3(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:K8})}function K8(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}en.Symbol=X3,X3.install=Y3,pn(Y3);function Z3(){}function J3(){for(var e=T([Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array]),t=e.next();!t.done;t=e.next())t=t.value,t.prototype.indexOf||(t.prototype.indexOf=W8),t.prototype.lastIndexOf||(t.prototype.lastIndexOf=X8),t.prototype.includes||(t.prototype.includes=Y8)}function W8(e,t){return Array.prototype.indexOf.call(this,e,t)}function X8(e,t){return Array.prototype.lastIndexOf.call(this,e,t)}function Y8(e,t){return this.indexOf(e,t)!==-1}en.TypedArray=Z3,Z3.install=J3,pn(J3);function $3(){}function Q3(){if(S.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}en.VideoPlayPromise=$3,$3.install=Q3,pn(Q3);function eE(){}function tE(){if(S.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||typeof No().webkitDroppedFrameCount=="number")&&(e.getVideoPlaybackQuality=Z8)}}function Z8(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}en.VideoPlaybackQuality=eE,eE.install=tE,pn(tE);function nE(){}function iE(){if(!S.VTTCue&&S.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=Ag;else if(t==6)e=J8;else{try{var n=!!Ag(1,2,"")}catch{n=!1}n&&(e=Ag)}e&&(S.VTTCue=function(i,r,o){return e(i,r,o)})}}function Ag(e,t,n){return new S.TextTrackCue(e,t,n)}function J8(e,t,n){return new S.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}en.VTTCue=nE,nE.install=iE,pn(iE);function Kt(e){_e.call(this),this.g=e,this.m=null,this.h=[],this.j=-1,this.i=this.l=null,this.u=new Fe}se(Kt,_e),h=Kt.prototype,h.destroy=function(){var e=this;return N(function(t){if(t.g==1)return w(t,e.removeAllItems(),2);e.g=null,e.u&&(e.u.release(),e.u=null),_e.prototype.release.call(e),Z(t)})},h.configure=function(e){this.m=e},h.getConfiguration=function(){return this.m},h.getCurrentItem=function(){return this.h.length&&this.j>=0&&this.j<this.h.length?this.h[this.j]:null},h.getCurrentItemIndex=function(){return this.j},h.getItems=function(){return this.h.slice()},h.insertItems=function(e){this.h.push.apply(this.h,X(e)),this.dispatchEvent(new J("itemsinserted"))},h.removeAllItems=function(){var e=this,t,n,i,r;return N(function(o){if(o.g==1)return e.u.Ta(),e.h.length&&e.j>=0?w(o,e.g.yc(),2):o.B(2);if(o.g!=4){for(t=[],e.i&&(e.i.preloadManager.l||t.push(e.i.preloadManager.destroy()),e.i=null),e.l&&(e.l.preloadManager.l||t.push(e.l.preloadManager.destroy()),e.l=null),n=T(e.h),i=n.next();!i.done;i=n.next())r=i.value,r.preloadManager&&!r.preloadManager.l&&t.push(r.preloadManager.destroy());return t.length?w(o,Promise.all(t),4):o.B(4)}e.h=[],e.j=-1,e.dispatchEvent(new J("itemsremoved")),Z(o)})},h.playItem=function(e){var t=this,n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I;return N(function(C){switch(C.g){case 1:if(t.u.Ta(),!t.h.length||e>=t.h.length)throw new _(2,7,7007);if(n=t.getCurrentItem(),i=t.h[e],t.j!=e&&(t.j=e,t.dispatchEvent(new J("currentitemchanged"))),r=t.g.zf(),o=t.m?t.m.preloadNextUrlWindow:0,o>0&&(s=!1,t.u.o(r,"timeupdate",function(){var L,O,M,D;return N(function(P){switch(P.g){case 1:if(t.l||t.h.length<=1||s||t.g.U()||!r.duration)return P.return();if(L=t.g.xa().end-r.currentTime,isNaN(L)){P.B(0);break}if(!(L<=o)){P.B(0);break}if(O=t.m&&t.m.repeatMode,M=null,t.j+1<t.h.length?M=t.h[t.j+1]:O==1&&(M=t.h[0]),!M||M.preloadManager&&!M.preloadManager.l){P.B(0);break}return s=!0,D=null,ue(P,5),w(P,t.g.preload(M.manifestUri,M.startTime,M.mimeType,M.config),7);case 7:D=P.h,Ae(P,6);break;case 5:ae(P),D=null;case 6:t.l={item:M,preloadManager:D},s=!1,Z(P)}})})),t.u.o(t.g,"complete",function(){var L=t.m&&t.m.repeatMode,O=!1;if(L==2)O=!0;else{var M=t.j+1;M<t.h.length?t.playItem(M):L==1&&(t.h.length==1?O=!0:t.playItem(0))}O&&(r.paused?(r.currentTime=t.g.xa().start,r.play()):t.u.o(r,"paused",function(){r.currentTime=t.g.xa().start,r.play()}))}),u=i.manifestUri,i.preloadManager&&!i.preloadManager.l&&(u=i.preloadManager),a=!1,t.l&&t.l.item==i&&t.l.preloadManager?u=t.l.preloadManager:t.i&&t.i.item==i&&t.i.preloadManager&&(u=t.i.preloadManager,a=!0),!t.i){C.B(2);break}if(a||t.i.preloadManager.l){C.B(3);break}return w(C,t.i.preloadManager.destroy(),3);case 3:t.i=null;case 2:if(!(t.m&&t.m.preloadPrevItem&&n&&t.g.Cc()===Gt)){C.B(5);break}return l=null,ue(C,6),w(C,t.g.ik(),8);case 8:l=C.h,Ae(C,7);break;case 6:ae(C),l=null;case 7:t.i={item:n,preloadManager:l};case 5:return i.config&&(t.g.Hj(),t.g.configure(i.config)),w(C,t.g.load(u,i.startTime,i.mimeType),9);case 9:if(t.l=null,i.extraText)for(c=T(i.extraText),d=c.next();!d.done;d=c.next())p=d.value,p.mime?t.g.me(p.uri,p.language,p.kind,p.mime,p.codecs):t.g.me(p.uri,p.language,p.kind);if(i.extraThumbnail)for(v=T(i.extraThumbnail),y=v.next();!y.done;y=v.next())E=y.value,t.g.kf(E);if(i.extraChapter)for(A=T(i.extraChapter),k=A.next();!k.done;k=A.next())I=k.value,t.g.jf(I.uri,I.language,I.mime);Z(C)}})},K("shaka.queue.QueueManager",Kt),Kt.prototype.playItem=Kt.prototype.playItem,Kt.prototype.removeAllItems=Kt.prototype.removeAllItems,Kt.prototype.insertItems=Kt.prototype.insertItems,Kt.prototype.getItems=Kt.prototype.getItems,Kt.prototype.getCurrentItemIndex=Kt.prototype.getCurrentItemIndex,Kt.prototype.getCurrentItem=Kt.prototype.getCurrentItem,Kt.prototype.getConfiguration=Kt.prototype.getConfiguration,Kt.prototype.configure=Kt.prototype.configure,Kt.prototype.destroy=Kt.prototype.destroy,Fc=function(e){return new Kt(e)};function Wn(){}Wn.prototype.parseInit=function(){},Wn.prototype.setSequenceMode=function(){},Wn.prototype.setManifestType=function(){},Wn.prototype.parseMedia=function(e,t){var n=null,i=[];e=dt(e).split(/\r?\n/),e=T(e);for(var r=e.next();!r.done;r=e.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=$8.exec(r))){var o=Q8.exec(r[1]);o=parseInt(o[1],10)*60+parseFloat(o[2].replace(",",".")),r=new rt(o,t.segmentEnd?t.segmentEnd:o+2,r[2]),n&&(n.endTime=o,i.push(n)),n=r}return n&&i.push(n),i},K("shaka.text.LrcTextParser",Wn),Wn.prototype.parseMedia=Wn.prototype.parseMedia,Wn.prototype.setManifestType=Wn.prototype.setManifestType,Wn.prototype.setSequenceMode=Wn.prototype.setSequenceMode,Wn.prototype.parseInit=Wn.prototype.parseInit;var $8=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,Q8=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;$t("application/x-subtitle-lrc",function(){return new Wn});function qn(){this.g="UNKNOWN"}qn.prototype.parseInit=function(){},qn.prototype.setSequenceMode=function(){},qn.prototype.setManifestType=function(e){this.g=e},qn.prototype.parseMedia=function(e,t,n,i){var r=dt(e);if(e=[],r=="")return e;var o=xo(r,"tt",!0);if(!o)throw new _(2,2,2005,"Failed to parse TTML.");if(r=Pi(o,"body")[0],!r)return[];var s=Fi(o,qa,"frameRate"),u=Fi(o,qa,"subFrameRate"),a=Fi(o,qa,"frameRateMultiplier"),l=Fi(o,qa,"tickRate"),c=Fi(o,qa,"cellResolution"),d=o.attributes["xml:space"]||"default",p=Fi(o,qd,"extent");if(d!="default"&&d!="preserve")throw new _(2,2,2005,"Invalid xml:space value: "+d);d=d=="default",s=new rR(s,u,a,l),c=iR(c),u=Pi(o,"metadata")[0],u=(u?u.children:[]).filter(function(E){return E!=`
`}),a=Pi(o,"style"),o=Pi(o,"region"),l=[];for(var v=T(o),y=v.next();!y.done;y=v.next())(y=eR(this,y.value,a,p))&&l.push(y);if(Ze(r,"p").length)throw new _(2,2,2001,"<p> can only be inside <div> in TTML");for(p=T(Ze(r,"div")),v=p.next();!v.done;v=p.next())if(Ze(v.value,"span").length)throw new _(2,2,2001,"<span> can only be inside <p> in TTML");return(t=rE(this,r,t,s,u,a,o,l,d,c,null,!1,n,i))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function rE(e,t,n,i,r,o,s,u,a,l,c,d,p,v){var y=c;if(wl(t)){if(!d)return null;var E={tagName:"span",children:[kt(t)],attributes:{},parent:null}}else E=t;for(var A=null,k=T(pE),I=k.next();!I.done&&!(A=Fd(E,"backgroundImage",r,"#",I.value)[0]);I=k.next());k=null,I=Fi(E,pE,"backgroundImage");var C=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(I&&C.test(I)){if(k=parseInt(I.split(":").pop(),10)-1,k>=v.length)return null;k=v[k]}else p&&I&&!I.startsWith("#")&&(C=new It(p),I=new It(I),(I=C.resolve(I).toString())&&(k=I));if((t.tagName=="p"||A||k)&&(d=!0),t=d,I=(E.attributes["xml:space"]||(a?"default":"preserve"))=="default",C=E.children.every(wl),a=[],!C)for(var L=T(E.children),O=L.next();!O.done;O=L.next())(O=rE(e,O.value,n,i,r,o,s,u,I,l,E,d,p,v))&&a.push(O);if(r=c!=null,p=kt(E),p=E.children.length&&p&&/\S/.test(p),L=E.attributes.begin||E.attributes.end||E.attributes.dur,!(L||p||E.tagName=="br"||a.length!=0||r&&!I))return null;for(v=uE(E,i),p=v.start,v=v.end;y&&y.tagName&&y.tagName!="tt";)v=nR(y,i,p,v),p=v.start,v=v.end,y=y.parent;if(p==null&&(p=0),p+=n.periodStart,v=v==null?1/0:v+n.periodStart,e.g!=="HLS"&&(p=Math.max(p,n.segmentStart),v=Math.min(v,n.segmentEnd)),!L&&a.length>0)for(p=1/0,v=0,n=T(a),i=n.next();!i.done;i=n.next())i=i.value,p=Math.min(p,i.startTime),v=Math.max(v,i.endTime);if(E.tagName=="br")return e=new rt(p,v,""),e.lineBreak=!0,e;if(n="",C&&(n=mn(kt(E)||""),I&&(n=n.replace(/\s+/g," "))),n=new rt(p,v,n),n.nestedCues=a,d||(n.isContainer=!0),l&&(n.cellResolution=l),l=Fd(E,"region",s,"")[0],E.attributes.region&&l&&l.attributes["xml:id"]){var M=l.attributes["xml:id"];n.region=u.filter(function(D){return D.id==M})[0]}return u=l,c&&r&&!E.attributes.region&&!E.attributes.style&&(u=Fd(c,"region",s,"")[0]),tR(e,n,E,u,A,k,o,t,a.length==0),n}function eR(e,t,n,i){var r=new Eo,o=t.attributes["xml:id"];if(!o)return null;r.id=o,o=null,i&&(o=Cg.exec(i)||Mg.exec(i)),i=o?Number(o[1]):null,o=o?Number(o[2]):null;var s,u=Bd(e,t,n,"extent");if(u){var a=(s=Cg.exec(u))||Mg.exec(u);a!=null&&(r.width=Number(a[1]),r.height=Number(a[2]),s||(i!=null&&(r.width=r.width*100/i),o!=null&&(r.height=r.height*100/o)),r.widthUnits=s||i!=null?On:0,r.heightUnits=s||o!=null?On:0)}return(e=Bd(e,t,n,"origin"))&&(a=(s=Cg.exec(e))||Mg.exec(e),a!=null&&(r.viewportAnchorX=Number(a[1]),r.viewportAnchorY=Number(a[2]),s?u||(r.width=100-r.viewportAnchorX,r.widthUnits=On,r.height=100-r.viewportAnchorY,r.heightUnits=On):(o!=null&&(r.viewportAnchorY=r.viewportAnchorY*100/o),i!=null&&(r.viewportAnchorX=r.viewportAnchorX*100/i)),r.viewportAnchorUnits=s||i!=null?On:0)),r}function xg(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),t.length==4)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function tR(e,t,n,i,r,o,s,u,a){if(u=u||a,cn(e,n,i,s,"direction",u)=="rtl"&&(t.direction="rtl"),a=cn(e,n,i,s,"writingMode",u),a=="tb"||a=="tblr"?t.writingMode="vertical-lr":a=="tbrl"?t.writingMode="vertical-rl":a=="rltb"||a=="rl"?t.direction="rtl":a&&(t.direction=Mu),(a=cn(e,n,i,s,"textAlign",!0))?(t.positionAlign=uR.get(a),t.lineAlign=sR.get(a),t.textAlign=lf[a.toUpperCase()]):t.textAlign=Hi,(a=cn(e,n,i,s,"displayAlign",!0))&&(t.displayAlign=e1[a.toUpperCase()]),(a=cn(e,n,i,s,"color",u))&&(t.color=xg(a)),(a=cn(e,n,i,s,"backgroundColor",u))&&(t.backgroundColor=xg(a)),(a=cn(e,n,i,s,"border",u))&&(t.border=a),a=cn(e,n,i,s,"fontFamily",u))switch(a){case"monospaceSerif":t.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":t.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":t.fontFamily="sans-serif";break;case"monospaceSansSerif":t.fontFamily="Consolas,monospace";break;case"proportionalSerif":t.fontFamily="serif";break;default:t.fontFamily=a.split(",").filter(function(l){return l!="default"}).join(",")}switch((a=cn(e,n,i,s,"fontWeight",u))&&a=="bold"&&(t.fontWeight=hs),a=cn(e,n,i,s,"wrapOption",u),t.wrapLine=!(a&&a=="noWrap"),(a=cn(e,n,i,s,"lineHeight",u))&&a.match(Qs)&&(t.lineHeight=a),(a=cn(e,n,i,s,"fontSize",u))&&(a.match(Qs)||a.match(oR))&&(t.fontSize=a),(a=cn(e,n,i,s,"fontStyle",u))&&(t.fontStyle=r1[a.toUpperCase()]),r?(o=r.attributes.imageType||r.attributes.imagetype,a=r.attributes.encoding,r=kt(r).trim(),o=="PNG"&&a=="Base64"&&r&&(t.backgroundImage="data:image/png;base64,"+r)):o&&(t.backgroundImage=o),(r=cn(e,n,i,s,"textOutline",u))&&(r=r.split(" "),r[0].match(Qs)?t.textStrokeColor=t.color:(t.textStrokeColor=xg(r[0]),r.shift()),r[0]&&r[0].match(Qs)?t.textStrokeWidth=r[0]:t.textStrokeColor=""),(r=cn(e,n,i,s,"letterSpacing",u))&&r.match(Qs)&&(t.letterSpacing=r),(r=cn(e,n,i,s,"linePadding",u))&&r.match(Qs)&&(t.linePadding=r),(r=cn(e,n,i,s,"opacity",u))&&(t.opacity=parseFloat(r)),(r=Bd(e,i,s,"textDecoration"))&&oE(t,r),(r=wg(e,n,s,"textDecoration"))&&oE(t,r),(r=cn(e,n,i,s,"textCombine",u))&&(t.textCombineUpright=r),cn(e,n,i,s,"ruby",u)){case"container":t.rubyTag="ruby";break;case"text":t.rubyTag="rt"}}function oE(e,t){t=T(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(lr)||e.textDecoration.push(lr);break;case"noUnderline":e.textDecoration.includes(lr)&&ii(e.textDecoration,lr);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&ii(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&ii(e.textDecoration,"overline")}}function cn(e,t,n,i,r,o){return o=o===void 0?!0:o,(t=wg(e,t,i,r))?t:o?Bd(e,n,i,r):null}function Bd(e,t,n,i){if(!t)return null;var r=Fi(t,qd,i);return r||sE(e,t,n,i)}function wg(e,t,n,i){var r=Fi(t,qd,i);return r||sE(e,t,n,i)}function sE(e,t,n,i){t=Fd(t,"style",n,"");for(var r=null,o=0;o<t.length;o++){var s=ur(t[o],"urn:ebu:tt:style",i);s||(s=Fi(t[o],qd,i)),s||(s=wg(e,t[o],n,i)),s&&(r=s)}return r}function Fd(e,t,n,i,r){var o=[];if(!e||n.length<1)return o;var s=e;for(e=null;!e&&!(e=r?ur(s,r,t):s.attributes[t])&&(s=s.parent,s););if(t=e){for(t=T(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,e=T(n),s=e.next();!s.done;s=e.next())if(s=s.value,i+s.attributes["xml:id"]==r){o.push(s);break}}return o}function nR(e,t,n,i){return e=uE(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),i==null?i=e.end:e.start!=null&&(i+=e.start),{start:n,end:i}}function uE(e,t){var n=Ig(e.attributes.begin,t),i=Ig(e.attributes.end,t);return e=Ig(e.attributes.dur,t),i==null&&e!=null&&(i=n+e),{start:n,end:i}}function Ig(e,t){var n=null;if(aE.test(e)){e=aE.exec(e),n=Number(e[1]);var i=Number(e[2]),r=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,r+=o/t.frameRate,n=r+i*60+n*3600}else if(lE.test(e))n=kg(lE,e);else if(cE.test(e))n=kg(cE,e);else if(dE.test(e))e=dE.exec(e),n=Number(e[1])/t.frameRate;else if(hE.test(e))e=hE.exec(e),n=Number(e[1])/t.g;else if(fE.test(e))n=kg(fE,e);else if(e)throw new _(2,2,2001,"Could not parse cue time range in TTML");return n}function kg(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+(Number(e[2])||0)*60+(Number(e[1])||0)*3600}function iR(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{columns:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}K("shaka.text.TtmlTextParser",qn),qn.prototype.parseMedia=qn.prototype.parseMedia,qn.prototype.setManifestType=qn.prototype.setManifestType,qn.prototype.setSequenceMode=qn.prototype.setSequenceMode,qn.prototype.parseInit=qn.prototype.parseInit;function rR(e,t,n,i){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(i),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var Cg=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,oR=/^(\d{1,4}(?:\.\d+)?|100)%$/,Qs=/^(\d+px|\d+em|\d*\.?\d+c)$/,Mg=/^(\d+)px (\d+)px$/,aE=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,lE=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,cE=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,dE=/^(\d*(?:\.\d*)?)f$/,hE=/^(\d*(?:\.\d*)?)t$/,fE=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),sR=new Map().set("left",Io).set("center","center").set("right","end").set("start",Io).set("end","end"),uR=new Map().set("left","line-left").set("center","center").set("right","line-right"),qa=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],qd=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],pE=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];$t("application/ttml+xml",function(){return new qn});function jt(){this.g=new qn}jt.prototype.parseInit=function(e){var t=!1;if(new Je().box("moov",Me).box("trak",Me).box("mdia",Me).box("minf",Me).box("stbl",Me).W("stsd",gr).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new _(2,2,2007)},jt.prototype.setSequenceMode=function(e){this.g.setSequenceMode(e)},jt.prototype.setManifestType=function(e){this.g.setManifestType(e)},jt.prototype.parseMedia=function(e,t,n){var i=[],r=null,o=[],s=new Map,u=[];if(new Je().box("moof",Me).box("traf",Me).W("tfhd",function(k){r=Wl(k.reader,k.flags).se}).W("trun",function(k){k=Zl(k.reader,k.version,k.flags),k=T(k.ci);for(var I=k.next();!I.done;I=k.next())u.push(I.value.sampleSize||r||0)}).W("subs",function(k){for(var I=k.reader,C=I.$(),L=-1,O=0;O<C;O++){var M=I.$();L+=M,M=I.Ia();for(var D=[],P=0;P<M;P++)k.version==1?D.push(I.$()):D.push(I.Ia()),I.ea(),I.ea(),I.$();s.set(L,D)}}).box("mdat",Ro(function(k){o.push(k)},!1)).parse(e,!1),o.length==0)throw new _(2,2,2007);e=Mt.apply(nn,X(o));for(var a=0,l=0;l<u.length;l++){var c=Te(e,a,u[l]);a+=u[l];var d=s.get(l);if(d&&d.length){for(var p=Te(c,0,d[0]),v=[],y=d[0],E=1;E<d.length;E++){var A=Te(c,y,d[E]);A=yl(A),v.push("data:image/png;base64,"+A),y+=d[E]}i=i.concat(this.g.parseMedia(p,t,n,v))}else i=i.concat(this.g.parseMedia(c,t,n,[]))}return i},K("shaka.text.Mp4TtmlParser",jt),jt.prototype.parseMedia=jt.prototype.parseMedia,jt.prototype.setManifestType=jt.prototype.setManifestType,jt.prototype.setSequenceMode=jt.prototype.setSequenceMode,jt.prototype.parseInit=jt.prototype.parseInit,$t('application/mp4; codecs="stpp"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.im1i"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.im1t"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.im2i"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.im2t"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.etd1"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.etd1|im1t"',function(){return new jt}),$t('application/mp4; codecs="stpp.ttml.im1t|etd1"',function(){return new jt}),$t('application/mp4; codecs="stpp.TTML.im1t"',function(){return new jt});function En(){this.g="UNKNOWN"}En.prototype.parseInit=function(){},En.prototype.setSequenceMode=function(){},En.prototype.setManifestType=function(e){this.g=e},En.prototype.parseMedia=function(e,t){e=dt(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new _(2,2,2e3);if(e=t.vttOffset,this.g=="HLS"&&n[0].includes("X-TIMESTAMP-MAP")){var i=n[0];if(e=i.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),i=i.match(/MPEGTS:(\d+)/m),!e||!i)throw new _(2,2,2e3);if(e=ds(e[1]),e==null)throw new _(2,2,2e3);i=Number(i[1]);for(var r=t.segmentStart-t.periodStart;r>=95443.7176888889;)r-=95443.7176888889,i+=8589934592;e=t.periodStart+i/9e4-e}for(t=[],i=T(n[0].split(`
`)),r=i.next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new ls(r);var o=new Eo;Ao(r),cs(r);for(var s=Ao(r);s;){var u=o,a=s;(s=/^id=(.*)$/.exec(a))?u.id=s[1]:(s=/^width=(\d{1,2}|100)%$/.exec(a))?u.width=Number(s[1]):(s=/^lines=(\d+)$/.exec(a))?(u.height=Number(s[1]),u.heightUnits=2):(s=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(a))?(u.regionAnchorX=Number(s[1]),u.regionAnchorY=Number(s[2])):(s=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(a))?(u.viewportAnchorX=Number(s[1]),u.viewportAnchorY=Number(s[2])):/^scroll=up$/.exec(a)&&(u.scroll="up"),cs(r),s=Ao(r)}t.push(o)}for(i=new Map,$v(i),r=[],n=T(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(u=[],s=-1,a=1;a<o.length;a++)o[a].includes("::cue")&&(u.push([]),s=u.length-1),s!=-1&&(u[s].push(o[a]),o[a].includes("}")&&(s=-1));for(u=T(u),s=u.next();!s.done;s=u.next()){var l=s.value;s="global",(a=l[0].match(/\((.*)\)/))&&(s=a.pop()),a=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(a=l[1].split(";")),(l=i.get(s))||(l=new rt(0,0,""));for(var c=!1,d=0;d<a.length;d++){var p=/^\s*([^:]+):\s*(.*)/.exec(a[d]);if(p){var v=p[2].trim().replace(";","");switch(p[1].trim()){case"background-color":case"background":c=!0,l.backgroundColor=v;break;case"color":c=!0,l.color=v;break;case"font-family":c=!0,l.fontFamily=v;break;case"font-size":c=!0,l.fontSize=v;break;case"font-weight":(parseInt(v,10)>=700||v=="bold")&&(c=!0,l.fontWeight=hs);break;case"font-style":switch(v){case"normal":c=!0,l.fontStyle=df;break;case"italic":c=!0,l.fontStyle=fs;break;case"oblique":c=!0,l.fontStyle="oblique"}break;case"opacity":c=!0,l.opacity=parseFloat(v);break;case"text-combine-upright":c=!0,l.textCombineUpright=v;break;case"text-shadow":c=!0,l.textShadow=v;break;case"white-space":c=!0,l.wrapLine=v!="noWrap"}}}c&&i.set(s,l)}}if(l=o,c=e,l.length==1&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||l[0]=="STYLE"||l[0]=="REGION")o=null;else if(o=null,l[0].includes("-->")||(o=l[0],l.splice(0,1)),u=new ls(l[0]),s=wu(u),d=jr(u,/[ \t]+--\x3e[ \t]+/g),a=wu(u),s==null||d==null||a==null)ye("Failed to parse VTT time code. Cue skipped:",o,l),o=null;else{for(s+=c,a+=c,s<0&&(s=0),c=l.slice(1).join(`
`).trim(),i.has("global")?(l=i.get("global").clone(),l.startTime=s,l.endTime=a,l.payload=c):l=new rt(s,a,c),cs(u),s=Ao(u);s;)gE(l,s,t),cs(u),s=Ao(u);Ll(l,i),o!=null&&(l.id=o),o=l}o&&r.push(o)}return r};function gE(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],t=="middle"?e.textAlign=Hi:e.textAlign=lf[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=i[1]=="lr"?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":Pl)):(i=/^region:(.*)$/.exec(t))?(t=aR(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=cf[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Ru,e.line=Number(n[1]),n[2]&&(e.lineAlign=cf[n[2].toUpperCase()]))}function aR(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}K("shaka.text.VttTextParser",En),En.prototype.parseMedia=En.prototype.parseMedia,En.prototype.setManifestType=En.prototype.setManifestType,En.prototype.setSequenceMode=En.prototype.setSequenceMode,En.prototype.parseInit=En.prototype.parseInit,$t("text/vtt",function(){return new En}),$t('text/vtt; codecs="vtt"',function(){return new En}),$t('text/vtt; codecs="wvtt"',function(){return new En});function Xn(){this.g=null}Xn.prototype.parseInit=function(e){var t=this,n=!1;if(new Je().box("moov",Me).box("trak",Me).box("mdia",Me).W("mdhd",function(i){i=Yl(i.reader,i.version),t.g=i.timescale}).box("minf",Me).box("stbl",Me).W("stsd",gr).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new _(2,2,2008);if(!n)throw new _(2,2,2008)},Xn.prototype.setSequenceMode=function(){},Xn.prototype.setManifestType=function(){},Xn.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new _(2,2,2008);var n=0,i=[],r,o=[],s=!1,u=!1,a=!1,l=null;if(new Je().box("moof",Me).box("traf",Me).W("tfdt",function(C){s=!0,n=Xl(C.reader,C.version).baseMediaDecodeTime}).W("tfhd",function(C){l=Wl(C.reader,C.flags).re}).W("trun",function(C){u=!0,i=Zl(C.reader,C.version,C.flags).ci}).box("mdat",Ro(function(C){a=!0,r=C},!1)).parse(e,!1),!a&&!s&&!u)throw new _(2,2,2008);e=n;for(var c=new ot(r,0),d=T(i),p=d.next();!p.done;p=d.next()){p=p.value;var v=p.di||l,y=p.hg?n+p.hg:e;e=y+(v||0);var E=0;do{var A=c.$();E+=A;var k=c.$(),I=null;Gl(k)=="vttc"?A>8&&(I=c.bc(A-8,!1)):c.skip(A-8),v&&I&&(A=lR(I,t.periodStart+y/this.g,t.periodStart+e/this.g),o.push(A))}while(p.sampleSize&&E<p.sampleSize)}return o.filter(Hr)};function lR(e,t,n){var i,r,o;return new Je().box("payl",Ro(function(s){i=dt(s)},!1)).box("iden",Ro(function(s){r=dt(s)},!1)).box("sttg",Ro(function(s){o=dt(s)},!1)).parse(e),i?cR(i,r,o,t,n):null}function cR(e,t,n,i,r){if(e=new rt(i,r,e),Ll(e),t&&(e.id=t),n)for(t=new ls(n),n=Ao(t);n;)gE(e,n,[]),cs(t),n=Ao(t);return e}K("shaka.text.Mp4VttParser",Xn),Xn.prototype.parseMedia=Xn.prototype.parseMedia,Xn.prototype.setManifestType=Xn.prototype.setManifestType,Xn.prototype.setSequenceMode=Xn.prototype.setSequenceMode,Xn.prototype.parseInit=Xn.prototype.parseInit,$t('application/mp4; codecs="wvtt"',function(){return new Xn});function Yn(){}Yn.prototype.parseInit=function(){},Yn.prototype.setSequenceMode=function(){},Yn.prototype.setManifestType=function(){},Yn.prototype.parseMedia=function(e){var t=dt(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=T(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var i=new ls(n[0]),r=wu(i),o=jr(i,/,/g);if(i=wu(i),r==null||o==null||i==null)throw new _(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new rt(r,i,n.slice(1).join(`
`).trim()))}return e},K("shaka.text.SbvTextParser",Yn),Yn.prototype.parseMedia=Yn.prototype.parseMedia,Yn.prototype.setManifestType=Yn.prototype.setManifestType,Yn.prototype.setSequenceMode=Yn.prototype.setSequenceMode,Yn.prototype.parseInit=Yn.prototype.parseInit,$t("text/x-subviewer",function(){return new Yn});function Zn(){this.g=new En}Zn.prototype.parseInit=function(){},Zn.prototype.setSequenceMode=function(){},Zn.prototype.setManifestType=function(){},Zn.prototype.parseMedia=function(e,t,n){var i=dt(e);if(e=`WEBVTT

`,i!=""){i=i.replace(/\r+/g,""),i=i.trim(),i=T(i.split(`

`));for(var r=i.next();!r.done;r=i.next())r=r.value.split(/\n/),r[0].match(/\d+/)&&r.shift(),r[0]=r[0].replace(/,/g,"."),e+=r.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`}return e=Te(vi(e)),this.g.parseMedia(e,t,n,[])},K("shaka.text.SrtTextParser",Zn),Zn.prototype.parseMedia=Zn.prototype.parseMedia,Zn.prototype.setManifestType=Zn.prototype.setManifestType,Zn.prototype.setSequenceMode=Zn.prototype.setSequenceMode,Zn.prototype.parseInit=Zn.prototype.parseInit,$t("text/srt",function(){return new Zn});function Jn(){}Jn.prototype.parseInit=function(){},Jn.prototype.setSequenceMode=function(){},Jn.prototype.setManifestType=function(){},Jn.prototype.parseMedia=function(e){var t="",n="",i=null,r=null;for(r=dt(e).split(/\r?\n\s*\r?\n/),e=T(r),r=e.next();!r.done;r=e.next()){var o=r.value;r=o,(o=hR.exec(o))&&(i=o[1],r=o[2]),i=="V4 Styles"||i=="V4+ Styles"?(t=r,t=n?t+(`
`+r):r):i=="Events"&&(n=n?n+(`
`+r):r)}for(i=[],r=null,t=T(t.split(/\r?\n/)),e=t.next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(o=yE.exec(e))){if(e=o[1].trim(),o=o[2].trim(),e=="Format")r=o.split(Vd);else if(e=="Style"){e=o.split(Vd),o={};for(var s=0;s<r.length&&s<e.length;s++)o[r[s]]=e[s];i.push(o)}}for(r=[],t=null,n=T(n.split(/\r?\n/)),o=n.next(),e={};!o.done;e={Yj:void 0},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(s=yE.exec(o))){if(o=s[1].trim(),s=s[2].trim(),o=="Format")t=s.split(Vd);else if(o=="Dialogue"){s=s.split(Vd),o={};for(var u=0;u<t.length&&u<s.length;u++)o[t[u]]=s[u];u=vE(o.Start);var a=vE(o.End);s=new rt(u,a,s.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),e.Yj=o.Style,(e=i.find((function(l){return function(c){return c.Name==l.Yj}})(e)))&&dR(s,e),r.push(s)}}return r};function dR(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=mE(n))&&(e.color=n),(n=t.BackColour)&&(n=mE(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=hs),t.Italic&&(e.fontStyle=fs),t.Underline&&e.textDecoration.push(lr),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=Cu,e.textAlign="start";break;case 2:e.displayAlign=Cu,e.textAlign=Hi;break;case 3:e.displayAlign=Cu,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=Hi;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=Hi;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function mE(e){return e=parseInt(e.replace("&H",""),16),e>=0?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function vE(e){return e=fR.exec(e),(e[1]?parseInt(e[1].replace(":",""),10):0)*3600+parseInt(e[2],10)*60+parseFloat(e[3])}K("shaka.text.SsaTextParser",Jn),Jn.prototype.parseMedia=Jn.prototype.parseMedia,Jn.prototype.setManifestType=Jn.prototype.setManifestType,Jn.prototype.setSequenceMode=Jn.prototype.setSequenceMode,Jn.prototype.parseInit=Jn.prototype.parseInit;var hR=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,yE=/^\s*([^:]+):\s*(.*)/,Vd=/\s*,\s*/,fR=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;$t("text/x-ssa",function(){return new Jn});function TE(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,e>0)?{ye:n,za:e}:null}function SE(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=(e[t+2]&60)>>>2;if(i>n.length-1)return null;var r=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[i],channelCount:o,codec:"mp4a.40."+r}}function EE(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var i=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return i<=n?!1:(t+=i,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function pR(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function $n(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=$n.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?hn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(Mn(t)||"mp4a.40.2")+'"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,i){for(var r=Te(e),o=xs(r),s=o.length;s<r.length&&!EE(r,s);s++);if(e=n.endTime*1e3,o=Oo(o),o.length&&n&&(o=o.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=o.data),o=SE(r,s),!o)return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));t.audioSamplingRate=o.sampleRate,t.channelsCount=o.channelCount;for(var u=[];s<r.length;){var a=TE(r,s);if(!a)return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));var l=a.ye+a.za;s+l<=r.length&&u.push({data:r.subarray(s+a.ye,s+l),size:a.za,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),s+=l}return r=o.sampleRate,e=Math.floor(e*r/1e3),i={id:t.id,type:"audio",codecs:o.codec,timescale:r,duration:i,Hb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:e,Eb:u},stream:t},i=new Ss([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Es(i),this.g.set(n,t)),n=this.i!==t,i=Vu(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})},K("shaka.transmuxer.AacTransmuxer",$n),$n.prototype.transmux=$n.prototype.transmux,$n.prototype.getOriginalMimeType=$n.prototype.getOriginalMimeType,$n.prototype.convertCodecs=$n.prototype.convertCodecs,$n.prototype.isSupported=$n.prototype.isSupported,$n.prototype.destroy=$n.prototype.destroy,cr("audio/aac",function(){return new $n("audio/aac")},qr);function AE(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(n>=3)return null;var i=e[t+4]&63,r=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][i*3+n]*2;if(t+r>e.length)return null;var o=e[t+6]>>5,s=0;o===2?s+=2:(o&1&&o!==1&&(s+=2),o&4&&(s+=2)),s=(e[t+6]<<8|e[t+7])>>12-s&1;var u=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|u>>2,(u&3)<<6|o<<3|s<<2|i>>4,i<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+s,Ma:e,za:r}}function gR(e,t){if(e[t]===11&&e[t+1]===119){var n=0,i=5;t+=i;for(var r,o;i>0;){o=e[t];var s=Math.min(i,8),u=8-s;r=4278190080>>>24+u<<u,r=(o&r)>>u,n=n?n<<s|r:r,t+=1,i-=s}if(n<16)return!0}return!1}function ci(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=ci.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?hn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?ke().Le()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,i){e=Te(e);for(var r=xs(e),o=r.length;o<e.length&&!gR(e,o);o++);var s=n.endTime*1e3;r=Oo(r),r.length&&n&&(r=r.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(s=r.data),r=0;for(var u=new Uint8Array([]),a=[];o<e.length;){var l=AE(e,o);if(!l)return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,r=l.sampleRate,u=l.Ma,a.push({data:e.subarray(o,o+l.za),size:l.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),o+=l.za}return e=Math.floor(s*r/1e3),i={id:t.id,type:"audio",codecs:"ac-3",timescale:r,duration:i,Hb:[],Ma:u,Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:e,Eb:a},stream:t},i=new Ss([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Es(i),this.g.set(n,t)),n=this.i!==t,i=Vu(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})},K("shaka.transmuxer.Ac3Transmuxer",ci),ci.prototype.transmux=ci.prototype.transmux,ci.prototype.getOriginalMimeType=ci.prototype.getOriginalMimeType,ci.prototype.convertCodecs=ci.prototype.convertCodecs,ci.prototype.isSupported=ci.prototype.isSupported,ci.prototype.destroy=ci.prototype.destroy,cr("audio/ac3",function(){return new ci("audio/ac3")},qr);function xE(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new yr(e.subarray(t+2));Bn(n,2),Bn(n,3);var i=De(n,11)+1<<1,r=De(n,2);if(r==3){r=De(n,2),r=[24e3,22060,16e3][r];var o=3}else r=[48e3,44100,32e3][r],o=De(n,2);var s=De(n,3),u=De(n,1);return n=De(n,5),t+i>e.byteLength?null:(e=Math.floor(i*r/([1,2,3,6][o]*16)),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,r<<6|n<<1|0,0|s<<1|u<<0,0]),{sampleRate:r,channelCount:[2,1,2,3,3,4,4,5][s]+u,Ma:e,za:i})}function di(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=di.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?hn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,i){e=Te(e);for(var r=xs(e),o=r.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var s=n.endTime*1e3;r=Oo(r),r.length&&n&&(r=r.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(s=r.data),r=0;for(var u=new Uint8Array([]),a=[];o<e.length;){var l=xE(e,o);if(!l)return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,r=l.sampleRate,u=l.Ma,a.push({data:e.subarray(o,o+l.za),size:l.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),o+=l.za}return e=Math.floor(s*r/1e3),i={id:t.id,type:"audio",codecs:"ec-3",timescale:r,duration:i,Hb:[],Ma:u,Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:e,Eb:a},stream:t},i=new Ss([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Es(i),this.g.set(n,t)),n=this.i!==t,i=Vu(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})},K("shaka.transmuxer.Ec3Transmuxer",di),di.prototype.transmux=di.prototype.transmux,di.prototype.getOriginalMimeType=di.prototype.getOriginalMimeType,di.prototype.convertCodecs=di.prototype.convertCodecs,di.prototype.isSupported=di.prototype.isSupported,di.prototype.destroy=di.prototype.destroy,cr("audio/ec3",function(){return new di("audio/ec3")},qr);function mR(e){if(!e.length)return null;var t=e.find(function(E){return E.type==7});if(e=e.find(function(E){return E.type==8}),!t||!e)return null;var n=new yr(t.data),i=Xe(n);if(Xe(n),Xe(n),Qt(n),yR.includes(i)&&(i=ie(n),i===3&&Bn(n,1),Qt(n),Qt(n),Bn(n,1),ce(n))){i=i!==3?8:12;for(var r=0;r<i;r++)ce(n)&&(r<6?Ql(n,16):Ql(n,64))}if(Qt(n),i=ie(n),i===0)ie(n);else if(i===1)for(Bn(n,1),Qt(n),Qt(n),i=ie(n),r=0;r<i;r++)Qt(n);Qt(n),Bn(n,1);var o=ie(n),s=ie(n),u=De(n,1);u===0&&Bn(n,1),Bn(n,1);var a=0,l=0,c=0,d=0;if(ce(n)&&(a=ie(n),l=ie(n),c=ie(n),d=ie(n)),r=i=1,ce(n)&&ce(n)){var p=Xe(n),v=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],y=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];p>0&&p<=16?(i=v[p-1],r=y[p-1]):p===255&&(i=De(n,16),r=De(n,16))}return n=(2-u)*(s+1)*16-c*2-d*2,o=(o+1)*16-a*2-l*2,a=[],t=t.fullData,a.push(t.byteLength>>>8&255),a.push(t.byteLength&255),a=a.concat.apply(a,X(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,X(e)),e=new Uint8Array([1,a[3],a[4],a[5],255,225].concat(a,[1],t)),{height:n,width:o,Ya:e,fb:i,gb:r}}function vR(e){function t(y){r={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:y.pts,dts:y.dts,nalus:[]}}function n(){if(r&&r.nalus.length&&r.frame){for(var y=[],E=T(r.nalus),A=E.next();!A.done;A=E.next()){A=A.value;var k=A.fullData.byteLength,I=new Uint8Array(4);I[0]=k>>24&255,I[1]=k>>16&255,I[2]=k>>8&255,I[3]=k&255,y.push(I),y.push(A.fullData)}r.data=Mt.apply(nn,X(y)),i.push(r)}}for(var i=[],r=null,o=!1,s=0;s<e.length;s++){var u=e[s],a=u.nalus,l=!1;r&&a.length&&!o&&(n(),t(u)),a=T(u.nalus);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=!1;switch(c.type){case 1:var p=!1;d=!0;var v=c.data;l&&v.length>4&&(v=h5(new yr(v)),v===2||v===4||v===7||v===9)&&(p=!0),p&&r&&r.frame&&!r.isKeyframe&&(n(),r=null),r||t(u),r.frame=!0,r.isKeyframe=p;break;case 5:d=!0,r&&r.frame&&!r.isKeyframe&&(n(),r=null),r||t(u),r.frame=!0,r.isKeyframe=!0;break;case 6:d=!0;break;case 7:l=d=!0;break;case 8:d=!0;break;case 9:o=d=!0,r&&r.frame&&(n(),r=null),r||t(u);break;case 12:d=!0;break;default:d=!1}r&&d&&r.nalus.push(c)}}return n(),i}var yR=[100,110,122,244,44,83,86,118,128,138,139,134];function TR(e){if(!e.length)return null;var t=e.find(function(s){return s.type==32}),n=e.find(function(s){return s.type==33}),i=e.find(function(s){return s.type==34});if(!t||!n||!i)return null;var r=SR(t.fullData);e=ER(n.fullData);var o=AR(i.fullData);return t=xR(t.fullData,n.fullData,i.fullData,{Qh:r.Qh,xi:r.xi,qh:e.qh,rh:e.rh,jh:e.jh,ph:e.ph,kh:e.kh,mh:e.mh,nh:e.nh,oh:e.oh,dh:e.dh,eh:e.eh,fh:e.fh,gh:e.gh,hh:e.hh,ih:e.ih,Sf:e.Sf,Sg:e.Sg,Og:e.Og,Ng:e.Ng,Sh:o.Sh,bh:e.bh,ah:e.ah}),{height:e.height,width:e.width,Ya:t,fb:e.qm,gb:e.pm}}function SR(e){var t=new yr(e,!0);return Xe(t),Xe(t),De(t,4),De(t,2),De(t,6),e=De(t,3),t=ce(t),{Qh:e+1,xi:t}}function ER(e){e=new yr(e,!0),Xe(e),Xe(e);var t=0,n=0,i=0,r=0;De(e,4);var o=De(e,3);ce(e);for(var s=De(e,2),u=De(e,1),a=De(e,5),l=Xe(e),c=Xe(e),d=Xe(e),p=Xe(e),v=Xe(e),y=Xe(e),E=Xe(e),A=Xe(e),k=Xe(e),I=Xe(e),C=Xe(e),L=[],O=[],M=0;M<o;M++)L.push(ce(e)),O.push(ce(e));if(o>0)for(M=o;M<8;M++)De(e,2);for(M=0;M<o;M++)L[M]&&De(e,88),O[M]&&Xe(e);ie(e),L=ie(e),L==3&&De(e,1),O=ie(e),M=ie(e),ce(e)&&(t+=ie(e),n+=ie(e),i+=ie(e),r+=ie(e));var D=ie(e),P=ie(e),j=ie(e);if(ce(e))for(var b=0;b<=o;b++)ie(e),ie(e),ie(e);else ie(e),ie(e),ie(e);if(ie(e),ie(e),ie(e),ie(e),ie(e),ie(e),ce(e)&&ce(e))for(b=0;b<4;b++)for(var U=0;U<(b===3?2:6);U++)if(ce(e)){var B=Math.min(64,1<<4+(b<<1));b>1&&ws(e);for(var G=0;G<B;G++)ws(e)}else ie(e);for(ce(e),ce(e),ce(e)&&(Xe(e),ie(e),ie(e),ce(e)),b=ie(e),B=U=0;B<b;B++)if(G=!1,B!==0&&(G=ce(e)),G){B===b&&ie(e),ce(e),ie(e);for(var H=G=0;H<=U;H++){var F=ce(e),q=!1;F||(q=ce(e)),(F||q)&&G++}U=G}else{for(H=ie(e),G=ie(e),U=H+G,F=0;F<H;F++)ie(e),ce(e);for(H=0;H<G;H++)ie(e),ce(e)}if(ce(e))for(b=ie(e),U=0;U<b;U++){for(B=0;B<j+4;B++)De(e,1);De(e,1)}if(b=j=1,U=!0,B=1,H=G=0,ce(e),ce(e),ce(e)){if(ce(e)){F=Xe(e),q=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2];var z=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];F>0&&F<=16?(j=q[F-1],b=z[F-1]):F===255&&(j=De(e,16),b=De(e,16))}if(ce(e)&&ce(e),ce(e)&&(De(e,3),ce(e),ce(e)&&(Xe(e),Xe(e),Xe(e))),ce(e)&&(ie(e),ie(e)),ce(e),ce(e),ce(e),(F=ce(e))&&(Qt(e),Qt(e),Qt(e),Qt(e)),ce(e)&&(B=De(e,32),G=De(e,32),ce(e)&&ie(e),ce(e))){z=!1,F=ce(e),q=ce(e),(F||q)&&((z=ce(e))&&(Xe(e),De(e,5),ce(e),De(e,5)),De(e,4),De(e,4),z&&De(e,4),De(e,5),De(e,5),De(e,5));for(var Y=0;Y<=o;Y++){U=ce(e);var we=!0,ne=1;U||(we=ce(e));var ze=!1;if(we?ie(e):ze=ce(e),ze||(ne=ie(e)+1),F){for(we=0;we<ne;we++)ie(e),ie(e),z&&(ie(e),ie(e));ce(e)}if(q){for(we=0;we<ne;we++)ie(e),ie(e),z&&(ie(e),ie(e));ce(e)}}}ce(e)&&(ce(e),ce(e),ce(e),H=ie(e),ie(e),ie(e),ie(e),ie(e))}return{jh:C,qh:s,rh:u,ph:a,kh:l,mh:c,nh:d,oh:p,dh:v,eh:y,fh:E,gh:A,hh:k,ih:I,Sf:H,Sg:L,Og:D,Ng:P,width:O-(t+n)*(L===1||L===2?2:1),height:M-(i+r)*(L===1?2:1),qm:j,pm:b,bh:G/B,ah:U}}function AR(e){var t=new yr(e,!0);Xe(t),Xe(t),ie(t),ie(t),ce(t),ce(t),De(t,3),ce(t),ce(t),ie(t),ie(t),ws(t),ce(t),ce(t),ce(t)&&ie(t),ws(t),ws(t),ce(t),ce(t),ce(t),ce(t),e=ce(t),t=ce(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Sh:n}}function xR(e,t,n,i){var r=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));for(r[0]=1,r[1]=(i.qh&3)<<6|(i.rh?1:0)<<5|i.ph&31,r[2]=i.kh,r[3]=i.mh,r[4]=i.nh,r[5]=i.oh,r[6]=i.dh,r[7]=i.eh,r[8]=i.fh,r[9]=i.gh,r[10]=i.hh,r[11]=i.ih,r[12]=i.jh,r[13]=240|(i.Sf&3840)>>8,r[14]=i.Sf&255,r[15]=252|i.Sh&3,r[16]=252|i.Sg&3,r[17]=248|i.Og&7,r[18]=248|i.Ng&7,r[19]=0,r[20]=parseInt(i.bh,10),r[21]=((i.ah?1:0)&3)<<6|(i.Qh&7)<<3|(i.xi?1:0)<<2|3,r[22]=3,e=[e,t,n],t=23,n=e.length-1,i=0;i<e.length;i+=1)r.set(new Uint8Array([32+i|(i===n?128:0),0,1]),t),t+=3,r.set(new Uint8Array([e[i].byteLength>>8,e[i].byteLength&255]),t),t+=2,r.set(e[i],t),t+=e[i].byteLength;return r}function Hd(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&r!==0&&r!==15&&o!==3){var s=e[t+3]>>6;r=wR[(n===3?3-i:i===3?3:4)*14+r-1]*1e3,o=IR[(n===3?0:n===2?1:2)*3+o],n=kR[n][i];var u=CR[i],a=Math.floor(n*r/o+(e[t+2]>>1&1))*u,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&l<=87&&i===2&&r>=224e3&&s===0&&(e[t+3]|=128),{sampleRate:o,channelCount:s===3?1:2,za:a,om:n*8*u}}return null}function wE(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}function IE(e,t){if(t+1<e.length&&wE(e,t)){var n=Hd(e,t),i=4;return n&&n.za&&(i=n.za),t+=i,t===e.length||t+1<e.length&&wE(e,t)}return!1}var wR=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],IR=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],kR=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],CR=[0,1,1,4];function hi(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=hi.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?hn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,i){for(var r=Te(e),o=xs(r).length;o<r.length&&!IE(r,o);o++);var s;for(e=[];o<r.length;){var u=Hd(r,o);if(!u)return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));s||(s=u),o+u.za<=r.length&&e.push({data:r.subarray(o,o+u.za),size:u.za,duration:1152,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),o+=u.za}return s?(r=s.om*9e4/s.sampleRate*this.h,i={id:t.id,type:"audio",codecs:"mp3",timescale:s.sampleRate,duration:i,Hb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:r,Eb:e},stream:t},i=new Ss([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Es(i),this.g.set(n,t)),n=this.i!==t,i=Vu(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})):Promise.reject(new _(2,3,3018,n?n.S()[0]:null))},K("shaka.transmuxer.Mp3Transmuxer",hi),hi.prototype.transmux=hi.prototype.transmux,hi.prototype.getOriginalMimeType=hi.prototype.getOriginalMimeType,hi.prototype.convertCodecs=hi.prototype.convertCodecs,hi.prototype.isSupported=hi.prototype.isSupported,hi.prototype.destroy=hi.prototype.destroy,cr("audio/mpeg",function(){return new hi("audio/mpeg")},qr);function fi(e){this.h=e,this.g=null}h=fi.prototype,h.destroy=function(){},h.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=Mn(e).split(","),n=Cn("audio",t);return t=Cn("video",t),!n||t||Et(n)!="mp3"?!1:hn(this.convertCodecs("audio",e))},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},h.getOriginalMimeType=function(){return this.h},h.transmux=function(e,t,n,i,r){if(this.g?this.g.clearData():this.g=new it,this.g.lg(n.i),e=Te(e),e=this.g.parse(e),e.ue().audio!="mp3"||r!="audio")return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));for(n=new Uint8Array([]),r=T(e.Bb()),e=r.next();!e.done;e=r.next())if(e=e.value.data)for(t=0;t<e.length;)(i=Hd(e,t))?(t+i.za<=e.length&&(n=Mt(n,e.subarray(t,t+i.za))),t+=i.za):t++;return Promise.resolve(n)},K("shaka.transmuxer.MpegTsTransmuxer",fi),fi.prototype.transmux=fi.prototype.transmux,fi.prototype.getOriginalMimeType=fi.prototype.getOriginalMimeType,fi.prototype.convertCodecs=fi.prototype.convertCodecs,fi.prototype.isSupported=fi.prototype.isSupported,fi.prototype.destroy=fi.prototype.destroy,cr("video/mp2t",function(){return new fi("video/mp2t")},ff);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Qn(e){this.h=e,(this.g=w0.get("ISOBoxer")())&&MR(this)}function MR(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(i){this._procEntryField(i,"BytesOfClearData","uint",16),this._procEntryField(i,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,i=0;i<16;i++)this.usertype[i]!==RR[i]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}h=Qn.prototype,h.destroy=function(){},h.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?hn(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),hn(t)||hn(e))},h.convertCodecs=function(e,t){return t.replace("mss/","")},h.getOriginalMimeType=function(){return this.h},h.transmux=function(e,t,n){if(!n)return Promise.resolve(Te(e));if(!t.mssPrivateData)return Promise.reject(new _(2,3,3020,n?n.S()[0]:null));try{var i,r=this.g.parseBuffer(e),o=r.fetch("tfhd");o.track_ID=t.id+1;var s=r.fetch("tfdt"),u=r.fetch("traf");s===null&&(s=this.g.createFullBox("tfdt",u,o),s.version=1,s.flags=0,s.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var a=r.fetch("trun"),l=r.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var c=r.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var d=r.fetch("sepiff");if(d!==null){d.type="senc",d.usertype=void 0;var p=r.fetch("saio");if(p===null){p=this.g.createFullBox("saio",u),p.version=0,p.flags=0,p.entry_count=1,p.offset=[0];var v=this.g.createFullBox("saiz",u);if(v.version=0,v.flags=0,v.sample_count=d.sample_count,v.default_sample_info_size=0,v.sample_info_size=[],d.flags&2)for(i=0;i<d.sample_count;i+=1)v.sample_info_size[i]=10+6*d.entry[i].NumberOfEntries;else v.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,a.flags|=1;var y=r.fetch("moof");a.data_offset=y.getLength()+8;var E=r.fetch("saio");E!==null&&(E.offset[0]=kE(y,"traf")+kE(u,"senc")+16);var A=Te(r.write());return Promise.resolve(A)}catch(k){return k instanceof _?Promise.reject(k):Promise.reject(new _(2,3,3022,n?n.S()[0]:null))}};function kE(e,t){for(var n=8,i=0;i<e.boxes.length&&e.boxes[i].type!==t;i++)n+=e.boxes[i].size;return n}K("shaka.transmuxer.MssTransmuxer",Qn),Qn.prototype.transmux=Qn.prototype.transmux,Qn.prototype.getOriginalMimeType=Qn.prototype.getOriginalMimeType,Qn.prototype.convertCodecs=Qn.prototype.convertCodecs,Qn.prototype.isSupported=Qn.prototype.isSupported,Qn.prototype.destroy=Qn.prototype.destroy;var RR=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);cr("mss/audio/mp4",function(){return new Qn("mss/audio/mp4")},qr),cr("mss/video/mp4",function(){return new Qn("mss/video/mp4")},qr);function pi(e){this.m=e,this.g=0,this.j=new Map,this.l=this.i=this.h=null}h=pi.prototype,h.destroy=function(){this.j.clear(),this.i&&this.i.destroy()},h.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var i=Mn(n).split(",");return n=Cn("audio",i),i=Cn("video",i),n&&(n=Et(n),!LR.includes(n))||i&&(n=Et(i),!PR.includes(n))?!1:t?hn(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),hn(t)||hn(e))},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=Mn(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return Ou(n,"audio/mp4")}).map(yf).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},h.getOriginalMimeType=function(){return this.m},h.transmux=function(e,t,n,i,r){var o=Te(e);if(r=="audio"&&!Is(o)){for(var s=xs(o),u=s.length;u<o.length;u++)if(IE(o,u))return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));for(u=s.length;u<o.length;u++)if(EE(o,u))return this.i||(this.i=new $n("audio/aac")),this.i.transmux(e,t,n,i,r);return Promise.reject(new _(2,3,3018,n?n.S()[0]:null))}this.h?this.h.clearData():this.h=new it,this.h.lg(n.i);var a=this.h.parse(o),l=[],c=a.ue();try{var d=null;if(r=="video"){switch(c.video){case"avc":var p=[],v=null,y=a.Jd(),E=vR(y);if(!E.length)throw new _(2,3,3023,n?n.S()[0]:null);for(var A=0;A<E.length;A++){var k=E[A];v==null&&(v=k.dts);var I=void 0;I=A+1<E.length?(E[A+1].dts||0)-(k.dts||0):E.length>1?(k.dts||0)-(E[A-1].dts||0):(n.endTime-n.startTime)*9e4,p.push({data:k.data,size:k.data.byteLength,duration:I,Ab:Math.round((k.pts||0)-(k.dts||0)),flags:{Cb:0,ub:0,sb:0,qb:0,rb:k.isKeyframe?2:1,Db:k.isKeyframe?0:1}})}for(var C=[],L=T(y),O=L.next();!O.done;O=L.next())C.push.apply(C,X(O.value.nalus));var M=mR(C);if(!M||v==null)throw new _(2,3,3018,n?n.S()[0]:null);t.height=t.height||M.height,t.width=t.width||M.width,d={id:t.id,type:"video",codecs:"avc1",timescale:9e4,duration:i,Hb:[],Ma:new Uint8Array([]),Ya:M.Ya,fb:M.fb,gb:M.gb,data:{sequenceNumber:this.g,baseMediaDecodeTime:v,Eb:p},stream:t};break;case"hvc":var D=[],P=null,j=[],b=a.Jd();if(!b.length)throw new _(2,3,3023,n?n.S()[0]:null);for(var U=0;U<b.length;U++){var B=b[U],G=B.nalus;j.push.apply(j,X(G));for(var H=!1,F=[],q=!1,z=T(G),Y=z.next();!Y.done;Y=z.next()){var we=Y.value;switch(we.type){case 1:case 0:var ne=q=!0;break;case 19:case 20:case 21:H=ne=q=!0;break;case 32:ne=!0;break;case 33:ne=!0;break;case 34:ne=!0;break;case 35:q=ne=!0;break;case 39:case 40:ne=!0;break;default:ne=!1}if(q&&ne){var ze=we.fullData.byteLength,Ie=new Uint8Array(4);Ie[0]=ze>>24&255,Ie[1]=ze>>16&255,Ie[2]=ze>>8&255,Ie[3]=ze&255,F.push(Ie),F.push(we.fullData)}}var $e=F.length?{data:Mt.apply(nn,X(F)),isKeyframe:H}:null;if($e){P==null&&B.dts!=null&&(P=B.dts);var Ne=void 0;Ne=U+1<b.length?(b[U+1].dts||0)-(B.dts||0):b.length>1?(B.dts||0)-(b[U-1].dts||0):(n.endTime-n.startTime)*9e4,D.push({data:$e.data,size:$e.data.byteLength,duration:Ne,Ab:Math.round((B.pts||0)-(B.dts||0)),flags:{Cb:0,ub:0,sb:0,qb:0,rb:$e.isKeyframe?2:1,Db:$e.isKeyframe?0:1}})}}var Pe=TR(j);if(!Pe||P==null)throw new _(2,3,3018,n?n.S()[0]:null);t.height=t.height||Pe.height,t.width=t.width||Pe.width,d={id:t.id,type:"video",codecs:"hvc1",timescale:9e4,duration:i,Hb:[],Ma:new Uint8Array([]),Ya:Pe.Ya,fb:Pe.fb,gb:Pe.gb,data:{sequenceNumber:this.g,baseMediaDecodeTime:P,Eb:D},stream:t}}d&&(l.push(d),d=null)}if(r=="audio"){switch(c.audio){case"aac":for(var je=[],He,Be=null,be=null,Oe=null,Ft=T(a.Bb()),Dt=Ft.next();!Dt.done;Dt=Ft.next()){var ei=Dt.value,Dn=ei.data;if(Dn){var xn=0;if(be==-1&&Oe)Dn=Mt(Oe,ei.data),be=null;else if(be!=null&&Oe){xn=Math.max(0,be);var Zo=Mt(Oe,Dn.subarray(0,xn));je.push({data:Zo,size:Zo.byteLength,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),be=Oe=null}if(He=SE(Dn,xn),!He)throw new _(2,3,3018,n?n.S()[0]:null);for(t.audioSamplingRate=He.sampleRate,t.channelsCount=He.channelCount,Be==null&&ei.pts!==null&&(Be=ei.pts);xn<Dn.length;){var br=TE(Dn,xn);if(!br){Oe=Dn.subarray(xn,Dn.length),be=-1;break}var Ii=br.ye+br.za;be=Math.max(0,xn+Ii-Dn.length),be!=0?Oe=Dn.subarray(xn+br.ye,xn+Ii):xn+Ii<=Dn.length&&je.push({data:Dn.subarray(xn+br.ye,xn+Ii),size:br.za,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),xn+=Ii}}}if(!He||Be==null){Be=n.startTime*9e4;var su=Cn("audio",t.codecs.split(","));if(!su||!t.channelsCount||!t.audioSamplingRate)throw new _(2,3,3018,n?n.S()[0]:null);He={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:su};var uu=pR(su,t.channelsCount);if(!uu)throw new _(2,3,3018,n?n.S()[0]:null);for(var Sh=Be+(n.endTime-n.startTime)*9e4,ki=Be;ki<Sh;)je.push({data:uu,size:uu.byteLength,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),ki+=1024/He.sampleRate*9e4}var Eh=He.sampleRate,$m=Be/9e4*Eh;d={id:t.id,type:"audio",codecs:He.codec,timescale:Eh,duration:i,Hb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:$m,Eb:je},stream:t};break;case"ac3":for(var Ah=[],au=0,tl=new Uint8Array([]),Nt=null,Vn=T(a.Bb()),wn=Vn.next();!wn.done;wn=Vn.next()){var Qm=wn.value,ev=Qm.data;Nt==null&&Qm.pts!==null&&(Nt=Qm.pts);for(var lu=0;lu<ev.length;){var ao=AE(ev,lu);ao?(t.audioSamplingRate=ao.sampleRate,t.channelsCount=ao.channelCount,au=ao.sampleRate,tl=ao.Ma,Ah.push({data:ev.subarray(lu,lu+ao.za),size:ao.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),lu+=ao.za):lu++}}if(au==0||tl.byteLength==0||Nt==null)throw new _(2,3,3018,n?n.S()[0]:null);var CL=Nt/9e4*au;d={id:t.id,type:"audio",codecs:"ac-3",timescale:au,duration:i,Hb:[],Ma:tl,Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:CL,Eb:Ah},stream:t};break;case"ec3":for(var SA=[],xh=0,tv=new Uint8Array([]),wh=null,EA=T(a.Bb()),nv=EA.next();!nv.done;nv=EA.next()){var iv=nv.value,rv=iv.data;wh==null&&iv.pts!==null&&(wh=iv.pts);for(var cu=0;cu<rv.length;){var lo=xE(rv,cu);lo?(t.audioSamplingRate=lo.sampleRate,t.channelsCount=lo.channelCount,xh=lo.sampleRate,tv=lo.Ma,SA.push({data:rv.subarray(cu,cu+lo.za),size:lo.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),cu+=lo.za):cu++}}if(xh==0||tv.byteLength==0||wh==null)throw new _(2,3,3018,n?n.S()[0]:null);var ML=wh/9e4*xh;d={id:t.id,type:"audio",codecs:"ec-3",timescale:xh,duration:i,Hb:[],Ma:tv,Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:ML,Eb:SA},stream:t};break;case"mp3":for(var AA=[],Ih,kh=null,xA=T(a.Bb()),ov=xA.next();!ov.done;ov=xA.next()){var sv=ov.value,nl=sv.data;if(nl){kh==null&&sv.pts!==null&&(kh=sv.pts);for(var Jo=0;Jo<nl.length;){var du=Hd(nl,Jo);du?(Ih||(Ih=du),Jo+du.za<=nl.length&&AA.push({data:nl.subarray(Jo,Jo+du.za),size:du.za,duration:1152,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),Jo+=du.za):Jo++}}}if(!Ih||kh==null)throw new _(2,3,3018,n?n.S()[0]:null);var wA=Ih.sampleRate,RL=kh/9e4*wA;d={id:t.id,type:"audio",codecs:"mp3",timescale:wA,duration:i,Hb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:RL,Eb:AA},stream:t};break;case"opus":var IA=[],Ch=null,Qi=a.H;if(!Qi)throw new _(2,3,3018,n?n.S()[0]:null);var In=[];switch(Qi.xk){case 1:case 2:In=[0];break;case 0:In=[255,1,1,0,1];break;case 128:In=[255,2,0,0,1];break;case 3:In=[1,2,1,0,2,1];break;case 4:In=[1,2,2,0,1,2,3];break;case 5:In=[1,3,2,0,4,1,2,3];break;case 6:In=[1,4,2,0,4,1,2,3,5];break;case 7:In=[1,4,2,0,4,1,2,3,5,6];break;case 8:In=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:In=[1,1,2,0,1];break;case 131:In=[1,1,3,0,1,2];break;case 132:In=[1,1,4,0,1,2,3];break;case 133:In=[1,1,5,0,1,2,3,4];break;case 134:In=[1,1,6,0,1,2,3,4,5];break;case 135:In=[1,1,7,0,1,2,3,4,5,6];break;case 136:In=[1,1,8,0,1,2,3,4,5,6,7]}for(var kA=new Uint8Array([0,Qi.channelCount,0,0,Qi.sampleRate>>>24&255,Qi.sampleRate>>>17&255,Qi.sampleRate>>>8&255,Qi.sampleRate>>>0&255,0,0].concat(X(In))),CA=Qi.sampleRate,MA=T(a.Bb()),uv=MA.next();!uv.done;uv=MA.next()){var av=uv.value,hu=av.data;Ch==null&&av.pts!==null&&(Ch=av.pts);for(var il=0;il<hu.length;){for(var LL=(hu[il+1]&16)!==0,PL=(hu[il+1]&8)!==0,Dr=il+2,Mh=0;hu[Dr]===255;)Mh+=255,Dr+=1;Mh+=hu[Dr],Dr+=1,Dr+=LL?2:0,Dr+=PL?2:0;var RA=hu.slice(Dr,Dr+Mh);IA.push({data:RA,size:RA.byteLength,duration:960,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),il=Dr+Mh}}if(kA.byteLength==0||Ch==null)throw new _(2,3,3018,n?n.S()[0]:null);t.audioSamplingRate=Qi.sampleRate,t.channelsCount=Qi.channelCount;var bL=Ch/9e4*CA;d={id:t.id,type:"audio",codecs:"opus",timescale:CA,duration:i,Hb:[],Ma:kA,Ya:new Uint8Array([]),fb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:bL,Eb:IA},stream:t}}d&&(l.push(d),d=null)}}catch(cv){return cv&&cv.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(cv)}if(!l.length)return Promise.reject(new _(2,3,3018,n?n.S()[0]:null));var LA=new Ss(l),lv=t.id+"_"+n.i;if(this.j.has(lv))var rl=this.j.get(lv);else rl=Es(LA),this.j.set(lv,rl);var DL=this.l!==rl,NL=Vu(LA);return this.l=rl,this.g++,Promise.resolve({data:NL,init:DL?rl:null})},K("shaka.transmuxer.TsTransmuxer",pi),pi.prototype.transmux=pi.prototype.transmux,pi.prototype.getOriginalMimeType=pi.prototype.getOriginalMimeType,pi.prototype.convertCodecs=pi.prototype.convertCodecs,pi.prototype.isSupported=pi.prototype.isSupported,pi.prototype.destroy=pi.prototype.destroy;var LR=["aac","ac-3","ec-3","mp3","opus"],PR=["avc","hevc"];cr("video/mp2t",function(){return new pi("video/mp2t")},pf);function CE(){}se(CE,Ln),K("shaka.util.FairPlayUtils",CE);function xe(e,t){var n=this;this.parent=e,this.controls=t,this.eventManager=new Fe,this.localization=this.controls.ya,this.player=this.controls.Xb(),this.video=this.controls.Wc(),this.adManager=this.player.xf(),this.ad=t.getAd(),this.eventManager.o(this.adManager,"ad-started",function(i){n.ad=i.ad}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null})}xe.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},K("shaka.ui.Element",xe),xe.prototype.release=xe.prototype.release;function vt(e,t){this.parent=e,this.g=dy("svg"),this.h=dy("path"),this.g.classList.add("material-svg-icon"),this.g.setAttribute("viewBox","0 -960 960 960"),t&&this.use(t),this.g.appendChild(this.h),this.parent&&e.appendChild(this.g)}vt.prototype.use=function(e){e&&typeof e=="string"&&this.h.setAttribute("d",e)},vt.prototype.ql=function(){return this.g},K("shaka.ui.MaterialSVGIcon",vt),vt.prototype.getSvgElement=vt.prototype.ql,vt.prototype.use=vt.prototype.use;function Gd(e){return Rg(e,"shaka-back-to-overflow-button")}function Rg(e,t){return e=e.getElementsByClassName(t),e.length?e[0]:null}function eu(e){e&&(e=Rg(e,"shaka-chosen-item"))&&e.parentElement.focus()}function so(){var e=new vt(null,"m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z").g;return e.classList.add("shaka-chosen-item"),e.ariaHidden="true",e}function oe(e,t){e&&(t?e.classList.remove("shaka-hidden"):e.classList.add("shaka-hidden"))}function Yi(e,t){var n=Math.floor(e/86400),i=Math.floor(e%86400/3600),r=Math.floor(e/60%60);return e=Math.floor(e%60),e<10&&(e="0"+e),e=r+":"+e,t&&(r<10&&(e="0"+e),e=i+":"+e,n>0&&(i<10&&(e="0"+e),e=n+":"+e)),e}function zd(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-ad-info"),this.g.disabled=!0,this.parent.appendChild(this.g),this.h=new le(function(){if(n.ad.isLinear()){var i="",r=n.ad.getSequenceLength();r>1&&(i=n.ad.getPositionInSequence(),i=n.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(i)).replace("[NUM_ADS]",String(r)));var o=Math.round(n.ad.getRemainingTime()),s=n.ad.getDuration();o!=-1&&s!=-1&&isFinite(o)&&isFinite(s)?o>0?(o=Yi(s-o,!1)+" / "+Yi(s,!1),i=r>1?i+("  "+o):n.localization.resolve("AD_TIME").replace("[AD_TIME]",o),n.g.textContent=i,oe(n.g,i!="")):(n.h.stop(),n.g.textContent=""):(n.g.textContent=i,oe(n.g,i!=""))}}),this.eventManager.o(this.localization,"locale-updated",function(){}),this.eventManager.o(this.localization,"locale-changed",function(){}),this.eventManager.o(this.adManager,"ad-started",function(){n.h.Ja(),n.h.va(.5)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.h.stop(),n.g.textContent=""}),this.ad&&(this.h.Ja(),this.h.va(.5))}se(zd,xe),zd.prototype.release=function(){this.h.stop(),this.h=null,xe.prototype.release.call(this)},K("shaka.ui.AdInfo",zd);function uo(e,t){xe.call(this,e,t);var n=this;this.j=this.controls.g,this.h=this.controls.i,this.i=[],this.g=ee("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",function(i){if(n.g.classList.contains("shaka-hidden")){i.preventDefault();var r=n.h.getBoundingClientRect();n.g.style.left=i.clientX-r.left+"px",n.g.style.top=i.clientY-r.top+"px",oe(n.g,!0)}else oe(n.g,!1)}),this.eventManager.o(S,"click",function(){oe(n.g,!1)}),this.eventManager.o(this.g,"click",function(){oe(n.g,!1)}),bR(this)}se(uo,xe),uo.prototype.release=function(){this.h=null;for(var e=T(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],xe.prototype.release.call(this)},uo.prototype.Ui=function(){oe(this.g,!1)};function Ho(e,t){ME.set(e,t)}function bR(e){for(var t=T(e.j.contextMenuElements),n=t.next();!n.done;n=t.next()){n=n.value;var i=ME.get(n);i?e.i.push(i.create(e.g,e.controls)):ye("Unrecognized context menu element:",n)}}K("shaka.ui.ContextMenu",uo),uo.registerElement=Ho,uo.prototype.closeMenu=uo.prototype.Ui;var ME=new Map;function Cr(e,t){xe.call(this,e,t);var n=this;this.button=ft(),this.parent.appendChild(this.button),this.h=new vt(this.button),this.eventManager.o(this.localization,"locale-updated",function(){Oi(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Oi(n)}),this.eventManager.o(this.video,"play",function(){Oi(n),n.g()}),this.eventManager.o(this.video,"pause",function(){Oi(n),n.g()}),this.eventManager.o(this.video,"seeking",function(){Oi(n),n.g()}),this.eventManager.o(this.player,"loaded",function(){Oi(n),n.g()}),this.eventManager.o(this.adManager,"ad-paused",function(){Oi(n),n.g()}),this.eventManager.o(this.adManager,"ad-resumed",function(){Oi(n),n.g()}),this.eventManager.o(this.adManager,"ad-started",function(){Oi(n),n.g()}),this.eventManager.o(this.adManager,"ad-stopped",function(){Oi(n),n.g()}),this.eventManager.o(this.button,"click",function(){n.controls.Ca()&&Ga(n.controls)}),Oi(this),this.g()}se(Cr,xe),Cr.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var e=this.ad.isPaused();else e=this.controls,e=e.C.paused&&!e.V;return e},Cr.prototype.isEnded=function(){return this.ad&&this.ad.isLinear()?!1:this.player?this.player.isEnded():!0};function Oi(e){if(e.isEnded()&&e.video.duration)e.button.ariaLabel=e.localization.resolve("REPLAY");else{var t=e.isPaused()?"PLAY":"PAUSE";e.button.ariaLabel=e.localization.resolve(t)}}Cr.prototype.g=function(){this.isEnded()&&this.video.duration?this.h.use("M480-80q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440q0-17 11.5-28.5T160-480q17 0 28.5 11.5T200-440q0 117 81.5 198.5T480-160q117 0 198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l34 34q12 12 11.5 28T508-630q-12 12-28.5 12.5T451-629L348-732q-12-12-12-28t12-28l103-103q12-12 28.5-11.5T508-890q11 12 11.5 28T508-834l-34 34h6q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-440q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-80Z"):this.h.use(this.isPaused()?"M320-273v-414q0-17 12-28.5t28-11.5q5 0 10.5 1.5T381-721l326 207q9 6 13.5 15t4.5 19q0 10-4.5 19T707-446L381-239q-5 3-10.5 4.5T360-233q-16 0-28-11.5T320-273Z":"M640-200q-33 0-56.5-23.5T560-280v-400q0-33 23.5-56.5T640-760q33 0 56.5 23.5T720-680v400q0 33-23.5 56.5T640-200Zm-320 0q-33 0-56.5-23.5T240-280v-400q0-33 23.5-56.5T320-760q33 0 56.5 23.5T400-680v400q0 33-23.5 56.5T320-200Z")},K("shaka.ui.PlayButton",Cr);function Kd(e,t){Cr.call(this,e,t),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation")}se(Kd,Cr),Kd.prototype.g=function(){this.isEnded()&&this.video.duration?this.button.setAttribute("icon","replay"):this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},K("shaka.ui.BigPlayButton",Kd);function tu(e,t){xe.call(this,e,t);var n=this;this.m=null,this.i=this.D=!1,this.C=this.A=null,this.j=new le(function(){parseInt(n.h.textContent,10)===0&&za(n.controls,!0);var i=parseInt(n.h.textContent,10);i!==0&&(n.video.currentTime=n.controls.wh()+i),n.g.style.opacity="0",n.D=!1,n.h.textContent="0s"}),this.g=ee("div"),this.g.classList.add("shaka-no-propagation"),this.parent.appendChild(this.g),this.h=ee("span"),this.h.textContent="0s",this.g.appendChild(this.h),this.u=new vt(this.g),this.u.g.classList.add("shaka-forward-rewind-container-icon"),this.l=!1,this.eventManager.o(this.g,"touchstart",function(i){i.touches.length>0&&(n.A=i.touches[0].clientX,n.C=i.touches[0].clientY),n.i=!1}),this.eventManager.o(this.g,"touchmove",function(i){if(i.touches.length>0&&n.A!=null&&n.C!=null){var r=i.touches[0].clientX-n.A;i=i.touches[0].clientY-n.C,Math.sqrt(r*r+i*i)>10&&(n.i=!0)}}),this.eventManager.o(this.g,"touchend",function(i){if(!n.i){if(n.controls.Oc())i.preventDefault(),n.controls.Xc();else if(n.controls.g.tapSeekDistance>0&&(!n.ad||!n.ad.isLinear())){if(i.preventDefault(),i=n.controls.g.tapSeekDistance,!n.D)n.D=!0,n.m=Date.now(),n.j.Y(.5);else if(n.m+500>Date.now()){n.j.stop(),n.m=Date.now();var r=parseInt(n.h.textContent,10);r=n.l?r-i:r+i,n.h.textContent=r.toString()+"s",n.g.style.opacity="1",n.j.Y(.5)}}}})}se(tu,xe),K("shaka.ui.HiddenSeekButton",tu);function Lg(e,t){tu.call(this,e,t),this.g.classList.add("shaka-fast-forward-container"),this.u.use("M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.l=!1}se(Lg,tu),K("shaka.ui.HiddenFastForwardButton",Lg);function Pg(e,t){tu.call(this,e,t),this.g.classList.add("shaka-rewind-container"),this.u.use("M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.l=!0}se(Pg,tu),K("shaka.ui.HiddenRewindButton",Pg);function Wt(e,t,n,i){xe.call(this,e,t);var r=this;this.container=ee("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,X(n)),this.i=!1,this.bar=document.createElement("input"),this.G=new le(function(){r.onChangeEnd(),r.i=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,X(i)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.bar.disabled=!this.controls.Ca(),this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.L=new le(function(){r.bar.disabled=!1}),this.eventManager.o(this.controls,"showingui",function(){r.L.Y(0)}),this.eventManager.o(this.controls,"hidingui",function(){r.L.stop(),r.bar.disabled=!0}),this.eventManager.o(this.bar,"mousedown",function(o){r.bar.disabled||(r.i=!0,r.onChangeStart(),o.stopPropagation())}),this.eventManager.o(this.bar,"touchstart",function(o){r.bar.disabled||(r.i=!0,Wd(r,o),r.onChangeStart(),o.stopPropagation())}),this.eventManager.o(this.bar,"input",function(){r.onChange()}),this.eventManager.o(this.bar,"touchmove",function(o){r.i&&(Wd(r,o),r.onChange(),o.stopPropagation())}),this.eventManager.o(this.bar,"touchend",function(o){r.i&&(r.i=!1,Wd(r,o),r.onChangeEnd(),o.stopPropagation())}),this.eventManager.o(this.bar,"touchcancel",function(o){r.i&&(r.i=!1,Wd(r,o),r.onChangeEnd(),o.stopPropagation())}),this.eventManager.o(this.bar,"mouseup",function(o){r.i&&(r.i=!1,r.onChangeEnd(),o.stopPropagation())}),this.eventManager.o(this.bar,"blur",function(){r.i&&(r.i=!1,r.onChangeEnd())}),this.eventManager.o(this.bar,"contextmenu",function(o){o.preventDefault(),o.stopPropagation()})}se(Wt,xe),h=Wt.prototype,h.release=function(){this.G&&(this.G.stop(),this.G=null),xe.prototype.release.call(this)},h.setRange=function(e,t){this.bar.min=e,this.bar.max=t},h.onChangeStart=function(){},h.onChange=function(){},h.onChangeEnd=function(){},h.changeTo=function(e){this.i||(this.i=!0,this.onChangeStart());var t=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=e>n?n:e<t?t:e,this.onChange(),this.G.Y(.5)},h.getValue=function(){return parseFloat(this.bar.value)},h.setValue=function(e){this.i||(this.bar.value=e)};function RE(e,t){var n=e.bar.getBoundingClientRect(),i=parseFloat(e.bar.min),r=parseFloat(e.bar.max);e=parseFloat(e.bar.step)||1;var o=n.left+6;return n=n.right-6,t=i+(Math.max(o,Math.min(n,t))-o)/(n-o)*(r-i),t=Math.round((t-i)/e)*e+i,t=Math.min(r,Math.max(i,t))}function Wd(e,t){t.preventDefault(),e.bar.value=RE(e,t.changedTouches[0].clientX)}K("shaka.ui.RangeElement",Wt),Wt.prototype.setValue=Wt.prototype.setValue,Wt.prototype.getValue=Wt.prototype.getValue,Wt.prototype.changeTo=Wt.prototype.changeTo,Wt.prototype.onChangeEnd=Wt.prototype.onChangeEnd,Wt.prototype.onChange=Wt.prototype.onChange,Wt.prototype.onChangeStart=Wt.prototype.onChangeStart,Wt.prototype.setRange=Wt.prototype.setRange;function Va(e,t){Wt.call(this,e,t,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.F=ee("div"),this.F.classList.add("shaka-ad-markers"),this.container.insertBefore(this.F,this.container.childNodes[0]),this.I=this.controls.g,this.C=new le(function(){var i=n.getValue();n.player.U()||i==n.video.duration&&(i-=.001),n.video.currentTime=i}),this.D=new le(function(){LE(n)}),this.M=!1,this.h=ee("div"),this.h.id="shaka-player-ui-thumbnail-container",this.g=ee("img"),this.g.id="shaka-player-ui-thumbnail-image",this.g.draggable=!1,this.K=ee("div"),this.K.id="shaka-player-ui-thumbnail-time-container",this.H=ee("div"),this.H.id="shaka-player-ui-thumbnail-time",this.K.appendChild(this.H),this.h.appendChild(this.g),this.h.appendChild(this.K),this.container.appendChild(this.h),this.j=ee("div"),this.j.id="shaka-player-ui-time-container",this.container.appendChild(this.j),this.l=this.u=null,this.J=!1,this.A=new le(function(){Go(n)}),this.m=[],this.eventManager.o(this.bar,"input",function(){n.controls.Xc()}),this.eventManager.o(this.localization,"locale-updated",function(){return Dg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return Dg(n)}),this.eventManager.o(this.adManager,"ad-started",function(){bg(n)||oe(n.container,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){bg(n)&&oe(n.container,!0)}),this.eventManager.o(this.adManager,"ad-cue-points-changed",function(i){n.m=i.cuepoints,PE(n)}),this.eventManager.o(this.player,"unloading",function(){n.m=[],PE(n),n.l&&(n.l.abort(),n.l=null),n.u=null,Go(n),Xd(n)}),this.eventManager.o(this.bar,"mousemove",function(i){if(n.controls.Oc())Xd(n),Go(n);else{var r=RE(n,i.clientX),o=n.bar.getBoundingClientRect();i=Math.max(0,i.clientX-o.left),n.player.xh().length?(Xd(n),bE(n,i,r)):(Go(n),Ng(n,i,r))}}),this.eventManager.o(this.container,"mouseleave",function(){Xd(n),n.A.stop(),n.A.Y(.25)}),this.setValue(this.video.currentTime),this.update(),Dg(this),this.ad&&oe(this.container,!1)}se(Va,Wt),h=Va.prototype,h.release=function(){this.C&&(this.C.stop(),this.C=null,this.D.stop(),this.D=null),Wt.prototype.release.call(this)},h.onChangeStart=function(){this.M=!this.video.paused,this.controls.mi(!0),this.video.pause(),this.A.stop(),this.J=!0},h.onChange=function(){if(this.video.duration)if(this.update(),this.C.Y(.125),this.player.xh().length&&!this.controls.Oc()){var e=parseFloat(this.bar.min),t=parseFloat(this.bar.max),n=this.bar.getBoundingClientRect(),i=Math.round(this.getValue());bE(this,(i-e)/((t-e)/n.width),i)}else Go(this)},h.onChangeEnd=function(){this.C.Ja(),this.controls.mi(!1),this.M&&this.video.play(),this.J&&(this.J=!1,this.A.stop(),this.A.Y(.25))},h.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},h.update=function(){var e=this.I.seekBarColors,t=this.getValue(),n=this.video.buffered.length,i=n?this.video.buffered.start(0):0,r=n?this.video.buffered.end(n-1):0;n=this.player.xa();var o=n.end-n.start;this.setRange(n.start,n.end),bg(this)?(oe(this.container,!0),i=(Math.max(i,n.start)-n.start)/o||0,r=(Math.min(r,n.end)-n.start)/o||0,t=(Math.min(Math.max(t,n.start),n.end)-n.start)/o||0,this.container.style.background="linear-gradient("+["to right",(this.I.showUnbufferedStart?e.base:e.played)+" "+i*100+"%",e.played+" "+i*100+"%",e.played+" "+t*100+"%",e.buffered+" "+t*100+"%",e.buffered+" "+r*100+"%",e.base+" "+r*100+"%"].join()+")"):oe(this.container,!1)};function LE(e){if(e.m.length){for(var t=e.player.xa(),n=t.end-t.start,i=["to right"],r=[],o=e.I.seekBarColors.adBreaks,s=!1,u=T(e.m),a=u.next();!a.done;a=u.next())if(a=a.value,a.start==-1&&!a.end)s=!0;else if(!a.end&&a.start>=t.start||typeof a.end=="number"&&a.end>t.start){var l=(Math.max(a.start,t.start)-t.start)/n||0,c=l+.01;a.end&&(c=(a.end-t.start)/n||0),r.push({start:l,end:c})}for(r=r.sort(function(d,p){return d.start-p.start}),t=T(r),n=t.next();!n.done;n=t.next())n=n.value,i.push("transparent "+n.start*100+"%"),i.push(o+" "+n.start*100+"%"),i.push(o+" "+n.end*100+"%"),i.push("transparent "+n.end*100+"%");s&&(i.push("transparent 99%"),i.push(o+" 99%")),e.F.style.background="linear-gradient("+i.join(",")+")"}else e.F.style.background="transparent",e.D.stop()}function PE(e){function t(){LE(e);var n=e.player.xa();n=n.end-n.start,e.player.U()&&n>5&&e.D.va(.25)}t(),e.player.Jh()||e.eventManager.qa(e.player,"loaded",t)}function bg(e){var t=e.player.xa();return t=t.end-t.start,e.player.U()&&(t<5||!isFinite(t))?!1:e.ad==null||!e.ad.isLinear()}function Dg(e){e.bar.ariaLabel=e.localization.resolve("SEEK")}function Ng(e,t,n){var i=e.j.clientWidth;e.j.style.width="auto",e.j.style.height="20px",e.j.style.top="-30px",e.j.style.left=Math.min(e.bar.offsetWidth-i,Math.max(0,t-i/2))+"px",e.j.style.right="",e.j.style.visibility="visible",t=e.player.xa(),e.player.U()?(n=t.end-n,n<1?(e.j.textContent=e.localization.resolve("LIVE"),e.j.style.left="",e.j.style.right="0px"):e.j.textContent="-"+Yi(n,n>=3600)):(n-=t.start,e.j.textContent=Yi(n,n>=3600))}function bE(e,t,n){var i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L;N(function(O){switch(O.g){case 1:return n<0&&(n=0),i=!1,e.m.length&&(i=e.m.some(function(M){return M.end?n>=M.start&&n<=M.end:!1})),i?(Go(e),Ng(e,t,n),O.return()):(r=e.player.xa(),o=Math.max(Math.ceil(r.start),Math.min(Math.floor(r.end),n)),e.player.U()?(s=r.end-n,e.H.textContent=s<1?e.localization.resolve("LIVE"):"-"+Yi(s,s>=3600)):e.H.textContent=Yi(n,n>=3600),u=-10,a=e.h.clientWidth,l=Math.floor(a*9/16),e.h.style.height=l+"px",e.h.style.top=-(l-u)+"px",c=Math.min(e.bar.offsetWidth-a,Math.max(0,t-a/2)),e.h.style.left=c+"px",w(O,e.player.gj(null,o),2));case 2:if(d=O.h,!d||!d.uris||!d.uris.length)return Go(e),Ng(e,t,n),O.return();if(d.width<d.height?e.h.classList.add("portrait-thumbnail"):e.h.classList.remove("portrait-thumbnail"),e.h.style.visibility="visible",p=d.uris[0].split("#xywh=")[0],e.u&&p===e.u.uris[0].split("#xywh=")[0]&&d.startByte==e.u.startByte&&d.endByte==e.u.endByte){O.B(3);break}if(e.u=d,e.l&&(e.l.abort(),e.l=null),d.codecs!="mjpg"&&!p.startsWith("offline:")){O.B(4);break}return e.g.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',ue(O,5),v=zn,y=Ps(d.uris,d.startByte,d.endByte,e.player.getConfiguration().streaming.retryParameters),e.l=e.player.Wb().request(v,y,{type:1}),w(O,e.l.promise,7);case 7:E=O.h,e.l=null,d.codecs=="mjpg"?(A=new Je().box("mdat",Ro(function(M){p=URL.createObjectURL(new Blob([M],{type:"image/jpeg"}))},!0)),A.parse(E.data,!1)):(k=d.mimeType||"image/jpeg",I=new Blob([E.data],{type:k}),p=URL.createObjectURL(I)),Ae(O,4);break;case 5:if(C=ae(O),C.code==7001)return O.return();throw C;case 4:try{e.h.removeChild(e.g)}catch{}e.g=ee("img"),e.g.id="shaka-player-ui-thumbnail-image",e.g.draggable=!1,e.g.src=p,e.g.onload=function(){p.startsWith("blob:")&&URL.revokeObjectURL(p)},e.h.insertBefore(e.g,e.h.firstChild);case 3:L=a/d.width,d.imageHeight?e.g.height=d.imageHeight:d.sprite||(e.g.style.height="100%",e.g.style.objectFit="contain"),d.imageWidth?e.g.width=d.imageWidth:d.sprite||(e.g.style.width="100%",e.g.style.objectFit="contain"),e.g.style.left="-"+L*d.positionX+"px",e.g.style.top="-"+L*d.positionY+"px",e.g.style.transform="scale("+L+")",e.g.style.transformOrigin="left top",l=Math.floor(a*d.height/d.width),e.h.style.height=l+"px",e.h.style.top=-(l-u)+"px",Z(O)}})}function Go(e){e.h.style.visibility="hidden"}function Xd(e){e.j.style.visibility="hidden"}K("shaka.ui.SeekBar",Va);function Og(){}Og.prototype.create=function(e,t){return new Va(e,t)},Va.Factory=Og;function Yd(e,t){xe.call(this,e,t);var n=this;this.j=ee("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=ee("div"),this.h.classList.add("shaka-skip-ad-counter"),oe(this.h,!1),this.j.appendChild(this.h),this.g=ft(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,oe(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),_g(this),this.i=new le(function(){if(n.ad.isSkippable()){var i=Math.round(n.ad.getTimeUntilSkippable());i>0?n.h.textContent=i:(n.i.stop(),oe(n.h,!1))}else Ug(n)}),this.eventManager.o(this.localization,"locale-updated",function(){_g(n)}),this.eventManager.o(this.localization,"locale-changed",function(){_g(n)}),this.eventManager.o(this.adManager,"ad-started",function(){DE(n)}),this.eventManager.o(this.adManager,"ad-skip-state-changed",function(){n.ad.isSkippable()?n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),oe(n.h,!1)):Ug(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Ug(n)}),this.eventManager.o(this.g,"click",function(){n.ad.skip()}),this.ad&&DE(this)}se(Yd,xe),Yd.prototype.release=function(){this.i.stop(),this.i=null,xe.prototype.release.call(this)};function _g(e){e.g.textContent=e.localization.resolve("SKIP_AD")}function DE(e){e.ad.isSkippable()&&e.ad.needsSkipUI()&&(oe(e.g,!0),oe(e.h,!0),e.h.textContent="",e.i.Ja(),e.i.va(.5))}function Ug(e){e.i.stop(),e.g.disabled=!0,oe(e.g,!1),oe(e.h,!1)}K("shaka.ui.SkipAdButton",Yd);/*
 @license
 glMatrix: https://github.com/toji/gl-matrix/
 Copyright 2015-2021, Brandon Jones, Colin MacKenzie IV
 SPDX-License-Identifier: MIT
*/function Mr(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function jg(e,t,n){t=1/Math.tan(t/2),e[0]=t/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n=1/-99.9,e[10]=100.1*n,e[14]=20*n}function Zd(e,t,n){var i=t[0],r=t[1],o=t[2],s=t[3],u=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=t[9],v=t[10],y=t[11],E=t[12],A=t[13],k=t[14];t=t[15];var I=n[0],C=n[1],L=n[2],O=n[3];e[0]=I*i+C*u+L*d+O*E,e[1]=I*r+C*a+L*p+O*A,e[2]=I*o+C*l+L*v+O*k,e[3]=I*s+C*c+L*y+O*t,I=n[4],C=n[5],L=n[6],O=n[7],e[4]=I*i+C*u+L*d+O*E,e[5]=I*r+C*a+L*p+O*A,e[6]=I*o+C*l+L*v+O*k,e[7]=I*s+C*c+L*y+O*t,I=n[8],C=n[9],L=n[10],O=n[11],e[8]=I*i+C*u+L*d+O*E,e[9]=I*r+C*a+L*p+O*A,e[10]=I*o+C*l+L*v+O*k,e[11]=I*s+C*c+L*y+O*t,I=n[12],C=n[13],L=n[14],O=n[15],e[12]=I*i+C*u+L*d+O*E,e[13]=I*r+C*a+L*p+O*A,e[14]=I*o+C*l+L*v+O*k,e[15]=I*s+C*c+L*y+O*t}function Bg(e,t){var n=new Float32Array(3),i=t[0],r=t[1],o=t[2],s=t[4],u=t[5],a=t[6],l=t[8],c=t[9],d=t[10];n[0]=Math.sqrt(i*i+r*r+o*o),n[1]=Math.sqrt(s*s+u*u+a*a),n[2]=Math.sqrt(l*l+c*c+d*d),a=1/n[0],l=1/n[1],c=1/n[2],s=t[0]*a,n=t[1]*l,i=t[2]*c,r=t[4]*a,u=t[5]*l,o=t[6]*c,a*=t[8],l*=t[9],t=t[10]*c,c=s+u+t,c>0?(t=Math.sqrt(c+1)*2,e[3]=.25*t,e[0]=(o-l)/t,e[1]=(a-i)/t,e[2]=(n-r)/t):s>u&&s>t?(t=Math.sqrt(1+s-u-t)*2,e[3]=(o-l)/t,e[0]=.25*t,e[1]=(n+r)/t,e[2]=(a+i)/t):u>t?(t=Math.sqrt(1+u-s-t)*2,e[3]=(a-i)/t,e[0]=(n+r)/t,e[1]=.25*t,e[2]=(o+l)/t):(t=Math.sqrt(1+t-s-u)*2,e[3]=(n-r)/t,e[0]=(a+i)/t,e[1]=(o+l)/t,e[2]=.25*t)}function NE(e,t){var n=t[0],i=t[1],r=t[2];t=t[3];var o=n+n,s=i+i,u=r+r;n*=o;var a=i*o;i*=s;var l=r*o,c=r*s;r*=u,o*=t,s*=t,t*=u,e[0]=1-i-r,e[1]=a+t,e[2]=l-s,e[3]=0,e[4]=a-t,e[5]=1-n-r,e[6]=c+o,e[7]=0,e[8]=l+s,e[9]=c-o,e[10]=1-n-i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}function Fg(){var e=new Float32Array(4);return e[3]=1,e}function DR(e,t){var n=t[0],i=t[1],r=t[2];t=t[3];var o=n*n+i*i+r*r+t*t;o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=i*o,e[2]=r*o,e[3]=t*o}function OE(e){var t=[],n=[],i=[],r=Math.PI;e=e!==void 0&&e?r/2:r;for(var o=0;o<=100;o++){var s=o*r/100,u=Math.sin(s);s=Math.cos(s);for(var a=0;a<=100;a++){var l=a*2*e/100;t.push(Math.sin(l)*u,s,Math.cos(l)*u),n.push(a/100,o/100)}}for(r=0;r<100;r++)for(e=0;e<100;e++)o=r*101+e,u=o+100+1,i.push(o,u,o+1),i.push(u,u+1,o+1);return{kk:t,gk:n,indices:i}}function qg(e,t,n,i,r){this.i=e,this.sa=t,this.u=n,this.g=i,this.A=new Fe,this.M=Fg(),this.h=Fg(),this.ha=this.oa=this.aa=this.l=null,this.F=Mr(),this.J=Mr(),this.O=Mr(),this.X=Mr(),this.D=null,this.P=!1,this.K=this.C=null,this.ua=this.ya=0,this.Z=this.R=this.T=this.L=null,this.I=this.H=0,this.j=75,this.V=0,this.m=r,this.G=-1,NR(this)}qg.prototype.release=function(){this.G!=-1&&(this.i.cancelVideoFrameCallback(this.G),this.G=-1),this.A&&(this.A.release(),this.A=null),this.C&&(this.C.stop(),this.C=null),this.K&&(this.K.stop(),this.K=null)},qg.prototype.ce=function(){(this.P=!this.P)||this.g.viewport(0,0,this.u.width,this.u.height),gi(this,!1)};function NR(e){OR(e),_R(e),UR(e),jR(e),BR(e),Uo(e.i,HTMLMediaElement.HAVE_CURRENT_DATA,e.A,function(){if(e.i.readyState>=HTMLMediaElement.HAVE_ENOUGH_DATA&&gi(e),"requestVideoFrameCallback"in e.i){var t=function(){e.G!=-1&&(gi(e),e.G!=-1&&(e.G=e.i.requestVideoFrameCallback(t)))};e.G=e.i.requestVideoFrameCallback(t)}else{var n;e.A.o(e.i,"canplaythrough",function(){gi(e)}),e.A.o(e.i,"playing",function(){if(e.C&&e.C.stop(),!n){var i=e.sa.Ob();i=T(i);for(var r=i.next();!r.done;r=i.next())(r=r.value.frameRate)&&(!n||n<r)&&(n=r)}n||(n=60),gi(e),e.C=new le(function(){gi(e)}).Ja().va(1/n)}),e.A.o(e.i,"pause",function(){e.C&&e.C.stop(),e.C=null,gi(e)}),e.A.o(e.i,"seeked",function(){gi(e)}),e.A.o(document,"visibilitychange",function(){gi(e)})}})}function OR(e){var t=e.F,n=[0,0,0],i=[1,0,0],r=[0,1,0],o=n[0],s=n[1];n=n[2];var u=r[0],a=r[1],l=r[2],c=i[0];r=i[1];var d=i[2];if(Math.abs(o-c)<1e-6&&Math.abs(s-r)<1e-6&&Math.abs(n-d)<1e-6)for(o=0;o<16;o++)t[o]=o%5==0?1:0;else{i=o-c,r=s-r,c=n-d;var p=1/Math.sqrt(i*i+r*r+c*c);i*=p,r*=p,c*=p,d=a*c-l*r,l=l*i-u*c,u=u*r-a*i,(p=Math.sqrt(d*d+l*l+u*u))?(p=1/p,d*=p,l*=p,u*=p):u=l=d=0,a=r*u-c*l;var v=c*d-i*u,y=i*l-r*d;(p=Math.sqrt(a*a+v*v+y*y))?(p=1/p,a*=p,v*=p,y*=p):y=v=a=0,t[0]=d,t[1]=a,t[2]=i,t[3]=0,t[4]=l,t[5]=v,t[6]=r,t[7]=0,t[8]=u,t[9]=y,t[10]=c,t[11]=0,t[12]=-(d*o+l*s+u*n),t[13]=-(a*o+v*s+y*n),t[14]=-(i*o+r*s+c*n),t[15]=1}Bg(e.M,e.F),e=t=e.X,n=[4,4,4],o=n[0],s=n[1],n=n[2],t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}function _R(e){UE(e),e.g.viewport(0,0,e.g.drawingBufferWidth,e.g.drawingBufferHeight),e.g.clearColor(0,0,0,1),e.g.enable(e.g.CULL_FACE),e.g.cullFace(e.g.FRONT),e.g.clear(e.g.COLOR_BUFFER_BIT)}function UR(e){var t=_E(e,e.g.VERTEX_SHADER),n=_E(e,e.g.FRAGMENT_SHADER);e.l=e.g.createProgram(),e.g.attachShader(e.l,t),e.g.attachShader(e.l,n),e.g.linkProgram(e.l),e.m=="cubemap"?(e.T=e.g.getAttribLocation(e.l,"aVertexPosition"),e.R=e.g.getAttribLocation(e.l,"aTextureCoord")):(e.T=e.g.getAttribLocation(e.l,"a_vPosition"),e.g.enableVertexAttribArray(e.T),e.R=e.g.getAttribLocation(e.l,"a_TexCoordinate"),e.g.enableVertexAttribArray(e.R))}function _E(e,t){switch(t){case e.g.VERTEX_SHADER:var n=e.m=="cubemap"?`attribute vec4 aVertexPosition;
attribute vec2 aTextureCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
varying highp vec2 vTextureCoord;
varying highp vec3 vLighting;
void main(void) {
  gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
  vTextureCoord = aTextureCoord;
}`:`attribute vec4 a_vPosition;
// Per-vertex texture coordinate info
attribute vec2 a_TexCoordinate;
uniform mat4 u_VPMatrix;
// Passed into the fragment shader.
varying vec2 v_TexCoordinate;
varying vec3 pass_position;
void main()
{
 gl_Position = u_VPMatrix * a_vPosition;
 // Pass through texture coord
 v_TexCoordinate = a_TexCoordinate;
 pass_position = a_vPosition.xyz;
}`;break;case e.g.FRAGMENT_SHADER:n=e.m=="cubemap"?`varying highp vec2 vTextureCoord;
uniform sampler2D uSampler;
void main(void) {
  highp vec4 texelColor = texture2D(uSampler, vTextureCoord);
  gl_FragColor = vec4(texelColor.rgb , texelColor.a);
}`:`precision highp float;
#define PI 3.141592653589793238462643383279
varying vec2 v_TexCoordinate;
varying vec3 pass_position;
uniform sampler2D uSampler;
void main(void) {
highp float xValue =
      (PI + atan(pass_position.z, pass_position.x)) / (2.0 * PI);
 vec2 tc = vec2(xValue, v_TexCoordinate.t);
 tc = vec2(tc.x , tc.y);
highp vec4 texelColor =
      texture2D(uSampler, tc);
  gl_FragColor = vec4(texelColor.rgb, texelColor.a);
}`;break;default:return null}return t=e.g.createShader(t),e.g.shaderSource(t,n),e.g.compileShader(t),t}function jR(e){e.L=e.m=="cubemap"?{kk:[-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1],gk:[2/3,.5,1/3,.5,1/3,0,2/3,0,2/3,.5,2/3,0,1,0,1,.5,1,1,2/3,1,2/3,.5,1,.5,0,.5,0,0,1/3,0,1/3,.5,0,.5,1/3,.5,1/3,1,0,1,1/3,1,1/3,.5,2/3,.5,2/3,1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}:e.m=="halfequirectangular"?OE(!0):OE(),e.aa=e.g.createBuffer(),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.aa),e.g.bufferData(e.g.ARRAY_BUFFER,new Float32Array(e.L.kk),e.g.STATIC_DRAW),e.oa=e.g.createBuffer(),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.oa),e.g.bufferData(e.g.ARRAY_BUFFER,new Float32Array(e.L.gk),e.g.STATIC_DRAW),e.ha=e.g.createBuffer(),e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER,e.ha),e.g.bufferData(e.g.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.L.indices),e.g.STATIC_DRAW)}function BR(e){e.Z=e.g.createTexture(),e.g.bindTexture(e.g.TEXTURE_2D,e.Z),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_WRAP_S,e.g.CLAMP_TO_EDGE),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_WRAP_T,e.g.CLAMP_TO_EDGE),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_MIN_FILTER,e.g.NEAREST),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_MAG_FILTER,e.g.NEAREST)}function gi(e,t){t=t===void 0?!0:t;var n=e.sa.Cc()==Gt;!e.i||e.i.readyState<2||!n&&e.i.playbackRate==0||(jg(e.J,e.j*Math.PI/180,1.5625),e.m=="cubemap"?jg(e.J,e.j*Math.PI/180,2.5):jg(e.J,e.j*Math.PI/180,1.5625),e.g.useProgram(e.l),e.g.clear(e.g.COLOR_BUFFER_BIT),UE(e),t&&(e.g.activeTexture(e.g.TEXTURE0),e.g.bindTexture(e.g.TEXTURE_2D,e.Z),e.g.pixelStorei(e.g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),e.g.texImage2D(e.g.TEXTURE_2D,0,e.g.RGBA,e.g.RGBA,e.g.UNSIGNED_BYTE,e.i)),(e.m=="equirectangular"||e.m=="halfequirectangular")&&(Zd(e.O,e.F,e.X),Zd(e.O,e.J,e.O)),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.aa),e.g.vertexAttribPointer(e.T,3,e.g.FLOAT,!1,0,0),e.g.enableVertexAttribArray(e.T),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.oa),e.g.vertexAttribPointer(e.R,2,e.g.FLOAT,!1,0,0),e.g.enableVertexAttribArray(e.R),e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER,e.ha),e.m=="cubemap"?(e.g.uniformMatrix4fv(e.g.getUniformLocation(e.l,"uProjectionMatrix"),!1,e.J),e.g.uniformMatrix4fv(e.g.getUniformLocation(e.l,"uModelViewMatrix"),!1,e.O)):e.g.uniformMatrix4fv(e.g.getUniformLocation(e.l,"u_VPMatrix"),!1,e.O),e.g.uniform1i(e.g.getUniformLocation(e.l,"uSampler"),0),e.P&&e.g.viewport(0,0,e.u.width/2,e.u.height),e.g.drawElements(e.g.TRIANGLES,e.L.indices.length,e.g.UNSIGNED_SHORT,0),e.P&&(e.g.viewport(e.u.width/2,0,e.u.width/2,e.u.height),e.g.drawElements(e.g.TRIANGLES,e.L.indices.length,e.g.UNSIGNED_SHORT,0)))}function UE(e){var t=e.i.videoWidth;t||(t=e.u.scrollWidth);var n=e.i.videoHeight;if(n||(n=e.u.scrollHeight),e.ya!==t||e.ua!==n){e.u.width=t,e.u.height=n,e.ya=t,e.ua=n;var i=t/n,r=e.J,o=-i,s=1/(i-o);r[0]=0*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=(i+o)*s,r[9]=0,r[10]=-1,r[11]=-1,r[12]=0,r[13]=0,r[14]=-0,r[15]=0,e.J=r,e.g.viewport(0,0,t,n)}}function nu(e,t,n,i){var r=1/0,o=90*Math.PI/180;e.m=="halfequirectangular"&&(r=90*Math.PI/180,o/=2);var s=e.m=="cubemap"?e.O:e.F;if(e.H+=t,e.I+=n,e.H<r&&e.H>-r){r=Math.sin(t),t=Math.cos(t);var u=s[0],a=s[1],l=s[2],c=s[3],d=s[8],p=s[9],v=s[10],y=s[11];s!==s&&(s[4]=s[4],s[5]=s[5],s[6]=s[6],s[7]=s[7],s[12]=s[12],s[13]=s[13],s[14]=s[14],s[15]=s[15]),s[0]=u*t-d*r,s[1]=a*t-p*r,s[2]=l*t-v*r,s[3]=c*t-y*r,s[8]=u*r+d*t,s[9]=a*r+p*t,s[10]=l*r+v*t,s[11]=c*r+y*t}else e.H-=t;e.I<o&&e.I>-o?(o=Mr(),r=Mr(),t=-1*n,n=Math.sin(t),t=Math.cos(t),u=r[4],a=r[5],l=r[6],c=r[7],d=r[8],p=r[9],v=r[10],y=r[11],r!==o&&(o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[4]=u*t+d*n,o[5]=a*t+p*n,o[6]=l*t+v*n,o[7]=c*t+y*n,o[8]=d*t-u*n,o[9]=p*t-a*n,o[10]=v*t-l*n,o[11]=y*t-c*n,Zd(s,o,s)):e.I-=n,n=Mr(),o=Mr(),r=Math.sin(i),i=Math.cos(i),t=o[0],u=o[1],a=o[2],l=o[3],c=o[4],d=o[5],p=o[6],v=o[7],o!==n&&(n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[0]=t*i+c*r,n[1]=u*i+d*r,n[2]=a*i+p*r,n[3]=l*i+v*r,n[4]=c*i-t*r,n[5]=d*i-u*r,n[6]=p*i-a*r,n[7]=v*i-l*r,Zd(s,n,s),gi(e,!1)}function Vg(e,t){(t===void 0||t)&&(Bg(e.h,e.F),e.V=0,e.D=Fg(),e.D[0]=(e.h[0]-e.M[0])/20,e.D[1]=(e.h[1]-e.M[1])/20,e.D[2]=(e.h[2]-e.M[2])/20,e.D[3]=(e.h[3]-e.M[3])/20),e.h[0]-=e.D[0],e.h[1]-=e.D[1],e.h[2]-=e.D[2],e.h[3]-=e.D[3],t=Mr(),DR(e.h,e.h),NE(t,e.h),e.F=t,e.K&&(e.K.stop(),e.K=null),e.V<20?e.K=new le(function(){Vg(e,!1),e.H=0,e.I=0,e.V++,gi(e,!1)}).Y(.025):(NE(t,e.M),e.F=t)}function Hg(e,t,n,i,r,o){_e.call(this);var s=this;this.i=e,this.j=t,this.G=n,this.L=i,this.F=r,this.H=o,this.u=new Fe,this.h=new Fe,this.A=Gg(this.j),this.g=null,this.m=!1,this.K=this.J=this.I=this.D=this.C=0,this.l=null,this.u.o(i,"loading",function(){s.g&&Vg(s.g),zo(s)}),this.u.o(i,"spatialvideoinfo",function(u){switch(u=u.detail,u.projection){case"rect":s.l=null;break;case"equi":s.l="equirectangular";break;case"hequ":switch(u.hfov){case 360:s.l="equirectangular";break;case 180:s.l="halfequirectangular";break;default:u.hfov==null?s.l="halfequirectangular":s.l=null}break;case"fish":s.l="halfequirectangular";break;default:s.l=null}zo(s)}),this.u.o(i,"nospatialvideoinfo",function(){s.l=null,zo(s)}),this.u.o(i,"unloading",function(){s.l=null,zo(s)}),this.u.o(this.H,"caststatuschanged",function(){zo(s)}),zo(this)}se(Hg,_e),h=Hg.prototype,h.release=function(){this.u&&(this.u.release(),this.u=null),this.h&&(this.h.release(),this.h=null),this.g&&(this.g.release(),this.g=null),_e.prototype.release.call(this)},h.configure=function(e){this.F=e,zo(this)},h.Qg=function(){return this.j?!!this.A:!!Gg(document.createElement("canvas"))},h.Yb=function(){return!!this.g},h.ce=function(){this.g?this.g.ce():ye("Not playing VR content")},h.Fh=function(e){this.g?nu(this.g,e*Ko,0,0):ye("Not playing VR content")},h.Dh=function(e){this.g?nu(this.g,0,e*Ko,0):ye("Not playing VR content")},h.Eh=function(e){this.g?nu(this.g,0,0,e*Ko):ye("Not playing VR content")};function zo(e){var t=e.H.F.Pa();!e.F.displayInVrMode&&!e.l||t?e.j&&e.g&&(e.j.style.display="none",e.h.Ta(),e.g.release(),e.g=null,e.dispatchEvent(new J("vrstatuschanged",new Map().set("newStatus",e.Yb())))):(e.j||(e.j=document.createElement("canvas"),e.j.classList.add("shaka-vr-canvas-container"),e.G.parentElement.insertBefore(e.j,e.G.nextElementSibling),e.A=Gg(e.j)),t=e.l||e.F.defaultVrProjectionMode,e.g?e.g.m!=t&&(e.h.Ta(),e.g.release(),jE(e,t)):(e.j.style.display="",jE(e,t),e.dispatchEvent(new J("vrstatuschanged",new Map().set("newStatus",e.Yb())))))}function jE(e,t){e.A&&e.j&&(e.g=new qg(e.G,e.L,e.j,e.A,t),FR(e))}function Gg(e){if(!e||!S.WebGLRenderingContext)return null;for(var t=T(["webgl2","webgl"]),n=t.next();!n.done;n=t.next())if(n=e.getContext(n.value))return n;return null}function FR(e){e.h.o(e.i,"mousedown",function(i){if(!e.m){var r=i.clientX;i=i.clientY,e.m=!0,e.C=r,e.D=i}}),navigator.maxTouchPoints>0&&e.h.o(e.i,"touchstart",function(i){if(!e.m){var r=i.touches[0].clientX;i=i.touches[0].clientY,e.m=!0,e.C=r,e.D=i}}),e.h.o(e.i,"wheel",function(i){if(!e.m){var r=e.g,o=i.deltaY;o/=50,r.j>=20&&r.j<=100&&(r.j+=o),r.j<20?r.j=20:r.j>100&&(r.j=100),gi(r,!1),i.preventDefault(),i.stopPropagation()}}),e.h.o(e.i,"mousemove",function(i){e.m&&BE(e,i.clientX,i.clientY)}),navigator.maxTouchPoints>0&&e.h.o(e.i,"touchmove",function(i){e.m&&BE(e,i.touches[0].clientX,i.touches[0].clientY),i.preventDefault()}),e.h.o(e.i,"mouseleave",function(){e.m=!1}),e.h.o(e.i,"mouseup",function(){e.m=!1}),navigator.maxTouchPoints>0&&e.h.o(e.i,"touchend",function(){e.m=!1});var t=!1;if(S.DeviceOrientationEvent)if(typeof DeviceMotionEvent.requestPermission=="function"){var n=function(){DeviceMotionEvent.requestPermission().then(function(i){i!=="granted"||t||(t=!0,zg(e))})};DeviceMotionEvent.requestPermission().then(function(i){e.h.Ea(e.i,"click",n),e.h.Ea(e.i,"mouseup",n),navigator.maxTouchPoints>0&&e.h.Ea(e.i,"touchend",n),i!=="granted"?(e.h.qa(e.i,"click",n),e.h.qa(e.i,"mouseup",n),navigator.maxTouchPoints>0&&e.h.qa(e.i,"touchend",n)):(t=!0,zg(e))}).catch(function(){e.h.Ea(e.i,"click",n),e.h.Ea(e.i,"mouseup",n),navigator.maxTouchPoints>0&&e.h.Ea(e.i,"touchend",n),e.h.qa(e.i,"click",n),e.h.qa(e.i,"mouseup",n),navigator.maxTouchPoints>0&&e.h.qa(e.i,"touchend",n)})}else t=!0,zg(e)}function zg(e){e.h.o(S,"deviceorientation",function(t){if(e.g){var n=(t.alpha||0)-e.I,i=(t.beta||0)-e.J,r=(t.gamma||0)-e.K;(Math.abs(n)>10||Math.abs(i)>10||Math.abs(r)>5)&&(i=r=n=0),e.I=t.alpha||0,e.J=t.beta||0,e.K=t.gamma||0,t=screen.orientation.angle,t==90||t==-90?nu(e.g,n*Ko*-1,r*Ko*-1,0):nu(e.g,n*Ko*-1,i*Ko,0)}})}function BE(e,t,n){var i=-.6*Math.PI/180;nu(e.g,(t-e.C)*i,(n-e.D)*-1*i,0),e.C=t,e.D=n}var Ko=Math.PI/180;function Q(e,t,n,i,r){_e.call(this);var o=this;this.aa=!0,this.g=r,this.F=new Ct(n,e,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),this.ua=!0,this.C=this.F.Wc(),this.u=n,this.m=this.F.Xb(),this.ha=e,this.l=t,this.Pb=i,this.sa=this.m.xf(),this.A=this.j=null,this.V=!1,this.K=[],this.$a=[],this.Na=!1,this.L=new le(function(){o.l.classList.add("no-cursor"),o.Na=!1,_i(o)}),this.oa=new le(function(){o.i.removeAttribute("shown"),Qd(o),Wg(o),o.Z&&o.Z.Ui(),o.P.Y(o.g.closeMenusDelay)}),this.P=new le(function(){for(var s=T(o.K),u=s.next();!u.done;u=s.next())oe(u.value,!1);o.g.enableTooltips&&o.H.classList.add("shaka-tooltips-on")}),this.Fa=new le(function(){o.Ca()&&eh(o)}),this.R=null,this.J=[],this.ya=sL(),this.h=new Fe,this.D=null,this.configure(this.g),QR(this),eL(this),this.X=new Set,Xg(this),this.Fa.va(this.g.refreshTickInSeconds),this.h.o(this.ya,"locale-changed",function(s){s=s.locales[0],o.sa.setLocale(s),o.l.setAttribute("lang",s)}),this.sa.initInterstitial(this.G,this.ha,this.u),this.h.o(this.m,"texttrackvisibility",function(){Wg(o)}),this.h.o(this.m,"unloading",function(){o.j||(o.wb()&&Ha(o),o.Nd()&&o.dd())})}se(Q,_e),h=Q.prototype,h.destroy=function(e){e=e===void 0?!1:e;var t=this;return N(function(n){switch(n.g){case 1:if(document.pictureInPictureElement!=t.u){n.B(2);break}return w(n,document.exitPictureInPicture(),2);case 2:if(t.h&&(t.h.release(),t.h=null),t.L&&(t.L.stop(),t.L=null),t.oa&&(t.oa.stop(),t.oa=null),t.P&&(t.P.stop(),t.P=null),t.Fa&&(t.Fa.stop(),t.Fa=null),t.D&&(t.D.release(),t.D=null),FE(t),t.i&&(t.l.removeChild(t.i),t.i=null),!t.F){n.B(4);break}return w(n,t.F.destroy(e),5);case 5:t.F=null;case 4:if(t.M&&(t.l.removeChild(t.M),t.M=null),t.G&&(t.l.removeChild(t.G),t.G=null),t.I&&(t.l.removeChild(t.I),t.I=null),!t.ha){n.B(6);break}return w(n,t.ha.destroy(),7);case 7:t.ha=null;case 6:t.m=null,t.u=null,t.C=null,t.ya=null,t.X.clear(),tL(t),_e.prototype.release.call(t),Z(n)}})};function FE(e){for(var t=T(e.J),n=t.next();!n.done;n=t.next())n.value.release();e.J=[]}function bt(e,t){Yg.set(e,t)}h.tk=function(e){this.ua=e,Xg(this)},h.Ol=function(){_i(this)},h.configure=function(e){var t=this;this.g=e,this.F.Si(e.castReceiverAppId,e.castAndroidReceiverCompatible),this.A&&(this.A=null),this.La&&(this.La=null),this.Z&&(this.Z=null),this.D&&this.D.configure(e),this.i?(Gi(this.i),FE(this)):(HR(this),$R(this),this.D=new Hg(this.i,this.Pb,this.u,this.m,this.g,this)),this.l.classList.add("shaka-video-container"),this.u.classList.add("shaka-video"),zR(this),this.g.addBigPlayButton&&GR(this),this.g.customContextMenu&&(this.Z=new uo(this.H,this),this.J.push(this.Z)),this.M||WR(this),this.g.seekOnTaps&&(XR(this),YR(this)),ZR(this),this.K=Array.from(this.l.getElementsByClassName("shaka-settings-menu")),this.K.push.apply(this.K,X(Array.from(this.l.getElementsByClassName("shaka-overflow-menu")))),this.$a=Array.from(this.l.getElementsByClassName("shaka-show-controls-on-mouse-over")),_i(this),e=T(this.l.getElementsByClassName("shaka-no-propagation"));for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=function(r){return r.stopPropagation()};this.h.o(n,"click",i),this.h.o(n,"dblclick",i),navigator.maxTouchPoints>0&&this.h.o(n,"touchend",function(r){t.Ca()&&r.stopPropagation()})}},h.ji=function(e){(this.aa=e)?(this.l.setAttribute("shaka-controls","true"),this.u.tabIndex=-1,this.u.controls=!1):this.l.removeAttribute("shaka-controls"),_i(this)},h.Rj=function(e){this.u.controls=e,this.u.tabIndex=e?0:-1,e&&this.ji(!1)},h.getAd=function(){return this.j},h.Ik=function(){return this.F},h.Zk=function(){return this.ya},h.Bl=function(){return this.l},h.Wc=function(){return this.C},h.Yk=function(){return this.u},h.Xb=function(){return this.m},h.Xk=function(){return this.ha},h.Pk=function(){return this.i},h.ol=function(){return this.I},h.Lk=function(){return this.G},h.Mk=function(){return this.g},h.Ll=function(){return this.V},h.mi=function(e){(this.V=e)?this.L.stop():this.L.Y(3)},h.Gl=function(){return this.ua},h.wh=function(){return this.A?this.A.getValue():this.C.currentTime},h.Sj=function(e){this.R=e},h.Oc=function(){return this.K.some(function(e){return!e.classList.contains("shaka-hidden")})},h.Xc=function(){this.P.Ja()};function Jd(e){return!(!document.fullscreenEnabled||e.u.webkitSupportsFullscreen&&e.g.preferVideoFullScreenInVisionOS&&ke().Oa()=="APPLE_VR")}function Kg(e){return"documentPictureInPicture"in S&&e.g.preferDocumentPictureInPicture}h.Ae=function(){return this.F.Pa()?!1:!!(Jd(this)||(!this.j||!this.j.isUsingAnotherMediaElement())&&this.u.webkitSupportsFullscreen)},h.wb=function(){if(Jd(this))return!!document.fullscreenElement;var e=this.u;return e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1};function qE(e){var t,n,i;return N(function(r){switch(r.g){case 1:if(ue(r,2),!Jd(e)){t=e.u,t.webkitSupportsFullscreen&&t.webkitEnterFullscreen(),r.B(4);break}if(!e.Nd()){r.B(5);break}return w(r,e.dd(),6);case 6:if(!Kg(e)){r.B(5);break}return w(r,new Promise(function(o){new le(o).Y(.05)}),5);case 5:return n=e.g.fullScreenElement,w(r,n.requestFullscreen({navigationUI:"hide"}),9);case 9:if(!e.g.forceLandscapeOnFullscreen||!screen.orientation){r.B(4);break}return ue(r,11),w(r,screen.orientation.lock("landscape"),13);case 13:Ae(r,4,2);break;case 11:ae(r,2);case 4:Ae(r,0);break;case 2:i=ae(r),e.dispatchEvent(new J("error",new Map().set("detail",i))),Z(r)}})}function Ha(e){var t;return N(function(n){return Jd(e)?(screen.orientation&&screen.orientation.unlock(),w(n,document.exitFullscreen(),0)):(t=e.u,t.webkitSupportsFullscreen&&t.webkitExitFullscreen(),n.B(0))})}h.ug=function(){var e=this;return N(function(t){return e.wb()?w(t,Ha(e),0):w(t,qE(e),0)})},h.Jf=function(){return this.F.Pa()?!1:document.pictureInPictureEnabled||Kg(this)?!this.u.disablePictureInPicture:!1},h.Nd=function(){return!!(S.documentPictureInPicture&&S.documentPictureInPicture.window||document.pictureInPictureElement)},h.dd=function(){var e=this,t,n;return N(function(i){switch(i.g){case 1:if(ue(i,2),Kg(e)){if(!e.wb()){i.B(10);break}return w(i,Ha(e),10)}return document.pictureInPictureElement?w(i,document.exitPictureInPicture(),5):(e.wb()&&Ha(e),t=e.u,w(i,t.requestPictureInPicture(),5));case 10:return w(i,qR(e),5);case 5:Ae(i,0);break;case 2:n=ae(i),e.dispatchEvent(new J("error",new Map().set("detail",n))),Z(i)}})};function qR(e){var t,n,i,r,o,s;return N(function(u){if(u.g==1)return S.documentPictureInPicture.window?(S.documentPictureInPicture.window.close(),u.return()):(t=e.l,n=t.getBoundingClientRect(),w(u,S.documentPictureInPicture.requestWindow({width:n.width,height:n.height}),2));i=u.h,VR(i),r=t.parentNode||document.body,o=e.l.cloneNode(!0),o.style.visibility="hidden",o.style.height=getComputedStyle(t).height,r.appendChild(o),s=document.createElement("style"),s.append(`[data-shaka-player-container] {
      width: 100% !important; max-height: 100%}`),i.document.head.append(s),i.document.body.append(t),e.h.qa(i,"pagehide",function(){o.replaceWith(t)}),Z(u)})}function VR(e){var t=[].concat(X(document.styleSheets)).map(function(i){try{return[].concat(X(i.cssRules)).map(function(o){return o.cssText}).join("")}catch{var r=document.createElement("link");r.rel="stylesheet",r.type=i.type,r.media=i.media,r.href=i.href,e.document.head.appendChild(r)}return""}).filter(Boolean).join(`
`),n=document.createElement("style");n.textContent=t,e.document.head.appendChild(n)}h.Xj=function(){oe(this.T,!0),this.G&&this.G.hasChildNodes()&&oe(this.G,!0),this.I&&this.I.hasChildNodes()&&oe(this.I,!0),this.j.hasCustomClick()?this.i.setAttribute("ad-active","true"):this.i.removeAttribute("ad-active")},h.hj=function(){oe(this.T,!1),oe(this.G,!1),oe(this.I,!1),this.i.removeAttribute("ad-active")};function Ga(e){if(e.aa){if(e.j&&(e.j&&e.j.isPaused()?e.j.play():e.j&&e.j.pause(),e.j.isLinear()))return;e.C.duration&&(e.C.paused&&!e.V?(e.m.isEnded()&&(e.C.currentTime=e.m.xa().start),e.C.play()):e.C.pause())}}function HR(e){e.i=ee("div"),e.i.classList.add("shaka-controls-container"),e.l.appendChild(e.i),e.l.setAttribute("shaka-controls","true"),e.h.o(e.i,"touchend",function(t){e.C.duration&&(e.Ca()?(e.R=Date.now(),za(e,!0)):Wo(e,t),t.cancelable&&t.preventDefault())}),e.h.o(e.i,"click",function(){za(e)}),e.h.o(e.i,"dblclick",function(){e.g.doubleClickForFullscreen&&e.Ae()&&e.ug()})}function GR(e){var t=ee("div");t.classList.add("shaka-play-button-container"),e.i.appendChild(t),e.La=new Kd(t,e),e.J.push(e.La)}function zR(e){var t=ee("div");t.classList.add("shaka-scrim-container"),e.i.appendChild(t)}function KR(e){e.T=ee("div"),e.T.classList.add("shaka-ad-controls");var t=e.j!=null&&e.j.isLinear();oe(e.T,t),e.O.appendChild(e.T),t=new Yd(e.T,e),e.J.push(t)}function WR(e){e.M=ee("div"),e.M.classList.add("shaka-spinner-container"),e.l.appendChild(e.M);var t=ee("div");t.classList.add("shaka-spinner"),e.M.appendChild(t),t.insertAdjacentHTML("beforeend",`<svg focusable="false" stroke="currentColor"
         viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg"
         width="50px" height="50px" class="q-spinner text-grey-9">
      <g transform="translate(1 1)" stroke-width="6" fill="none"
        fill-rule="evenodd">
        <circle stroke-opacity=".5" cx="18" cy="18" r="16"></circle>
        <path d="M34 18c0-9.94-8.06-16-16-16">
          <animateTransform attributeName="transform" type="rotate"
            from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite">
          </animateTransform>
        </path>
      </g>
    </svg>`)}function XR(e){var t=ee("div");t.classList.add("shaka-hidden-fast-forward-container"),e.i.appendChild(t),e.jb=new Lg(t,e),e.J.push(e.jb)}function YR(e){var t=ee("div");t.classList.add("shaka-hidden-rewind-container"),e.i.appendChild(t),e.kb=new Pg(t,e),e.J.push(e.kb)}function ZR(e){e.O=ee("div"),e.O.classList.add("shaka-bottom-controls"),e.O.classList.add("shaka-no-propagation"),e.i.appendChild(e.O),e.h.o(e.O,"click",function(r){r.target.closest(".shaka-overflow-button")||e.Xc()}),KR(e),JR(e),e.H=ee("div"),e.H.classList.add("shaka-controls-button-panel"),e.H.classList.add("shaka-show-controls-on-mouse-over"),e.g.enableTooltips&&e.H.classList.add("shaka-tooltips-on"),e.O.appendChild(e.H);for(var t=T(e.g.controlPanelElements),n=t.next();!n.done;n=t.next())if(n=n.value,Yg.get(n)){var i=Yg.get(n).create(e.H,e);e.J.push(i),n=="time_and_duration"&&(n=new zd(e.H,e),e.J.push(n))}else ye("Unrecognized control panel element requested:",n)}function JR(e){if(e.g.addSeekBar)e.A=HE.create(e.O,e),e.J.push(e.A);else{for(var t=T(e.K),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");e=e.H,e.classList.contains("shaka-tooltips-on")&&e.classList.add("shaka-tooltips-low-position")}}function $R(e){e.G=ee("div"),e.G.classList.add("shaka-client-side-ad-container"),oe(e.G,!1),e.h.o(e.G,"click",function(){za(e)}),e.l.appendChild(e.G),e.I=ee("div"),e.I.classList.add("shaka-server-side-ad-container"),oe(e.I,!1),e.h.o(e.I,"click",function(){za(e)}),e.l.appendChild(e.I)}function QR(e){e.h.o(e.m,"buffering",function(){$d(e)}),$d(e),e.h.o(S,"keydown",function(t){rL(e,t)}),e.h.o(S,"click",function(){return e.Xc()}),e.h.o(e,"submenuopen",function(){e.Xc()}),e.h.o(e.C,"play",function(){_i(e)}),e.h.o(e.C,"pause",function(){_i(e)}),e.h.o(e.l,"mousemove",function(t){Wo(e,t)}),e.h.o(e.l,"touchmove",function(t){Wo(e,t)},{passive:!0}),e.h.o(e.l,"touchend",function(t){Wo(e,t)},{passive:!0}),e.h.o(e.l,"mouseleave",function(){e.R||e.L.Ja()}),e.h.o(e.l,"wheel",function(t){Wo(e,t)},{passive:!0}),e.h.o(e.F,"caststatuschanged",function(){Xg(e)}),e.h.o(e.D,"vrstatuschanged",function(){e.dispatchEvent(new J("vrstatuschanged"))}),e.h.o(e.l,"keydown",function(t){e.g.enableKeyboardPlaybackControlsInWindow||e.wb()||VE(e,t)}),e.h.o(e.l,"keyup",function(t){e.g.enableKeyboardPlaybackControlsInWindow||e.wb()||e.X.delete(t.key)}),e.h.o(S,"keydown",function(t){(e.g.enableKeyboardPlaybackControlsInWindow||e.wb())&&VE(e,t)}),e.h.o(S,"keyup",function(t){(e.g.enableKeyboardPlaybackControlsInWindow||e.wb())&&e.X.delete(t.key)}),e.h.o(e.sa,"ad-started",function(t){e.j=t.ad,e.Xj(),$d(e)}),e.h.o(e.sa,"ad-stopped",function(){e.j=null,e.hj(),$d(e)}),screen.orientation&&e.h.o(screen.orientation,"change",function(){return N(function(t){return w(t,nL(e),0)})})}function eL(e){if(e.g.setupMediaSession&&navigator.mediaSession){var t=function(o,s){try{navigator.mediaSession.setActionHandler(o,function(u){s(u)})}catch{}},n=function(){if(e.j&&e.j.isLinear())i();else{var o=e.m.xa(),s=o.end-o.start;o=parseFloat((e.C.currentTime-o.start).toFixed(2)),e.m.U()&&Math.abs(s-o)<1&&(s=1/0);try{navigator.mediaSession.setPositionState({duration:Math.max(0,s),playbackRate:e.C.playbackRate,position:Math.max(0,o)})}catch{}}},i=function(){try{navigator.mediaSession.setPositionState()}catch{}},r=function(o){var s=e.g.keyboardSeekDistance;switch(o.action){case"pause":Ga(e);break;case"play":Ga(e);break;case"seekbackward":if(o.seekOffset&&!isFinite(o.seekOffset))break;e.j&&e.j.isLinear()||Rr(e,e.A.getValue()-(o.seekOffset||s));break;case"seekforward":if(o.seekOffset&&!isFinite(o.seekOffset))break;e.j&&e.j.isLinear()||Rr(e,e.A.getValue()+(o.seekOffset||s));break;case"seekto":if(o.seekTime&&!isFinite(o.seekTime))break;e.j&&e.j.isLinear()||Rr(e,e.m.xa().start+o.seekTime);break;case"stop":e.m.yc();break;case"enterpictureinpicture":e.j&&e.j.isLinear()||e.dd()}};t("pause",r),t("play",r),t("seekbackward",r),t("seekforward",r),t("seekto",r),t("stop",r),("documentPictureInPicture"in S||document.pictureInPictureEnabled)&&t("enterpictureinpicture",r),t=function(){e.m.U()||e.m.xa().start!=0?(n(),e.h.o(e.C,"timeupdate",n)):i()},e.m.Jh()&&t(),e.h.o(e.m,"loaded",t),e.h.o(e.m,"unloading",function(){e.h.Ea(e.C,"timeupdate",n)}),e.h.o(e.m,"metadata",function(o){if(o=o.payload){var s;o.key=="TIT2"&&o.data&&(s=o.data);var u;o.key=="APIC"&&o.mimeType=="-->"&&(u=o.data),s&&(o={title:s,artwork:[]},navigator.mediaSession.metadata&&(o=navigator.mediaSession.metadata,o.title=s),navigator.mediaSession.metadata=new MediaMetadata(o)),u&&(s=e.u,u!=s.poster&&(s.poster=u),s={title:"",artwork:[{src:u}]},navigator.mediaSession.metadata&&(s=navigator.mediaSession.metadata,s.artwork=[{src:u}]),navigator.mediaSession.metadata=new MediaMetadata(s))}})}}function tL(e){if(e.g.setupMediaSession&&navigator.mediaSession){try{navigator.mediaSession.setPositionState()}catch{}e=function(t){try{navigator.mediaSession.setActionHandler(t,null)}catch{}},e("pause"),e("play"),e("seekbackward"),e("seekforward"),e("seekto"),e("stop"),e("enterpictureinpicture")}}function nL(e){return N(function(t){return e.C&&e.C.readyState!=0&&!e.F.Pa()&&e.g.enableFullscreenOnRotation&&e.Ae()?screen.orientation.type.includes("landscape")&&!e.wb()?w(t,qE(e),0):screen.orientation.type.includes("portrait")&&e.wb()?w(t,Ha(e),0):t.B(0):t.return()})}function Wo(e,t){t.type=="mousemove"&&(e.i.classList.remove("shaka-keyboard-navigation"),_i(e)),t.type=="touchstart"||t.type=="touchmove"||t.type=="touchend"||t.type=="keyup"?e.R=Date.now():e.R+1e3<Date.now()&&(e.R=null),e.R&&t.type=="mousemove"||(e.l.classList.remove("no-cursor"),e.Na=!0,e.P.stop(),e.Ca()||(eh(e),_i(e)),e.L.stop(),t.type!="touchend"&&t.type!="wheel"&&t.type!="keyup"&&e.R||e.L.Y(3))}function iL(e){return S.matchMedia("hover: hover").matches?e.$a.some(function(t){return t.matches(":hover")}):!1}function Wg(e){var t=e.l.getElementsByClassName("shaka-text-container")[0];t&&(e.Ca()?t.style.bottom=e.O.clientHeight+"px":t.style.bottom="0px")}function _i(e){var t=e.j?e.j.isPaused():!1,n=e.C.paused&&!e.V,i=e.i.classList.contains("shaka-keyboard-navigation");t||(!e.j||!e.j.isLinear())&&n||e.Na||i||iL(e)?(eh(e),e.i.getAttribute("shown")==null&&(e.i.setAttribute("shown","true"),Qd(e)),Wg(e),e.oa.stop()):e.oa.Y(e.g.fadeDelay),e.Oc()&&e.H.classList.remove("shaka-tooltips-on")}function za(e,t){t=t===void 0?!1:t,e.aa&&!e.Yb()&&(e.Oc()?e.P.Ja():e.g.singleClickForPlayAndPause?Ga(e):t&&e.Ca()&&e.ij())}function Xg(e){var t=e.F.Pa();e.dispatchEvent(new J("caststatuschanged",new Map().set("newStatus",t))),t?e.i.getAttribute("casting")==null&&(e.i.setAttribute("casting","true"),Qd(e)):e.i.getAttribute("casting")!=null&&(e.i.removeAttribute("casting"),Qd(e))}function VE(e,t){var n=document.activeElement,i=n&&n.classList?n.classList.contains("shaka-volume-bar"):!1,r=n&&n.classList&&n.classList.contains("shaka-seek-bar"),o=e.wb();if(n=e.i.contains(n),o=o||e.g.enableKeyboardPlaybackControlsInWindow,n&&Wo(e,t),e.g.enableKeyboardPlaybackControls&&e.m.jd()){var s=e.g.keyboardSeekDistance,u=e.g.keyboardLargeSeekDistance;switch(t.key){case"ArrowLeft":e.A&&s>0&&(r||o)&&!i&&(t.preventDefault(),Rr(e,e.A.getValue()-s));break;case"ArrowRight":e.A&&s>0&&(r||o)&&!i&&(t.preventDefault(),Rr(e,e.A.getValue()+s));break;case"PageDown":e.A&&u>0&&(r||o)&&(t.preventDefault(),Rr(e,e.A.getValue()-u));break;case"PageUp":e.A&&u>0&&(r||o)&&(t.preventDefault(),Rr(e,e.A.getValue()+u));break;case"Home":e.A&&Rr(e,e.m.xa().start);break;case"End":e.A&&Rr(e,e.m.xa().end);break;case"c":e.m.be(!e.m.Yc());break;case"f":e.Ae()&&e.ug();break;case"m":e.j&&e.j.isLinear()?e.j.setMuted(!e.j.isMuted()):e.u.muted=!e.u.muted;break;case"p":e.Jf()&&e.dd();break;case">":t=e.g.playbackRates.indexOf(e.m.Za()),t>-1&&t+1<e.g.playbackRates.length&&e.m.xc(e.g.playbackRates[t+1],!1);break;case"<":t=e.g.playbackRates.indexOf(e.m.Za()),t>-1&&t-1>=0&&e.m.xc(e.g.playbackRates[t-1],!1);break;case" ":(r||o&&!n)&&Ga(e)}}}function $d(e){e.aa&&(e.j&&e.j.isClientRendering()&&e.j.isLinear()?oe(e.M,!1):oe(e.M,e.m.Hf()))}h.Ca=function(){return this.aa?this.i.getAttribute("shown")!=null||this.i.getAttribute("casting")!=null:!1};function Qd(e){e.Ca()?e.dispatchEvent(new J("showingui")):e.dispatchEvent(new J("hidingui"))}function Rr(e,t){e.C.currentTime=t,eh(e)}function eh(e){if(e.A)if(e.A.setValue(e.C.currentTime),e.A.update(),e.A.isShowing()){for(var t=T(e.K),n=t.next();!n.done;n=t.next())n.value.classList.remove("shaka-low-position");t=e.H,t.classList.contains("shaka-tooltips-on")&&t.classList.remove("shaka-tooltips-low-position")}else{for(t=T(e.K),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");t=e.H,t.classList.contains("shaka-tooltips-on")&&t.classList.add("shaka-tooltips-low-position")}e.dispatchEvent(new J("timeandseekrangeupdated"))}function rL(e,t){e.X.add(t.key);var n=e.Oc();t.key=="Tab"&&(e.i.classList.add("shaka-keyboard-navigation"),_i(e),e.h.o(S,"mousedown",function(){e.h.Ea(S,"mousedown")})),t.key=="Escape"&&e.P.Ja(),n&&e.X.has("Tab")&&oL(e,t)}function oL(e,t){var n=e.K.filter(function(o){return!o.classList.contains("shaka-hidden")});if(n.length){var i=n[0];if(i.childNodes.length){for(n=i.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(i=i.lastElementChild;i&&i.classList.contains("shaka-hidden");)i=i.previousElementSibling;var r=document.activeElement;e.X.has("Shift")?r==n&&(t.preventDefault(),i.focus()):r==i&&(t.preventDefault(),n.focus())}}}h.Bm=function(){var e=new Event("mousemove",{bubbles:!1,cancelable:!1});Wo(this,e)},h.ij=function(){this.L.Ja()},h.Qg=function(){return this.D.Qg()},h.Yb=function(){return this.D.Yb()},h.zl=function(){var e=this.D;if(e.g){e=e.g,Bg(e.h,e.F);var t=e.h,n=0;e=0,e=t[0];var i=t[1],r=t[2];t=t[3],n=i*i;var o=r*r,s=t*t;n=e*e+n+o+s;var u=e*t-i*r;u>.499995*n?(n=Math.PI/2,e=2*Math.atan2(i,e)):u<-.499995*n?(n=-Math.PI/2,e=2*Math.atan2(i,e)):(n=Math.asin(2*(e*r-t*i)),e=Math.atan2(2*(e*t+i*r),1-2*(o+s))),e=Math.acos(Math.cos(e)*Math.cos(n))*180/Math.PI}else ye("Not playing VR content"),e=null;return e},h.yl=function(){var e=this.D;return e.g?e=e.g.j:(ye("Not playing VR content"),e=null),e},h.zm=function(e){var t=this.D;t.g?(e<0?(ye("Field of view should be greater than 0"),e=0):e>100&&(ye("Field of view should be less than 100"),e=100),t=t.g,t.j=e,gi(t,!1)):ye("Not playing VR content")},h.ce=function(){this.D.ce()},h.Fh=function(e){this.D.Fh(e)},h.Dh=function(e){this.D.Dh(e)},h.Eh=function(e){this.D.Eh(e)};function sL(){var e=new Ht("en");return e.Xa("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_STATISTICS","إحصاءات الإعلانات"],["AD_TIME","الإعلان: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["CHAPTERS","الفصول"],["DOWNLOAD_VIDEO_FRAME","حفظ إطار الفيديو"],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["QUALITY","الجودة"],["RECENTER_VR","إعادة التوسيط"],["REPLAY","إعادة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["STATISTICS","الإحصاءات"],["SUBTITLE_FORCED","عرض إجباري"],["SURROUND","صوت محيطي"],["TOGGLE_STEREOSCOPIC","إيقاف العرض المجسّم أو تفعيله"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),e.Xa("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_STATISTICS","Anzeigenstatistiken"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["CHAPTERS","Kapitel"],["DOWNLOAD_VIDEO_FRAME","Videoframe speichern"],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild im Bild aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild im Bild beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["QUALITY","Qualität"],["RECENTER_VR","Zentrieren"],["REPLAY","Noch einmal wiedergeben"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["STATISTICS","Statistiken"],["SUBTITLE_FORCED","Erzwungen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Einstellung „stereoskopisch“ ein‑/ausschalten"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),e.Xa("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recenter"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_NEXT","Next"],["SKIP_PREVIOUS","Previous"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),e.Xa("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recentre"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),e.Xa("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas del anuncio"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_NEXT","Siguiente"],["SKIP_PREVIOUS","Anterior"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Envolvente"],["TOGGLE_STEREOSCOPIC","Activar/Desactivar estereoscópica"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.Xa("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas de anuncios"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Sonido envolvente"],["TOGGLE_STEREOSCOPIC","Activar o desactivar el modo estereoscópico"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.Xa("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_STATISTICS","Statistiques sur les annonces"],["AD_TIME","Annonce : [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["CHAPTERS","Chapitres"],["DOWNLOAD_VIDEO_FRAME","Télécharger l'image de la vidéo"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["QUALITY","Qualité"],["RECENTER_VR","Recentrer"],["REPLAY","Revoir"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_NEXT","Suivante"],["SKIP_PREVIOUS","Précédente"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["STATISTICS","Statistiques"],["SUBTITLE_FORCED","Forcé"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Activer/Désactiver le mode stéréoscopique"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),e.Xa("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_STATISTICS","Statistiche sugli annunci"],["AD_TIME","Annuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["CHAPTERS","Capitoli"],["DOWNLOAD_VIDEO_FRAME","Salva fotogramma"],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["QUALITY","Qualità"],["RECENTER_VR","Ricentra"],["REPLAY","Riproduci di nuovo"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["STATISTICS","Statistiche"],["SUBTITLE_FORCED","Forzata"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Pulsante di attivazione/disattivazione stereoscopico"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),e.Xa("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_STATISTICS","広告の統計情報"],["AD_TIME","広告: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["CHAPTERS","章"],["DOWNLOAD_VIDEO_FRAME","動画フレームを保存"],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["QUALITY","品質"],["RECENTER_VR","中心を再設定"],["REPLAY","もう一度再生"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["STATISTICS","統計情報"],["SUBTITLE_FORCED","強制"],["SURROUND","サラウンド"],["TOGGLE_STEREOSCOPIC","立体画像を切り替える"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),e.Xa("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","광고 통계"],["AD_TIME","광고: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["CHAPTERS","장"],["DOWNLOAD_VIDEO_FRAME","동영상 프레임 저장"],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["QUALITY","품질"],["RECENTER_VR","중심 재설정"],["REPLAY","다시보기"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["STATISTICS","통계"],["SUBTITLE_FORCED","강제"],["SURROUND","서라운드"],["TOGGLE_STEREOSCOPIC","입체 보기 전환"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),e.Xa("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_STATISTICS","Advertentiestatistieken"],["AD_TIME","Advertentie: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["CHAPTERS","Hoofdstukken"],["DOWNLOAD_VIDEO_FRAME","Videoframe opslaan"],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Geluid uitzetten"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["QUALITY","Kwaliteit"],["RECENTER_VR","Opnieuw centreren"],["REPLAY","Opnieuw afspelen"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["STATISTICS","Statistieken"],["SUBTITLE_FORCED","Afgedwongen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoscopisch aan-/uitzetten"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Geluid aanzetten"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),e.Xa("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_STATISTICS","Statystyki reklam"],["AD_TIME","Reklama: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["CHAPTERS","Rozdziały"],["DOWNLOAD_VIDEO_FRAME","Zapisz klatkę filmu"],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["QUALITY","Jakość"],["RECENTER_VR","Wyśrodkuj"],["REPLAY","Odtwórz ponownie"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_NEXT","Dalej"],["SKIP_PREVIOUS","Poprzedni"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["STATISTICS","Statystyki"],["SUBTITLE_FORCED","Wymuszone"],["SURROUND","Przestrzenny"],["TOGGLE_STEREOSCOPIC","Przełącz tryb stereoskopowy"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),e.Xa("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estatísticas de anúncios"],["AD_TIME","Anúncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Salvar frame do vídeo"],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["QUALITY","Qualidade"],["RECENTER_VR","Centralizar"],["REPLAY","Repetir"],["RESOLUTION","Resolução"],["REWIND","Voltar"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["STATISTICS","Estatísticas"],["SUBTITLE_FORCED","Exibição forçada"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Alternar imagem estereoscópica"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),e.Xa("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_STATISTICS","Статистика объявлений"],["AD_TIME","Реклама: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["CHAPTERS","Эпизоды"],["DOWNLOAD_VIDEO_FRAME","Сохранить кадр видео"],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["QUALITY","Качество"],["RECENTER_VR","Центрировать заново"],["REPLAY","Повторить"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["STATISTICS","Статистика"],["SUBTITLE_FORCED","Субтитры принудительно"],["SURROUND","Объемный звук"],["TOGGLE_STEREOSCOPIC","Включить или отключить стереоскопический режим"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),e.Xa("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_STATISTICS","สถิติโฆษณา"],["AD_TIME","โฆษณา: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยายแทนเสียง"],["CAST","แคสต์..."],["CHAPTERS","บท"],["DOWNLOAD_VIDEO_FRAME","บันทึกเฟรมวิดีโอ"],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["QUALITY","คุณภาพ"],["RECENTER_VR","จัดกึ่งกลางใหม่"],["REPLAY","เล่นซ้ำ"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["STATISTICS","สถิติ"],["SUBTITLE_FORCED","บังคับ"],["SURROUND","เซอร์ราวด์"],["TOGGLE_STEREOSCOPIC","เปิด/ปิดฟีเจอร์สามมิติ"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),e.Xa("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_STATISTICS","Reklam istatistikleri"],["AD_TIME","Reklam: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["CHAPTERS","Bölümler"],["DOWNLOAD_VIDEO_FRAME","Video karesini kaydet"],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["QUALITY","Kalite"],["RECENTER_VR","Ortala"],["REPLAY","Tekrar Oynat"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["STATISTICS","İstatistikler"],["SUBTITLE_FORCED","Zorunlu"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoskopik modu aç/kapat"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),e.Xa("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","广告统计信息"],["AD_TIME","广告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放…"],["CHAPTERS","章节"],["DOWNLOAD_VIDEO_FRAME","保存视频帧"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","画质"],["RECENTER_VR","重新置中"],["REPLAY","重放"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","统计信息"],["SUBTITLE_FORCED","已强制显示"],["SURROUND","环绕声"],["TOGGLE_STEREOSCOPIC","切换立体声"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),e.Xa("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","廣告統計資料"],["AD_TIME","廣告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["CHAPTERS","章節"],["DOWNLOAD_VIDEO_FRAME","儲存影片影格"],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","音質"],["RECENTER_VR","重新置中"],["REPLAY","重播"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","統計資料"],["SUBTITLE_FORCED","強制顯示"],["SURROUND","環場音效"],["TOGGLE_STEREOSCOPIC","切換立體影像"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),e.Ri(navigator.languages||[]),e}K("shaka.ui.Controls",Q),Q.prototype.incrementRoll=Q.prototype.Eh,Q.prototype.incrementPitch=Q.prototype.Dh,Q.prototype.incrementYaw=Q.prototype.Fh,Q.prototype.toggleStereoscopicMode=Q.prototype.ce,Q.prototype.setVRFieldOfView=Q.prototype.zm,Q.prototype.getVRFieldOfView=Q.prototype.yl,Q.prototype.getVRNorth=Q.prototype.zl,Q.prototype.isPlayingVR=Q.prototype.Yb,Q.prototype.canPlayVR=Q.prototype.Qg,Q.prototype.hideUI=Q.prototype.ij,Q.prototype.showUI=Q.prototype.Bm,Q.prototype.isOpaque=Q.prototype.Ca,Q.prototype.hideAdUI=Q.prototype.hj,Q.prototype.showAdUI=Q.prototype.Xj,Q.prototype.togglePiP=Q.prototype.dd,Q.prototype.isPiPEnabled=Q.prototype.Nd,Q.prototype.isPiPAllowed=Q.prototype.Jf,Q.prototype.toggleFullScreen=Q.prototype.ug,Q.prototype.isFullScreenEnabled=Q.prototype.wb,Q.prototype.isFullScreenSupported=Q.prototype.Ae,Q.prototype.hideSettingsMenus=Q.prototype.Xc,Q.prototype.anySettingsMenusAreOpen=Q.prototype.Oc,Q.prototype.setLastTouchEventTime=Q.prototype.Sj,Q.prototype.getDisplayTime=Q.prototype.wh,Q.prototype.isCastAllowed=Q.prototype.Gl,Q.prototype.setSeeking=Q.prototype.mi,Q.prototype.isSeeking=Q.prototype.Ll,Q.prototype.getConfig=Q.prototype.Mk,Q.prototype.getClientSideAdContainer=Q.prototype.Lk,Q.prototype.getServerSideAdContainer=Q.prototype.ol,Q.prototype.getControlsContainer=Q.prototype.Pk,Q.prototype.getLocalPlayer=Q.prototype.Xk,Q.prototype.getPlayer=Q.prototype.Xb,Q.prototype.getLocalVideo=Q.prototype.Yk,Q.prototype.getVideo=Q.prototype.Wc,Q.prototype.getVideoContainer=Q.prototype.Bl,Q.prototype.getLocalization=Q.prototype.Zk,Q.prototype.getCastProxy=Q.prototype.Ik,Q.prototype.getAd=Q.prototype.getAd,Q.prototype.setEnabledNativeControls=Q.prototype.Rj,Q.prototype.setEnabledShakaControls=Q.prototype.ji,Q.prototype.configure=Q.prototype.configure,Q.prototype.loadComplete=Q.prototype.Ol,Q.prototype.allowCast=Q.prototype.tk,Q.registerSeekBar=function(e){HE=e},Q.registerElement=bt,Q.prototype.destroy=Q.prototype.destroy;var Yg=new Map,HE=new Og;function Ka(e,t){function n(){return GE(i)}xe.call(this,e,t);var i=this;this.m=this.controls.g,this.l=this.controls.i,this.u=this.controls.l,this.j=[],uL(this),this.g=ee("div"),this.g.classList.add("shaka-overflow-menu"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-hidden"),this.l.appendChild(this.g),aL(this),this.eventManager.o(this.localization,"locale-updated",function(){Zg(i)}),this.eventManager.o(this.localization,"locale-changed",function(){Zg(i)}),this.eventManager.o(this.adManager,"ad-started",function(){i.ad&&i.ad.isLinear()&&oe(i.h,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){oe(i.h,!0)}),this.eventManager.o(this.controls,"submenuopen",function(){oe(i.g,!1)}),this.eventManager.o(this.g,"touchstart",function(r){i.controls.Sj(Date.now()),r.stopPropagation()}),this.eventManager.o(this.h,"click",function(){i.controls.Ca()&&lL(i)}),Zg(this),this.ad&&this.ad.isLinear()&&oe(this.h,!1),this.i=null,S.ResizeObserver?(this.i=new ResizeObserver(n),this.i.observe(this.controls.l)):this.eventManager.o(S,"resize",n)}se(Ka,xe),Ka.prototype.release=function(){this.l=null;for(var e=T(this.j),t=e.next();!t.done;t=e.next())t.value.release();this.j=[],this.i&&(this.i.disconnect(),this.i=null),xe.prototype.release.call(this)};function An(e,t){Jg.set(e,t)}function uL(e){e.h=ft(),e.h.classList.add("shaka-overflow-menu-button"),e.h.classList.add("shaka-no-propagation"),e.h.classList.add("shaka-tooltip"),new vt(e.h).use("M433-80q-27 0-46.5-18T363-142l-9-66q-13-5-24.5-12T307-235l-62 26q-25 11-50 2t-39-32l-47-82q-14-23-8-49t27-43l53-40q-1-7-1-13.5v-27q0-6.5 1-13.5l-53-40q-21-17-27-43t8-49l47-82q14-23 39-32t50 2l62 26q11-8 23-15t24-12l9-66q4-26 23.5-44t46.5-18h94q27 0 46.5 18t23.5 44l9 66q13 5 24.5 12t22.5 15l62-26q25-11 50-2t39 32l47 82q14 23 8 49t-27 43l-53 40q1 7 1 13.5v27q0 6.5-2 13.5l53 40q21 17 27 43t-8 49l-48 82q-14 23-39 32t-50-2l-60-26q-11 8-23 15t-24 12l-9 66q-4 26-23.5 44T527-80h-94Zm49-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z");var t=ee("span");t.classList.add("shaka-overflow-quality-mark"),t.style.display="none",e.h.appendChild(t),e.parent.appendChild(e.h)}function aL(e){for(var t=T(e.m.overflowMenuButtons),n=t.next();!n.done;n=t.next())n=n.value,Jg.get(n)?(n=Jg.get(n),e.j.push(n.create(e.g,e.controls))):ye("Unrecognized overflow menu element requested:",n)}function lL(e){if(e.controls.Oc())e.controls.Xc();else{oe(e.g,!0),_i(e.controls);var t=function(n){return n.classList.contains("shaka-hidden")==0};xv(e.g.childNodes,t)&&Qo(e.g.childNodes,t)[0].focus(),GE(e)}}function Zg(e){e.h.ariaLabel=e.localization.resolve("MORE_SETTINGS")}function GE(e){var t=e.g.getBoundingClientRect(),n=S.getComputedStyle(e.g),i=parseFloat(n.paddingTop);n=parseFloat(n.paddingBottom);var r=e.u.getBoundingClientRect();e.g.style.maxHeight=t.bottom-r.top-i-n+"px"}K("shaka.ui.OverflowMenu",Ka),Ka.registerElement=An;function zE(){}zE.prototype.create=function(e,t){return new Ka(e,t)},bt("overflow_menu",new zE);var Jg=new Map;function th(e,t){function n(r){return i.i[r]}xe.call(this,e,t);var i=this;this.h=ft(),this.h.classList.add("shaka-ad-statistics-button"),this.u=new vt(this.h,"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.A=ee("span"),e.appendChild(this.A),this.l=ee("span"),this.l.classList.add("shaka-current-selection-span"),e.appendChild(this.l),this.h.appendChild(e),this.parent.appendChild(this.h),this.g=ee("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-ad-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.i.appendChild(this.g),this.D=[],this.i=this.adManager.getStats(),oe(this.h,this.i.started>0),this.m=new Map,this.C=new Map().set("loadTimes",function(r){var o=0;r=T(i.i[r]);for(var s=r.next();!s.done;s=r.next())o+=parseFloat(s.value);return o}).set("averageLoadTime",n).set("started",n).set("overlayAds",n).set("playedCompletely",n).set("skipped",n).set("errors",n),this.j=new le(function(){i.i=i.adManager.getStats();for(var r=T(i.D),o=r.next();!o.done;o=r.next())o=o.value,i.m.get(o).textContent=i.C.get(o)(o)}),nh(this),dL(this),this.eventManager.o(this.localization,"locale-updated",function(){nh(i)}),this.eventManager.o(this.localization,"locale-changed",function(){nh(i)}),this.eventManager.o(this.h,"click",function(){i.controls.Ca()&&(KE(i),nh(i))}),this.eventManager.o(this.player,"loading",function(){oe(i.h,!1)}),this.eventManager.o(this.adManager,"ad-started",function(){oe(i.h,!0)})}se(th,xe);function KE(e){e.g.classList.contains("shaka-hidden")?(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm120-440q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.va(.1),oe(e.g,!0)):(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.stop(),oe(e.g,!1))}function nh(e){e.A.textContent=e.localization.resolve("AD_STATISTICS"),e.h.ariaLabel=e.localization.resolve("AD_STATISTICS"),e.l.textContent=e.localization.resolve(e.g.classList.contains("shaka-hidden")?"OFF":"ON")}function cL(e,t){var n=ee("div"),i=ee("label");return i.textContent=t+":",n.appendChild(i),i=ee("span"),i.textContent=e.C.get(t)(t),n.appendChild(i),e.m.set(t,i),n}function dL(e){var t=ee("div");t.classList.add("shaka-no-propagation"),t.classList.add("shaka-statistics-close");var n=new vt(t,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z").g;for(n.classList.add("material-icons","notranslate"),e.g.appendChild(t),e.eventManager.o(n,"click",function(){KE(e)}),t=T(e.controls.g.adStatisticsList),n=t.next();!n.done;n=t.next())n=n.value,n in e.i?(e.g.appendChild(cL(e,n)),e.D.push(n)):ye("Unrecognized ad statistic element:",n)}th.prototype.release=function(){this.j.stop(),this.j=null,xe.prototype.release.call(this)},K("shaka.ui.AdStatisticsButton",th);function $g(){}$g.prototype.create=function(e,t){return new th(e,t)},An("ad_statistics",new $g),Ho("ad_statistics",new $g);function Qg(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new vt(this.g).use("M80-280v-480q0-33 23.5-56.5T160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200h-80q-17 0-28.5-11.5T680-240q0-17 11.5-28.5T720-280h80v-480H160v480h80q17 0 28.5 11.5T280-240q0 17-11.5 28.5T240-200h-80q-33 0-56.5-23.5T80-280Zm232 160q-14 0-22-9.5t-8-20.5q0-5 2-10.5t7-10.5l161-161q6-6 13-9t15-3q8 0 15 3t13 9l161 161q5 5 7 10.5t2 10.5q0 11-8 20.5t-22 9.5H312Zm168-360Z"),S.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=ee("span"),e.appendChild(this.i),this.h=ee("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),this.parent.appendChild(this.g),em(this),WE(this),this.eventManager.o(this.localization,"locale-updated",function(){em(n)}),this.eventManager.o(this.localization,"locale-changed",function(){em(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&n.controls.Wc().webkitShowPlaybackTargetPicker()}),e=this.controls.Wc(),this.eventManager.o(e,"webkitplaybacktargetavailabilitychanged",function(i){var r=n.player.Cc()==Tn;oe(n.g,i.availability=="available"&&r)}),this.eventManager.o(e,"webkitcurrentplaybacktargetiswirelesschanged",function(){WE(n)})}se(Qg,xe);function WE(e){var t=e.controls.Wc();e.g.ariaPressed=t&&t.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function em(e){e.g.ariaLabel=e.localization.resolve("AIRPLAY"),e.i.textContent=e.localization.resolve("AIRPLAY")}K("shaka.ui.AirPlayButton",Qg);function tm(){}tm.prototype.create=function(e,t){return new Qg(e,t)},An("airplay",new tm),bt("airplay",new tm);function Zi(e,t){xe.call(this,e,t);var n=this;this.g=document.createElement("canvas"),this.g.style.position="absolute",this.g.style.top="0",this.g.style.left="0",this.g.style.pointerEvents="none",this.parent.appendChild(this.g),ih(this),this.i=this.h=null,S.ResizeObserver?(this.i=new ResizeObserver(function(){return ih(n)}),this.i.observe(this.parent)):S.addEventListener("resize",function(){return ih(n)})}se(Zi,xe);function XE(e){return(e=e.g.getContext("2d"))?e:null}function ih(e){e.g.width=e.parent.offsetWidth,e.g.height=e.parent.offsetHeight}Zi.prototype.ng=function(e,t){if(e={type:"static",text:e,position:"top-right",color:"rgba(255, 255, 255, 0.7)",size:20,alpha:.7,interval:2e3,skip:500,displayDuration:2e3,transitionDuration:.5},t=Object.assign({},e,t||e),t.type==="static"){if(e=XE(this)){e.clearRect(0,0,this.g.width,this.g.height),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.font=t.size+"px Arial";var n=e.measureText(t.text);switch(t.position){case"top-left":n=20;var i=t.size+20;break;case"top-right":n=this.g.width-n.width-20,i=t.size+20;break;case"bottom-left":n=20,i=this.g.height-20;break;case"bottom-right":n=this.g.width-n.width-20,i=this.g.height-20;break;default:n=(this.g.width-n.width)/2,i=(this.g.height+t.size)/2}e.fillText(t.text,n,i)}}else t.type==="dynamic"&&hL(this,t)};function hL(e,t){function n(){if(e.h){switch(r.clearRect(0,0,e.g.width,e.g.height),u){case"fadeIn":s=Math.min(t.alpha,s+l),s>=t.alpha&&(u="display");break;case"display":--a<=0&&(u="fadeOut");break;case"fadeOut":s=Math.max(0,s-l),s<=0&&(u="transition",o=i(),a=Math.round(t.displayDuration*60),u="fadeIn")}s>0&&(r.globalAlpha=s,r.fillStyle=t.color,r.font=t.size+"px Arial",r.fillText(t.text,o.left,o.top)),e.h&&(e.h=requestAnimationFrame(n))}}function i(){r.font=t.size+"px Arial";var d=r.measureText(t.text).width,p=t.size;return d=[{left:20,top:p+20},{left:e.g.width-d-20,top:p+20},{left:20,top:e.g.height-20},{left:e.g.width-d-20,top:e.g.height-20},{left:(e.g.width-d)/2,top:(e.g.height+p)/2}],p=d[c],c=(c+1)%d.length,p}var r=e.g.getContext("2d"),o={left:0,top:0},s=0,u="fadeIn",a=Math.round(t.displayDuration*60),l=1/(Math.round(t.transitionDuration*60)/2),c=0;o=i(),e.h=requestAnimationFrame(n)}Zi.prototype.eg=function(){this.h&&(cancelAnimationFrame(this.h),this.h=null);var e=XE(this);e&&e.clearRect(0,0,this.g.width,this.g.height)},Zi.prototype.release=function(){var e=this;this.g&&this.g.parentNode&&this.g.parentNode.removeChild(this.g),this.i?(this.i.disconnect(),this.i=null):S.removeEventListener("resize",function(){return ih(e)}),xe.prototype.release.call(this)},K("shaka.ui.Watermark",Zi),Zi.prototype.removeWatermark=Zi.prototype.eg,Zi.prototype.setTextWatermark=Zi.prototype.ng;function Bt(e,t,n,i){i=i===void 0?null:i,this.j=e,this.l=t,this.h=rh(this);var r="",o=!1;t.dataset&&t.dataset.shakaPlayerCastReceiverId?(o=t.dataset,r=o.shakaPlayerCastReceiverId,o=o.shakaPlayerCastAndroidReceiverCompatible==="true"):n.dataset&&n.dataset.shakaPlayerCastReceiverId&&(o=n.dataset,r=o.shakaPlayerCastReceiverId,o=o.shakaPlayerCastAndroidReceiverCompatible==="true"),r.length&&(this.h.castReceiverAppId=r,this.h.castAndroidReceiverCompatible=o),t.dataset.shakaPlayerContainer="",t.ui=this,this.Kh()&&t.classList.add("shaka-mobile"),this.g=new Q(e,t,n,i,this.h),n.controls||e.ni(t),t.ui=this,n.ui=this,this.i=null}h=Bt.prototype,h.destroy=function(e){e=e===void 0?!1:e;var t=this;return N(function(n){if(n.g==1)return t.g?w(n,t.g.destroy(e),2):n.B(2);if(n.g!=4)return t.g=null,t.j?w(n,t.j.destroy(),4):n.B(4);t.j=null,t.i=null,Z(n)})},h.Kh=function(){return ke().Oa()=="MOBILE"},h.Lh=function(){return ke().Oa()=="TV"},h.getConfiguration=function(){var e=rh(this);return ea(e,this.h,rh(this),{},""),e},h.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=ta(e,t));var n=Object.assign({},this.h);ea(n,e,rh(this),{},"");var i=hp(n,this.h);if(Object.keys(i).length&&(this.h=n,this.g.configure(this.h),this.g.dispatchEvent(new J("uiupdated")),(n=this.h.castSenderUrl)&&this.h.castReceiverAppId&&S.chrome&&!chrome.cast&&!this.Lh())){i=!1;for(var r=T(document.getElementsByTagName("script")),o=r.next();!o.done;o=r.next())if(o.value.src===n){i=!0;break}i||(i=document.createElement("script"),i.src=n,i.defer=!0,document.head.appendChild(i))}},h.Ok=function(){return this.g},h.xm=function(e){this.g.ji(e)},h.ng=function(e,t){e&&!this.i&&this.l&&this.g&&(this.i=new Zi(this.l,this.g)),this.i&&this.i.ng(e,t)},h.eg=function(){this.i&&this.i.eg()};function rh(e){var t="play_pause skip_previous skip_next mute volume time_and_duration spacer overflow_menu".split(" ");if(S.chrome&&t.push("cast"),"remote"in HTMLMediaElement.prototype?t.push("remote"):S.WebKitPlaybackTargetAvailabilityEvent&&t.push("airplay"),t.push("fullscreen"),t={controlPanelElements:t,overflowMenuButtons:"captions quality language chapter picture_in_picture playback_rate recenter_vr toggle_stereoscopic".split(" "),statisticsList:"width height currentCodecs corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent manifestSizeBytes bytesDownloaded nonFatalErrorCount manifestPeriodCount manifestGapCount".split(" "),adStatisticsList:"loadTimes averageLoadTime started overlayAds playedCompletely skipped errors".split(" "),contextMenuElements:["loop","picture_in_picture","save_video_frame","statistics","ad_statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},qualityMarks:{720:"",1080:"HD",1440:"2K",2160:"4K",4320:"8K"},trackLabelFormat:Wa,textTrackLabelFormat:Wa,fadeDelay:0,closeMenusDelay:2,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!1,forceLandscapeOnFullscreen:!1,enableTooltips:!0,keyboardSeekDistance:5,keyboardLargeSeekDistance:60,fullScreenElement:e.l,preferDocumentPictureInPicture:!0,showAudioChannelCountVariants:!0,seekOnTaps:!1,tapSeekDistance:10,refreshTickInSeconds:.125,displayInVrMode:!1,defaultVrProjectionMode:"equirectangular",setupMediaSession:!0,preferVideoFullScreenInVisionOS:!0,showAudioCodec:!0,showVideoCodec:!0,castSenderUrl:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",enableKeyboardPlaybackControlsInWindow:!1,alwaysShowVolumeBar:!1},e.Kh()){t.addBigPlayButton=!0,t.singleClickForPlayAndPause=!1,t.seekOnTaps=!0,t.enableTooltips=!1,t.doubleClickForFullscreen=!1,e=ke(),t.enableFullscreenOnRotation=e.Ka()!=="WEBKIT",t.forceLandscapeOnFullscreen=!0;var n=["play_pause","skip_previous","skip_next","volume"];t.controlPanelElements=t.controlPanelElements.filter(function(r){return!n.includes(r)}),t.overflowMenuButtons=t.overflowMenuButtons.filter(function(r){return!n.includes(r)}),t.contextMenuElements=t.contextMenuElements.filter(function(r){return!n.includes(r)})}else if(e.Lh()){t.addBigPlayButton=!0,t.singleClickForPlayAndPause=!1,t.enableTooltips=!1,t.doubleClickForFullscreen=!1;var i="play_pause cast remote airplay volume save_video_frame".split(" ");t.controlPanelElements=t.controlPanelElements.filter(function(r){return!i.includes(r)}),t.overflowMenuButtons=t.overflowMenuButtons.filter(function(r){return!i.includes(r)}),t.contextMenuElements=t.contextMenuElements.filter(function(r){return!i.includes(r)})}return t}function YE(){var e,t,n,i,r,o,s,u,a,l,c,d,p,v,y,E,A,k,I,C,L,O;return N(function(M){switch(M.g){case 1:if(f3(),!V2())return oh("shaka-ui-load-failed",$E),M.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),t=document.querySelectorAll("[data-shaka-player]"),n=document.querySelectorAll("[data-shaka-player-canvas]"),i=document.querySelectorAll("[data-shaka-player-vr-canvas]"),!t.length&&!e.length){M.B(2);break}if(t.length&&!e.length){M.B(3);break}r=T(e),o=r.next();case 5:if(o.done){M.B(2);break}if(s=o.value,s.ui){M.B(6);break}for(u=null,a=T(t),l=a.next();!l.done;l=a.next())if(c=l.value,c.parentElement==s){u=c;break}return u||(u=document.createElement("video"),u.setAttribute("playsinline",""),s.appendChild(u)),d=JE(s,n,i),p=d.pj,v=d.pk,ue(M,8),w(M,ZE(s,u,p,v),10);case 10:Ae(M,6);break;case 8:return ae(M),oh("shaka-ui-load-failed",nm),M.return();case 6:o=r.next(),M.B(5);break;case 3:y=T(t),E=y.next();case 11:if(E.done){M.B(2);break}if(A=E.value,A.ui){M.B(12);break}return k=document.createElement("div"),I=A.parentElement,I.replaceChild(k,A),k.appendChild(A),C=JE(k,n,i),L=C.pj,O=C.pk,ue(M,14),w(M,ZE(k,A,L,O),16);case 16:Ae(M,12);break;case 14:return ae(M),oh("shaka-ui-load-failed",nm),M.return();case 12:E=y.next(),M.B(11);break;case 2:oh("shaka-ui-loaded"),Z(M)}})}function oh(e,t){var n=null;t!=null&&(n={reasonCode:t}),e=new CustomEvent(e,{detail:n}),document.dispatchEvent(e)}function ZE(e,t,n,i){var r,o,s,u,a,l,c,d,p,v;return N(function(y){switch(y.g){case 1:for(r=new V,o=[],(s=t.getAttribute("src"))&&(o.push(s),t.removeAttribute("src")),u=T(t.getElementsByTagName("source")),a=u.next();!a.done;a=u.next())l=a.value,o.push(l.src),t.removeChild(l);return w(y,r.Ub(t),2);case 2:r.Li(n),c=new Bt(r,e,t,i||null),t.controls&&c.g.Rj(!0),d=T(o),p=d.next();case 3:if(p.done){y.B(0);break}return v=p.value,ue(y,6),w(y,c.g.Xb().load(v),8);case 8:y.B(0);break;case 6:ae(y);case 4:p=d.next(),y.B(3)}})}function JE(e,t,n){var i=null;t=T(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,r.parentElement==e){i=r;break}for(i||(i=document.createElement("canvas"),i.classList.add("shaka-canvas-container"),e.appendChild(i)),t=null,n=T(n),r=n.next();!r.done;r=n.next())if(r=r.value,r.parentElement==e){t=r;break}return{pj:i,pk:t}}K("shaka.ui.Overlay",Bt),Bt.prototype.removeWatermark=Bt.prototype.eg,Bt.prototype.setTextWatermark=Bt.prototype.ng,Bt.prototype.setEnabled=Bt.prototype.xm,Bt.prototype.getControls=Bt.prototype.Ok,Bt.prototype.configure=Bt.prototype.configure,Bt.prototype.getConfiguration=Bt.prototype.getConfiguration,Bt.prototype.isSmartTV=Bt.prototype.Lh,Bt.prototype.isMobile=Bt.prototype.Kh,Bt.prototype.destroy=Bt.prototype.destroy;var Wa=0;Bt.TrackLabelFormat={LANGUAGE:Wa,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var $E=0,nm=1;Bt.FailReasonCode={NO_BROWSER_SUPPORT:$E,PLAYER_FAILED_TO_LOAD:nm},document.readyState=="complete"?N(function(e){if(e.g==1)return w(e,Promise.resolve(),2);YE(),Z(e)}):S.addEventListener("load",YE);function fL(e){function t(i){return{codecs:i.codecs,channelCount:i.channelCount,language:i.language,roles:i.roles,spatialAudio:i.spatialAudio}}var n=t(e[0]);return e.every(function(i){return JSON.stringify(t(i))===JSON.stringify(n)})}function pL(e,t,n,i,r,o,s,u){function a(b){var U="";return b=="aac"?U="AAC":b==="ac-3"?U="Dolby":b==="ec-3"?U="DD+":b==="ac-4"?U="Dolby AC-4":b==="opus"?U="Opus":b==="flac"&&(U="fLaC"),U&&" "+U}function l(b){var U="";return b>=5&&(U=" "+r.resolve("SURROUND")),U}function c(b,U,B,G,H,F){return U=[b,U,F],s&&G!=null&&U.push(G),u&&d(b)&&H&&U.push(H),B&&o==3&&U.push(B),U.join(": ")}function d(b){return v.has(b)&&v.get(b).size>1}var p=e.find(function(b){return b.active==1});e.length>1&&e[0].label&&o!=3&&fL(e)&&(o=3);for(var v=new Map,y=T(e),E=y.next();!E.done;E=y.next())E=E.value,E.codecs&&(v.has(E.language)||v.set(E.language,new Set),v.get(E.language).add(Et(E.codecs)));y=Gd(t),Gi(t),t.appendChild(y),y=new Set,p=p?c(p.language,p.roles.join(", "),p.label,p.channelsCount,p.codecs&&Et(p.codecs),p.spatialAudio):"",e=T(e);var A=e.next();for(E={};!A.done;E={cc:void 0},A=e.next()){E.cc=A.value,A=E.cc.language;var k=E.cc.roles.join(", "),I=E.cc.label,C=E.cc.channelsCount,L=E.cc.codecs&&Et(E.cc.codecs),O=E.cc.spatialAudio,M=c(A,k,I,C,L,O);if(!y.has(M)){y.add(M);var D=ft();D.addEventListener("click",(function(b){return function(){n(b.cc)}})(E));var P=ee("span");D.appendChild(P),P.textContent=QE(A,r);var j="";switch(u&&s&&O&&(L=="ec-3"||L=="ac-4")?j+=" Dolby Atmos":(u&&d(A)&&(j+=a(L)),s&&(j+=l(C))),o){case Wa:P.textContent+=j;break;case 1:P.textContent+=j,k?P.textContent=k:(ye("Track #"+JSON.stringify(E.cc)+" does not have a role, but the UI is configured to only show role."),P.textContent="?");break;case 2:P.textContent+=j,k&&(P.textContent+=": "+k);break;case 3:I?P.textContent=I:(ye("Track #"+JSON.stringify(E.cc)+" does not have a label, but the UI is configured to only show labels."),P.textContent="?")}M==p&&(D.appendChild(so()),P.classList.add("shaka-chosen-item"),D.ariaSelected="true",i.textContent=P.textContent),t.appendChild(D)}}}function gL(e,t,n,i,r,o,s){function u(C,L,O,M){return C=[C,L,M],O&&s==3&&C.push(O),C.join(": ")}var a=e.find(function(C){return C.active==1}),l=Gd(t);Gi(t),t.appendChild(l),l=new Set,a=a?u(a.language,a.roles.join(", "),a.label,a.forced):"",e=T(e);for(var c=e.next(),d={};!c.done;d={ed:void 0},c=e.next()){d.ed=c.value,c=d.ed.language;var p=d.ed.forced,v=o.resolve("SUBTITLE_FORCED"),y=d.ed.roles.join(", "),E=d.ed.label,A=u(c,y,E,p);if(!l.has(A)){l.add(A);var k=ft();k.addEventListener("click",(function(C){return function(){n(C.ed)}})(d));var I=ee("span");switch(k.appendChild(I),I.textContent=QE(c,o),s){case Wa:p&&(I.textContent+=" ("+v+")");break;case 1:y?I.textContent=y:(ye("Track #"+d.ed.id+" does not have a role, but the UI is configured to only show role."),I.textContent="?"),p&&(I.textContent+=" ("+v+")");break;case 2:y&&(I.textContent+=": "+y),p&&(I.textContent+=" ("+v+")");break;case 3:E?I.textContent=E:(ye("Track #"+d.ed.id+" does not have a label, but the UI is configured to only show labels."),I.textContent="?")}i&&A==a&&(k.appendChild(so()),I.classList.add("shaka-chosen-item"),k.ariaSelected="true",r.textContent=I.textContent),t.appendChild(k)}}}function QE(e,t){if(!e&&!t)return"";switch(e){case"mul":return t.resolve("MULTIPLE_LANGUAGES");case"und":return t.resolve("UNDETERMINED_LANGUAGE");case"zxx":return t.resolve("NOT_APPLICABLE")}var n=vo(e);return e in Ei?Ei[e]:n in Ei?Ei[n]+" ("+e+")":t.resolve("UNRECOGNIZED_LANGUAGE")+" ("+e+")"}function mi(e,t,n){function i(){return im(r)}xe.call(this,e,t);var r=this;this.m=this.controls.l,mL(this,n),vL(this),yL(this),this.eventManager.o(this.button,"click",function(){r.controls.Ca()&&(r.menu.classList.contains("shaka-hidden")?(r.controls.dispatchEvent(new J("submenuopen")),oe(r.menu,!0),eu(r.menu),im(r)):oe(r.menu,!1))}),this.j=null,S.ResizeObserver?(this.j=new ResizeObserver(i),this.j.observe(this.controls.l)):this.eventManager.o(S,"resize",i)}se(mi,xe),mi.prototype.release=function(){this.j&&(this.j.disconnect(),this.j=null),xe.prototype.release.call(this)};function mL(e,t){e.button=ft(),e.button.classList.add("shaka-overflow-button"),e.icon=new vt(e.button,t),t=ee("label"),t.classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),t.classList.add("shaka-overflow-button-label-inline"),e.nameSpan=ee("span"),t.appendChild(e.nameSpan),e.currentSelection=ee("span"),e.currentSelection.classList.add("shaka-current-selection-span"),t.appendChild(e.currentSelection),e.button.appendChild(t),e.parent.appendChild(e.button)}function vL(e){e.menu=ee("div"),e.menu.classList.add("shaka-no-propagation"),e.menu.classList.add("shaka-show-controls-on-mouse-over"),e.menu.classList.add("shaka-settings-menu"),e.menu.classList.add("shaka-hidden"),e.backButton=ft(),e.backButton.classList.add("shaka-back-to-overflow-button"),e.menu.appendChild(e.backButton),e.eventManager.o(e.backButton,"click",function(){e.controls.Xc()}),e.u=new vt(e.backButton,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z"),e.backSpan=ee("span"),e.backButton.appendChild(e.backSpan),e.controls.i.appendChild(e.menu)}function yL(e){e.parent.classList.contains("shaka-overflow-menu")&&(e.u.use("m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z"),e.eventManager.o(e.menu,"click",function(){function t(n){return n.classList.contains("shaka-hidden")==0}oe(e.menu,!1),oe(e.parent,!0),xv(e.parent.childNodes,t)&&Qo(e.parent.childNodes,t)[0].focus(),_i(e.controls),im(e)}))}function im(e){var t=e.menu.getBoundingClientRect(),n=S.getComputedStyle(e.menu),i=parseFloat(n.paddingTop);n=parseFloat(n.paddingBottom);var r=e.m.getBoundingClientRect();e.menu.style.maxHeight=t.bottom-r.top-i-n+"px"}K("shaka.ui.SettingsMenu",mi);function rm(e,t){mi.call(this,e,t,"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q83 0 155.5 31.5t127 86q54.5 54.5 86 127T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Zm0-82q26-36 45-75t31-83H404q12 44 31 83t45 75Zm-104-16q-18-33-31.5-68.5T322-320H204q29 50 72.5 87t99.5 55Zm208 0q56-18 99.5-55t72.5-87H638q-9 38-22.5 73.5T584-178ZM170-400h136q-3-20-4.5-39.5T300-480q0-21 1.5-40.5T306-560H170q-5 20-7.5 39.5T160-480q0 21 2.5 40.5T170-400Zm216 0h188q3-20 4.5-39.5T580-480q0-21-1.5-40.5T574-560H386q-3 20-4.5 39.5T380-480q0 21 1.5 40.5T386-400Zm268 0h136q5-20 7.5-39.5T800-480q0-21-2.5-40.5T790-560H654q3 20 4.5 39.5T660-480q0 21-1.5 40.5T654-400Zm-16-240h118q-29-50-72.5-87T584-782q18 33 31.5 68.5T638-640Zm-234 0h152q-12-44-31-83t-45-75q-26 36-45 75t-31 83Zm-200 0h118q9-38 22.5-73.5T376-782q-56 18-99.5 55T204-640Z");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",function(){om(n)}),this.eventManager.o(this.localization,"locale-changed",function(){om(n)}),this.eventManager.o(this.player,"loading",function(){Xa(n)}),this.eventManager.o(this.player,"loaded",function(){Xa(n)}),this.eventManager.o(this.player,"unloading",function(){Xa(n)}),this.eventManager.o(this.player,"audiotrackschanged",function(){Xa(n)}),om(this),Xa(this)}se(rm,mi);function Xa(e){var t=e.player.getAudioTracks()||[];pL(t,e.menu,function(n){e.player.Nj(n);var i={preferredAudioLanguage:n.language,preferSpatialAudio:n.spatialAudio};n.label&&(i.preferredAudioLabel=n.label),n.channelsCount&&(i.preferredAudioChannelCount=n.channelsCount),e.player.configure(i)},e.currentSelection,e.localization,e.controls.g.trackLabelFormat,e.controls.g.showAudioChannelCountVariants,e.controls.g.showAudioCodec),eu(e.menu),e.controls.dispatchEvent(new J("languageselectionupdated")),e.button.setAttribute("shaka-status",e.currentSelection.innerText),oe(e.button,e.menu.getElementsByTagName("button").length>2)}function om(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("LANGUAGE"),e.nameSpan.textContent=e.localization.resolve("LANGUAGE"),e.backSpan.textContent=e.localization.resolve("LANGUAGE")}K("shaka.ui.AudioLanguageSelection",rm);function sm(){}sm.prototype.create=function(e,t){return new rm(e,t)},An("language",new sm),bt("language",new sm);function um(e,t){xe.call(this,e,t);var n=this;this.h=this.controls.F,this.g=ft(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.l=new vt(this.g,"M480-480Zm320 320H600q0-20-1.5-40t-4.5-40h206v-480H160v46q-20-3-40-4.5T80-680v-40q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160Zm-720 0v-120q50 0 85 35t35 85H80Zm200 0q0-83-58.5-141.5T80-360v-80q117 0 198.5 81.5T360-160h-80Zm160 0q0-75-28.5-140.5t-77-114q-48.5-48.5-114-77T80-520v-80q91 0 171 34.5T391-471q60 60 94.5 140T520-160h-80Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.j=ee("span"),e.appendChild(this.j),this.i=ee("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),am(this),eA(this),this.eventManager.o(this.localization,"locale-updated",function(){am(n)}),this.eventManager.o(this.localization,"locale-changed",function(){am(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&TL(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){eA(n)})}se(um,xe);function TL(e){var t;N(function(n){if(n.g==1)return e.h.Pa()?(e.h.bk(),n.B(0)):(ue(n,3),e.g.disabled=!0,w(n,e.h.cast(),5));if(n.g!=3)return e.g.disabled=!1,Ae(n,0);t=ae(n),e.g.disabled=!1,t.code!=8004&&e.controls.dispatchEvent(new J("error",new Map().set("detail",t))),Z(n)})}function eA(e){var t=e.h.Pg()&&e.controls.ua,n=e.h.Pa();oe(e.g,t),e.l.use(n?"M720-600v240q0 17-11.5 28.5T680-320h-87q-8 0-14.5-4.5T569-337q-29-81-81.5-147T364-596q-16-10-11.5-27t21.5-17h306q17 0 28.5 11.5T720-600ZM320-160q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125.5T518-201q2 17-9.5 29T480-160Zm-340 0q-25 0-42.5-17.5T80-220q0-25 17.5-42.5T140-280q25 0 42.5 17.5T200-220q0 25-17.5 42.5T140-160Zm740-560v480q0 33-23.5 56.5T800-160H638q-17 0-28.5-11.5T598-200q0-17 11.5-28.5T638-240h162v-480H160v6q0 17-11.5 28.5T120-674q-17 0-28.5-11.5T80-714v-6q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720Z":"M480-480Zm320 320H600q0-20-1.5-40t-4.5-40h206v-480H160v46q-20-3-40-4.5T80-680v-40q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160Zm-720 0v-120q50 0 85 35t35 85H80Zm200 0q0-83-58.5-141.5T80-360v-80q117 0 198.5 81.5T360-160h-80Zm160 0q0-75-28.5-140.5t-77-114q-48.5-48.5-114-77T80-520v-80q91 0 171 34.5T391-471q60 60 94.5 140T520-160h-80Z"),t&&(e.g.ariaPressed=n?"true":"false"),tA(e)}function tA(e){e.i.textContent=e.h.Pa()?e.h.cg():e.localization.resolve("OFF")}function am(e){e.g.ariaLabel=e.localization.resolve("CAST"),e.j.textContent=e.localization.resolve("CAST"),tA(e)}K("shaka.ui.CastButton",um);function lm(){}lm.prototype.create=function(e,t){return new um(e,t)},An("cast",new lm),bt("cast",new lm);function cm(e,t){mi.call(this,e,t,"m400-200-182 91q-20 10-39-1.5T160-145v-495q0-33 23.5-56.5T240-720h320q33 0 56.5 23.5T640-640v495q0 23-19 34.5t-39 1.5l-182-91Zm360-40q-17 0-28.5-11.5T720-280v-520H320q-17 0-28.5-11.5T280-840q0-17 11.5-28.5T320-880h400q33 0 56.5 23.5T800-800v520q0 17-11.5 28.5T760-240Z");var n=this;this.button.classList.add("shaka-chapter-button"),this.menu.classList.add("shaka-chapters"),this.button.classList.add("shaka-tooltip-status"),this.g=[],this.h="und",this.eventManager.o(this.localization,"locale-updated",function(){dm(n),sh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){dm(n),sh(n)}),this.eventManager.o(this.player,"unloading",function(){nA(n),n.h="und",n.g=[]}),this.eventManager.o(this.player,"trackschanged",function(){sh(n)}),dm(this),sh(this)}se(cm,mi);function dm(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("CHAPTERS"),e.nameSpan.textContent=e.localization.resolve("CHAPTERS"),e.backSpan.textContent=e.localization.resolve("CHAPTERS")}function nA(e){var t=Gd(e.menu);Gi(e.menu),e.menu.appendChild(t),oe(e.button,!1)}function sh(e){var t,n,i,r,o,s,u,a,l,c,d,p,v;N(function(y){switch(y.g){case 1:t=function(E,A){return!E&&!A||E.id===A.id&&E.title===A.title&&E.startTime===A.startTime&&E.endTime===A.endTime},n="und",i=[],r=e.localization.g,o=T(Array.from(r)),s=o.next();case 2:if(s.done){y.B(4);break}if(n=s.value,!e.player){y.B(5);break}return w(y,e.player.uh(n),6);case 6:i=y.h||[];case 5:if(i.length){y.B(4);break}s=o.next(),y.B(2);break;case 4:if(i.length){y.B(7);break}if(n="und",!e.player){y.B(7);break}return w(y,e.player.uh(n),9);case 9:i=y.h||[];case 7:if(u=n!==e.h,a=e.g.length!==i.length||!e.g.some(function(E,A){return A=i.at(A),t(E,A)||i.some(function(k){return t(E,k)})}),e.h=n,e.g=i,!i.length)nA(e);else if(u||a){for(l=T(e.g),c=l.next(),d={};!c.done;d={Rg:void 0},c=l.next())d.Rg=c.value,p=ft(),v=ee("span"),v.classList.add("shaka-chapter"),v.textContent=d.Rg.title,p.appendChild(v),e.eventManager.o(p,"click",(function(E){return function(){e.controls.Ca()&&(e.video.currentTime=E.Rg.startTime)}})(d)),e.menu.appendChild(p);oe(e.button,!0),eu(e.menu)}Z(y)}})}K("shaka.ui.ChapterSelection",cm);function hm(){}hm.prototype.create=function(e,t){return new cm(e,t)},An("chapter",new hm),bt("chapter",new hm);function fm(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),new vt(this.g).use("M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.parent.appendChild(this.g),pm(this),this.h=this.controls.g.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",function(){pm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){pm(n)}),this.eventManager.o(this.g,"click",function(){if(n.controls.Ca()&&n.video.duration){var i=n.h.indexOf(n.player.Za())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.video.paused&&n.video.play(),n.player.xc(i),n.g.setAttribute("shaka-status",i+"x")}}),this.eventManager.o(this.player,"ratechange",function(){n.g.setAttribute("shaka-status",n.player.Za()+"x")})}se(fm,xe);function pm(e){e.g.ariaLabel=e.localization.resolve("FAST_FORWARD")}K("shaka.ui.FastForwardButton",fm);function iA(){}iA.prototype.create=function(e,t){return new fm(e,t)},bt("fast_forward",new iA);function gm(e,t){xe.call(this,e,t);var n=this;this.h=this.controls.u,this.g=ft(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("shaka-tooltip"),this.i=new vt(this.g,"M200-200h80q17 0 28.5 11.5T320-160q0 17-11.5 28.5T280-120H160q-17 0-28.5-11.5T120-160v-120q0-17 11.5-28.5T160-320q17 0 28.5 11.5T200-280v80Zm560 0v-80q0-17 11.5-28.5T800-320q17 0 28.5 11.5T840-280v120q0 17-11.5 28.5T800-120H680q-17 0-28.5-11.5T640-160q0-17 11.5-28.5T680-200h80ZM200-760v80q0 17-11.5 28.5T160-640q-17 0-28.5-11.5T120-680v-120q0-17 11.5-28.5T160-840h120q17 0 28.5 11.5T320-800q0 17-11.5 28.5T280-760h-80Zm560 0h-80q-17 0-28.5-11.5T640-800q0-17 11.5-28.5T680-840h120q17 0 28.5 11.5T840-800v120q0 17-11.5 28.5T800-640q-17 0-28.5-11.5T760-680v-80Z"),Ya(this),this.parent.appendChild(this.g),uh(this),this.eventManager.o(this.localization,"locale-updated",function(){uh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){uh(n)}),this.eventManager.o(this.g,"click",function(){return N(function(i){return n.controls.Ca()?w(i,n.controls.ug(),0):i.return()})}),this.eventManager.o(document,"fullscreenchange",function(){n.i.use(n.controls.wb()?"M240-240h-80q-17 0-28.5-11.5T120-280q0-17 11.5-28.5T160-320h120q17 0 28.5 11.5T320-280v120q0 17-11.5 28.5T280-120q-17 0-28.5-11.5T240-160v-80Zm480 0v80q0 17-11.5 28.5T680-120q-17 0-28.5-11.5T640-160v-120q0-17 11.5-28.5T680-320h120q17 0 28.5 11.5T840-280q0 17-11.5 28.5T800-240h-80ZM240-720v-80q0-17 11.5-28.5T280-840q17 0 28.5 11.5T320-800v120q0 17-11.5 28.5T280-640H160q-17 0-28.5-11.5T120-680q0-17 11.5-28.5T160-720h80Zm480 0h80q17 0 28.5 11.5T840-680q0 17-11.5 28.5T800-640H680q-17 0-28.5-11.5T640-680v-120q0-17 11.5-28.5T680-840q17 0 28.5 11.5T720-800v80Z":"M200-200h80q17 0 28.5 11.5T320-160q0 17-11.5 28.5T280-120H160q-17 0-28.5-11.5T120-160v-120q0-17 11.5-28.5T160-320q17 0 28.5 11.5T200-280v80Zm560 0v-80q0-17 11.5-28.5T800-320q17 0 28.5 11.5T840-280v120q0 17-11.5 28.5T800-120H680q-17 0-28.5-11.5T640-160q0-17 11.5-28.5T680-200h80ZM200-760v80q0 17-11.5 28.5T160-640q-17 0-28.5-11.5T120-680v-120q0-17 11.5-28.5T160-840h120q17 0 28.5 11.5T320-800q0 17-11.5 28.5T280-760h-80Zm560 0h-80q-17 0-28.5-11.5T640-800q0-17 11.5-28.5T680-840h120q17 0 28.5 11.5T840-800v120q0 17-11.5 28.5T800-640q-17 0-28.5-11.5T760-680v-80Z"),uh(n)}),this.eventManager.o(this.h,"loadedmetadata",function(){Ya(n)}),this.eventManager.o(this.h,"loadeddata",function(){Ya(n)}),this.eventManager.o(this.adManager,"ad-started",function(){Ya(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Ya(n)})}se(gm,xe);function Ya(e){e.controls.Ae()?e.g.classList.remove("shaka-hidden"):e.g.classList.add("shaka-hidden")}function uh(e){var t=e.controls.wb()?"EXIT_FULL_SCREEN":"FULL_SCREEN";e.g.ariaLabel=e.localization.resolve(t)}K("shaka.ui.FullscreenButton",gm);function rA(){}rA.prototype.create=function(e,t){return new gm(e,t)},bt("fullscreen",new rA);function ah(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.m=new vt(this.g,"m274-200 34 34q12 12 11.5 28T308-110q-12 12-28.5 12.5T251-109L148-212q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l103-103q12-12 28.5-11.5T308-370q11 12 11.5 28T308-314l-34 34h406v-120q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400v120q0 33-23.5 56.5T680-200H274Zm412-480H280v120q0 17-11.5 28.5T240-520q-17 0-28.5-11.5T200-560v-120q0-33 23.5-56.5T280-760h406l-34-34q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T709-851l103 103q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L709-589q-12 12-28.5 11.5T652-590q-11-12-11.5-28t11.5-28l34-34Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.j=ee("span"),this.j.textContent=this.localization.resolve("LOOP"),e.appendChild(this.j),this.i=ee("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),lh(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){lh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){lh(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&(n.video.loop=!n.video.loop,n.h.Ja(),n.h.va(1))}),this.l=this.video.loop,this.h=new le(function(){n.l!=n.video.loop&&(lh(n),n.l=n.video.loop)}),this.h.va(1),this.eventManager.o(this.player,"unloading",function(){ch(n)}),this.eventManager.o(this.player,"loaded",function(){ch(n)}),this.eventManager.o(this.player,"manifestupdated",function(){ch(n)}),this.eventManager.o(this.video,"durationchange",function(){ch(n)})}se(ah,xe),ah.prototype.release=function(){this.h.stop(),this.h=null,xe.prototype.release.call(this)};function lh(e){e.j.textContent=e.localization.resolve("LOOP"),e.i.textContent=e.localization.resolve(e.video.loop?"ON":"OFF"),e.m.use(e.video.loop?"M120-40q-33 0-56.5-23.5T40-120v-720q0-33 23.5-56.5T120-920h720q33 0 56.5 23.5T920-840v720q0 33-23.5 56.5T840-40H120Zm154-160h406q33 0 56.5-23.5T760-280v-120q0-17-11.5-28.5T720-440q-17 0-28.5 11.5T680-400v120H274l34-34q12-12 11.5-28T308-370q-12-12-28.5-12.5T251-371L148-268q-6 6-8.5 13t-2.5 15q0 8 2.5 15t8.5 13l103 103q12 12 28.5 11.5T308-110q11-12 11.5-28T308-166l-34-34Zm412-480-34 34q-12 12-11.5 28t11.5 28q12 12 28.5 12.5T709-589l103-103q6-6 8.5-13t2.5-15q0-8-2.5-15t-8.5-13L709-851q-12-12-28.5-11.5T652-850q-11 12-11.5 28t11.5 28l34 34H280q-33 0-56.5 23.5T200-680v120q0 17 11.5 28.5T240-520q17 0 28.5-11.5T280-560v-120h406Z":"m274-200 34 34q12 12 11.5 28T308-110q-12 12-28.5 12.5T251-109L148-212q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l103-103q12-12 28.5-11.5T308-370q11 12 11.5 28T308-314l-34 34h406v-120q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400v120q0 33-23.5 56.5T680-200H274Zm412-480H280v120q0 17-11.5 28.5T240-520q-17 0-28.5-11.5T200-560v-120q0-33 23.5-56.5T280-760h406l-34-34q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T709-851l103 103q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L709-589q-12 12-28.5 11.5T652-590q-11-12-11.5-28t11.5-28l34-34Z"),e.g.ariaLabel=e.localization.resolve(e.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}function ch(e){oe(e.g,!e.player.U())}K("shaka.ui.LoopButton",ah);function dh(){}dh.prototype.create=function(e,t){return new ah(e,t)},An("loop",new dh),bt("loop",new dh),Ho("loop",new dh);function mm(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("shaka-tooltip"),this.j=new vt(this.g,"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.h=ee("span"),this.h.textContent=this.localization.resolve("MUTE"),e.appendChild(this.h),this.i=ee("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),Lr(this),Xo(this),this.eventManager.o(this.localization,"locale-updated",function(){Lr(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Lr(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&(n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted||n.video.volume!=0?n.video.muted=!n.video.muted:n.video.volume=1)}),this.eventManager.o(this.video,"volumechange",function(){Lr(n),Xo(n)}),this.eventManager.o(this.player,"loading",function(){Lr(n),Xo(n)}),this.eventManager.o(this.player,"loaded",function(){iu(n)}),this.eventManager.o(this.player,"unloading",function(){iu(n)}),this.eventManager.o(this.player,"trackschanged",function(){iu(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){Lr(n),Xo(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){Lr(n),Xo(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){Lr(n),Xo(n)}),this.eventManager.o(this.adManager,"ad-started",function(){iu(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null,Lr(n),Xo(n),iu(n)}),iu(this)}se(mm,xe);function Lr(e){var t=e.ad?e.ad.isMuted()?"UNMUTE":"MUTE":e.video.muted||e.video.volume==0?"UNMUTE":"MUTE";e.g.ariaLabel=e.localization.resolve(t),e.h.textContent=e.localization.resolve(t)}function Xo(e){var t=e.ad?e.ad.isMuted()?"M671-177q-11 7-22 13t-23 11q-15 7-30.5 0T574-176q-6-15 1.5-29.5T598-227q4-2 7.5-4t7.5-4L480-368v111q0 27-24.5 37.5T412-228L280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h88L84-764q-11-11-11-28t11-28q11-11 28-11t28 11l680 680q11 11 11 28t-11 28q-11 11-28 11t-28-11l-93-93Zm89-304q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131t58 197q0 33-6 65.5T817-353q-8 22-24.5 27.5t-30.5.5q-14-5-22.5-18t-.5-30q11-26 16-52.5t5-55.5ZM591-623q33 21 51 63t18 80v10q0 5-1 10-2 13-14 17t-22-6l-51-51q-6-6-9-13.5t-3-15.5v-77q0-12 10.5-17.5t20.5.5Zm-201-59q-6-6-6-14t6-14l22-22q19-19 43.5-8.5T480-703v63q0 14-12 19t-22-5l-56-56Z":"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z":e.video.muted||e.video.volume==0?"M671-177q-11 7-22 13t-23 11q-15 7-30.5 0T574-176q-6-15 1.5-29.5T598-227q4-2 7.5-4t7.5-4L480-368v111q0 27-24.5 37.5T412-228L280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h88L84-764q-11-11-11-28t11-28q11-11 28-11t28 11l680 680q11 11 11 28t-11 28q-11 11-28 11t-28-11l-93-93Zm89-304q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131t58 197q0 33-6 65.5T817-353q-8 22-24.5 27.5t-30.5.5q-14-5-22.5-18t-.5-30q11-26 16-52.5t5-55.5ZM591-623q33 21 51 63t18 80v10q0 5-1 10-2 13-14 17t-22-6l-51-51q-6-6-9-13.5t-3-15.5v-77q0-12 10.5-17.5t20.5.5Zm-201-59q-6-6-6-14t6-14l22-22q19-19 43.5-8.5T480-703v63q0 14-12 19t-22-5l-56-56Z":"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z";e.j.use(t)}function iu(e){var t=!0;e.ad&&e.ad.isLinear()?t=!0:e.player.Kf()&&(t=!1),oe(e.g,t)}K("shaka.ui.MuteButton",mm);function hh(){}hh.prototype.create=function(e,t){return new mm(e,t)},An("mute",new hh),bt("mute",new hh),Ho("mute",new hh);function vm(e,t){xe.call(this,e,t);var n=this;this.j=this.controls.u,this.g=ft(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.l=new vt(this.g,"M120-520q-17 0-28.5-11.5T80-560q0-17 11.5-28.5T120-600h104L80-743q-12-12-12-28.5T80-800q12-12 28.5-12t28.5 12l143 144v-104q0-17 11.5-28.5T320-800q17 0 28.5 11.5T360-760v200q0 17-11.5 28.5T320-520H120Zm40 360q-33 0-56.5-23.5T80-240v-160q0-17 11.5-28.5T120-440q17 0 28.5 11.5T160-400v160h280q17 0 28.5 11.5T480-200q0 17-11.5 28.5T440-160H160Zm680-280q-17 0-28.5-11.5T800-480v-240H480q-17 0-28.5-11.5T440-760q0-17 11.5-28.5T480-800h320q33 0 56.5 23.5T880-720v240q0 17-11.5 28.5T840-440ZM600-160q-17 0-28.5-11.5T560-200v-120q0-17 11.5-28.5T600-360h240q17 0 28.5 11.5T880-320v120q0 17-11.5 28.5T840-160H600Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.i=ee("span"),this.i.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),e.appendChild(this.i),this.h=ee("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),ym(this),this.parent.appendChild(this.g),this.controls.Jf()||oe(this.g,!1),this.eventManager.o(this.localization,"locale-updated",function(){ym(n)}),this.eventManager.o(this.localization,"locale-changed",function(){ym(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&n.controls.dd()}),this.eventManager.o(this.j,"enterpictureinpicture",function(){oA(n)}),this.eventManager.o(this.j,"leavepictureinpicture",function(){sA(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){uA(n)}),this.eventManager.o(this.player,"trackschanged",function(){uA(n)}),"documentPictureInPicture"in S&&this.eventManager.o(S.documentPictureInPicture,"enter",function(i){oA(n),n.eventManager.qa(i.window,"pagehide",function(){sA(n)})})}se(vm,xe);function oA(e){e.l.use("M160-160q-33 0-56.5-23.5T80-240v-240q0-17 11.5-28.5T120-520q17 0 28.5 11.5T160-480v240h640v-480H480q-17 0-28.5-11.5T440-760q0-17 11.5-28.5T480-800h320q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm400-263 95 95q12 12 28 12t28-12q12-12 12-28.5T711-385l-95-95h64q17 0 28.5-11.5T720-520q0-17-11.5-28.5T680-560H520q-17 0-28.5 11.5T480-520v160q0 17 11.5 28.5T520-320q17 0 28.5-11.5T560-360v-63ZM120-600q-17 0-28.5-11.5T80-640v-120q0-17 11.5-28.5T120-800h200q17 0 28.5 11.5T360-760v120q0 17-11.5 28.5T320-600H120Zm360 120Z"),e.g.ariaLabel=e.localization.resolve("EXIT_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("ON")}function sA(e){e.l.use("M120-520q-17 0-28.5-11.5T80-560q0-17 11.5-28.5T120-600h104L80-743q-12-12-12-28.5T80-800q12-12 28.5-12t28.5 12l143 144v-104q0-17 11.5-28.5T320-800q17 0 28.5 11.5T360-760v200q0 17-11.5 28.5T320-520H120Zm40 360q-33 0-56.5-23.5T80-240v-160q0-17 11.5-28.5T120-440q17 0 28.5 11.5T160-400v160h280q17 0 28.5 11.5T480-200q0 17-11.5 28.5T440-160H160Zm680-280q-17 0-28.5-11.5T800-480v-240H480q-17 0-28.5-11.5T440-760q0-17 11.5-28.5T480-800h320q33 0 56.5 23.5T880-720v240q0 17-11.5 28.5T840-440ZM600-160q-17 0-28.5-11.5T560-200v-120q0-17 11.5-28.5T600-360h240q17 0 28.5 11.5T880-320v120q0 17-11.5 28.5T840-160H600Z"),e.g.ariaLabel=e.localization.resolve("ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("OFF")}function ym(e){e.i.textContent=e.localization.resolve("PICTURE_IN_PICTURE");var t=e.controls.Nd();e.g.ariaLabel=e.localization.resolve(t?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve(t?"ON":"OFF")}function uA(e){N(function(t){return e.controls.Jf()&&(!e.player||!e.player.Md())?(oe(e.g,!0),t.B(0)):(oe(e.g,!1),e.controls.Nd()?w(t,e.controls.dd(),0):t.B(0))})}K("shaka.ui.PipButton",vm);function fh(){}fh.prototype.create=function(e,t){return new vm(e,t)},An("picture_in_picture",new fh),bt("picture_in_picture",new fh),Ho("picture_in_picture",new fh);function Tm(e,t){mi.call(this,e,t,"m426-330 195-125q14-9 14-25t-14-25L426-630q-15-10-30.5-1.5T380-605v250q0 18 15.5 26.5T426-330ZM121-440q17 0 30.5 11t18.5 28q6 23 14.5 43.5T204-317q9 15 7.5 32T198-256q-11 11-27 10t-25-14q-22-31-37-66.5T86-400q-3-16 7.5-28t27.5-12Zm77-264q12 12 13 29t-7 31q-11 20-19.5 41T170-559q-5 17-18.5 28T121-520q-17 0-27.5-12.5T87-561q8-38 23-73.5t36-66.5q9-13 25-13.5t27 10.5Zm56 505q12-13 29.5-14t32.5 8q20 11 40.5 20t42.5 15q17 5 28 18t11 30q0 17-12.5 27T397-88q-38-8-71.5-23T260-146q-14-9-15.5-25t9.5-28Zm186-639q0 17-10.5 30T402-790q-23 6-44 14.5T317-755q-15 9-32.5 7.5T255-761q-12-12-10.5-28.5T260-815q32-20 66.5-34.5T399-872q16-3 28.5 7t12.5 27Zm360 358q0-113-69.5-199.5T553-792q-15-4-24-17t-9-29q0-16 11-26.5t25-7.5q140 28 232 137t92 255q0 146-92 255T556-88q-14 3-25-7.5T520-122q0-16 9-29t24-17q108-26 177.5-112.5T800-480Z");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),Array.from(e.classList).includes("shaka-overflow-menu")||(this.g=ee("span"),this.g.classList.add("shaka-overflow-playback-rate-mark"),this.button.appendChild(this.g)),this.eventManager.o(this.localization,"locale-updated",function(){Sm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Sm(n)}),this.eventManager.o(this.player,"loaded",function(){Em(n)}),this.eventManager.o(this.player,"ratechange",function(){Em(n)}),Sm(this),SL(this),Em(this)}se(Tm,mi);function Sm(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("PLAYBACK_RATE"),e.nameSpan.textContent=e.localization.resolve("PLAYBACK_RATE"),e.backSpan.textContent=e.localization.resolve("PLAYBACK_RATE")}function Em(e){var t=e.player.Za(),n=Rg(e.menu,"material-svg-icon shaka-chosen-item");if(n){var i=n.parentElement;i.removeAttribute("aria-selected");var r=i.getElementsByTagName("span")[0];r&&r.classList.remove("shaka-chosen-item"),i.removeChild(n)}(n=Array.from(e.menu.querySelectorAll("span")).find(function(o){return o.textContent==t+"x"}))&&(i=n.parentElement,i.appendChild(so()),i.ariaSelected="true",n.classList.add("shaka-chosen-item")),e.currentSelection.textContent=t+"x",e.button.setAttribute("shaka-status",t+"x"),e.g&&(e.g.textContent=t+"x")}function SL(e){for(var t=T(e.controls.g.playbackRates),n=t.next(),i={};!n.done;i={ag:void 0},n=t.next()){i.ag=n.value,n=ft();var r=ee("span");r.textContent=i.ag+"x",n.appendChild(r),e.eventManager.o(n,"click",(function(o){return function(){o.ag==e.video.defaultPlaybackRate?e.player.Bd():e.player.xc(o.ag,!1)}})(i)),e.menu.appendChild(n)}eu(e.menu)}K("shaka.ui.PlaybackRateSelection",Tm);function Am(){}Am.prototype.create=function(e,t){return new Tm(e,t)},An("playback_rate",new Am),bt("playback_rate",new Am);function xm(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-current-time"),Za(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&n.player.U()&&(n.video.currentTime=n.player.xa().end)}),this.eventManager.o(this.player,"loading",function(){oe(n.g,!0)}),this.eventManager.o(this.controls,"timeandseekrangeupdated",function(){var i=n.controls.V,r=n.controls.wh(),o=n.player.xa(),s=o.end-o.start;isFinite(s)?n.player.U()?(r=Math.max(0,Math.floor(o.end-r)),s=s>=3600,r>=1||i?(Za(n,"- "+Yi(r,s)),n.g.disabled=!1):(Za(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(i=s>=3600,r=Math.max(0,r-o.start),s&&(r=Math.min(r,s)),r=Yi(r,i),s&&(r+=" / "+Yi(s,i)),Za(n,r),n.g.disabled=!0):(Za(n,n.localization.resolve("LIVE")),n.g.disabled=!0)}),this.eventManager.o(this.player,"trackschanged",function(){n.player.U()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))}),this.eventManager.o(this.adManager,"ad-started",function(){oe(n.g,!n.ad.isLinear())}),this.eventManager.o(this.adManager,"ad-stopped",function(){oe(n.g,!0)})}se(xm,xe);function Za(e,t){t!=e.g.textContent&&(e.g.textContent=t)}K("shaka.ui.PresentationTimeTracker",xm);function aA(){}aA.prototype.create=function(e,t){return new xm(e,t)},bt("time_and_duration",new aA);function wm(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-recenter-vr-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new vt(this.g,"M479-359q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35Zm-57 222-85-85q-12-12-11.5-28.5T338-279q12-12 28.5-12t28.5 12l85 86 85-85q11-11 28-11t28 11q11 11 11 28t-11 28l-85 85q-12 12-27 18t-30 6q-15 0-30-6t-27-18ZM221-337l-85-85q-12-12-18-27t-6-30q0-15 6-30t18-27l85-85q12-12 28.5-12t28.5 12q12 12 12 28.5T278-564l-86 86 85 85q11 11 11 28t-11 28q-11 11-28 11t-28-11Zm116-401 85-85q12-12 27-18t30-6q15 0 30 6t27 18l85 85q12 12 12 28t-12 28q-12 12-28.5 12T564-682l-86-85-85 85q-11 11-28 11t-28-11q-11-11-11-28t11-28Zm344 343 85-85-85-85q-11-11-11-28t11-28q11-11 28-11t28 11l85 85q12 12 18 27t6 30q0 15-6 30t-18 27l-85 85q-12 12-28 11.5T681-338q-12-12-12-28.5t12-28.5Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=ee("span"),e.appendChild(this.i),this.h=ee("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),this.parent.appendChild(this.g),Im(this),this.eventManager.o(this.localization,"locale-updated",function(){Im(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Im(n)});var i=this.controls.D;this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&(i.g?Vg(i.g):ye("Not playing VR content"))}),this.eventManager.o(i,"vrstatuschanged",function(){oe(n.g,n.controls.Yb())}),oe(this.g,this.controls.Yb())}se(wm,xe);function Im(e){e.g.ariaLabel=e.localization.resolve("RECENTER_VR"),e.i.textContent=e.localization.resolve("RECENTER_VR")}K("shaka.ui.RecenterVRButton",wm);function km(){}km.prototype.create=function(e,t){return new wm(e,t)},An("recenter_vr",new km),bt("recenter_vr",new km);function ph(e,t){xe.call(this,e,t);var n=this;this.i=ke().pg(),this.g=ft(),this.g.classList.add("shaka-remote-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.l=new vt(this.g,this.i?"M80-280v-480q0-33 23.5-56.5T160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200h-80q-17 0-28.5-11.5T680-240q0-17 11.5-28.5T720-280h80v-480H160v480h80q17 0 28.5 11.5T280-240q0 17-11.5 28.5T240-200h-80q-33 0-56.5-23.5T80-280Zm232 160q-14 0-22-9.5t-8-20.5q0-5 2-10.5t7-10.5l161-161q6-6 13-9t15-3q8 0 15 3t13 9l161 161q5 5 7 10.5t2 10.5q0 11-8 20.5t-22 9.5H312Zm168-360Z":"M480-480Zm320 320H600q0-20-1.5-40t-4.5-40h206v-480H160v46q-20-3-40-4.5T80-680v-40q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160Zm-720 0v-120q50 0 85 35t35 85H80Zm200 0q0-83-58.5-141.5T80-360v-80q117 0 198.5 81.5T360-160h-80Zm160 0q0-75-28.5-140.5t-77-114q-48.5-48.5-114-77T80-520v-80q91 0 171 34.5T391-471q60 60 94.5 140T520-160h-80Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.m=ee("span"),e.appendChild(this.m),this.j=ee("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),this.h=-1,Cm(this),oe(this.g,!1),this.video.remote?(this.eventManager.o(this.localization,"locale-updated",function(){Cm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Cm(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){ru(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&n.video.remote.prompt().catch(function(){})}),this.eventManager.o(this.video.remote,"connect",function(){ru(n),gh(n)}),this.eventManager.o(this.video.remote,"connecting",function(){ru(n),gh(n)}),this.eventManager.o(this.video.remote,"disconnect",function(){ru(n),gh(n)}),this.eventManager.o(this.player,"loaded",function(){ru(n)}),ru(this,!0),gh(this)):this.g.classList.add("shaka-hidden")}se(ph,xe),ph.prototype.release=function(){this.video.remote&&this.h!=-1&&this.video.remote.cancelWatchAvailability(this.h).catch(function(){}),xe.prototype.release.call(this)};function ru(e,t){t=t===void 0?!1:t;var n,i;N(function(r){switch(r.g){case 1:if(e.controls.F.Pg()&&e.controls.ua||!e.video.remote){oe(e.g,!1),e.h!=-1&&(e.video.remote.cancelWatchAvailability(e.h),e.h=-1),r.B(0);break}if(e.video.remote.state=="disconnected"||t){if(n=function(o){if(e.player){var s=e.video.disableRemotePlayback,u=!0;ke().pg()&&e.player.Cc()==Gt&&e.player.Ah()!="HLS"&&(u=!1),oe(e.g,u&&o&&!s)}else oe(e.g,!1)},ue(r,7),e.h==-1){r.B(9);break}return w(r,e.video.remote.cancelWatchAvailability(e.h),10)}if(oe(e.g,!0),e.h==-1){r.B(0);break}return w(r,e.video.remote.cancelWatchAvailability(e.h),6);case 6:e.h=-1,r.B(0);break;case 10:e.h=-1;case 9:Ae(r,8);break;case 7:ae(r);case 8:return ue(r,11),w(r,e.video.remote.watchAvailability(n),13);case 13:i=r.h,e.h=i,Ae(r,0);break;case 11:ae(r),n(!0),Z(r)}})}function Cm(e){var t=e.i?e.localization.resolve("AIRPLAY"):e.localization.resolve("CAST");e.g.ariaLabel=t,e.m.textContent=t}function gh(e){e.i||(e.video.remote.state=="disconnected"?e.l.use("M480-480Zm320 320H600q0-20-1.5-40t-4.5-40h206v-480H160v46q-20-3-40-4.5T80-680v-40q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160Zm-720 0v-120q50 0 85 35t35 85H80Zm200 0q0-83-58.5-141.5T80-360v-80q117 0 198.5 81.5T360-160h-80Zm160 0q0-75-28.5-140.5t-77-114q-48.5-48.5-114-77T80-520v-80q91 0 171 34.5T391-471q60 60 94.5 140T520-160h-80Z"):e.l.use("M720-600v240q0 17-11.5 28.5T680-320h-87q-8 0-14.5-4.5T569-337q-29-81-81.5-147T364-596q-16-10-11.5-27t21.5-17h306q17 0 28.5 11.5T720-600ZM320-160q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125.5T518-201q2 17-9.5 29T480-160Zm-340 0q-25 0-42.5-17.5T80-220q0-25 17.5-42.5T140-280q25 0 42.5 17.5T200-220q0 25-17.5 42.5T140-160Zm740-560v480q0 33-23.5 56.5T800-160H638q-17 0-28.5-11.5T598-200q0-17 11.5-28.5T638-240h162v-480H160v6q0 17-11.5 28.5T120-674q-17 0-28.5-11.5T80-714v-6q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720Z"))}K("shaka.ui.RemoteButton",ph);function Mm(){}Mm.prototype.create=function(e,t){return new ph(e,t)},An("remote",new Mm),bt("remote",new Mm);function Rm(e,t){mi.call(this,e,t,"M480-120q-17 0-28.5-11.5T440-160v-160q0-17 11.5-28.5T480-360q17 0 28.5 11.5T520-320v40h280q17 0 28.5 11.5T840-240q0 17-11.5 28.5T800-200H520v40q0 17-11.5 28.5T480-120Zm-320-80q-17 0-28.5-11.5T120-240q0-17 11.5-28.5T160-280h160q17 0 28.5 11.5T360-240q0 17-11.5 28.5T320-200H160Zm160-160q-17 0-28.5-11.5T280-400v-40H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h120v-40q0-17 11.5-28.5T320-600q17 0 28.5 11.5T360-560v160q0 17-11.5 28.5T320-360Zm160-80q-17 0-28.5-11.5T440-480q0-17 11.5-28.5T480-520h320q17 0 28.5 11.5T840-480q0 17-11.5 28.5T800-440H480Zm160-160q-17 0-28.5-11.5T600-640v-160q0-17 11.5-28.5T640-840q17 0 28.5 11.5T680-800v40h120q17 0 28.5 11.5T840-720q0 17-11.5 28.5T800-680H680v40q0 17-11.5 28.5T640-600Zm-480-80q-17 0-28.5-11.5T120-720q0-17 11.5-28.5T160-760h320q17 0 28.5 11.5T520-720q0 17-11.5 28.5T480-680H160Z");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.h=ee("span"),this.h.classList.add("shaka-current-auto-quality"),this.h.style.display="none",this.i=ee("sup"),this.i.classList.add("shaka-current-quality-mark"),this.i.style.display="none",Array.from(e.classList).includes("shaka-overflow-menu")?this.parent.parentElement&&(this.g=l5(this.parent.parentElement)):(this.g=ee("span"),this.g.classList.add("shaka-overflow-playback-rate-mark"),this.button.appendChild(this.g)),e=ee("span"),this.button.childNodes[1].appendChild(e),e.appendChild(this.currentSelection),e.appendChild(this.h),e.appendChild(this.i),this.eventManager.o(this.localization,"locale-updated",function(){Pm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Pm(n)}),this.eventManager.o(this.player,"loading",function(){Pr(n),Yo(n)}),this.eventManager.o(this.player,"loaded",function(){Pr(n),Yo(n)}),this.eventManager.o(this.player,"unloading",function(){Pr(n),Yo(n)}),this.eventManager.o(this.player,"variantchanged",function(){Pr(n),Yo(n)}),this.eventManager.o(this.player,"trackschanged",function(){Pr(n),Yo(n)}),this.eventManager.o(this.player,"abrstatuschanged",function(){Pr(n),Yo(n)}),this.eventManager.o(this.player,"adaptation",function(){Pr(n),Yo(n)}),Pr(this)}se(Rm,mi);function Yo(e){var t=e.player.getConfiguration().abr.enabled;if(e.player.Md()){e.i.textContent="",e.i.style.display="none",e.g&&(e.g.textContent="",e.g.style.display="none");var n=e.player.Ob()||[],i=n.find(function(r){return r.active});i&&(t?(e.h.textContent=i.bandwidth?cA(e,i,n):"Unknown",e.h.style.display=""):e.h.style.display="none")}else n=e.player.getVideoTracks()||[],(i=n.find(function(r){return r.active}))?(t?(e.h.textContent=i.height&&i.width?lA(e,i,n):i.bandwidth?mh(i.bandwidth):"Unknown",e.h.style.display=""):e.h.style.display="none",t=Lm(e,i.width,i.height),e.i.textContent=t,e.i.style.display=t!==""?"":"none",e.g&&(e.g.textContent=t,e.g.style.display=t!==""?"":"none")):e.g&&(t=e.player.getStats(),t=Lm(e,t.width,t.height),e.g.textContent=t,e.g.style.display=t!==""?"":"none")}function Lm(e,t,n){return!t||!n?"":(n>t&&(n=T([n,t]),t=n.next().value,n=n.next().value),t/n>16/9&&(n=Math.round(t*9/16)),e=e.controls.g.qualityMarks,n>=8640?n+"p":n>=4320?e[4320]:n>=2160?e[2160]:n>=1440?e[1440]:n>=1080?e[1080]:n>=720?e[720]:"")}function Pr(e){var t=Gd(e.menu);Gi(e.menu),e.menu.appendChild(t),t=0,t=e.player.Md()?EL(e):AL(e);var n=ft();n.classList.add("shaka-enable-abr-button"),e.eventManager.o(n,"click",function(){e.player.configure({abr:{enabled:!0}}),Pr(e)}),e.l=ee("span"),e.l.textContent=e.localization.resolve("AUTO_QUALITY"),n.appendChild(e.l),e.player.getConfiguration().abr.enabled&&(n.ariaSelected="true",n.appendChild(so()),e.l.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),e.menu.appendChild(n),eu(e.menu),e.controls.dispatchEvent(new J("resolutionselectionupdated")),Pm(e),oe(e.button,t>0)}function EL(e){var t=[];e.player.Cc()==Tn||e.player.Da()||(t=e.player.Ob()||[]);var n=t.find(function(a){return a.active});n&&(t=t.filter(function(a){if(a.language!=n.language||e.controls.g.showAudioChannelCountVariants&&a.channelsCount&&n.channelsCount&&a.channelsCount!=n.channelsCount)return!1;var l=e.controls.g.trackLabelFormat;return!((l==1||l==2)&&JSON.stringify(a.audioRoles)!=JSON.stringify(n.audioRoles)||l==3&&a.label!=n.label||!a.bandwidth)})),t=t.filter(function(a,l){return t.findIndex(function(c){return c.bandwidth==a.bandwidth})==l}),t.sort(function(a,l){return l.bandwidth-a.bandwidth});for(var i=e.player.getConfiguration().abr.enabled,r=T(t),o=r.next(),s={};!o.done;s={Qe:void 0},o=r.next()){s.Qe=o.value,o=ft(),o.classList.add("explicit-resolution"),e.eventManager.o(o,"click",(function(a){return function(){var l=a.Qe;e.player.configure({abr:{enabled:!1}}),e.player.Me(l,e.controls.g.clearBufferOnQualityChange)}})(s));var u=ee("span");u.textContent=s.Qe.bandwidth?cA(e,s.Qe,t):"Unknown",o.appendChild(u),i||s.Qe!=n||(o.ariaSelected="true",o.appendChild(so()),u.classList.add("shaka-chosen-item"),e.currentSelection.textContent=u.textContent),e.menu.appendChild(o)}return t.length}function AL(e){var t=e.player.getVideoTracks()||[],n=t.find(function(c){return c.active});t=t.filter(function(c,d){return t.findIndex(function(p){var v=p.height==c.height&&p.bandwidth==c.bandwidth&&p.frameRate==c.frameRate&&p.hdr==c.hdr&&p.videoLayout==c.videoLayout&&sr(p.roles,c.roles);return v&&e.controls.g.showVideoCodec&&p.codecs&&c.codecs&&(v=Et(p.codecs)==Et(c.codecs)),v})==d}),t.sort(function(c,d){return d.height==c.height||c.height==null||d.height==null?d.bandwidth-c.bandwidth:d.height-c.height});for(var i=e.player.getConfiguration().abr.enabled,r=T(t),o=r.next(),s={};!o.done;s={vc:void 0},o=r.next()){s.vc=o.value,o=ft(),o.classList.add("explicit-resolution"),e.eventManager.o(o,"click",(function(c){return function(){var d=c.vc;e.player.configure({abr:{enabled:!1}}),e.player.Oj(d,e.controls.g.clearBufferOnQualityChange)}})(s));var u=ee("span");u.textContent=s.vc.height&&s.vc.width?lA(e,s.vc,t):s.vc.bandwidth?mh(s.vc.bandwidth):"Unknown",o.appendChild(u);var a=Lm(e,s.vc.width,s.vc.height);if(a!==""){var l=ee("sup");l.classList.add("shaka-quality-mark"),l.textContent=a,o.appendChild(l)}i||s.vc!=n||(o.ariaSelected="true",o.appendChild(so()),u.classList.add("shaka-chosen-item"),e.currentSelection.textContent=u.textContent),e.menu.appendChild(o)}return t.length}function lA(e,t,n){function i(d,p){return d!=p&&d.height==p.height&&d.hdr==p.hdr&&o(d)==o(p)&&r(d)==r(p)&&Math.round(d.frameRate||0)==Math.round(p.frameRate||0)}function r(d){return d.codecs?Et(d.codecs).startsWith("lcevc"):!1}function o(d){return d.codecs?Et(d.codecs).startsWith("dovi-"):!1}var s=t.height||0,u=t.width||0,a=!0;if(t.pixelAspectRatio){var l=t.pixelAspectRatio.split(":").map(function(d){return Number(d)});l.length===2?a=l[0]===l[1]:l.length===1&&(a=l[0]===1)}for(s>u&&a&&(s=T([s,u]),u=s.next().value,s=s.next().value),a=s,u/s>16/9&&(a=Math.round(u*9/16)),u=a+"p",s=new Set,a=T(n),l=a.next();!l.done;l=a.next())l=l.value,l.frameRate&&s.add(Math.round(l.frameRate));if(s.size>1&&(s=t.frameRate)&&(s>=50||s<=20)&&(u+=Math.round(t.frameRate)),o(t)?u+=" Dolby Vision":(t.hdr=="PQ"||t.hdr=="HLG")&&(u+=" HDR"),r(t)&&(u+=" LCEVC"),(t.videoLayout||"").includes("CH-STEREO")&&(u+=" 3D"),n.some(function(d){return i(t,d)})&&(n.some(function(d){return i(t,d)&&d.bandwidth==t.bandwidth})||(u+=" ("+mh(t.bandwidth)+")"),e.controls.g.showVideoCodec)){var c=function(d){var p="";return d&&(p=Et(d).toUpperCase()),p&&" "+p};n.some(function(d){return i(t,d)&&c(d.codecs)!=c(t.codecs)})&&(u+=c(t.codecs))}return u}function cA(e,t,n){var i=mh(t.bandwidth);if(e.controls.g.showAudioCodec){var r=function(o){var s="";return o&&(s=Et(o).toUpperCase()),s&&" "+s};n.some(function(o){return r(o.codecs)!=r(t.codecs)})&&(i+=r(t.codecs))}return i}function mh(e){return e>=1e6?(e/1e6).toFixed(1).replace(".0","")+" Mbps":Math.floor(e/1e3)+" Kbps"}function Pm(e){var t=e.player.Md()?"QUALITY":"RESOLUTION";e.button.ariaLabel=e.localization.resolve(t),e.backButton.ariaLabel=e.localization.resolve(t),e.backSpan.textContent=e.localization.resolve(t),e.nameSpan.textContent=e.localization.resolve(t),e.l.textContent=e.localization.resolve("AUTO_QUALITY"),e.player.getConfiguration().abr.enabled&&(e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY"))}K("shaka.ui.ResolutionSelection",Rm);function bm(){}bm.prototype.create=function(e,t){return new Rm(e,t)},An("quality",new bm),bt("quality",new bm);function Dm(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),new vt(this.g).use("M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.parent.appendChild(this.g),Nm(this),this.h=this.controls.g.rewindRates,this.eventManager.o(this.localization,"locale-updated",function(){Nm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Nm(n)}),this.eventManager.o(this.g,"click",function(){if(n.controls.Ca()&&n.video.duration){var i=n.h.indexOf(n.player.Za())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.video.paused&&n.video.play(),n.player.xc(i),n.g.setAttribute("shaka-status",i+"x")}}),this.eventManager.o(this.player,"ratechange",function(){n.g.setAttribute("shaka-status",n.player.Za()+"x")})}se(Dm,xe);function Nm(e){e.g.ariaLabel=e.localization.resolve("REWIND")}K("shaka.ui.RewindButton",Dm);function dA(){}dA.prototype.create=function(e,t){return new Dm(e,t)},bt("rewind",new dA);function Om(e,t){xe.call(this,e,t);var n=this;this.j=this.controls.F,this.g=ft(),this.g.classList.add("shaka-save.video-frame-button"),this.g.classList.add("shaka-tooltip"),new vt(this.g,"M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.h=ee("span"),this.h.textContent=this.localization.resolve("DOWNLOAD_VIDEO_FRAME"),e.appendChild(this.h),this.i=ee("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),_m(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){_m(n)}),this.eventManager.o(this.localization,"locale-changed",function(){_m(n)}),this.eventManager.o(this.g,"click",function(){var i=document.createElement("canvas"),r=i.getContext("2d"),o=n.controls.u;i.width=o.videoWidth,i.height=o.videoHeight,r.drawImage(o,0,0,i.width,i.height),i=i.toDataURL("image/png"),r=document.createElement("a"),r.href=i,r.download="videoframe_"+o.currentTime.toFixed(3)+".png",r.click()}),this.eventManager.o(this.controls.D,"vrstatuschanged",function(){Ji(n)}),this.eventManager.o(this.adManager,"ad-started",function(){Ji(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Ji(n)}),this.eventManager.o(this.player,"unloading",function(){Ji(n)}),this.eventManager.o(this.player,"loaded",function(){Ji(n)}),this.eventManager.o(this.video,"play",function(){Ji(n)}),this.eventManager.o(this.video,"pause",function(){Ji(n)}),this.eventManager.o(this.video,"seeking",function(){Ji(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){Ji(n)}),Ji(this)}se(Om,xe);function Ji(e){var t=!0;e.controls.Yb()&&(t=!1),t&&e.j.Pa()&&(t=!1),t&&(e.player.drmInfo()||e.player.Md())&&(t=!1),t&&e.ad&&(t=!1),t&&e.video.remote&&e.video.remote.state!="disconnected"&&(t=!1),oe(e.g,t)}function _m(e){e.g.ariaLabel=e.localization.resolve("DOWNLOAD_VIDEO_FRAME"),e.h.textContent=e.localization.resolve("DOWNLOAD_VIDEO_FRAME")}K("shaka.ui.SaveVideoFrameButton",Om);function Um(){}Um.prototype.create=function(e,t){return new Om(e,t)},An("save_video_frame",new Um),Ho("save_video_frame",new Um);function jm(e,t){xe.call(this,e,t);var n=this;(this.g=this.player.Af())&&(this.h=ft(),this.h.classList.add("shaka-skip-next-button"),this.h.classList.add("shaka-tooltip"),new vt(this.h).use("M660-280v-400q0-17 11.5-28.5T700-720q17 0 28.5 11.5T740-680v400q0 17-11.5 28.5T700-240q-17 0-28.5-11.5T660-280Zm-440-35v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T548-480q0 10-4.5 18.5T530-447L282-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.parent.appendChild(this.h),Bm(this),Ja(this),this.eventManager.o(this.localization,"locale-updated",function(){Bm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Bm(n)}),this.eventManager.o(this.h,"click",function(){n.controls.Ca()&&n.g.playItem(n.g.getCurrentItemIndex()+1)}),this.eventManager.o(this.g,"currentitemchanged",function(){Ja(n)}),this.eventManager.o(this.g,"itemsinserted",function(){Ja(n)}),this.eventManager.o(this.g,"itemsremoved",function(){Ja(n)}),this.eventManager.o(this.player,"loading",function(){Ja(n)}))}se(jm,xe);function Bm(e){e.h.ariaLabel=e.localization.resolve("SKIP_NEXT")}function Ja(e){var t=e.g.getItems().length;t=t>1&&e.g.getCurrentItemIndex()+1<t,oe(e.h,t)}K("shaka.ui.SkipNextButton",jm);function hA(){}hA.prototype.create=function(e,t){return new jm(e,t)},bt("skip_next",new hA);function Fm(e,t){xe.call(this,e,t);var n=this;(this.g=this.player.Af())&&(this.h=ft(),this.h.classList.add("shaka-skip-previous-button"),this.h.classList.add("shaka-tooltip"),new vt(this.h).use("M220-280v-400q0-17 11.5-28.5T260-720q17 0 28.5 11.5T300-680v400q0 17-11.5 28.5T260-240q-17 0-28.5-11.5T220-280Zm458-1L430-447q-9-6-13.5-14.5T412-480q0-10 4.5-18.5T430-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.parent.appendChild(this.h),qm(this),$a(this),this.eventManager.o(this.localization,"locale-updated",function(){qm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){qm(n)}),this.eventManager.o(this.h,"click",function(){n.controls.Ca()&&n.g.playItem(n.g.getCurrentItemIndex()-1)}),this.eventManager.o(this.g,"currentitemchanged",function(){$a(n)}),this.eventManager.o(this.g,"itemsinserted",function(){$a(n)}),this.eventManager.o(this.g,"itemsremoved",function(){$a(n)}),this.eventManager.o(this.player,"loading",function(){$a(n)}))}se(Fm,xe);function qm(e){e.h.ariaLabel=e.localization.resolve("SKIP_PREVIOUS")}function $a(e){var t=e.g.getItems().length>1&&e.g.getCurrentItemIndex()>0;oe(e.h,t)}K("shaka.ui.SkipPreviousButton",Fm);function fA(){}fA.prototype.create=function(e,t){return new Fm(e,t)},bt("skip_previous",new fA);function Vm(e,t){Cr.call(this,e,t),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("shaka-tooltip")}se(Vm,Cr),K("shaka.ui.SmallPlayButton",Vm);function pA(){}pA.prototype.create=function(e,t){return new Vm(e,t)},bt("play_pause",new pA);function Hm(e,t){xe.call(this,e,t),e=ee("div"),e.classList.add("shaka-spacer"),e.ariaHidden="true",this.parent.appendChild(e)}se(Hm,xe),K("shaka.ui.Spacer",Hm);function gA(){}gA.prototype.create=function(e,t){return new Hm(e,t)},bt("spacer",new gA);function vh(e,t){function n(c){return c=parseInt(l.g[c],10),c>2e9?(c/1e9).toFixed(2)+"GB":c>1e6?(c/1e6).toFixed(2)+"MB":c>1e3?(c/1e3).toFixed(2)+"KB":c+"B"}function i(c){return l.g[c]+" (gaps)"}function r(c){return c=l.g[c],Yi(c,c>3600)}function o(c){return Math.round(l.g[c]/1e3)+" (kbits/s)"}function s(c){return l.g[c].toFixed(2)+" (s)"}function u(c){return l.g[c]+" (frames)"}function a(c){return l.g[c]+" (px)"}xe.call(this,e,t);var l=this;this.i=ft(),this.i.classList.add("shaka-statistics-button"),this.u=new vt(this.i,"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.A=ee("span"),e.appendChild(this.A),this.l=ee("span"),this.l.classList.add("shaka-current-selection-span"),e.appendChild(this.l),this.i.appendChild(e),this.parent.appendChild(this.i),this.h=ee("div"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-statistics-container"),this.h.classList.add("shaka-hidden"),this.controls.i.appendChild(this.h),this.D=[],this.F=["stateHistory","switchHistory"],this.g=this.player.getStats(),this.m=new Map,this.C=new Map().set("width",a).set("height",a).set("currentCodecs",function(c){return l.g[c]}).set("completionPercent",function(c){return l.g[c]+" (%)"}).set("bufferingTime",s).set("drmTimeSeconds",s).set("licenseTime",s).set("liveLatency",s).set("loadLatency",s).set("manifestTimeSeconds",s).set("estimatedBandwidth",o).set("streamBandwidth",o).set("maxSegmentDuration",s).set("pauseTime",r).set("playTime",r).set("corruptedFrames",u).set("decodedFrames",u).set("droppedFrames",u).set("stallsDetected",function(c){return l.g[c]+" (stalls)"}).set("gapsJumped",i).set("manifestSizeBytes",n).set("bytesDownloaded",n).set("nonFatalErrorCount",function(c){return l.g[c]+" (errors)"}).set("manifestPeriodCount",function(c){return l.g[c]+" (periods)"}).set("manifestGapCount",i),this.j=new le(function(){l.g=l.player.getStats();for(var c=T(l.D),d=c.next();!d.done;d=c.next()){var p=d.value;d=l.m.get(p),d.textContent=l.C.get(p)(p),d&&d.parentElement&&(p=l.g[p],typeof p=="string"?oe(d.parentElement,p!=""):oe(d.parentElement,!isNaN(p)))}}),yh(this),wL(this),this.eventManager.o(this.localization,"locale-updated",function(){yh(l)}),this.eventManager.o(this.localization,"locale-changed",function(){yh(l)}),this.eventManager.o(this.i,"click",function(){mA(l),yh(l)})}se(vh,xe);function mA(e){e.h.classList.contains("shaka-hidden")?(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm120-440q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.va(.1),oe(e.h,!0)):(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.stop(),oe(e.h,!1))}function yh(e){e.A.textContent=e.localization.resolve("STATISTICS"),e.i.ariaLabel=e.localization.resolve("STATISTICS"),e.l.textContent=e.localization.resolve(e.h.classList.contains("shaka-hidden")?"OFF":"ON")}function xL(e,t){var n=ee("div"),i=ee("label");return i.textContent=t+":",n.appendChild(i),i=ee("span"),i.textContent=e.C.get(t)(t),n.appendChild(i),e.m.set(t,i),n}function wL(e){var t=ee("div");t.classList.add("shaka-no-propagation"),t.classList.add("shaka-statistics-close");var n=new vt(t,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z").g;for(n.classList.add("material-icons","notranslate"),e.h.appendChild(t),e.eventManager.o(n,"click",function(){mA(e)}),t=T(e.controls.g.statisticsList),n=t.next();!n.done;n=t.next())if(n=n.value,n in e.g&&!e.F.includes(n)){var i=xL(e,n);e.h.appendChild(i),e.D.push(n)}else ye("Unrecognized statistic element:",n)}vh.prototype.release=function(){this.j.stop(),this.j=null,xe.prototype.release.call(this)},K("shaka.ui.StatisticsButton",vh);function Gm(){}Gm.prototype.create=function(e,t){return new vh(e,t)},An("statistics",new Gm),Ho("statistics",new Gm);function zm(e,t){mi.call(this,e,t,"M200-160q-33 0-56.5-23.5T120-240v-480q0-33 23.5-56.5T200-800h560q33 0 56.5 23.5T840-720v480q0 33-23.5 56.5T760-160H200Zm80-200h120q17 0 28.5-11.5T440-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T400-600H280q-17 0-28.5 11.5T240-560v160q0 17 11.5 28.5T280-360Zm400-240H560q-17 0-28.5 11.5T520-560v160q0 17 11.5 28.5T560-360h120q17 0 28.5-11.5T720-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T680-600Z");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Yc()?this.button.ariaPressed="true":this.button.ariaPressed="false",IL(this),this.eventManager.o(this.localization,"locale-updated",function(){Km(n),$i(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Km(n),$i(n)}),this.eventManager.o(this.player,"loading",function(){Qa(n),$i(n)}),this.eventManager.o(this.player,"loaded",function(){Qa(n),$i(n)}),this.eventManager.o(this.player,"unloading",function(){Qa(n),$i(n)}),this.eventManager.o(this.player,"texttrackvisibility",function(){Qa(n),$i(n)}),this.eventManager.o(this.player,"textchanged",function(){$i(n)}),this.eventManager.o(this.player,"trackschanged",function(){$i(n)}),Qa(this),Km(this),$i(this)}se(zm,mi);function IL(e){var t=ft();t.ariaSelected="true",e.menu.appendChild(t),t.appendChild(so()),e.g=ee("span"),t.appendChild(e.g)}function Qa(e){e.player.Yc()?(e.icon.use("M200-160q-33 0-56.5-23.5T120-240v-480q0-33 23.5-56.5T200-800h560q33 0 56.5 23.5T840-720v480q0 33-23.5 56.5T760-160H200Zm80-200h120q17 0 28.5-11.5T440-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T400-600H280q-17 0-28.5 11.5T240-560v160q0 17 11.5 28.5T280-360Zm400-240H560q-17 0-28.5 11.5T520-560v160q0 17 11.5 28.5T560-360h120q17 0 28.5-11.5T720-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T680-600Z"),e.button.ariaPressed="true"):(e.icon.use("M791-57 687-160H200q-33 0-56.5-23.5T120-240v-487l-65-65q-12-12-12-28.5T55-849q12-12 28.5-12t28.5 12l736 736q12 12 12 28t-12 28q-12 12-28.5 12T791-57ZM280-360h120q17 0 28.5-11.5T440-400v-25q0-8-6-14t-14-6h-20q-8 0-14 6t-6 14v5h-80v-127l-45-45v1q-7 5-11 13t-4 18v160q0 17 11.5 28.5T280-360Zm560-360v388q0 27-24.5 37.5T772-303l-66-66q7-5 10.5-13.5T720-400v-20q0-8-6-14t-14-6h-20q-8 0-14 6t-6 14h-5l-75-75v-45h80v5q0 8 6 14t14 6h20q8 0 14-6t6-14v-25q0-17-11.5-28.5T680-600H560q-17 0-28.5 11.5T520-560v5L343-732q-19-19-8.5-43.5T372-800h388q33 0 56.5 23.5T840-720Z"),e.button.ariaPressed="false"),e.controls.dispatchEvent(new J("captionselectionupdated"))}function $i(e){var t=e.player.Dc()||[];gL(t,e.menu,function(i){return kL(e,i)},e.player.Yc(),e.currentSelection,e.localization,e.controls.g.textTrackLabelFormat);var n=ft();n.classList.add("shaka-turn-captions-off-button"),e.eventManager.o(n,"click",function(){e.player.be(!1),$i(e)}),n.appendChild(e.g),e.menu.appendChild(n),e.player.Yc()?e.g.classList.remove("shaka-chosen-item"):(n.ariaSelected="true",n.appendChild(so()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("OFF")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),eu(e.menu),e.controls.dispatchEvent(new J("captionselectionupdated")),oe(e.button,t.length>0)}function kL(e,t){return N(function(n){if(n.g==1)return e.player.kg(t),w(n,e.player.be(!0),2);e.player.configure({preferredTextLanguage:t.language,preferForcedSubs:t.forced}),Z(n)})}function Km(e){e.button.ariaLabel=e.localization.resolve("CAPTIONS"),e.backButton.ariaLabel=e.localization.resolve("BACK"),e.nameSpan.textContent=e.localization.resolve("CAPTIONS"),e.backSpan.textContent=e.localization.resolve("CAPTIONS"),e.g.textContent=e.localization.resolve("OFF")}K("shaka.ui.TextSelection",zm);function Wm(){}Wm.prototype.create=function(e,t){return new zm(e,t)},An("captions",new Wm),bt("captions",new Wm);function Xm(e,t){xe.call(this,e,t);var n=this;this.g=ft(),this.g.classList.add("shaka-toggle-stereoscopic-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new vt(this.g,"M620-360H520q-8 0-14-6t-6-14v-200q0-8 6-14t14-6h100q17 0 28.5 11.5T660-560v160q0 17-11.5 28.5T620-360Zm-200 0h-90q-13 0-21.5-8.5T300-390q0-13 8.5-21.5T330-420h70v-40h-40q-8 0-14-6t-6-14q0-8 6-14t14-6h40v-40h-70q-13 0-21.5-8.5T300-570q0-13 8.5-21.5T330-600h90q17 0 28.5 11.5T460-560v160q0 17-11.5 28.5T420-360Zm140-60h40v-120h-40v120Zm280-20q-17 0-28.5-11.5T800-480q0-115-72.5-203T542-794l30 30q11 11 11 28t-11 28q-11 11-28 11t-28-11L387-837q-8-8-4.5-20t14.5-15q20-5 41-6.5t42-1.5q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 17-11.5 28.5T840-440ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-17 11.5-28.5T120-520q17 0 28.5 11.5T160-480q0 115 72.5 203T418-166l-30-30q-11-11-11-28t11-28q11-11 28-11t28 11l129 129q8 8 4.5 20T563-88q-20 5-41 6.5T480-80Z"),e=ee("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=ee("span"),e.appendChild(this.i),this.h=ee("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),this.parent.appendChild(this.g),Ym(this),this.eventManager.o(this.localization,"locale-updated",function(){Ym(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Ym(n)});var i=this.controls.D;this.eventManager.o(this.g,"click",function(){n.controls.Ca()&&i.ce()}),this.eventManager.o(i,"vrstatuschanged",function(){oe(n.g,n.controls.Yb())}),oe(this.g,this.controls.Yb())}se(Xm,xe);function Ym(e){e.g.ariaLabel=e.localization.resolve("TOGGLE_STEREOSCOPIC"),e.i.textContent=e.localization.resolve("TOGGLE_STEREOSCOPIC")}K("shaka.ui.ToggleStereoscopicButton",Xm);function Zm(){}Zm.prototype.create=function(e,t){return new Xm(e,t)},An("toggle_stereoscopic",new Zm),bt("toggle_stereoscopic",new Zm);function Th(e,t){Wt.call(this,e,t,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.g=this.controls.g,this.g.alwaysShowVolumeBar||this.container.classList.add("shaka-volume-bar-container-allow-hiding"),this.setRange(0,100),this.eventManager.o(this.video,"volumechange",function(){return el(n)}),this.eventManager.o(this.player,"loading",function(){return el(n)}),this.eventManager.o(this.player,"loaded",function(){return ou(n)}),this.eventManager.o(this.player,"unloading",function(){return ou(n)}),this.eventManager.o(this.player,"trackschanged",function(){return ou(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){return el(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){return vA(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){return vA(n)}),this.eventManager.o(this.adManager,"ad-started",function(){return ou(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){ou(n),el(n)}),this.eventManager.o(this.localization,"locale-updated",function(){return Jm(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return Jm(n)}),el(this),Jm(this),this.ad&&this.onChange(),ou(this)}se(Th,Wt),Th.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()/100):(this.video.volume=this.getValue()/100,this.video.volume>0&&(this.video.muted=!1))};function el(e){e.video.muted?e.setValue(0):e.setValue(e.video.volume*100),yA(e)}function vA(e){var t=e.ad.getVolume();e.setValue(t*100),yA(e)}function yA(e){var t=e.g.volumeBarColors,n=["to right"];n.push(t.level+e.getValue()+"%"),n.push(t.base+e.getValue()+"%"),n.push(t.base+"100%"),e.container.style.background="linear-gradient("+n.join(",")+")"}function Jm(e){e.bar.ariaLabel=e.localization.resolve("VOLUME")}function ou(e){var t=!0;e.ad&&e.ad.isLinear()?t=!0:e.player.Kf()&&(t=!1),oe(e.container,t)}K("shaka.ui.VolumeBar",Th);function TA(){}TA.prototype.create=function(e,t){return new Th(e,t)},bt("volume",new TA)}).call(g,m,m,void 0);for(var R in g.shaka)f[R]=g.shaka[R]})()})(dv)),dv}var WL=KL();const pt=zL(WL),XL=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"})),YL=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Rh="2147483647",DA={AUDIO_ONLY:1,VIDEO_ONLY:2};function NA(f){if(f.startsWith("sabr://"))return!0;const m=f.split("?"),g=m[0],R=m[1]||"";if(g.endsWith("/videoplayback")){const S=new URLSearchParams(R);if(S.get("source")==="youtube"||S.has("sabr")||S.has("lsig")||S.has("expire"))return!0}else if(g.includes("/videoplayback/")){const S=g.split("/");return["videoplayback","sabr","lsig","expire"].some(x=>S.includes(x))}return!1}function ZL(f){if(!f)return;const m=f.split("=")[1]?.split("-");if(m?.length){const g=Number(m[0]),R=Number(m[1]);return{start:g,end:R}}}function OA(f){const m=f.replace(/-/g,"+").replace(/_/g,"/"),g=m.padEnd(m.length+(4-m.length%4)%4,"=");return new Uint8Array(atob(g).split("").map(R=>R.charCodeAt(0)))}function _A(f){const m=f.reduce((S,x)=>S+x.length,0),g=new Uint8Array(m);let R=0;for(const S of f)g.set(S,R),R+=S.length;return g}function gx(f,m){return`${f||""}:${m||""}`}function pu(f){if(f)return gx(f.itag,f.xtags)}function mx(f){return gx(f.itag,f.xtags)}function vx(f,m){return f.isInitSeg&&m?`${f.itag}:${f.xtags||""}:${m.contentLength||""}:${m.mimeType||""}`:`${f.startRange||"0"}-${f.itag}-${f.xtags||""}`}function JL(f){if(!f.byteRange||!f.format)throw new Error("Invalid metadata: byteRange or format is missing");const m={itag:f.format.itag,xtags:f.format.xtags||"",startRange:f.byteRange.start.toString(),isInitSeg:f.isInit};return vx(m,f.isInit?f.format:void 0)}function UA(f){if(f.width)return f.itag.toString();const m=[f.itag.toString()];return f.audioTrackId&&m.push(f.audioTrackId),f.isDrc&&m.push("drc"),m.join("-")}const tn={NONE:0,0:"NONE",ERROR:1,1:"ERROR",WARN:2,2:"WARN",INFO:3,3:"INFO",DEBUG:4,4:"DEBUG",ALL:99,99:"ALL"};class $o{constructor(){this.currentLogLevels=new Set([tn.INFO,tn.ERROR])}static getInstance(){return $o.instance||($o.instance=new $o),$o.instance}setLogLevels(...m){m.length===0||m.includes(tn.NONE)?this.currentLogLevels=new Set:m.includes(tn.ALL)?this.currentLogLevels=new Set([tn.ERROR,tn.WARN,tn.INFO,tn.DEBUG]):this.currentLogLevels=new Set(m.filter(g=>g!==tn.NONE&&g!==tn.ALL))}getLogLevels(){return new Set(this.currentLogLevels)}log(m,g,...R){if(m!==tn.NONE&&this.currentLogLevels.has(m)){const S=`[${tn[m]}] [${g}]`;switch(m){case tn.ERROR:console.error(S,...R);break;case tn.WARN:console.warn(S,...R);break;case tn.INFO:console.info(S,...R);break;case tn.DEBUG:console.debug(S,...R);break}}}error(m,...g){this.log(tn.ERROR,m,...g)}warn(m,...g){this.log(tn.WARN,m,...g)}info(m,...g){this.log(tn.INFO,m,...g)}debug(m,...g){this.log(tn.DEBUG,m,...g)}}const sl="CacheManager";class $L{constructor(m=50,g=600){this.initSegmentCache=new Map,this.segmentCache=new Map,this.currentSize=0,this.logger=$o.getInstance(),this.maxCacheSize=m*1024*1024,this.maxAge=g*1e3,this.startGarbageCollection()}getCacheEntries(){return{initSegmentCache:this.initSegmentCache,segmentCache:this.segmentCache}}setInitSegment(m,g){const R={data:g,timestamp:Date.now(),size:g.byteLength};this.initSegmentCache.has(m)||(this.currentSize+=R.size,this.enforceStorageLimit()),this.initSegmentCache.set(m,R)}setSegment(m,g){const R={data:g,timestamp:Date.now(),size:g.byteLength};this.currentSize+=R.size,this.enforceStorageLimit(),this.segmentCache.set(m,R)}getInitSegment(m){const g=this.initSegmentCache.get(m);if(g&&!this.isExpired(g))return this.logger.debug(sl,`Cache hit for init segment: ${m}`),g.timestamp=Date.now(),g.data;g&&(this.initSegmentCache.delete(m),this.currentSize-=g.size)}getSegment(m){const g=this.segmentCache.get(m);if(g&&!this.isExpired(g)){this.logger.debug(sl,`Cache hit for segment: ${m}`);const R=g.data;return this.segmentCache.delete(m),this.currentSize-=g.size,R}g&&(this.segmentCache.delete(m),this.currentSize-=g.size)}isExpired(m){return Date.now()-m.timestamp>this.maxAge}enforceStorageLimit(){this.currentSize<=this.maxCacheSize||(this.clearExpiredEntries(),this.currentSize>this.maxCacheSize&&this.removeOldestEntries())}clearExpiredEntries(){const m=Date.now();for(const[g,R]of this.segmentCache.entries())m-R.timestamp>this.maxAge&&(this.logger.debug(sl,`Removing expired segment from cache: ${g}`),this.segmentCache.delete(g),this.currentSize-=R.size);for(const[g,R]of this.initSegmentCache.entries())m-R.timestamp>this.maxAge&&(this.logger.debug(sl,`Removing expired init segment from cache: ${g}`),this.initSegmentCache.delete(g),this.currentSize-=R.size)}removeOldestEntries(){const m=Array.from(this.segmentCache.entries()),g=Array.from(this.initSegmentCache.entries()),R=[...m,...g].sort((S,x)=>S[1].timestamp-x[1].timestamp);for(;this.currentSize>this.maxCacheSize&&R.length>0;){const[S,x]=R.shift();this.segmentCache.delete(S),this.initSegmentCache.delete(S),this.currentSize-=x.size}}startGarbageCollection(){this.timerId=setInterval(()=>{this.clearExpiredEntries()},6e4)}dispose(){this.initSegmentCache.clear(),this.segmentCache.clear(),this.currentSize=0,this.timerId&&(clearInterval(this.timerId),this.timerId=void 0),this.logger.debug(sl,"Disposed")}}class fu extends Error{constructor(m,g){super(`[SabrStreamingAdapter] ${m}`),this.code=g,this.name="SabrAdapterError"}}class QL{constructor(){this.CLEANUP_INTERVAL=3e4,this.ENTRY_EXPIRATION_TIME=1e3*60*3,this.metadataMap=new Map,this.lastCleanup=Date.now()}getRequestMetadata(m,g=!1){const R=new URL(m).searchParams.get("rn")||"",S=this.metadataMap.get(R);if(S&&Date.now()-S.timestamp>this.ENTRY_EXPIRATION_TIME){this.metadataMap.delete(R);return}return g&&this.metadataMap.delete(R),this.conditionalCleanUp(),S}setRequestMetadata(m,g){const R=new URL(m).searchParams.get("rn");R&&(this.metadataMap.set(R,g),this.conditionalCleanUp())}conditionalCleanUp(){const m=Date.now();m-this.lastCleanup>this.CLEANUP_INTERVAL&&(this.cleanUp(),this.lastCleanup=m)}cleanUp(){for(const[m,g]of this.metadataMap.entries())Date.now()-g.timestamp>this.ENTRY_EXPIRATION_TIME&&this.metadataMap.delete(m)}}function eP(){let f=0,m=0;for(let R=0;R<28;R+=7){let S=this.buf[this.pos++];if(f|=(S&127)<<R,(S&128)==0)return this.assertBounds(),[f,m]}let g=this.buf[this.pos++];if(f|=(g&15)<<28,m=(g&112)>>4,(g&128)==0)return this.assertBounds(),[f,m];for(let R=3;R<=31;R+=7){let S=this.buf[this.pos++];if(m|=(S&127)<<R,(S&128)==0)return this.assertBounds(),[f,m]}throw new Error("invalid varint")}function hv(f,m,g){for(let x=0;x<28;x=x+7){const W=f>>>x,h=!(!(W>>>7)&&m==0),$=(h?W|128:W)&255;if(g.push($),!h)return}const R=f>>>28&15|(m&7)<<4,S=m>>3!=0;if(g.push((S?R|128:R)&255),!!S){for(let x=3;x<31;x=x+7){const W=m>>>x,h=!!(W>>>7),$=(h?W|128:W)&255;if(g.push($),!h)return}g.push(m>>>31&1)}}const Dh=4294967296;function jA(f){const m=f[0]==="-";m&&(f=f.slice(1));const g=1e6;let R=0,S=0;function x(W,h){const $=Number(f.slice(W,h));S*=g,R=R*g+$,R>=Dh&&(S=S+(R/Dh|0),R=R%Dh)}return x(-24,-18),x(-18,-12),x(-12,-6),x(-6),m?Tx(R,S):mv(R,S)}function tP(f,m){let g=mv(f,m);const R=g.hi&2147483648;R&&(g=Tx(g.lo,g.hi));const S=yx(g.lo,g.hi);return R?"-"+S:S}function yx(f,m){if({lo:f,hi:m}=nP(f,m),m<=2097151)return String(Dh*m+f);const g=f&16777215,R=(f>>>24|m<<8)&16777215,S=m>>16&65535;let x=g+R*6777216+S*6710656,W=R+S*8147497,h=S*2;const $=1e7;return x>=$&&(W+=Math.floor(x/$),x%=$),W>=$&&(h+=Math.floor(W/$),W%=$),h.toString()+BA(W)+BA(x)}function nP(f,m){return{lo:f>>>0,hi:m>>>0}}function mv(f,m){return{lo:f|0,hi:m|0}}function Tx(f,m){return m=~m,f?f=~f+1:m+=1,mv(f,m)}const BA=f=>{const m=String(f);return"0000000".slice(m.length)+m};function FA(f,m){if(f>=0){for(;f>127;)m.push(f&127|128),f=f>>>7;m.push(f)}else{for(let g=0;g<9;g++)m.push(f&127|128),f=f>>7;m.push(1)}}function iP(){let f=this.buf[this.pos++],m=f&127;if((f&128)==0)return this.assertBounds(),m;if(f=this.buf[this.pos++],m|=(f&127)<<7,(f&128)==0)return this.assertBounds(),m;if(f=this.buf[this.pos++],m|=(f&127)<<14,(f&128)==0)return this.assertBounds(),m;if(f=this.buf[this.pos++],m|=(f&127)<<21,(f&128)==0)return this.assertBounds(),m;f=this.buf[this.pos++],m|=(f&15)<<28;for(let g=5;(f&128)!==0&&g<10;g++)f=this.buf[this.pos++];if((f&128)!=0)throw new Error("invalid varint");return this.assertBounds(),m>>>0}var qA={};const er=rP();function rP(){const f=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof f.getBigInt64=="function"&&typeof f.getBigUint64=="function"&&typeof f.setBigInt64=="function"&&typeof f.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof qA!="object"||qA.BUF_BIGINT_DISABLE!=="1")){const g=BigInt("-9223372036854775808"),R=BigInt("9223372036854775807"),S=BigInt("0"),x=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(W){const h=typeof W=="bigint"?W:BigInt(W);if(h>R||h<g)throw new Error(`invalid int64: ${W}`);return h},uParse(W){const h=typeof W=="bigint"?W:BigInt(W);if(h>x||h<S)throw new Error(`invalid uint64: ${W}`);return h},enc(W){return f.setBigInt64(0,this.parse(W),!0),{lo:f.getInt32(0,!0),hi:f.getInt32(4,!0)}},uEnc(W){return f.setBigInt64(0,this.uParse(W),!0),{lo:f.getInt32(0,!0),hi:f.getInt32(4,!0)}},dec(W,h){return f.setInt32(0,W,!0),f.setInt32(4,h,!0),f.getBigInt64(0,!0)},uDec(W,h){return f.setInt32(0,W,!0),f.setInt32(4,h,!0),f.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(g){return typeof g!="string"&&(g=g.toString()),VA(g),g},uParse(g){return typeof g!="string"&&(g=g.toString()),HA(g),g},enc(g){return typeof g!="string"&&(g=g.toString()),VA(g),jA(g)},uEnc(g){return typeof g!="string"&&(g=g.toString()),HA(g),jA(g)},dec(g,R){return tP(g,R)},uDec(g,R){return yx(g,R)}}}function VA(f){if(!/^-?[0-9]+$/.test(f))throw new Error("invalid int64: "+f)}function HA(f){if(!/^[0-9]+$/.test(f))throw new Error("invalid uint64: "+f)}const fv=Symbol.for("@bufbuild/protobuf/text-encoding");function Sx(){if(globalThis[fv]==null){const f=new globalThis.TextEncoder,m=new globalThis.TextDecoder;globalThis[fv]={encodeUtf8(g){return f.encode(g)},decodeUtf8(g){return m.decode(g)},checkUtf8(g){try{return encodeURIComponent(g),!0}catch{return!1}}}}return globalThis[fv]}var ho;(function(f){f[f.Varint=0]="Varint",f[f.Bit64=1]="Bit64",f[f.LengthDelimited=2]="LengthDelimited",f[f.StartGroup=3]="StartGroup",f[f.EndGroup=4]="EndGroup",f[f.Bit32=5]="Bit32"})(ho||(ho={}));const oP=34028234663852886e22,sP=-34028234663852886e22,uP=4294967295,aP=2147483647,lP=-2147483648;class st{constructor(m=Sx().encodeUtf8){this.encodeUtf8=m,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let m=0;for(let S=0;S<this.chunks.length;S++)m+=this.chunks[S].length;let g=new Uint8Array(m),R=0;for(let S=0;S<this.chunks.length;S++)g.set(this.chunks[S],R),R+=this.chunks[S].length;return this.chunks=[],g}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let m=this.finish(),g=this.stack.pop();if(!g)throw new Error("invalid state, fork stack empty");return this.chunks=g.chunks,this.buf=g.buf,this.uint32(m.byteLength),this.raw(m)}tag(m,g){return this.uint32((m<<3|g)>>>0)}raw(m){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(m),this}uint32(m){for(GA(m);m>127;)this.buf.push(m&127|128),m=m>>>7;return this.buf.push(m),this}int32(m){return pv(m),FA(m,this.buf),this}bool(m){return this.buf.push(m?1:0),this}bytes(m){return this.uint32(m.byteLength),this.raw(m)}string(m){let g=this.encodeUtf8(m);return this.uint32(g.byteLength),this.raw(g)}float(m){cP(m);let g=new Uint8Array(4);return new DataView(g.buffer).setFloat32(0,m,!0),this.raw(g)}double(m){let g=new Uint8Array(8);return new DataView(g.buffer).setFloat64(0,m,!0),this.raw(g)}fixed32(m){GA(m);let g=new Uint8Array(4);return new DataView(g.buffer).setUint32(0,m,!0),this.raw(g)}sfixed32(m){pv(m);let g=new Uint8Array(4);return new DataView(g.buffer).setInt32(0,m,!0),this.raw(g)}sint32(m){return pv(m),m=(m<<1^m>>31)>>>0,FA(m,this.buf),this}sfixed64(m){let g=new Uint8Array(8),R=new DataView(g.buffer),S=er.enc(m);return R.setInt32(0,S.lo,!0),R.setInt32(4,S.hi,!0),this.raw(g)}fixed64(m){let g=new Uint8Array(8),R=new DataView(g.buffer),S=er.uEnc(m);return R.setInt32(0,S.lo,!0),R.setInt32(4,S.hi,!0),this.raw(g)}int64(m){let g=er.enc(m);return hv(g.lo,g.hi,this.buf),this}sint64(m){const g=er.enc(m),R=g.hi>>31,S=g.lo<<1^R,x=(g.hi<<1|g.lo>>>31)^R;return hv(S,x,this.buf),this}uint64(m){const g=er.uEnc(m);return hv(g.lo,g.hi,this.buf),this}}class Ee{constructor(m,g=Sx().decodeUtf8){this.decodeUtf8=g,this.varint64=eP,this.uint32=iP,this.buf=m,this.len=m.length,this.pos=0,this.view=new DataView(m.buffer,m.byteOffset,m.byteLength)}tag(){let m=this.uint32(),g=m>>>3,R=m&7;if(g<=0||R<0||R>5)throw new Error("illegal tag: field no "+g+" wire type "+R);return[g,R]}skip(m,g){let R=this.pos;switch(m){case ho.Varint:for(;this.buf[this.pos++]&128;);break;case ho.Bit64:this.pos+=4;case ho.Bit32:this.pos+=4;break;case ho.LengthDelimited:let S=this.uint32();this.pos+=S;break;case ho.StartGroup:for(;;){const[x,W]=this.tag();if(W===ho.EndGroup){if(g!==void 0&&x!==g)throw new Error("invalid end group tag");break}this.skip(W,x)}break;default:throw new Error("cant skip wire type "+m)}return this.assertBounds(),this.buf.subarray(R,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let m=this.uint32();return m>>>1^-(m&1)}int64(){return er.dec(...this.varint64())}uint64(){return er.uDec(...this.varint64())}sint64(){let[m,g]=this.varint64(),R=-(m&1);return m=(m>>>1|(g&1)<<31)^R,g=g>>>1^R,er.dec(m,g)}bool(){let[m,g]=this.varint64();return m!==0||g!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return er.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return er.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let m=this.uint32(),g=this.pos;return this.pos+=m,this.assertBounds(),this.buf.subarray(g,g+m)}string(){return this.decodeUtf8(this.bytes())}}function pv(f){if(typeof f=="string")f=Number(f);else if(typeof f!="number")throw new Error("invalid int32: "+typeof f);if(!Number.isInteger(f)||f>aP||f<lP)throw new Error("invalid int32: "+f)}function GA(f){if(typeof f=="string")f=Number(f);else if(typeof f!="number")throw new Error("invalid uint32: "+typeof f);if(!Number.isInteger(f)||f>uP||f<0)throw new Error("invalid uint32: "+f)}function cP(f){if(typeof f=="string"){const m=f;if(f=Number(f),Number.isNaN(f)&&m!=="NaN")throw new Error("invalid float32: "+m)}else if(typeof f!="number")throw new Error("invalid float32: "+typeof f);if(Number.isFinite(f)&&(f>oP||f<sP))throw new Error("invalid float32: "+f)}function dP(){return{itag:0,lastModified:"0",xtags:""}}const Xt={encode(f,m=new st){return f.itag!==void 0&&f.itag!==0&&m.uint32(8).int32(f.itag),f.lastModified!==void 0&&f.lastModified!=="0"&&m.uint32(16).uint64(f.lastModified),f.xtags!==void 0&&f.xtags!==""&&m.uint32(26).string(f.xtags),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=dP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.itag=g.int32();continue}case 2:{if(x!==16)break;S.lastModified=g.uint64().toString();continue}case 3:{if(x!==26)break;S.xtags=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function hP(){return{legacyStart:0,legacyEnd:0,start:0,end:0}}const Lh={encode(f,m=new st){return f.legacyStart!==void 0&&f.legacyStart!==0&&m.uint32(8).int32(f.legacyStart),f.legacyEnd!==void 0&&f.legacyEnd!==0&&m.uint32(16).int32(f.legacyEnd),f.start!==void 0&&f.start!==0&&m.uint32(24).int32(f.start),f.end!==void 0&&f.end!==0&&m.uint32(32).int32(f.end),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=hP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.legacyStart=g.int32();continue}case 2:{if(x!==16)break;S.legacyEnd=g.int32();continue}case 3:{if(x!==24)break;S.start=g.int32();continue}case 4:{if(x!==32)break;S.end=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function fP(){return{trackType:0,isHdr:!1}}const zA={encode(f,m=new st){return f.trackType!==void 0&&f.trackType!==0&&m.uint32(8).int32(f.trackType),f.isHdr!==void 0&&f.isHdr!==!1&&m.uint32(16).bool(f.isHdr),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=fP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.trackType=g.int32();continue}case 2:{if(x!==16)break;S.isHdr=g.bool();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function pP(){return{authorizedFormats:[],sabrLicenseConstraint:new Uint8Array(0)}}const KA={encode(f,m=new st){for(const g of f.authorizedFormats)zA.encode(g,m.uint32(10).fork()).join();return f.sabrLicenseConstraint!==void 0&&f.sabrLicenseConstraint.length!==0&&m.uint32(18).bytes(f.sabrLicenseConstraint),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=pP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.authorizedFormats.push(zA.decode(g,g.uint32()));continue}case 2:{if(x!==18)break;S.sabrLicenseConstraint=g.bytes();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function gP(){return{videoId:"",formatId:void 0,endTimeMs:"0",endSegmentNumber:"0",mimeType:"",initRange:void 0,indexRange:void 0,field8:"0",durationUnits:"0",durationTimescale:"0"}}const mP={encode(f,m=new st){return f.videoId!==void 0&&f.videoId!==""&&m.uint32(10).string(f.videoId),f.formatId!==void 0&&Xt.encode(f.formatId,m.uint32(18).fork()).join(),f.endTimeMs!==void 0&&f.endTimeMs!=="0"&&m.uint32(24).int64(f.endTimeMs),f.endSegmentNumber!==void 0&&f.endSegmentNumber!=="0"&&m.uint32(32).int64(f.endSegmentNumber),f.mimeType!==void 0&&f.mimeType!==""&&m.uint32(42).string(f.mimeType),f.initRange!==void 0&&Lh.encode(f.initRange,m.uint32(50).fork()).join(),f.indexRange!==void 0&&Lh.encode(f.indexRange,m.uint32(58).fork()).join(),f.field8!==void 0&&f.field8!=="0"&&m.uint32(64).int64(f.field8),f.durationUnits!==void 0&&f.durationUnits!=="0"&&m.uint32(72).int64(f.durationUnits),f.durationTimescale!==void 0&&f.durationTimescale!=="0"&&m.uint32(80).int64(f.durationTimescale),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=gP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.videoId=g.string();continue}case 2:{if(x!==18)break;S.formatId=Xt.decode(g,g.uint32());continue}case 3:{if(x!==24)break;S.endTimeMs=g.int64().toString();continue}case 4:{if(x!==32)break;S.endSegmentNumber=g.int64().toString();continue}case 5:{if(x!==42)break;S.mimeType=g.string();continue}case 6:{if(x!==50)break;S.initRange=Lh.decode(g,g.uint32());continue}case 7:{if(x!==58)break;S.indexRange=Lh.decode(g,g.uint32());continue}case 8:{if(x!==64)break;S.field8=g.int64().toString();continue}case 9:{if(x!==72)break;S.durationUnits=g.int64().toString();continue}case 10:{if(x!==80)break;S.durationTimescale=g.int64().toString();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function vP(){return{startTicks:"0",durationTicks:"0",timescale:0}}const gu={encode(f,m=new st){return f.startTicks!==void 0&&f.startTicks!=="0"&&m.uint32(8).int64(f.startTicks),f.durationTicks!==void 0&&f.durationTicks!=="0"&&m.uint32(16).int64(f.durationTicks),f.timescale!==void 0&&f.timescale!==0&&m.uint32(24).int32(f.timescale),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=vP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.startTicks=g.int64().toString();continue}case 2:{if(x!==16)break;S.durationTicks=g.int64().toString();continue}case 3:{if(x!==24)break;S.timescale=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function yP(){return{headerId:0,videoId:"",itag:0,lmt:"0",xtags:"",startRange:"0",compressionAlgorithm:0,isInitSeg:!1,sequenceNumber:0,bitrateBps:"0",startMs:"0",durationMs:"0",formatId:void 0,contentLength:"0",timeRange:void 0,sequenceLmt:"0"}}const TP={encode(f,m=new st){return f.headerId!==void 0&&f.headerId!==0&&m.uint32(8).uint32(f.headerId),f.videoId!==void 0&&f.videoId!==""&&m.uint32(18).string(f.videoId),f.itag!==void 0&&f.itag!==0&&m.uint32(24).int32(f.itag),f.lmt!==void 0&&f.lmt!=="0"&&m.uint32(32).uint64(f.lmt),f.xtags!==void 0&&f.xtags!==""&&m.uint32(42).string(f.xtags),f.startRange!==void 0&&f.startRange!=="0"&&m.uint32(48).int64(f.startRange),f.compressionAlgorithm!==void 0&&f.compressionAlgorithm!==0&&m.uint32(56).int32(f.compressionAlgorithm),f.isInitSeg!==void 0&&f.isInitSeg!==!1&&m.uint32(64).bool(f.isInitSeg),f.sequenceNumber!==void 0&&f.sequenceNumber!==0&&m.uint32(72).int32(f.sequenceNumber),f.bitrateBps!==void 0&&f.bitrateBps!=="0"&&m.uint32(80).int64(f.bitrateBps),f.startMs!==void 0&&f.startMs!=="0"&&m.uint32(88).int64(f.startMs),f.durationMs!==void 0&&f.durationMs!=="0"&&m.uint32(96).int64(f.durationMs),f.formatId!==void 0&&Xt.encode(f.formatId,m.uint32(106).fork()).join(),f.contentLength!==void 0&&f.contentLength!=="0"&&m.uint32(112).int64(f.contentLength),f.timeRange!==void 0&&gu.encode(f.timeRange,m.uint32(122).fork()).join(),f.sequenceLmt!==void 0&&f.sequenceLmt!=="0"&&m.uint32(128).uint64(f.sequenceLmt),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=yP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.headerId=g.uint32();continue}case 2:{if(x!==18)break;S.videoId=g.string();continue}case 3:{if(x!==24)break;S.itag=g.int32();continue}case 4:{if(x!==32)break;S.lmt=g.uint64().toString();continue}case 5:{if(x!==42)break;S.xtags=g.string();continue}case 6:{if(x!==48)break;S.startRange=g.int64().toString();continue}case 7:{if(x!==56)break;S.compressionAlgorithm=g.int32();continue}case 8:{if(x!==64)break;S.isInitSeg=g.bool();continue}case 9:{if(x!==72)break;S.sequenceNumber=g.int32();continue}case 10:{if(x!==80)break;S.bitrateBps=g.int64().toString();continue}case 11:{if(x!==88)break;S.startMs=g.int64().toString();continue}case 12:{if(x!==96)break;S.durationMs=g.int64().toString();continue}case 13:{if(x!==106)break;S.formatId=Xt.decode(g,g.uint32());continue}case 14:{if(x!==112)break;S.contentLength=g.int64().toString();continue}case 15:{if(x!==122)break;S.timeRange=gu.decode(g,g.uint32());continue}case 16:{if(x!==128)break;S.sequenceLmt=g.uint64().toString();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function SP(){return{formatId:void 0,startTimeMs:"0",durationMs:"0",startSegmentIndex:0,endSegmentIndex:0,timeRange:void 0,field9:void 0,field11:void 0,field12:void 0}}const _h={encode(f,m=new st){return f.formatId!==void 0&&Xt.encode(f.formatId,m.uint32(10).fork()).join(),f.startTimeMs!=="0"&&m.uint32(16).int64(f.startTimeMs),f.durationMs!=="0"&&m.uint32(24).int64(f.durationMs),f.startSegmentIndex!==0&&m.uint32(32).int32(f.startSegmentIndex),f.endSegmentIndex!==0&&m.uint32(40).int32(f.endSegmentIndex),f.timeRange!==void 0&&gu.encode(f.timeRange,m.uint32(50).fork()).join(),f.field9!==void 0&&WA.encode(f.field9,m.uint32(74).fork()).join(),f.field11!==void 0&&Ph.encode(f.field11,m.uint32(90).fork()).join(),f.field12!==void 0&&Ph.encode(f.field12,m.uint32(98).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=SP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.formatId=Xt.decode(g,g.uint32());continue}case 2:{if(x!==16)break;S.startTimeMs=g.int64().toString();continue}case 3:{if(x!==24)break;S.durationMs=g.int64().toString();continue}case 4:{if(x!==32)break;S.startSegmentIndex=g.int32();continue}case 5:{if(x!==40)break;S.endSegmentIndex=g.int32();continue}case 6:{if(x!==50)break;S.timeRange=gu.decode(g,g.uint32());continue}case 9:{if(x!==74)break;S.field9=WA.decode(g,g.uint32());continue}case 11:{if(x!==90)break;S.field11=Ph.decode(g,g.uint32());continue}case 12:{if(x!==98)break;S.field12=Ph.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function EP(){return{field1:[]}}const WA={encode(f,m=new st){for(const g of f.field1)XA.encode(g,m.uint32(10).fork()).join();return m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=EP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.field1.push(XA.decode(g,g.uint32()));continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function AP(){return{videoId:"",lmt:"0"}}const XA={encode(f,m=new st){return f.videoId!==void 0&&f.videoId!==""&&m.uint32(10).string(f.videoId),f.lmt!==void 0&&f.lmt!=="0"&&m.uint32(16).uint64(f.lmt),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=AP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.videoId=g.string();continue}case 2:{if(x!==16)break;S.lmt=g.uint64().toString();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function xP(){return{field1:0,field2:0,field3:0}}const Ph={encode(f,m=new st){return f.field1!==void 0&&f.field1!==0&&m.uint32(8).int32(f.field1),f.field2!==void 0&&f.field2!==0&&m.uint32(16).int32(f.field2),f.field3!==void 0&&f.field3!==0&&m.uint32(24).int32(f.field3),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=xP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.field1=g.int32();continue}case 2:{if(x!==16)break;S.field2=g.int32();continue}case 3:{if(x!==24)break;S.field3=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function wP(){return{videoFormatCapabilities:[],audioFormatCapabilities:[],hdrModeBitmask:0}}const YA={encode(f,m=new st){for(const g of f.videoFormatCapabilities)ZA.encode(g,m.uint32(10).fork()).join();for(const g of f.audioFormatCapabilities)JA.encode(g,m.uint32(18).fork()).join();return f.hdrModeBitmask!==void 0&&f.hdrModeBitmask!==0&&m.uint32(40).int32(f.hdrModeBitmask),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=wP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.videoFormatCapabilities.push(ZA.decode(g,g.uint32()));continue}case 2:{if(x!==18)break;S.audioFormatCapabilities.push(JA.decode(g,g.uint32()));continue}case 5:{if(x!==40)break;S.hdrModeBitmask=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function IP(){return{videoCodec:0,maxHeight:0,maxWidth:0,maxFramerate:0,maxBitrateBps:0,is10BitSupported:!1}}const ZA={encode(f,m=new st){return f.videoCodec!==void 0&&f.videoCodec!==0&&m.uint32(8).int32(f.videoCodec),f.maxHeight!==void 0&&f.maxHeight!==0&&m.uint32(24).int32(f.maxHeight),f.maxWidth!==void 0&&f.maxWidth!==0&&m.uint32(32).int32(f.maxWidth),f.maxFramerate!==void 0&&f.maxFramerate!==0&&m.uint32(88).int32(f.maxFramerate),f.maxBitrateBps!==void 0&&f.maxBitrateBps!==0&&m.uint32(96).int32(f.maxBitrateBps),f.is10BitSupported!==void 0&&f.is10BitSupported!==!1&&m.uint32(120).bool(f.is10BitSupported),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=IP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.videoCodec=g.int32();continue}case 3:{if(x!==24)break;S.maxHeight=g.int32();continue}case 4:{if(x!==32)break;S.maxWidth=g.int32();continue}case 11:{if(x!==88)break;S.maxFramerate=g.int32();continue}case 12:{if(x!==96)break;S.maxBitrateBps=g.int32();continue}case 15:{if(x!==120)break;S.is10BitSupported=g.bool();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function kP(){return{audioCodec:0,numChannels:0,maxBitrateBps:0,spatialCapabilityBitmask:0}}const JA={encode(f,m=new st){return f.audioCodec!==void 0&&f.audioCodec!==0&&m.uint32(8).int32(f.audioCodec),f.numChannels!==void 0&&f.numChannels!==0&&m.uint32(16).int32(f.numChannels),f.maxBitrateBps!==void 0&&f.maxBitrateBps!==0&&m.uint32(24).int32(f.maxBitrateBps),f.spatialCapabilityBitmask!==void 0&&f.spatialCapabilityBitmask!==0&&m.uint32(48).int32(f.spatialCapabilityBitmask),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=kP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.audioCodec=g.int32();continue}case 2:{if(x!==16)break;S.numChannels=g.int32();continue}case 3:{if(x!==24)break;S.maxBitrateBps=g.int32();continue}case 6:{if(x!==48)break;S.spatialCapabilityBitmask=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function CP(){return{resolution:0,field2:0,videoFmt:void 0,audioFmt:void 0}}const gv={encode(f,m=new st){return f.resolution!==void 0&&f.resolution!==0&&m.uint32(8).int32(f.resolution),f.field2!==void 0&&f.field2!==0&&m.uint32(16).int32(f.field2),f.videoFmt!==void 0&&Xt.encode(f.videoFmt,m.uint32(58).fork()).join(),f.audioFmt!==void 0&&Xt.encode(f.audioFmt,m.uint32(66).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=CP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.resolution=g.int32();continue}case 2:{if(x!==16)break;S.field2=g.int32();continue}case 7:{if(x!==58)break;S.videoFmt=Xt.decode(g,g.uint32());continue}case 8:{if(x!==66)break;S.audioFmt=Xt.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function MP(){return{timeSinceLastManualFormatSelectionMs:"0",lastManualDirection:0,lastManualSelectedResolution:0,detailedNetworkType:0,clientViewportWidth:0,clientViewportHeight:0,clientBitrateCapBytesPerSec:"0",stickyResolution:0,clientViewportIsFlexible:!1,bandwidthEstimate:"0",minAudioQuality:0,maxAudioQuality:0,videoQualitySetting:0,audioRoute:0,playerTimeMs:"0",timeSinceLastSeek:"0",dataSaverMode:!1,networkMeteredState:0,visibility:0,playbackRate:0,elapsedWallTimeMs:"0",mediaCapabilities:void 0,timeSinceLastActionMs:"0",enabledTrackTypesBitfield:0,maxPacingRate:0,playerState:"0",drcEnabled:!1,field48:0,field50:0,field51:0,sabrReportRequestCancellationInfo:0,disableStreamingXhr:!1,field57:"0",preferVp9:!1,av1QualityThreshold:0,field60:0,isPrefetch:!1,sabrSupportQualityConstraints:!1,sabrLicenseConstraint:new Uint8Array(0),allowProximaLiveLatency:0,sabrForceProxima:0,field67:0,sabrForceMaxNetworkInterruptionDurationMs:"0",audioTrackId:"",enableVoiceBoost:!1,playbackAuthorization:void 0}}const $A={encode(f,m=new st){return f.timeSinceLastManualFormatSelectionMs!==void 0&&f.timeSinceLastManualFormatSelectionMs!=="0"&&m.uint32(104).int64(f.timeSinceLastManualFormatSelectionMs),f.lastManualDirection!==void 0&&f.lastManualDirection!==0&&m.uint32(112).sint32(f.lastManualDirection),f.lastManualSelectedResolution!==void 0&&f.lastManualSelectedResolution!==0&&m.uint32(128).int32(f.lastManualSelectedResolution),f.detailedNetworkType!==void 0&&f.detailedNetworkType!==0&&m.uint32(136).int32(f.detailedNetworkType),f.clientViewportWidth!==void 0&&f.clientViewportWidth!==0&&m.uint32(144).int32(f.clientViewportWidth),f.clientViewportHeight!==void 0&&f.clientViewportHeight!==0&&m.uint32(152).int32(f.clientViewportHeight),f.clientBitrateCapBytesPerSec!==void 0&&f.clientBitrateCapBytesPerSec!=="0"&&m.uint32(160).int64(f.clientBitrateCapBytesPerSec),f.stickyResolution!==void 0&&f.stickyResolution!==0&&m.uint32(168).int32(f.stickyResolution),f.clientViewportIsFlexible!==void 0&&f.clientViewportIsFlexible!==!1&&m.uint32(176).bool(f.clientViewportIsFlexible),f.bandwidthEstimate!==void 0&&f.bandwidthEstimate!=="0"&&m.uint32(184).int64(f.bandwidthEstimate),f.minAudioQuality!==void 0&&f.minAudioQuality!==0&&m.uint32(192).int32(f.minAudioQuality),f.maxAudioQuality!==void 0&&f.maxAudioQuality!==0&&m.uint32(200).int32(f.maxAudioQuality),f.videoQualitySetting!==void 0&&f.videoQualitySetting!==0&&m.uint32(208).int32(f.videoQualitySetting),f.audioRoute!==void 0&&f.audioRoute!==0&&m.uint32(216).int32(f.audioRoute),f.playerTimeMs!==void 0&&f.playerTimeMs!=="0"&&m.uint32(224).int64(f.playerTimeMs),f.timeSinceLastSeek!==void 0&&f.timeSinceLastSeek!=="0"&&m.uint32(232).int64(f.timeSinceLastSeek),f.dataSaverMode!==void 0&&f.dataSaverMode!==!1&&m.uint32(240).bool(f.dataSaverMode),f.networkMeteredState!==void 0&&f.networkMeteredState!==0&&m.uint32(256).int32(f.networkMeteredState),f.visibility!==void 0&&f.visibility!==0&&m.uint32(272).int32(f.visibility),f.playbackRate!==void 0&&f.playbackRate!==0&&m.uint32(285).float(f.playbackRate),f.elapsedWallTimeMs!==void 0&&f.elapsedWallTimeMs!=="0"&&m.uint32(288).int64(f.elapsedWallTimeMs),f.mediaCapabilities!==void 0&&YA.encode(f.mediaCapabilities,m.uint32(306).fork()).join(),f.timeSinceLastActionMs!==void 0&&f.timeSinceLastActionMs!=="0"&&m.uint32(312).int64(f.timeSinceLastActionMs),f.enabledTrackTypesBitfield!==void 0&&f.enabledTrackTypesBitfield!==0&&m.uint32(320).int32(f.enabledTrackTypesBitfield),f.maxPacingRate!==void 0&&f.maxPacingRate!==0&&m.uint32(344).int32(f.maxPacingRate),f.playerState!==void 0&&f.playerState!=="0"&&m.uint32(352).int64(f.playerState),f.drcEnabled!==void 0&&f.drcEnabled!==!1&&m.uint32(368).bool(f.drcEnabled),f.field48!==void 0&&f.field48!==0&&m.uint32(384).int32(f.field48),f.field50!==void 0&&f.field50!==0&&m.uint32(400).int32(f.field50),f.field51!==void 0&&f.field51!==0&&m.uint32(408).int32(f.field51),f.sabrReportRequestCancellationInfo!==void 0&&f.sabrReportRequestCancellationInfo!==0&&m.uint32(432).int32(f.sabrReportRequestCancellationInfo),f.disableStreamingXhr!==void 0&&f.disableStreamingXhr!==!1&&m.uint32(448).bool(f.disableStreamingXhr),f.field57!==void 0&&f.field57!=="0"&&m.uint32(456).int64(f.field57),f.preferVp9!==void 0&&f.preferVp9!==!1&&m.uint32(464).bool(f.preferVp9),f.av1QualityThreshold!==void 0&&f.av1QualityThreshold!==0&&m.uint32(472).int32(f.av1QualityThreshold),f.field60!==void 0&&f.field60!==0&&m.uint32(480).int32(f.field60),f.isPrefetch!==void 0&&f.isPrefetch!==!1&&m.uint32(488).bool(f.isPrefetch),f.sabrSupportQualityConstraints!==void 0&&f.sabrSupportQualityConstraints!==!1&&m.uint32(496).bool(f.sabrSupportQualityConstraints),f.sabrLicenseConstraint!==void 0&&f.sabrLicenseConstraint.length!==0&&m.uint32(506).bytes(f.sabrLicenseConstraint),f.allowProximaLiveLatency!==void 0&&f.allowProximaLiveLatency!==0&&m.uint32(512).int32(f.allowProximaLiveLatency),f.sabrForceProxima!==void 0&&f.sabrForceProxima!==0&&m.uint32(528).int32(f.sabrForceProxima),f.field67!==void 0&&f.field67!==0&&m.uint32(536).int32(f.field67),f.sabrForceMaxNetworkInterruptionDurationMs!==void 0&&f.sabrForceMaxNetworkInterruptionDurationMs!=="0"&&m.uint32(544).int64(f.sabrForceMaxNetworkInterruptionDurationMs),f.audioTrackId!==void 0&&f.audioTrackId!==""&&m.uint32(554).string(f.audioTrackId),f.enableVoiceBoost!==void 0&&f.enableVoiceBoost!==!1&&m.uint32(608).bool(f.enableVoiceBoost),f.playbackAuthorization!==void 0&&KA.encode(f.playbackAuthorization,m.uint32(634).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=MP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 13:{if(x!==104)break;S.timeSinceLastManualFormatSelectionMs=g.int64().toString();continue}case 14:{if(x!==112)break;S.lastManualDirection=g.sint32();continue}case 16:{if(x!==128)break;S.lastManualSelectedResolution=g.int32();continue}case 17:{if(x!==136)break;S.detailedNetworkType=g.int32();continue}case 18:{if(x!==144)break;S.clientViewportWidth=g.int32();continue}case 19:{if(x!==152)break;S.clientViewportHeight=g.int32();continue}case 20:{if(x!==160)break;S.clientBitrateCapBytesPerSec=g.int64().toString();continue}case 21:{if(x!==168)break;S.stickyResolution=g.int32();continue}case 22:{if(x!==176)break;S.clientViewportIsFlexible=g.bool();continue}case 23:{if(x!==184)break;S.bandwidthEstimate=g.int64().toString();continue}case 24:{if(x!==192)break;S.minAudioQuality=g.int32();continue}case 25:{if(x!==200)break;S.maxAudioQuality=g.int32();continue}case 26:{if(x!==208)break;S.videoQualitySetting=g.int32();continue}case 27:{if(x!==216)break;S.audioRoute=g.int32();continue}case 28:{if(x!==224)break;S.playerTimeMs=g.int64().toString();continue}case 29:{if(x!==232)break;S.timeSinceLastSeek=g.int64().toString();continue}case 30:{if(x!==240)break;S.dataSaverMode=g.bool();continue}case 32:{if(x!==256)break;S.networkMeteredState=g.int32();continue}case 34:{if(x!==272)break;S.visibility=g.int32();continue}case 35:{if(x!==285)break;S.playbackRate=g.float();continue}case 36:{if(x!==288)break;S.elapsedWallTimeMs=g.int64().toString();continue}case 38:{if(x!==306)break;S.mediaCapabilities=YA.decode(g,g.uint32());continue}case 39:{if(x!==312)break;S.timeSinceLastActionMs=g.int64().toString();continue}case 40:{if(x!==320)break;S.enabledTrackTypesBitfield=g.int32();continue}case 43:{if(x!==344)break;S.maxPacingRate=g.int32();continue}case 44:{if(x!==352)break;S.playerState=g.int64().toString();continue}case 46:{if(x!==368)break;S.drcEnabled=g.bool();continue}case 48:{if(x!==384)break;S.field48=g.int32();continue}case 50:{if(x!==400)break;S.field50=g.int32();continue}case 51:{if(x!==408)break;S.field51=g.int32();continue}case 54:{if(x!==432)break;S.sabrReportRequestCancellationInfo=g.int32();continue}case 56:{if(x!==448)break;S.disableStreamingXhr=g.bool();continue}case 57:{if(x!==456)break;S.field57=g.int64().toString();continue}case 58:{if(x!==464)break;S.preferVp9=g.bool();continue}case 59:{if(x!==472)break;S.av1QualityThreshold=g.int32();continue}case 60:{if(x!==480)break;S.field60=g.int32();continue}case 61:{if(x!==488)break;S.isPrefetch=g.bool();continue}case 62:{if(x!==496)break;S.sabrSupportQualityConstraints=g.bool();continue}case 63:{if(x!==506)break;S.sabrLicenseConstraint=g.bytes();continue}case 64:{if(x!==512)break;S.allowProximaLiveLatency=g.int32();continue}case 66:{if(x!==528)break;S.sabrForceProxima=g.int32();continue}case 67:{if(x!==536)break;S.field67=g.int32();continue}case 68:{if(x!==544)break;S.sabrForceMaxNetworkInterruptionDurationMs=g.int64().toString();continue}case 69:{if(x!==554)break;S.audioTrackId=g.string();continue}case 76:{if(x!==608)break;S.enableVoiceBoost=g.bool();continue}case 79:{if(x!==634)break;S.playbackAuthorization=KA.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function RP(){return{clientInfo:void 0,poToken:new Uint8Array(0),playbackCookie:new Uint8Array(0),field4:new Uint8Array(0),sabrContexts:[],unsentSabrContexts:[],field7:"",field8:void 0}}const QA={encode(f,m=new st){f.clientInfo!==void 0&&ex.encode(f.clientInfo,m.uint32(10).fork()).join(),f.poToken!==void 0&&f.poToken.length!==0&&m.uint32(18).bytes(f.poToken),f.playbackCookie!==void 0&&f.playbackCookie.length!==0&&m.uint32(26).bytes(f.playbackCookie),f.field4!==void 0&&f.field4.length!==0&&m.uint32(34).bytes(f.field4);for(const g of f.sabrContexts)nx.encode(g,m.uint32(42).fork()).join();m.uint32(50).fork();for(const g of f.unsentSabrContexts)m.int32(g);return m.join(),f.field7!==void 0&&f.field7!==""&&m.uint32(58).string(f.field7),f.field8!==void 0&&ix.encode(f.field8,m.uint32(66).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=RP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.clientInfo=ex.decode(g,g.uint32());continue}case 2:{if(x!==18)break;S.poToken=g.bytes();continue}case 3:{if(x!==26)break;S.playbackCookie=g.bytes();continue}case 4:{if(x!==34)break;S.field4=g.bytes();continue}case 5:{if(x!==42)break;S.sabrContexts.push(nx.decode(g,g.uint32()));continue}case 6:{if(x===48){S.unsentSabrContexts.push(g.int32());continue}if(x===50){const W=g.uint32()+g.pos;for(;g.pos<W;)S.unsentSabrContexts.push(g.int32());continue}break}case 7:{if(x!==58)break;S.field7=g.string();continue}case 8:{if(x!==66)break;S.field8=ix.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function LP(){return{deviceMake:"",deviceModel:"",clientName:0,clientVersion:"",osName:"",osVersion:"",acceptLanguage:"",acceptRegion:"",screenWidthPoints:0,screenHeightPoints:0,screenWidthInches:0,screenHeightInches:0,screenPixelDensity:0,clientFormFactor:0,gmscoreVersionCode:0,windowWidthPoints:0,windowHeightPoints:0,androidSdkVersion:0,screenDensityFloat:0,utcOffsetMinutes:"0",timeZone:"",chipset:"",glDeviceInfo:void 0}}const ex={encode(f,m=new st){return f.deviceMake!==void 0&&f.deviceMake!==""&&m.uint32(98).string(f.deviceMake),f.deviceModel!==void 0&&f.deviceModel!==""&&m.uint32(106).string(f.deviceModel),f.clientName!==void 0&&f.clientName!==0&&m.uint32(128).int32(f.clientName),f.clientVersion!==void 0&&f.clientVersion!==""&&m.uint32(138).string(f.clientVersion),f.osName!==void 0&&f.osName!==""&&m.uint32(146).string(f.osName),f.osVersion!==void 0&&f.osVersion!==""&&m.uint32(154).string(f.osVersion),f.acceptLanguage!==void 0&&f.acceptLanguage!==""&&m.uint32(170).string(f.acceptLanguage),f.acceptRegion!==void 0&&f.acceptRegion!==""&&m.uint32(178).string(f.acceptRegion),f.screenWidthPoints!==void 0&&f.screenWidthPoints!==0&&m.uint32(296).int32(f.screenWidthPoints),f.screenHeightPoints!==void 0&&f.screenHeightPoints!==0&&m.uint32(304).int32(f.screenHeightPoints),f.screenWidthInches!==void 0&&f.screenWidthInches!==0&&m.uint32(317).float(f.screenWidthInches),f.screenHeightInches!==void 0&&f.screenHeightInches!==0&&m.uint32(325).float(f.screenHeightInches),f.screenPixelDensity!==void 0&&f.screenPixelDensity!==0&&m.uint32(328).int32(f.screenPixelDensity),f.clientFormFactor!==void 0&&f.clientFormFactor!==0&&m.uint32(368).int32(f.clientFormFactor),f.gmscoreVersionCode!==void 0&&f.gmscoreVersionCode!==0&&m.uint32(400).int32(f.gmscoreVersionCode),f.windowWidthPoints!==void 0&&f.windowWidthPoints!==0&&m.uint32(440).int32(f.windowWidthPoints),f.windowHeightPoints!==void 0&&f.windowHeightPoints!==0&&m.uint32(448).int32(f.windowHeightPoints),f.androidSdkVersion!==void 0&&f.androidSdkVersion!==0&&m.uint32(512).int32(f.androidSdkVersion),f.screenDensityFloat!==void 0&&f.screenDensityFloat!==0&&m.uint32(525).float(f.screenDensityFloat),f.utcOffsetMinutes!==void 0&&f.utcOffsetMinutes!=="0"&&m.uint32(536).int64(f.utcOffsetMinutes),f.timeZone!==void 0&&f.timeZone!==""&&m.uint32(642).string(f.timeZone),f.chipset!==void 0&&f.chipset!==""&&m.uint32(738).string(f.chipset),f.glDeviceInfo!==void 0&&tx.encode(f.glDeviceInfo,m.uint32(818).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=LP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 12:{if(x!==98)break;S.deviceMake=g.string();continue}case 13:{if(x!==106)break;S.deviceModel=g.string();continue}case 16:{if(x!==128)break;S.clientName=g.int32();continue}case 17:{if(x!==138)break;S.clientVersion=g.string();continue}case 18:{if(x!==146)break;S.osName=g.string();continue}case 19:{if(x!==154)break;S.osVersion=g.string();continue}case 21:{if(x!==170)break;S.acceptLanguage=g.string();continue}case 22:{if(x!==178)break;S.acceptRegion=g.string();continue}case 37:{if(x!==296)break;S.screenWidthPoints=g.int32();continue}case 38:{if(x!==304)break;S.screenHeightPoints=g.int32();continue}case 39:{if(x!==317)break;S.screenWidthInches=g.float();continue}case 40:{if(x!==325)break;S.screenHeightInches=g.float();continue}case 41:{if(x!==328)break;S.screenPixelDensity=g.int32();continue}case 46:{if(x!==368)break;S.clientFormFactor=g.int32();continue}case 50:{if(x!==400)break;S.gmscoreVersionCode=g.int32();continue}case 55:{if(x!==440)break;S.windowWidthPoints=g.int32();continue}case 56:{if(x!==448)break;S.windowHeightPoints=g.int32();continue}case 64:{if(x!==512)break;S.androidSdkVersion=g.int32();continue}case 65:{if(x!==525)break;S.screenDensityFloat=g.float();continue}case 67:{if(x!==536)break;S.utcOffsetMinutes=g.int64().toString();continue}case 80:{if(x!==642)break;S.timeZone=g.string();continue}case 92:{if(x!==738)break;S.chipset=g.string();continue}case 102:{if(x!==818)break;S.glDeviceInfo=tx.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function PP(){return{glRenderer:"",glEsVersionMajor:0,glEsVersionMinor:0}}const tx={encode(f,m=new st){return f.glRenderer!==void 0&&f.glRenderer!==""&&m.uint32(10).string(f.glRenderer),f.glEsVersionMajor!==void 0&&f.glEsVersionMajor!==0&&m.uint32(16).int32(f.glEsVersionMajor),f.glEsVersionMinor!==void 0&&f.glEsVersionMinor!==0&&m.uint32(24).int32(f.glEsVersionMinor),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=PP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.glRenderer=g.string();continue}case 2:{if(x!==16)break;S.glEsVersionMajor=g.int32();continue}case 3:{if(x!==24)break;S.glEsVersionMinor=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function bP(){return{type:0,value:new Uint8Array(0)}}const nx={encode(f,m=new st){return f.type!==void 0&&f.type!==0&&m.uint32(8).int32(f.type),f.value!==void 0&&f.value.length!==0&&m.uint32(18).bytes(f.value),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=bP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.type=g.int32();continue}case 2:{if(x!==18)break;S.value=g.bytes();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function DP(){return{field1:new Uint8Array(0),field2:void 0}}const ix={encode(f,m=new st){return f.field1!==void 0&&f.field1.length!==0&&m.uint32(10).bytes(f.field1),f.field2!==void 0&&rx.encode(f.field2,m.uint32(18).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=DP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.field1=g.bytes();continue}case 2:{if(x!==18)break;S.field2=rx.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function NP(){return{code:0,message:""}}const rx={encode(f,m=new st){return f.code!==void 0&&f.code!==0&&m.uint32(8).int32(f.code),f.message!==void 0&&f.message!==""&&m.uint32(18).string(f.message),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=NP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.code=g.int32();continue}case 2:{if(x!==18)break;S.message=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function OP(){return{clientAbrState:void 0,selectedFormatIds:[],bufferedRanges:[],playerTimeMs:"0",videoPlaybackUstreamerConfig:new Uint8Array(0),field6:void 0,preferredAudioFormatIds:[],preferredVideoFormatIds:[],preferredSubtitleFormatIds:[],streamerContext:void 0,field21:void 0,field22:0,field23:0,field1000:[]}}const _P={encode(f,m=new st){f.clientAbrState!==void 0&&$A.encode(f.clientAbrState,m.uint32(10).fork()).join();for(const g of f.selectedFormatIds)Xt.encode(g,m.uint32(18).fork()).join();for(const g of f.bufferedRanges)_h.encode(g,m.uint32(26).fork()).join();f.playerTimeMs!==void 0&&f.playerTimeMs!=="0"&&m.uint32(32).int64(f.playerTimeMs),f.videoPlaybackUstreamerConfig!==void 0&&f.videoPlaybackUstreamerConfig.length!==0&&m.uint32(42).bytes(f.videoPlaybackUstreamerConfig),f.field6!==void 0&&ox.encode(f.field6,m.uint32(50).fork()).join();for(const g of f.preferredAudioFormatIds)Xt.encode(g,m.uint32(130).fork()).join();for(const g of f.preferredVideoFormatIds)Xt.encode(g,m.uint32(138).fork()).join();for(const g of f.preferredSubtitleFormatIds)Xt.encode(g,m.uint32(146).fork()).join();f.streamerContext!==void 0&&QA.encode(f.streamerContext,m.uint32(154).fork()).join(),f.field21!==void 0&&sx.encode(f.field21,m.uint32(170).fork()).join(),f.field22!==void 0&&f.field22!==0&&m.uint32(176).int32(f.field22),f.field23!==void 0&&f.field23!==0&&m.uint32(184).int32(f.field23);for(const g of f.field1000)ux.encode(g,m.uint32(8002).fork()).join();return m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=OP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.clientAbrState=$A.decode(g,g.uint32());continue}case 2:{if(x!==18)break;S.selectedFormatIds.push(Xt.decode(g,g.uint32()));continue}case 3:{if(x!==26)break;S.bufferedRanges.push(_h.decode(g,g.uint32()));continue}case 4:{if(x!==32)break;S.playerTimeMs=g.int64().toString();continue}case 5:{if(x!==42)break;S.videoPlaybackUstreamerConfig=g.bytes();continue}case 6:{if(x!==50)break;S.field6=ox.decode(g,g.uint32());continue}case 16:{if(x!==130)break;S.preferredAudioFormatIds.push(Xt.decode(g,g.uint32()));continue}case 17:{if(x!==138)break;S.preferredVideoFormatIds.push(Xt.decode(g,g.uint32()));continue}case 18:{if(x!==146)break;S.preferredSubtitleFormatIds.push(Xt.decode(g,g.uint32()));continue}case 19:{if(x!==154)break;S.streamerContext=QA.decode(g,g.uint32());continue}case 21:{if(x!==170)break;S.field21=sx.decode(g,g.uint32());continue}case 22:{if(x!==176)break;S.field22=g.int32();continue}case 23:{if(x!==184)break;S.field23=g.int32();continue}case 1e3:{if(x!==8002)break;S.field1000.push(ux.decode(g,g.uint32()));continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function UP(){return{formatId:void 0,lmt:"0",sequenceNumber:0,timeRange:void 0,field5:0}}const ox={encode(f,m=new st){return f.formatId!==void 0&&Xt.encode(f.formatId,m.uint32(10).fork()).join(),f.lmt!==void 0&&f.lmt!=="0"&&m.uint32(16).sint64(f.lmt),f.sequenceNumber!==void 0&&f.sequenceNumber!==0&&m.uint32(24).int32(f.sequenceNumber),f.timeRange!==void 0&&gu.encode(f.timeRange,m.uint32(34).fork()).join(),f.field5!==void 0&&f.field5!==0&&m.uint32(40).int32(f.field5),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=UP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.formatId=Xt.decode(g,g.uint32());continue}case 2:{if(x!==16)break;S.lmt=g.sint64().toString();continue}case 3:{if(x!==24)break;S.sequenceNumber=g.int32();continue}case 4:{if(x!==34)break;S.timeRange=gu.decode(g,g.uint32());continue}case 5:{if(x!==40)break;S.field5=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function jP(){return{field1:[],field2:new Uint8Array(0),field3:"",field4:0,field5:0,field6:""}}const sx={encode(f,m=new st){for(const g of f.field1)m.uint32(10).string(g);return f.field2!==void 0&&f.field2.length!==0&&m.uint32(18).bytes(f.field2),f.field3!==void 0&&f.field3!==""&&m.uint32(26).string(f.field3),f.field4!==void 0&&f.field4!==0&&m.uint32(32).int32(f.field4),f.field5!==void 0&&f.field5!==0&&m.uint32(40).int32(f.field5),f.field6!==void 0&&f.field6!==""&&m.uint32(50).string(f.field6),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=jP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.field1.push(g.string());continue}case 2:{if(x!==18)break;S.field2=g.bytes();continue}case 3:{if(x!==26)break;S.field3=g.string();continue}case 4:{if(x!==32)break;S.field4=g.int32();continue}case 5:{if(x!==40)break;S.field5=g.int32();continue}case 6:{if(x!==50)break;S.field6=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function BP(){return{formatIds:[],ud:[],clipId:""}}const ux={encode(f,m=new st){for(const g of f.formatIds)Xt.encode(g,m.uint32(10).fork()).join();for(const g of f.ud)_h.encode(g,m.uint32(18).fork()).join();return f.clipId!==void 0&&f.clipId!==""&&m.uint32(26).string(f.clipId),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=BP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.formatIds.push(Xt.decode(g,g.uint32()));continue}case 2:{if(x!==18)break;S.ud.push(_h.decode(g,g.uint32()));continue}case 3:{if(x!==26)break;S.clipId=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function FP(){return{targetAudioReadaheadMs:0,targetVideoReadaheadMs:0,maxTimeSinceLastRequestMs:0,backoffTimeMs:0,minAudioReadaheadMs:0,minVideoReadaheadMs:0,playbackCookie:void 0,videoId:""}}const qP={encode(f,m=new st){return f.targetAudioReadaheadMs!==void 0&&f.targetAudioReadaheadMs!==0&&m.uint32(8).int32(f.targetAudioReadaheadMs),f.targetVideoReadaheadMs!==void 0&&f.targetVideoReadaheadMs!==0&&m.uint32(16).int32(f.targetVideoReadaheadMs),f.maxTimeSinceLastRequestMs!==void 0&&f.maxTimeSinceLastRequestMs!==0&&m.uint32(24).int32(f.maxTimeSinceLastRequestMs),f.backoffTimeMs!==void 0&&f.backoffTimeMs!==0&&m.uint32(32).int32(f.backoffTimeMs),f.minAudioReadaheadMs!==void 0&&f.minAudioReadaheadMs!==0&&m.uint32(40).int32(f.minAudioReadaheadMs),f.minVideoReadaheadMs!==void 0&&f.minVideoReadaheadMs!==0&&m.uint32(48).int32(f.minVideoReadaheadMs),f.playbackCookie!==void 0&&gv.encode(f.playbackCookie,m.uint32(58).fork()).join(),f.videoId!==void 0&&f.videoId!==""&&m.uint32(66).string(f.videoId),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=FP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.targetAudioReadaheadMs=g.int32();continue}case 2:{if(x!==16)break;S.targetVideoReadaheadMs=g.int32();continue}case 3:{if(x!==24)break;S.maxTimeSinceLastRequestMs=g.int32();continue}case 4:{if(x!==32)break;S.backoffTimeMs=g.int32();continue}case 5:{if(x!==40)break;S.minAudioReadaheadMs=g.int32();continue}case 6:{if(x!==48)break;S.minVideoReadaheadMs=g.int32();continue}case 7:{if(x!==58)break;S.playbackCookie=gv.decode(g,g.uint32());continue}case 8:{if(x!==66)break;S.videoId=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function VP(){return{type:"",code:0}}const HP={encode(f,m=new st){return f.type!==void 0&&f.type!==""&&m.uint32(10).string(f.type),f.code!==void 0&&f.code!==0&&m.uint32(16).int32(f.code),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=VP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.type=g.string();continue}case 2:{if(x!==16)break;S.code=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function GP(){return{url:""}}const zP={encode(f,m=new st){return f.url!==void 0&&f.url!==""&&m.uint32(10).string(f.url),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=GP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.url=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function KP(){return{token:""}}const ax={encode(f,m=new st){return f.token!==void 0&&f.token!==""&&m.uint32(10).string(f.token),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=KP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.token=g.string();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function WP(){return{reloadPlaybackParams:void 0}}const XP={encode(f,m=new st){return f.reloadPlaybackParams!==void 0&&ax.encode(f.reloadPlaybackParams,m.uint32(10).fork()).join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=WP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==10)break;S.reloadPlaybackParams=ax.decode(g,g.uint32());continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}},lx={UNSPECIFIED:0,0:"UNSPECIFIED",OVERWRITE:1,1:"OVERWRITE",KEEP_EXISTING:2,2:"KEEP_EXISTING",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"};function YP(){return{type:0,scope:0,value:new Uint8Array(0),sendByDefault:!1,writePolicy:0}}const ZP={encode(f,m=new st){return f.type!==void 0&&f.type!==0&&m.uint32(8).int32(f.type),f.scope!==void 0&&f.scope!==0&&m.uint32(16).int32(f.scope),f.value!==void 0&&f.value.length!==0&&m.uint32(26).bytes(f.value),f.sendByDefault!==void 0&&f.sendByDefault!==!1&&m.uint32(32).bool(f.sendByDefault),f.writePolicy!==void 0&&f.writePolicy!==0&&m.uint32(40).int32(f.writePolicy),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=YP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.type=g.int32();continue}case 2:{if(x!==16)break;S.scope=g.int32();continue}case 3:{if(x!==26)break;S.value=g.bytes();continue}case 4:{if(x!==32)break;S.sendByDefault=g.bool();continue}case 5:{if(x!==40)break;S.writePolicy=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function JP(){return{startPolicy:[],stopPolicy:[],discardPolicy:[]}}const $P={encode(f,m=new st){m.uint32(10).fork();for(const g of f.startPolicy)m.int32(g);m.join(),m.uint32(18).fork();for(const g of f.stopPolicy)m.int32(g);m.join(),m.uint32(26).fork();for(const g of f.discardPolicy)m.int32(g);return m.join(),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=JP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x===8){S.startPolicy.push(g.int32());continue}if(x===10){const W=g.uint32()+g.pos;for(;g.pos<W;)S.startPolicy.push(g.int32());continue}break}case 2:{if(x===16){S.stopPolicy.push(g.int32());continue}if(x===18){const W=g.uint32()+g.pos;for(;g.pos<W;)S.stopPolicy.push(g.int32());continue}break}case 3:{if(x===24){S.discardPolicy.push(g.int32());continue}if(x===26){const W=g.uint32()+g.pos;for(;g.pos<W;)S.discardPolicy.push(g.int32());continue}break}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function QP(){return{status:0,maxRetries:0}}const eb={encode(f,m=new st){return f.status!==void 0&&f.status!==0&&m.uint32(8).int32(f.status),f.maxRetries!==void 0&&f.maxRetries!==0&&m.uint32(16).int32(f.maxRetries),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=QP();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.status=g.int32();continue}case 2:{if(x!==16)break;S.maxRetries=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}};function tb(){return{id:0}}const nb={encode(f,m=new st){return f.id!==void 0&&f.id!==0&&m.uint32(8).int32(f.id),m},decode(f,m){const g=f instanceof Ee?f:new Ee(f),R=m===void 0?g.len:g.pos+m,S=tb();for(;g.pos<R;){const x=g.uint32();switch(x>>>3){case 1:{if(x!==8)break;S.id=g.int32();continue}}if((x&7)===4||x===0)break;g.skip(x&7)}return S}},Ci={MEDIA_HEADER:20,MEDIA:21,MEDIA_END:22,NEXT_REQUEST_POLICY:35,FORMAT_INITIALIZATION_METADATA:42,SABR_REDIRECT:43,SABR_ERROR:44,RELOAD_PLAYER_RESPONSE:46,SABR_CONTEXT_UPDATE:57,STREAM_PROTECTION_STATUS:58,SABR_CONTEXT_SENDING_POLICY:59,SNACKBAR_MESSAGE:67},Ui="SabrStreamingAdapter",co={PROTOCOL:"sabr:",KEY_PARAM:"key",DEFAULT_OPTIONS:{enableCaching:!0,enableVerboseRequestLogging:!1,maxCacheSizeMB:3,maxCacheAgeSeconds:300}},ib=new Uint8Array([120,0]);class rb{onSnackbarMessage(m){this.onSnackbarMessageCallback=m}onReloadPlayerResponse(m){this.onReloadPlayerResponseCallback=m}onMintPoToken(m){this.onMintPoTokenCallback=m}constructor(m){if(this.initializedFormats=new Map,this.logger=$o.getInstance(),this.sabrFormats=[],this.sabrContexts=new Map,this.activeSabrContextTypes=new Set,this.lastPlayerTimeSecs=0,this.cacheManager=null,this.requestNumber=0,this.activeDelayPromise=null,this.isDisposed=!1,this.options={...co.DEFAULT_OPTIONS,...m},m.playerAdapter)this.playerAdapter=m.playerAdapter;else throw new fu("A player adapter is required.");this.options.enableCaching&&(this.cacheManager=new $L(this.options.maxCacheSizeMB,this.options.maxCacheAgeSeconds)),this.requestMetadataManager=new QL}attach(m){this.checkDisposed(),this.playerAdapter.initialize(m,this.requestMetadataManager,this.cacheManager),this.setupInterceptors()}setStreamingURL(m){this.checkDisposed(),this.serverAbrStreamingUrl=m}setUstreamerConfig(m){this.checkDisposed(),this.ustreamerConfig=m}setServerAbrFormats(m){this.checkDisposed(),this.sabrFormats=m}getCacheManager(){return this.cacheManager}setupInterceptors(){this.playerAdapter.registerRequestInterceptor(this.handleRequest.bind(this)),this.playerAdapter.registerResponseInterceptor(this.handleResponse.bind(this))}async handleRequest(m){const g=new URL(m.url);if(g.protocol===co.PROTOCOL){if(this.activeDelayPromise&&await this.activeDelayPromise,!this.serverAbrStreamingUrl)throw new fu("Server ABR URL not set.");if(!this.sabrFormats.length)throw new fu("No SABR formats available.");const R=String(this.requestNumber++),S=new URL(this.serverAbrStreamingUrl||"");S.searchParams.set("rn",R),m.url=S.toString();const x=this.sabrFormats.find(Le=>pu(Le)===(g.searchParams.get(co.KEY_PARAM)||""));if(!x)throw new fu(`Could not determine current format from URL: ${m.url}`);this.playerAdapter.getPlayerTime()<this.lastPlayerTimeSecs&&this.initializedFormats.clear();const W=this.playerAdapter.getActiveTrackFormats(x,this.sabrFormats),h=await this.createVideoPlaybackAbrRequest(m,x,W);x.height&&(h.clientAbrState.stickyResolution=x.height,h.clientAbrState.lastManualSelectedResolution=x.height);const $=this.addBufferingInfoToAbrRequest(h,x,W);$&&h.selectedFormatIds.push($),m.segment.isInit()||h.selectedFormatIds.push(x),this.options.enableVerboseRequestLogging&&this.logger.debug(Ui,`Created VideoPlaybackAbrRequest (${R}):`,h),m.body=_P.encode(h).finish(),this.requestMetadataManager.metadataMap.set(R,{format:x,isUMP:!0,isSABR:!0,isInit:m.segment.isInit(),byteRange:ZL(m.headers.Range),timestamp:Date.now()})}else{const R=this.onMintPoTokenCallback?await this.onMintPoTokenCallback():void 0;g.pathname.includes("videoplayback/expire")||g.pathname.includes("source/yt_live_broadcast")?(g.pathname+="/ump/1",g.pathname+="/srfvp/1",g.pathname+="/alr/yes",R&&(g.pathname+=`/pot/${R}`),m.headers.Range&&(g.pathname+=`/range/${m.headers.Range?.split("=")[1]}`)):(g.searchParams.set("ump","1"),g.searchParams.set("srfvp","1"),g.searchParams.set("alr","yes"),R&&g.searchParams.set("pot",R),m.headers.Range&&g.searchParams.set("range",m.headers.Range?.split("=")[1]));const S=String(this.requestNumber++);g.searchParams.set("rn",S),m.url=g.toString(),m.body=ib,this.requestMetadataManager.metadataMap.set(S,{isUMP:!0,isSABR:!1,timestamp:Date.now()})}return m.method="POST",delete m.headers.Range,m}async createVideoPlaybackAbrRequest(m,g,R){if(!this.ustreamerConfig)throw new fu("Ustreamer config not set");const S={poToken:this.onMintPoTokenCallback?OA(await this.onMintPoTokenCallback()):void 0,playbackCookie:this.lastPlaybackCookie?gv.encode(this.lastPlaybackCookie).finish():void 0,clientInfo:this.options.clientInfo,sabrContexts:[],unsentSabrContexts:[]};for(const x of this.sabrContexts.values())this.activeSabrContextTypes.has(x.type)?S.sabrContexts.push(x):S.unsentSabrContexts.push(x.type);return this.lastPlayerTimeSecs=this.playerAdapter.getPlayerTime(),{clientAbrState:{playbackRate:this.playerAdapter.getPlaybackRate(),playerTimeMs:Math.round((m.segment.getStartTime()??this.lastPlayerTimeSecs)*1e3).toString(),clientViewportIsFlexible:!1,bandwidthEstimate:Math.round(this.playerAdapter.getBandwidthEstimate()||0).toString(),drcEnabled:g?.isDrc??!1,enabledTrackTypesBitfield:g.width?DA.VIDEO_ONLY:DA.AUDIO_ONLY,audioTrackId:g.audioTrackId},bufferedRanges:[],selectedFormatIds:[],preferredAudioFormatIds:[R.audioFormat||{}],preferredVideoFormatIds:[R.videoFormat||{}],preferredSubtitleFormatIds:[],videoPlaybackUstreamerConfig:OA(this.ustreamerConfig),streamerContext:S,field1000:[]}}addBufferingInfoToAbrRequest(m,g,R){let S;const x=pu(g);for(const W of Object.values(R)){if(!W)continue;const h=pu(W),$=x!==h,Le=this.initializedFormats.get(h||""),Ke=$?this.createFullBufferRange(W):this.createPartialBufferRange(Le);Ke&&(m.bufferedRanges.push(Ke),$&&(S=W))}return S}createFullBufferRange(m){return{formatId:m,durationMs:Rh,startTimeMs:"0",startSegmentIndex:Number(Rh),endSegmentIndex:Number(Rh),timeRange:{durationTicks:Rh,startTicks:"0",timescale:1e3}}}createPartialBufferRange(m){if(!m?.lastSegmentMetadata)return null;const{formatId:g,startSequenceNumber:R,timescale:S,durationMs:x,endSequenceNumber:W}=m.lastSegmentMetadata;return{formatId:g,startSegmentIndex:R,durationMs:x,startTimeMs:"0",endSegmentIndex:W,timeRange:{timescale:S,startTicks:"0",durationTicks:x}}}async handleResponse(m){const g=this.requestMetadataManager.getRequestMetadata(m.url,!0);if(!g)return m;const{streamInfo:R,format:S,byteRange:x,isSABR:W}=g;if(!R)return m;const h=async()=>{const $=S?.width?"video":"audio",Le=pu(S)||"",Ke=new URL(`${co.PROTOCOL}//${$}?${co.KEY_PARAM}=${Le}`);return await this.makeFollowupRequest(m,Ke.toString(),W,x)};if(R.snackbarMessage&&(this.logger.debug(Ui,"Received snackbar message:",R.snackbarMessage),this.onSnackbarMessageCallback&&this.onSnackbarMessageCallback(R.snackbarMessage)),R.redirect?.url){let $=new URL(R.redirect?.url);if(this.logger.info(Ui,`Redirecting to ${$}`),W){this.serverAbrStreamingUrl=R.redirect?.url;const Le=S?.width?"video":"audio",Ke=pu(S)||"";$=new URL(`${co.PROTOCOL}//${Le}?${co.KEY_PARAM}=${Ke}`)}if(!m.data?.byteLength)return await this.makeFollowupRequest(m,$.toString(),W,x)}if(R.nextRequestPolicy){this.lastPlaybackCookie=R.nextRequestPolicy?.playbackCookie;const $=R.nextRequestPolicy.backoffTimeMs||0;$>0&&!this.activeDelayPromise&&(this.logger.info(Ui,`Delaying next requests by ${$/1e3} seconds.`),this.activeDelayPromise=new Promise(Le=>{setTimeout(()=>{this.logger.info(Ui,"Delay completed, resuming requests."),this.activeDelayPromise=null,Le()},$)}))}if(R.sabrContextSendingPolicy){for(const $ of R.sabrContextSendingPolicy.startPolicy)this.activeSabrContextTypes.has($)||(this.activeSabrContextTypes.add($),this.logger.debug(Ui,`Activated SABR context for type ${$}`));for(const $ of R.sabrContextSendingPolicy.stopPolicy)this.activeSabrContextTypes.has($)&&(this.activeSabrContextTypes.delete($),this.logger.debug(Ui,`Deactivated SABR context for type ${$}`));for(const $ of R.sabrContextSendingPolicy.discardPolicy)this.sabrContexts.has($)&&(this.sabrContexts.delete($),this.logger.debug(Ui,`Discarded SABR context for type ${$}`))}if(R.sabrContextUpdate&&R.sabrContextUpdate.type!==void 0&&R.sabrContextUpdate.value?.length&&((!this.sabrContexts.has(R.sabrContextUpdate.type)||R.sabrContextUpdate.writePolicy===lx.OVERWRITE)&&(this.logger.debug(Ui,`Received SABR context update (type: ${R.sabrContextUpdate.type}, writePolicy: ${lx[R.sabrContextUpdate.writePolicy]} sendByDefault: ${R.sabrContextUpdate.sendByDefault})`),this.sabrContexts.set(R.sabrContextUpdate.type,R.sabrContextUpdate)),R.sabrContextUpdate.sendByDefault&&this.activeSabrContextTypes.add(R.sabrContextUpdate.type),!m.data?.byteLength))return h();if(R.reloadPlaybackContext&&this.onReloadPlayerResponseCallback)return this.logger.info(Ui,"Server requested player reload with new parameters:",R.reloadPlaybackContext),await this.onReloadPlayerResponseCallback(R.reloadPlaybackContext),h();if(R.mediaHeader){const $=mx(R.mediaHeader);if(R.mediaHeader.isInitSeg)return;const Le=this.initializedFormats.get($)||{};Le.lastSegmentMetadata={formatId:R.mediaHeader.formatId,startSequenceNumber:R.mediaHeader.sequenceNumber||1,endSequenceNumber:R.mediaHeader.sequenceNumber||1,startTimeMs:R.mediaHeader.startMs||"0",durationMs:R.mediaHeader.durationMs||"0",timescale:R.mediaHeader.timeRange?.timescale||1e3},this.initializedFormats.set($,Le)}return m}async makeFollowupRequest(m,g,R,S){this.activeDelayPromise&&await this.activeDelayPromise;const x={};R&&S&&(x.Range=`bytes=${S.start}-${S.end}`);const W=await m.makeRequest(g,x);return Object.assign(m,W),m}checkDisposed(){if(this.isDisposed)throw new fu("Adapter has been disposed.")}dispose(){this.isDisposed||(this.cacheManager?.dispose(),this.cacheManager=null,this.initializedFormats.clear(),this.requestMetadataManager.metadataMap.clear(),this.sabrContexts.clear(),this.activeSabrContextTypes.clear(),this.lastPlaybackCookie=void 0,this.lastPlayerTimeSecs=0,this.sabrFormats=[],this.serverAbrStreamingUrl=void 0,this.ustreamerConfig=void 0,this.activeDelayPromise=null,this.playerAdapter.dispose(),this.requestNumber=0,this.onReloadPlayerResponseCallback=void 0,this.onSnackbarMessageCallback=void 0,this.onMintPoTokenCallback=void 0,this.options=void 0,this.isDisposed=!0,this.logger.debug(Ui,"Disposed"))}}class Uh{constructor(m=[]){this.chunks=[],this.currentChunkOffset=this.currentChunkIndex=0,this.currentDataView=void 0,this.totalLength=0,m.forEach(g=>this.append(g))}append(m){if(m instanceof Uint8Array){if(this.canMergeWithLastChunk(m)){const g=this.chunks[this.chunks.length-1];this.chunks[this.chunks.length-1]=new Uint8Array(g.buffer,g.byteOffset,g.length+m.length),this.resetFocus()}else this.chunks.push(m);this.totalLength+=m.length}else m.chunks.forEach(g=>this.append(g))}split(m){const g=new Uh,R=new Uh,S=this.chunks[Symbol.iterator]();let x=S.next();for(;!x.done;){const W=x.value;m>=W.length?(g.append(W),m-=W.length):m>0?(g.append(new Uint8Array(W.buffer,W.byteOffset,m)),R.append(new Uint8Array(W.buffer,W.byteOffset+m,W.length-m)),m=0):R.append(W),x=S.next()}return{extractedBuffer:g,remainingBuffer:R}}getLength(){return this.totalLength}canReadBytes(m,g){return m+g<=this.totalLength}getUint8(m){return this.focus(m),this.chunks[this.currentChunkIndex][m-this.currentChunkOffset]}focus(m){if(!this.isFocused(m)){for(m<this.currentChunkOffset&&this.resetFocus();this.currentChunkOffset+this.chunks[this.currentChunkIndex].length<=m&&this.currentChunkIndex<this.chunks.length-1;)this.currentChunkOffset+=this.chunks[this.currentChunkIndex].length,this.currentChunkIndex+=1;this.currentDataView=void 0}}isFocused(m){return m>=this.currentChunkOffset&&m<this.currentChunkOffset+this.chunks[this.currentChunkIndex].length}resetFocus(){this.currentDataView=void 0,this.currentChunkIndex=0,this.currentChunkOffset=0}canMergeWithLastChunk(m){if(this.chunks.length===0)return!1;const g=this.chunks[this.chunks.length-1];return g.buffer===m.buffer&&g.byteOffset+g.length===m.byteOffset}}class ob{constructor(m){this.compositeBuffer=m}read(m){for(;;){let g=0;const[R,S]=this.readVarInt(g);g=S;const[x,W]=this.readVarInt(g);if(g=W,R<0||x<0)break;if(!this.compositeBuffer.canReadBytes(g,x)){if(!this.compositeBuffer.canReadBytes(g,1))break;return{type:R,size:x,data:this.compositeBuffer}}const h=this.compositeBuffer.split(g).remainingBuffer.split(x);g=0,m({type:R,size:x,data:h.extractedBuffer}),this.compositeBuffer=h.remainingBuffer}}readVarInt(m){let g;if(this.compositeBuffer.canReadBytes(m,1)){const S=this.compositeBuffer.getUint8(m);g=S<128?1:S<192?2:S<224?3:S<240?4:5}else g=0;if(g<1||!this.compositeBuffer.canReadBytes(m,g))return[-1,m];let R;switch(g){case 1:R=this.compositeBuffer.getUint8(m++);break;case 2:{const S=this.compositeBuffer.getUint8(m++),x=this.compositeBuffer.getUint8(m++);R=(S&63)+64*x;break}case 3:{const S=this.compositeBuffer.getUint8(m++),x=this.compositeBuffer.getUint8(m++),W=this.compositeBuffer.getUint8(m++);R=(S&31)+32*(x+256*W);break}case 4:{const S=this.compositeBuffer.getUint8(m++),x=this.compositeBuffer.getUint8(m++),W=this.compositeBuffer.getUint8(m++),h=this.compositeBuffer.getUint8(m++);R=(S&15)+16*(x+256*(W+256*h));break}default:{const S=m+1;if(this.compositeBuffer.focus(S),this.canReadFromCurrentChunk(S,4))R=this.getCurrentDataView().getUint32(S-this.compositeBuffer.currentChunkOffset,!0);else{const x=this.compositeBuffer.getUint8(S+2)+256*this.compositeBuffer.getUint8(S+3);R=this.compositeBuffer.getUint8(S)+256*(this.compositeBuffer.getUint8(S+1)+256*x)}m+=5;break}}return[R,m]}canReadFromCurrentChunk(m,g){return m-this.compositeBuffer.currentChunkOffset+g<=this.compositeBuffer.chunks[this.compositeBuffer.currentChunkIndex].length}getCurrentDataView(){if(!this.compositeBuffer.currentDataView){const m=this.compositeBuffer.chunks[this.compositeBuffer.currentChunkIndex];this.compositeBuffer.currentDataView=new DataView(m.buffer,m.byteOffset,m.length)}return this.compositeBuffer.currentDataView}}class Ex{constructor(m,g){this.requestMetadata=m,this.cacheManager=g,this.formatInitMetadata=[],this.partialSegments=new Map,this.umpPartHandlers=new Map([[Ci.FORMAT_INITIALIZATION_METADATA,this.handleFormatInitMetadata.bind(this)],[Ci.NEXT_REQUEST_POLICY,this.handleNextRequestPolicy.bind(this)],[Ci.SABR_ERROR,this.handleSabrError.bind(this)],[Ci.SABR_REDIRECT,this.handleSabrRedirect.bind(this)],[Ci.SABR_CONTEXT_UPDATE,this.handleSabrContextUpdate.bind(this)],[Ci.SABR_CONTEXT_SENDING_POLICY,this.handleSabrContextSendingPolicy.bind(this)],[Ci.SNACKBAR_MESSAGE,this.handleSnackbarMessage.bind(this)],[Ci.STREAM_PROTECTION_STATUS,this.handleStreamProtectionStatus.bind(this)],[Ci.RELOAD_PLAYER_RESPONSE,this.handleReloadPlayerResponse.bind(this)],[Ci.MEDIA_HEADER,this.handleMediaHeader.bind(this)],[Ci.MEDIA,this.handleMedia.bind(this)],[Ci.MEDIA_END,this.handleMediaEnd.bind(this)]])}processChunk(m){return new Promise(g=>{let R;this.partialPart?(R=this.partialPart.data,R.append(m)):R=new Uh([m]);const S=new ob(R);this.partialPart=S.read(x=>{const h=this.umpPartHandlers.get(x.type)?.(x);h&&(this.partialPart=void 0,this.desiredHeaderId=void 0,this.partialSegments.clear(),g(h))}),g(void 0)})}getSegmentInfo(){return this.partialSegments.get(this.desiredHeaderId||0)}decodePart(m,g){if(m.data.chunks.length)try{return g.decode(_A(m.data.chunks))}catch{return}}handleFormatInitMetadata(m){const g=this.decodePart(m,mP);g&&this.formatInitMetadata.push(g)}handleNextRequestPolicy(m){const g=this.decodePart(m,qP);g&&(this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,nextRequestPolicy:g})}handleMediaHeader(m){const g=this.decodePart(m,TP);if(!g)return;const R=pu(this.requestMetadata.format),S=mx(g);if(!this.requestMetadata.isSABR||S===R){const x={headerId:g.headerId,mediaHeader:g,bufferedChunks:[],lastChunkSize:0};this.desiredHeaderId===void 0&&(this.desiredHeaderId=g.headerId),this.partialSegments.set(g.headerId,x)}}handleMedia(m){const g=m.data.getUint8(0),R=m.data.split(1).remainingBuffer,S=this.partialSegments.get(g);if(S){S.lastChunkSize=R.getLength();for(const x of R.chunks)S.bufferedChunks.push(x)}}handleMediaEnd(m){const g=m.data.getUint8(0),R=this.partialSegments.get(g);if(R&&R.headerId===this.desiredHeaderId){const S=_A(R.bufferedChunks);return this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,formatInitMetadata:this.formatInitMetadata,mediaHeader:R.mediaHeader},this.requestMetadata.isInit&&this.requestMetadata.byteRange&&this.requestMetadata.format?(this.cacheManager&&this.cacheManager.setInitSegment(vx(R.mediaHeader,this.requestMetadata.format),S),{data:S.slice(this.requestMetadata.byteRange.start,this.requestMetadata.byteRange.end+1),done:!0}):{data:S,done:!0}}}handleSnackbarMessage(m){const g=this.decodePart(m,nb);g&&(this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,snackbarMessage:g})}handleSabrError(m){const g=this.decodePart(m,HP);return this.requestMetadata.error={sabrError:g},{done:!0}}handleStreamProtectionStatus(m){const g=this.decodePart(m,eb);if(g&&(this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,streamProtectionStatus:g},g.status===3))return{done:!0}}handleReloadPlayerResponse(m){const g=this.decodePart(m,XP);if(g)return this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,reloadPlaybackContext:g},{done:!0}}handleSabrRedirect(m){const g=this.decodePart(m,zP);if(g&&(this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,redirect:g},this.requestMetadata.isUMP&&!this.requestMetadata.isSABR))return{done:!0}}handleSabrContextUpdate(m){const g=this.decodePart(m,ZP);g&&(this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,sabrContextUpdate:g})}handleSabrContextSendingPolicy(m){const g=this.decodePart(m,$P);g&&(this.requestMetadata.streamInfo={...this.requestMetadata.streamInfo,sabrContextSendingPolicy:g})}}const sb=Object.freeze(Object.defineProperty({__proto__:null,SABR_CONSTANTS:co,SabrStreamingAdapter:rb,SabrUmpProcessor:Ex},Symbol.toStringTag,{value:"Module"}));function ub(f){const m=new Map;for(const g of Object.keys(f))m.set(g,f[g]);return m}function bh(f,m){return new pt.util.Error(pt.util.Error.Severity.RECOVERABLE,pt.util.Error.Category.NETWORK,pt.util.Error.Code.HTTP_ERROR,f,{info:m})}function cx(f){const m={};return f.forEach((g,R)=>{m[R.trim()]=g}),m}function dx(f,m,g,R,S,x,W){if(g>=200&&g<=299&&g!==202)return{uri:S||R,originalUri:R,data:m,status:g,headers:f,originalRequest:x,fromCache:!!f["x-shaka-from-cache"]};let h=null;try{h=pt.util.StringUtils.fromBytesAutoDetect(m)}catch{}const $=g===401||g===403?pt.util.Error.Severity.CRITICAL:pt.util.Error.Severity.RECOVERABLE;throw new pt.util.Error($,pt.util.Error.Category.NETWORK,pt.util.Error.Code.BAD_HTTP_STATUS,R,g,h,f,W,S||R)}class ab{constructor(){this.player=null,this.fetchFn=fetch.bind(globalThis)}setFetchFunction(m){this.fetchFn=m}initialize(m,g,R){this.player=m,this.requestMetadataManager=g,this.cacheManager=R;const S=pt.net.NetworkingEngine,x=["http","https"];if(!pt.net.HttpFetchPlugin.isSupported())throw new Error("The Fetch API is not supported in this browser.");x.forEach(W=>{S.registerScheme(W,this.parseRequest.bind(this),S.PluginPriority.PREFERRED)})}parseRequest(m,g,R,S,x,W){const h=new Headers;ub(g.headers).forEach((Tt,dn)=>{h.append(dn,Tt)});const $=new AbortController;this.abortController=$;const Le={body:g.body||void 0,headers:h,method:g.method,signal:this.abortController.signal,credentials:g.allowCrossSiteCredentials?"include":void 0},Ke={canceled:!1,timedOut:!1},Ge=W.minBytesForProgressEvents||0,yt=this.request(m,g,R,Le,$,Ke,S,x,Ge),At=new pt.util.AbortableOperation(yt,()=>(Ke.canceled=!0,$.abort(),Promise.resolve())),Ce=g.retryParameters.timeout;if(Ce){const Tt=new pt.util.Timer(()=>{Ke.timedOut=!0,$.abort()});Tt.tickAfter(Ce/1e3),At.finally(()=>Tt.stop())}return At}async handleCachedRequest(m,g,R,S,x,W){if(!m.byteRange||!this.cacheManager)return null;const h=JL(m);let $=(m.isInit?this.cacheManager.getInitSegment(h):this.cacheManager.getSegment(h))?.buffer;if(!$)return null;m.isInit&&($=$.slice(m.byteRange.start,m.byteRange.end+1));const Le={"content-type":m.format?.mimeType?.split(";")[0]||"","content-length":$.byteLength.toString(),"x-shaka-from-cache":"true"};return x(Le),S(0,$.byteLength,0),dx(Le,$,200,g,g,R,W)}async handleUmpResponse(m,g,R,S,x,W,h,$){let Le=Date.now();const Ke=new Ex(g,this.cacheManager),Ge=At=>{if(!At.data&&(g.error||g.streamInfo?.streamProtectionStatus?.status===3)&&!g.streamInfo?.sabrContextUpdate)throw bh("Server streaming error",g)},yt=()=>g.isSABR&&(g.streamInfo?.redirect||g.streamInfo?.sabrContextUpdate);if(m.body){const At=m.body.getReader();let Ce=0,Tt=0,dn;for(;!h.signal.aborted;){let Nn;try{Nn=await At.read()}catch{break}const{value:Nr,done:fo}=Nn;if(fo){if(yt())return this.createShakaResponse({uri:R,request:S,requestType:x,response:m,arrayBuffer:void 0});throw bh("Empty response with no redirect information",g)}const Pt=await Ke.processChunk(Nr),se=Ke.getSegmentInfo();se&&(dn||(dn=se.mediaHeader.contentLength),Ce+=se.lastChunkSize||0,se.lastChunkSize=0);const tr=Date.now(),T=Ce-Tt;if((tr-Le>100&&T>=$||Pt)&&(Pt&&Ge(Pt),dn)){const X=Pt?0:parseInt(dn)-Ce;try{W(tr-Le,T,X)}catch{}finally{Tt=Ce,Le=tr}}if(Pt)return h.abort(),this.createShakaResponse({uri:R,request:S,requestType:x,response:m,arrayBuffer:Pt.data})}throw bh("UMP stream processing was aborted but did not produce a result.",g)}else{const At=await m.arrayBuffer(),Ce=Date.now();W(Ce-Le,At.byteLength,0);const Tt=await Ke.processChunk(new Uint8Array(At));if(Tt)return Ge(Tt),this.createShakaResponse({uri:R,request:S,requestType:x,response:m,arrayBuffer:Tt.data});if(yt())return this.createShakaResponse({uri:R,request:S,requestType:x,response:m,arrayBuffer:void 0});throw bh("Empty response with no redirect information",g)}}async request(m,g,R,S,x,W,h,$,Le){try{const Ke=this.requestMetadataManager?.getRequestMetadata(m);if(Ke){const Tt=await this.handleCachedRequest(Ke,m,g,h,$,R);if(Tt)return Tt}const Ge=await this.fetchFn(m,S);if($(cx(Ge.headers)),Ke&&S.method!=="HEAD"&&Ge.headers.get("content-type")==="application/vnd.yt-ump")return this.handleUmpResponse(Ge,Ke,m,g,R,h,x,Le);const yt=Date.now(),At=await Ge.arrayBuffer(),Ce=Date.now();return h(Ce-yt,At.byteLength,0),this.createShakaResponse({uri:m,request:g,requestType:R,response:Ge,arrayBuffer:At})}catch(Ke){throw W.canceled?new pt.util.Error(pt.util.Error.Severity.RECOVERABLE,pt.util.Error.Category.NETWORK,pt.util.Error.Code.OPERATION_ABORTED,m,R):W.timedOut?new pt.util.Error(pt.util.Error.Severity.RECOVERABLE,pt.util.Error.Category.NETWORK,pt.util.Error.Code.TIMEOUT,m,R):new pt.util.Error(pt.util.Error.Severity.RECOVERABLE,pt.util.Error.Category.NETWORK,pt.util.Error.Code.HTTP_ERROR,m,Ke,R)}}checkPlayerStatus(){if(!this.player)throw new Error("Player not initialized")}getPlayerTime(){return this.checkPlayerStatus(),this.player.getMediaElement()?.currentTime||0}getPlaybackRate(){return this.checkPlayerStatus(),this.player.getPlaybackRate()}getBandwidthEstimate(){return this.checkPlayerStatus(),this.player.getStats().estimatedBandwidth}getActiveTrackFormats(m,g){this.checkPlayerStatus();const R=this.player.getVariantTracks().find(x=>UA(m)===(m.width?x.originalVideoId:x.originalAudioId));if(!R)return{videoFormat:void 0,audioFormat:void 0};const S=new Map(g.map(x=>[UA(x),x]));return{videoFormat:R.originalVideoId?S.get(R.originalVideoId):void 0,audioFormat:R.originalAudioId?S.get(R.originalAudioId):void 0}}registerRequestInterceptor(m){this.checkPlayerStatus();const g=this.player.getNetworkingEngine();g&&(this.requestFilter=async(R,S,x)=>{if(R!==pt.net.NetworkingEngine.RequestType.SEGMENT||!NA(S.uris[0]))return;const W=await m({headers:S.headers,url:S.uris[0],method:S.method,segment:{getStartTime:()=>x?.segment?.getStartTime()??null,isInit:()=>!x?.segment},body:S.body});W&&(S.uris=W.url?[W.url]:S.uris,S.method=W.method||S.method,S.headers=W.headers||S.headers,S.body=W.body||S.body)},g.registerRequestFilter(this.requestFilter))}registerResponseInterceptor(m){this.checkPlayerStatus();const g=this.player.getNetworkingEngine();g&&(this.responseFilter=async(R,S,x)=>{if(R!==pt.net.NetworkingEngine.RequestType.SEGMENT||!NA(S.uri))return;const W=await m({url:S.originalRequest.uris[0],method:S.originalRequest.method,headers:S.headers,data:S.data,makeRequest:async(h,$)=>{const Le=this.player.getConfiguration().streaming.retryParameters,Ke=pt.net.NetworkingEngine.makeRequest([h],Le);Object.assign(Ke.headers,$);const yt=await g.request(R,Ke,x).promise;return{url:yt.uri,method:yt.originalRequest.method,headers:yt.headers,data:yt.data}}});W&&(S.data=W.data??S.data,Object.assign(S.headers,W.headers))},g.registerResponseFilter(this.responseFilter))}createShakaResponse(m){return dx(cx(m.response.headers),m.arrayBuffer||new ArrayBuffer(0),m.response.status,m.uri,m.response.url,m.request,m.requestType)}dispose(){if(this.abortController&&(this.abortController.abort(),this.abortController=void 0),this.player){const m=this.player.getNetworkingEngine();m&&this.requestFilter&&this.responseFilter&&(m.unregisterRequestFilter(this.requestFilter),m.unregisterResponseFilter(this.responseFilter)),pt.net.NetworkingEngine.unregisterScheme("http"),pt.net.NetworkingEngine.unregisterScheme("https"),this.player=null}}}const lb=Object.freeze(Object.defineProperty({__proto__:null,ShakaPlayerAdapter:ab},Symbol.toStringTag,{value:"Module"})),cb="https://www.youtube.com",hx="AIzaSyDyT5W0Jh49F30Pqqtyfdf7pDLFKLJoAnw",fx=/[-_.]/g,db={"-":"+",_:"/",".":"="};class hb{constructor(){this.promise=new Promise((m,g)=>{this.resolve=m,this.reject=g})}}class gn extends TypeError{constructor(m,g,R){super(g),this.name="BGError",this.code=m,R&&(this.info=R)}}function Ax(f){let m;return fx.test(f)?m=f.replace(fx,function(g){return db[g]}):m=f,m=atob(m),new Uint8Array([...m].map(g=>g.charCodeAt(0)))}function xx(f,m=!1){const g=btoa(String.fromCharCode(...f));return m?g.replace(/\+/g,"-").replace(/\//g,"_"):g}function px(f,m){return`${cb}/api/jnn/v1/${f}`}function fb(f){let m=[];if(f.length>1&&typeof f[1]=="string"){const Ge=pb(f[1]);m=JSON.parse(Ge||"[]")}else f.length&&typeof f[0]=="object"&&(m=f[0]);const[g,R,S,x,W,h,,$]=m,Le=Array.isArray(R)?R.find(Ge=>Ge&&typeof Ge=="string"):null,Ke=Array.isArray(S)?S.find(Ge=>Ge&&typeof Ge=="string"):null;return{messageId:g,interpreterJavascript:{privateDoNotAccessOrElseSafeScriptWrappedValue:Le,privateDoNotAccessOrElseTrustedResourceUrlWrappedValue:Ke},interpreterHash:x,program:W,globalName:h,clientExperimentsStateBlob:$}}function pb(f){const m=Ax(f);if(m.length)return new TextDecoder().decode(m.map(g=>g+97))}class vv{constructor(m){this.deferredVmFunctions=new hb,this.defaultTimeout=3e3,this.userInteractionElement=m.userInteractionElement,this.vm=m.globalObj[m.globalName],this.program=m.program}static async create(m){return await new vv(m).load()}async load(){if(!this.vm)throw new gn("VM_INIT","VM not found");if(!this.vm.a)throw new gn("VM_INIT","VM init function not found");const m=(g,R,S,x)=>{this.deferredVmFunctions.resolve({asyncSnapshotFunction:g,shutdownFunction:R,passEventFunction:S,checkCameraFunction:x})};try{this.syncSnapshotFunction=await this.vm.a(this.program,m,!0,this.userInteractionElement,()=>{},[[],[]])[0]}catch(g){throw new gn("VM_ERROR","Could not load program",{error:g})}return this}async snapshot(m,g=3e3){return await Promise.race([new Promise(async(R,S)=>{const x=await this.deferredVmFunctions.promise;if(!x.asyncSnapshotFunction)return S(new gn("ASYNC_SNAPSHOT","Asynchronous snapshot function not found"));await x.asyncSnapshotFunction(W=>R(W),[m.contentBinding,m.signedTimestamp,m.webPoSignalOutput,m.skipPrivacyBuffer])}),new Promise((R,S)=>setTimeout(()=>S(new gn("TIMEOUT","VM operation timed out")),g))])}async passEvent(m,g=this.defaultTimeout){return await Promise.race([(async()=>{const R=await this.deferredVmFunctions.promise;if(!R.passEventFunction)throw new gn("PASS_EVENT","Pass event function not found");R.passEventFunction(m)})(),new Promise((R,S)=>setTimeout(()=>S(new gn("TIMEOUT","VM operation timed out")),g))])}async checkCamera(m,g=this.defaultTimeout){return await Promise.race([(async()=>{const R=await this.deferredVmFunctions.promise;if(!R.checkCameraFunction)throw new gn("CHECK_CAMERA","Check camera function not found");R.checkCameraFunction(m)})(),new Promise((R,S)=>setTimeout(()=>S(new gn("TIMEOUT","VM operation timed out")),g))])}async shutdown(m=this.defaultTimeout){return await Promise.race([(async()=>{const g=await this.deferredVmFunctions.promise;if(!g.shutdownFunction)throw new gn("SHUTDOWN","Shutdown function not found");g.shutdownFunction()})(),new Promise((g,R)=>setTimeout(()=>R(new gn("TIMEOUT","VM operation timed out")),m))])}async snapshotSynchronous(m){if(!this.syncSnapshotFunction)throw new gn("SYNC_SNAPSHOT","Synchronous snapshot function not found");return this.syncSnapshotFunction([m.contentBinding,m.signedTimestamp,m.webPoSignalOutput,m.skipPrivacyBuffer])}}class yv{constructor(m){this.mintCallback=m}static async create(m,g){const R=g[0];if(!R)throw new gn("VM_ERROR","PMD:Undefined");if(!m.integrityToken)throw new gn("INTEGRITY_ERROR","No integrity token provided",{integrityTokenResponse:m});const S=await R(Ax(m.integrityToken));if(!(S instanceof Function))throw new gn("VM_ERROR","APF:Failed");return new yv(S)}async mintAsWebsafeString(m){const g=await this.mint(m);return xx(g,!0)}async mint(m){const g=await this.mintCallback(new TextEncoder().encode(m));if(!g)throw new gn("VM_ERROR","YNJ:Undefined");if(!(g instanceof Uint8Array))throw new gn("VM_ERROR","ODM:Invalid");return g}}function gb(f,m){const g=new TextEncoder().encode(f);if(g.length>118)throw new gn("BAD_INPUT","Content binding is too long.",{identifierLength:g.length});const R=Math.floor(Date.now()/1e3),S=[Math.floor(Math.random()*256),Math.floor(Math.random()*256)],x=S.concat([0,1],[R>>24&255,R>>16&255,R>>8&255,R&255]),W=new Uint8Array(2+x.length+g.length);W[0]=34,W[1]=x.length+g.length,W.set(x,2),W.set(g,2+x.length);const h=W.subarray(2),$=S.length;for(let Le=$;Le<h.length;Le++)h[Le]^=h[Le%$];return xx(W,!0)}class wx{constructor(){this.waaRequestKey="O43z0dpjhgX20SCx4KAo",this.initializationPromise=null}async init(){return this.initializationPromise?await this.initializationPromise:this.setup()}async setup(){if(this.initializationPromise)return await this.initializationPromise;this.initializationPromise=this._initBotguard();try{return this.botguardClient=await this.initializationPromise,this.botguardClient}finally{this.initializationPromise=null}}async _initBotguard(){const g=await(await fetch(px("Create"),{method:"POST",headers:{"content-type":"application/json+protobuf","x-goog-api-key":hx,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify([this.waaRequestKey])})).json();if(this.bgChallenge=fb(g),!this.bgChallenge)return;const R=this.bgChallenge.interpreterJavascript.privateDoNotAccessOrElseSafeScriptWrappedValue;if(!R){console.error("[BotguardService]","Could not get interpreter javascript. Interpreter Hash:",this.bgChallenge.interpreterHash);return}if(!document.getElementById(this.bgChallenge.interpreterHash)){const S=document.createElement("script");S.type="text/javascript",S.id=this.bgChallenge.interpreterHash,S.textContent=R,document.head.appendChild(S)}if(this.botguardClient=await vv.create({globalObj:globalThis,globalName:this.bgChallenge.globalName,program:this.bgChallenge.program}),this.bgChallenge){const S=[],x=await this.botguardClient.snapshot({webPoSignalOutput:S}),$=(await(await fetch(px("GenerateIT"),{method:"POST",headers:{"content-type":"application/json+protobuf","x-goog-api-key":hx,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify([this.waaRequestKey,x])})).json())[0];if(!$){console.error("[BotguardService]","Could not get integrity token. Interpreter Hash:",this.bgChallenge.interpreterHash);return}this.integrityTokenBasedMinter=await yv.create({integrityToken:$},S)}return this.botguardClient}mintColdStartToken(m){return gb(m)}isInitialized(){return!!this.botguardClient&&!!this.integrityTokenBasedMinter}dispose(){if(this.botguardClient&&this.bgChallenge){this.botguardClient.shutdown(),this.botguardClient=void 0,this.integrityTokenBasedMinter=void 0;const m=document.getElementById(this.bgChallenge.interpreterHash);m&&m.remove()}}async reinit(){return this.initializationPromise?this.initializationPromise:(this.dispose(),this.setup())}}const mb=new wx,vb=Object.freeze(Object.defineProperty({__proto__:null,BotguardService:wx,botguardService:mb},Symbol.toStringTag,{value:"Module"}));</script>

<style rel="stylesheet" crossorigin>/*! @license
 * Shaka Player
 * Copyright 2016 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */.shaka-hidden{display:none!important}.shaka-video-container{position:relative;top:0;left:0;display:flex;font-family:Roboto,sans-serif,TengwarTelcontar;font-weight:400;-webkit-font-smoothing:antialiased;user-select:none;-webkit-user-select:none}.shaka-video-container .material-svg-icon{font-size:24px}.shaka-video-container:fullscreen{width:100%;height:100%;background-color:#000}.shaka-video-container:fullscreen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-webkit-full-screen{width:100%;height:100%;background-color:#000}.shaka-video-container:-webkit-full-screen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-moz-full-screen{width:100%;height:100%;background-color:#000}.shaka-video-container:-moz-full-screen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-ms-fullscreen{width:100%;height:100%;background-color:#000}.shaka-video-container:-ms-fullscreen .shaka-text-container{font-size:4.4vmin}.shaka-controls-container{position:absolute;inset:0;margin:0;padding:0;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;z-index:1}.shaka-video-container:not([shaka-controls=true]) .shaka-controls-container{display:none}.shaka-controls-container *{flex-shrink:0}.shaka-controls-container[casting=true] .shaka-fullscreen-button{display:none}.shaka-canvas-container,.shaka-vr-canvas-container{position:absolute;inset:0;margin:0;padding:0;width:100%;height:100%;pointer-events:none}.shaka-bottom-controls{width:98%;padding:0;z-index:1}.shaka-controls-button-panel{padding:0;margin:0;display:flex;flex-direction:row;justify-content:flex-end;align-items:center;overflow:hidden;min-width:48px;font-size:12px;font-weight:400;font-style:normal;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s}.shaka-controls-container[casting=true] .shaka-controls-button-panel,.shaka-controls-container[shown=true] .shaka-controls-button-panel{opacity:1}.shaka-controls-button-panel>*{color:#fff;height:48px;width:48px;line-height:.5;padding:0 2px;background:0 0;border:0;cursor:pointer;opacity:.9;transition:opacity cubic-bezier(.4,0,.6,1) .1s;text-shadow:0 0 2px rgba(0,0,0,.5)}.shaka-controls-button-panel>.shaka-fast-forward-button .material-svg-icon,.shaka-controls-button-panel>.shaka-rewind-button .material-svg-icon,.shaka-controls-button-panel>.shaka-skip-next-button .material-svg-icon,.shaka-controls-button-panel>.shaka-skip-previous-button .material-svg-icon,.shaka-controls-button-panel>.shaka-small-play-button .material-svg-icon{font-size:32px}.shaka-controls-button-panel>.shaka-fullscreen-button .material-svg-icon{font-size:24px}.shaka-controls-button-panel>.shaka-overflow-menu-button{position:relative}.shaka-controls-button-panel>.shaka-overflow-menu-button .material-svg-icon{font-size:24px}.shaka-controls-button-panel>:hover{opacity:1}.shaka-controls-button-panel .shaka-overflow-menu-only{display:none}.shaka-play-button-container{margin:0;width:100%;height:100%;flex-shrink:1;position:absolute;inset:0;display:flex;justify-content:center;align-items:center;z-index:1}.shaka-statistics-container{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,.5);scrollbar-width:thin;min-width:300px;color:#fff;background-color:#232323e6;font-size:14px;padding:5px 10px;border-radius:2px;position:absolute;z-index:2;left:15px;top:15px;max-height:calc(100% - 115px);opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s}.shaka-controls-container[casting=true] .shaka-statistics-container,.shaka-controls-container[shown=true] .shaka-statistics-container{opacity:1}.shaka-statistics-container div{display:flex;justify-content:space-between}.shaka-statistics-container span{color:#969696}.shaka-ad-statistics-container{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,.5);scrollbar-width:thin;min-width:150px;color:#fff;background-color:#232323e6;font-size:14px;padding:5px 10px;border-radius:2px;position:absolute;z-index:2;right:15px;top:15px;max-height:calc(100% - 115px);opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s}.shaka-controls-container[casting=true] .shaka-ad-statistics-container,.shaka-controls-container[shown=true] .shaka-ad-statistics-container{opacity:1}.shaka-ad-statistics-container div{display:flex;justify-content:space-between}.shaka-ad-statistics-container span{color:#969696}.shaka-context-menu{overflow-x:hidden;overflow-y:auto;white-space:nowrap;background:#1c1c1ce6;border-radius:2px;min-width:190px;opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s;display:flex;flex-direction:column;align-items:stretch;position:absolute;z-index:3}.shaka-controls-container[casting=true] .shaka-context-menu,.shaka-controls-container[shown=true] .shaka-context-menu{opacity:1}.shaka-context-menu button{font-size:14px;background:0 0;color:#fff;border:none;min-height:30px;padding:10px;display:flex;align-items:center;cursor:pointer}.shaka-context-menu button:hover{background:#ffffff1a}.shaka-context-menu button label{cursor:pointer;margin-left:5px}.shaka-keyboard-navigation .shaka-context-menu button:focus{background:#ffffff1a}.shaka-context-menu button .shaka-current-selection-span{display:none}.shaka-scrim-container{margin:0;width:100%;position:absolute;left:0;right:0;bottom:0;flex-shrink:1;opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s;height:61px;background:linear-gradient(#0000 0,#00000080)}.shaka-controls-container[casting=true] .shaka-scrim-container,.shaka-controls-container[shown=true] .shaka-scrim-container{opacity:1}.shaka-text-container{position:absolute;inset:0;pointer-events:none;width:100%;min-width:48px;transition:bottom cubic-bezier(.4,0,.6,1) .1s;transition-delay:.5s;font-size:20px;line-height:1.4;color:#fff}.shaka-text-container span.shaka-text-wrapper{display:inline;background:0 0}.shaka-controls-container[shown=true]~.shaka-text-container{transition-delay:0s}.shaka-spinner-container{position:absolute;inset:0;width:100%;height:100%;flex-shrink:1;display:flex;justify-content:center;align-items:center}.shaka-video-container:not([shaka-controls=true]) .shaka-spinner-container{display:none}.shaka-hidden-fast-forward-container,.shaka-hidden-rewind-container{height:100%;width:40%;flex-shrink:1;z-index:1}.shaka-hidden-fast-forward-container{position:absolute;inset:0 0 0 60%}.shaka-hidden-rewind-container{position:absolute;inset:0}.shaka-video-container.no-cursor,.shaka-video-container.no-cursor *{cursor:none!important}.shaka-play-button{box-sizing:border-box;padding:7.5%;width:0;height:0;margin:0;border-radius:50%;box-shadow:#0000001a 0 0 20px;border:none;background-size:50%;background-repeat:no-repeat;background-position:center center;background-color:#ffffffe6;opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s}.shaka-controls-container[casting=true] .shaka-play-button,.shaka-controls-container[shown=true] .shaka-play-button{opacity:1}.shaka-play-button[icon=play]{background-image:url(data:image/svg+xml,%3Csvg%20fill%3D%22%23000000%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M8%205v14l11-7z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E)}.shaka-play-button[icon=pause]{background-image:url(data:image/svg+xml,%3Csvg%20fill%3D%22%23000000%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M6%2019h4V5H6v14zm8-14v14h4V5h-4z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E)}.shaka-play-button[icon=replay]{background-image:url(data:image/svg+xml,%3Csvg%20fill%3D%22%231f1f1f%22%20height%3D%2224px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M480-80q-75%200-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440h80q0%20117%2081.5%20198.5T480-160q117%200%20198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l62%2062-56%2058-160-160%20160-160%2056%2058-62%2062h6q75%200%20140.5%2028.5t114%2077q48.5%2048.5%2077%20114T840-440q0%2075-28.5%20140.5t-77%20114q-48.5%2048.5-114%2077T480-80Z%22%2F%3E%0A%3C%2Fsvg%3E)}@media(prefers-reduced-transparency:no-preference){.shaka-controls-container[shown=true] .shaka-play-button{opacity:.75}}.shaka-current-time{font-size:14px;color:#fff;cursor:pointer;width:auto;padding:0 5px}.shaka-current-time[disabled]{background-color:transparent;color:#fff;cursor:default}.shaka-controls-container button:focus,.shaka-controls-container input:focus{outline:1px solid Highlight}.shaka-controls-container button:-moz-focus-inner,.shaka-controls-container input:-moz-focus-outer{outline:0;border:0}.shaka-controls-container:not(.shaka-keyboard-navigation) button:focus,.shaka-controls-container:not(.shaka-keyboard-navigation) input:focus{outline:0}.shaka-fast-forward-container,.shaka-rewind-container{height:100%;width:100%;flex-shrink:1;position:absolute;inset:0;display:flex;flex-direction:row;justify-content:center;align-items:center;margin:0;border:none;color:#fff;background-color:#00000080;cursor:default;font-size:20px;opacity:0;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.shaka-fast-forward-container{border-radius:40% 0 0 40%}.shaka-rewind-container{border-radius:0 40% 40% 0}.shaka-forward-rewind-container-icon{font-size:32px}.shaka-range-container{position:relative;top:0;left:0;margin:4px 6px;height:4px;border-radius:4px;background:#fff;box-sizing:content-box}.shaka-volume-bar-container{width:100px;padding:0;transition-property:opacity,width;transition-duration:.25s;transition-timing-function:cubic-bezier(.4,0,.6,1)}.shaka-volume-bar-container:hover{width:100px!important;opacity:1!important}@media(max-width:474px){.shaka-volume-bar-container{width:50px}.shaka-volume-bar-container:hover{width:50px!important}.shaka-mute-button:hover+.shaka-volume-bar-container-allow-hiding{width:50px;opacity:1}}.shaka-mute-button+.shaka-volume-bar-container-allow-hiding:not(:focus-within){width:0;opacity:0}@media(min-width:475px){.shaka-mute-button:hover+.shaka-volume-bar-container-allow-hiding{width:100px;opacity:1}}.shaka-range-element{-webkit-appearance:none;background:0 0;cursor:pointer;position:absolute;inset:-4px 0 0;margin:0;padding:0;width:100%;height:100%;height:12px;z-index:1}.shaka-range-element::-webkit-slider-runnable-track{width:100%;cursor:pointer;height:12px;background:0 0;color:transparent;border:none}.shaka-range-element::-webkit-slider-thumb{-webkit-appearance:none;border:none;border-radius:12px;height:12px;width:12px;background:#fff}.shaka-range-element::-moz-range-track{width:100%;cursor:pointer;height:12px;background:0 0;color:transparent;border:none}.shaka-range-element::-moz-range-thumb{-webkit-appearance:none;border:none;border-radius:12px;height:12px;width:12px;background:#fff}.shaka-seek-bar-container{opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s;top:5px;height:5px;margin-bottom:0;background-clip:padding-box!important;border-top:4px solid transparent;border-bottom:4px solid transparent}.shaka-controls-container[casting=true] .shaka-seek-bar-container,.shaka-controls-container[shown=true] .shaka-seek-bar-container{opacity:1}.shaka-seek-bar-container .shaka-seek-bar{transition:opacity cubic-bezier(.4,0,.6,1) .25s;opacity:0}.shaka-seek-bar-container:hover .shaka-seek-bar{opacity:1}.shaka-ad-markers{position:absolute;inset:0;margin:0;padding:0;width:100%;height:100%}.shaka-spacer{cursor:default;flex-shrink:1;flex-grow:1;margin:0}.shaka-overflow-menu,.shaka-settings-menu{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,.5);scrollbar-width:thin;white-space:nowrap;background:#1c1c1ce6;border-radius:15px;max-height:250px;min-width:190px;padding:5px 0;opacity:0;transition:opacity cubic-bezier(.4,0,.6,1) .6s;display:flex;flex-direction:column;align-items:stretch;position:absolute;z-index:2;right:15px;bottom:62px}.shaka-controls-container[casting=true] .shaka-overflow-menu,.shaka-controls-container[casting=true] .shaka-settings-menu,.shaka-controls-container[shown=true] .shaka-overflow-menu,.shaka-controls-container[shown=true] .shaka-settings-menu{opacity:1}.shaka-overflow-menu button,.shaka-settings-menu button{font-size:14px;background:0 0;color:#fff;border:none;min-height:30px;padding:10px;display:flex;align-items:center;cursor:pointer}.shaka-overflow-menu button:hover,.shaka-settings-menu button:hover{background:#ffffff1a}.shaka-overflow-menu button label,.shaka-settings-menu button label{cursor:pointer}.shaka-keyboard-navigation .shaka-overflow-menu button:focus,.shaka-keyboard-navigation .shaka-settings-menu button:focus{background:#ffffff1a}.shaka-overflow-menu .material-svg-icon,.shaka-settings-menu .material-svg-icon{padding-left:0;padding-right:10px}.shaka-overflow-menu .material-svg-icon.shaka-chosen-item,.shaka-settings-menu .material-svg-icon.shaka-chosen-item{order:-1;line-height:17px;font-size:18px}.shaka-overflow-menu.shaka-low-position,.shaka-settings-menu.shaka-low-position{bottom:48px}.shaka-overflow-menu span{text-align:left}.shaka-overflow-button-label{position:relative;display:flex;flex-direction:column}.shaka-overflow-button-label-inline{box-sizing:border-box;flex-direction:row;justify-content:space-between;width:calc(100% - 34px);padding-right:28px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iI2VlZWVlZSI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTguNTkgMTYuNTlMMTMuMTcgMTIgOC41OSA3LjQxIDEwIDZsNiA2LTYgNi0xLjQxLTEuNDF6Ii8+PC9zdmc+);background-repeat:no-repeat;background-position:right 5px center;background-size:24px 24px}.shaka-simple-overflow-button-label-inline{box-sizing:border-box;flex-direction:row;justify-content:space-between;width:calc(100% - 50px)}.shaka-current-selection-span{font-size:12px;padding-left:10px}.shaka-current-auto-quality{margin-left:5px;font-size:11px;color:#ccc}.shaka-current-quality-mark,.shaka-quality-mark{color:red;margin-left:2px!important;font-size:10px;height:17px}.shaka-quality-mark{line-height:6px}.shaka-overflow-playback-rate-mark,.shaka-overflow-quality-mark{background:red;color:#fff;border-radius:2px;font-family:Roboto,sans-serif,TengwarTelcontar;font-size:10px;font-weight:700;line-height:10px;text-shadow:none;padding:1px;position:absolute;right:4px;top:10px}.shaka-settings-menu span{margin-left:28px}.shaka-settings-menu span.shaka-chosen-item{margin-left:0}.shaka-settings-menu .shaka-chapter{margin-left:10px}.shaka-back-to-overflow-button{border-bottom:1px solid rgba(255,255,255,.2)!important}.shaka-back-to-overflow-button span{margin-left:0}.shaka-back-to-overflow-button .material-svg-icon{padding-right:10px;font-size:18px!important}.shaka-back-to-overflow-button:hover{background:0 0!important}.shaka-controls-container[ad-active=true]{pointer-events:none}.shaka-controls-container[ad-active=true] .shaka-bottom-controls{pointer-events:auto}.shaka-client-side-ad-container,.shaka-server-side-ad-container{position:absolute;inset:0}.shaka-video-container[shaka-controls=true] .shaka-client-side-ad-container iframe,.shaka-video-container[shaka-controls=true] .shaka-server-side-ad-container iframe{height:90%}.shaka-ad-controls{display:flex;flex-direction:row;z-index:1;padding-bottom:1%}.shaka-video-container:not([shaka-controls=true]) .shaka-ad-controls{display:none}.shaka-ad-controls button,.shaka-ad-controls div{color:#fff;font-size:initial}.shaka-ad-info{font-size:14px;color:#fff;width:auto;padding:0 5px}.shaka-ad-info[disabled]{background-color:transparent;color:#fff;cursor:default;padding:0}.shaka-skip-ad-container{position:relative;right:-1%;display:flex;flex-direction:row;margin:0 0 0 auto}.shaka-skip-ad-button{padding:5px 15px;background:#000000b3;border:none;cursor:pointer}.shaka-skip-ad-button:disabled{background:#0000004d}.shaka-skip-ad-counter{padding:5px;background:#000000b3;margin:0}/*!
* @license
* The tooltip is based on https://github.com/felipefialho/css-components/
* Local modifications have been performed.
*
* Copyright (c) 2017 Felipe Fialho
*
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
*/.shaka-tooltips-on{overflow:visible}.shaka-tooltips-on>.shaka-tooltip,.shaka-tooltips-on>.shaka-tooltip-status{position:relative}.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after,.shaka-tooltips-on>.shaka-tooltip:active:after,.shaka-tooltips-on>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip:hover:after{content:attr(aria-label);font-family:Roboto,sans-serif,TengwarTelcontar;line-height:20px;white-space:nowrap;font-size:14px;background:#00000080;color:#fff;border-radius:2px;padding:2px 10px;position:absolute;bottom:62px;left:24px;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translate(-50%)}@media(prefers-reduced-transparency){.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after,.shaka-tooltips-on>.shaka-tooltip:active:after,.shaka-tooltips-on>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip:hover:after{background-color:#000000e6}}.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:active:after,.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:hover:after{bottom:48px}.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after{content:attr(aria-label) " (" attr(shaka-status) ")"}.shaka-tooltips-on button:first-child:active:after,.shaka-tooltips-on button:first-child:focus-visible:after,.shaka-tooltips-on button:first-child:hover:after{left:0;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);-o-transform:translateX(0);transform:translate(0)}.shaka-tooltips-on button:last-child:active:after,.shaka-tooltips-on button:last-child:focus-visible:after,.shaka-tooltips-on button:last-child:hover:after{left:48px;-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);-o-transform:translateX(-100%);transform:translate(-100%)}#shaka-player-ui-thumbnail-container{background-color:#000;border:1px solid #000;box-shadow:0 8px 8px #00000080;min-width:150px;overflow:hidden;position:absolute;visibility:hidden;width:15%;z-index:1;pointer-events:none}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-image{position:absolute}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container{bottom:0;left:0;position:absolute;right:0;display:flex;justify-content:center}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container #shaka-player-ui-thumbnail-time{background-color:#00000080;border-radius:14px;color:#fff;font-size:14px;padding:0 5px}@media(prefers-reduced-transparency){#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container #shaka-player-ui-thumbnail-time{background-color:#000000e6}}#shaka-player-ui-thumbnail-container.portrait-thumbnail{min-width:75px;width:7.5%}#shaka-player-ui-time-container{background-color:#00000080;border-radius:5px;color:#fff;display:flex;font-size:14px;justify-content:center;overflow:hidden;padding:0 3px;position:absolute;visibility:hidden;z-index:1}@media(prefers-reduced-transparency){#shaka-player-ui-time-container{background-color:#000000e6}}.material-svg-icon{display:inline-block;fill:currentcolor;width:1em;height:1em}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:normal;src:url(https://fonts.gstatic.com/s/roboto/v50/KFOMCnqEu92Fr1ME7kSn66aGLdTylUAMQXC89YmC2DPNWubEbVmUiA8.ttf) format("truetype")}</style>

<body>
  <div style="height:95vh">
    <div id="player"></div>
    <div id="video-container" style="width:100%;height:100%;display:none">
      <video id="video" autoplay style="width:100%;height:100%;background-color:#000"></video>
    </div>
  </div>
</body>
</html>
